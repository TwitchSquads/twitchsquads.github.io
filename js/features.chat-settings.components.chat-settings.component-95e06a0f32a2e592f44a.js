(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{"/HY+":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=n("ZS2+").a.wrap(function(){return n.e(236).then(n.bind(null,"q0CL"))},"ReportUserModal")},"1Rv/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1T0i":function(e,t,n){},"1wEQ":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.AUTO_HOST="auto-host",e.DROPS="drops",e.PERMISSIONS="permissions",e.RAIDS="raids",e.TEAMS="teams",e.SQUAD_STREAM="squad-stream",e.STREAM_PREFERENCES="stream-preferences",e.VIDEO_BANNER="video-banner",e.VIDEO_MODERATION="video-moderation",e.VIEWER_MILESTONES="viewer-milestones"}(a||(a={}))},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"8MX0":function(e,t,n){"use strict";n.r(t);var a,r=n("mrSG"),i=n("TSYQ"),o=n("q1tI"),s=n("oJmH"),l=n("/7QA"),d=n("u5aL"),c=n("ZDlU"),u=n("8/mp"),h=n("yR8l"),m=n("/MKj"),p=n("fvjX"),g=n("+pBb"),b=n("Tznh"),f=n("VJH5"),v=n("+80q"),k=n("X2PJ"),C=n("hnjF"),S=n("sUnt"),E=n("K/KT"),y=n("Ws8v");!function(e){e.ToggleTop="chat-filter-top-toggle",e.ToggleA="chat-filter-a",e.ToggleI="chat-filter-toggle-i",e.ToggleP="chat-filter-toggle-p",e.ToggleS="chat-filter-toggle-s"}(a||(a={}));var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFilterToggled=function(){t.props.viewerChatFilterEnabled?t.props.disableViewerChatFilter(t.props.chatFilterSettingsSource):t.props.enableViewerChatFilter(t.props.chatFilterSettingsSource)},t.onAggressiveToggled=function(){t.toggleSetting(f.a.Aggressive)},t.onIdentityToggled=function(){t.toggleSetting(f.a.Identity)},t.onProfanityToggled=function(){t.toggleSetting(f.a.Profanity)},t.onSexualToggled=function(){t.toggleSetting(f.a.Sexual)},t.toggleSetting=function(e){var n;t.props.changeViewerChatFilterSettings(r.__assign({},t.props.settings,((n={})[e]=!t.props.settings[e],n)),t.props.chatFilterSettingsSource)},t}return r.__extends(t,e),t.prototype.render=function(){return o.createElement(S.a,null,o.createElement(y.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},o.createElement(S.a,{margin:{top:2}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("NSFW Chat Filters","ChatFilter"))),o.createElement(S.a,{display:C.d.Flex,justifyContent:C.h.Between},Object(l.d)("Hide offensive language","ChatFilter"),o.createElement(E.a,{checked:this.props.viewerChatFilterEnabled,onChange:this.onFilterToggled,"data-test-selector":a.ToggleTop}))),o.createElement(S.a,null,o.createElement(S.a,null,o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Choose the language you would like to block from chat across all channels. In channels you moderate, you will still see all messages.","ChatFilter"))),o.createElement(S.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(S.a,null,Object(l.d)("Discrimination","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Referring negatively to race, religion, gender, orientation, disability, or similar","ChatFilter"))),o.createElement(E.a,{checked:this.props.settings[f.a.Identity],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onIdentityToggled,"data-test-selector":a.ToggleI})),o.createElement(S.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(S.a,null,Object(l.d)("Sexually Explicit Language","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Referring to sexual acts, sexual content, and body parts","ChatFilter"))),o.createElement(E.a,{checked:this.props.settings[f.a.Sexual],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onSexualToggled,"data-test-selector":a.ToggleS})),o.createElement(S.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(S.a,null,Object(l.d)("Hostility","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Aggression towards other people, often associated with bullying","ChatFilter"))),o.createElement(E.a,{checked:this.props.settings[f.a.Aggressive],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onAggressiveToggled,"data-test-selector":a.ToggleA})),o.createElement(S.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(S.a,null,Object(l.d)("Profanity","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Curse words, expletives, or other obscenities","ChatFilter"))),o.createElement(E.a,{checked:this.props.settings[f.a.Profanity],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onProfanityToggled,"data-test-selector":a.ToggleP}))))},t}(o.Component);var A,F=Object(p.compose)(Object(m.connect)(function(e){return{settings:e.chat.viewerChatFilterSettings,viewerChatFilterEnabled:!!e.chat.viewerChatFilterEnabled}},function(e){return Object(p.bindActionCreators)({changeViewerChatFilterSettings:g.z,disableViewerChatFilter:g.G,enableViewerChatFilter:g.L},e)}),Object(b.d)(function(e){return e}))(w),_=n("i4Ys"),O=n("7uM4");(A||(A={})).ClickTarget="chat-filter-item-click-target";var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){if(this.props.chatFilterExperimentMembership===b.b.Excluded)return null;var e=this.props.viewerChatFilterEnabled?Object(l.d)("On","ChatFilterItem"):Object(l.d)("Off","ChatFilterItem");return o.createElement(S.a,{padding:{bottom:1}},o.createElement(_.a,{onClick:this.props.onClick,type:_.b.Base,"data-test-selector":A.ClickTarget},o.createElement(S.a,{display:C.d.Flex,justifyContent:C.h.Between,padding:{y:.5}},Object(l.d)("NSFW Chat Filters","ChatFilterItem"),o.createElement(S.a,null,e,o.createElement(O.a,{asset:O.b.GlyphArrRight,height:10,type:O.c.Alt2,width:10})))))},t}(o.Component);var N=Object(p.compose)(Object(m.connect)(function(e){return{viewerChatFilterEnabled:!!e.chat.viewerChatFilterEnabled}}),Object(b.d)(function(e){return e}))(D),T=n("8Ad5"),M=[{name:"Red",hex:"#FF0000"},{name:"Blue",hex:"#0000FF"},{name:"Green",hex:"#008000"},{name:"Firebrick",hex:"#B22222"},{name:"Coral",hex:"#FF7F50"},{name:"Yellow Green",hex:"#9ACD32"},{name:"Orange Red",hex:"#FF4500"},{name:"Sea Green",hex:"#2E8B57"},{name:"Goldenrod",hex:"#DAA520"},{name:"Chocolate",hex:"#D2691E"},{name:"Cadet Blue",hex:"#5F9EA0"},{name:"Dodger Blue",hex:"#1E90FF"},{name:"Hot Pink",hex:"#FF69B4"},{name:"Blue Violet",hex:"#8A2BE2"},{name:"Spring Green",hex:"#00FF7F"}],U=(n("1T0i"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyPress=function(e){if(e.charCode===T.a.Enter||e.charCode===T.a.Space){var n=e.currentTarget.getAttribute("data-color");t.selectColor(n)}},t.onColorSelected=function(e){var n=e.currentTarget.getAttribute("data-color");t.selectColor(n)},t.selectColor=function(e){e&&t.props.onColorSelected(e)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=M.map(function(t){var n=t.hex===e.props.selectedColor,a={"color-chooser":!0,"color-chooser--selected":n};return o.createElement("div",{role:"radio","aria-checked":n,key:t.hex,"data-color":t.hex,title:t.name,onClick:e.onColorSelected,onKeyPress:e.onKeyPress,className:i(a),style:{backgroundColor:t.hex},"data-test-selector":"color_swatch_"+t.hex,"data-a-target":"color_swatch_"+t.hex,tabIndex:0})}),n=Object(l.d)("Name Color","ChatSettings"),a=o.createElement(v.a,{transform:v.d.Uppercase,color:k.c.Alt2},n);this.props.borderTop&&(a=o.createElement(y.a,{margin:{top:2},borderTop:!0,padding:{top:2}},a));var r=this.props.hasExtraColors?"https://www.twitch.tv/settings/prime":"https://twitch.tv/products/turbo?ref=more_colors_direct";return o.createElement("div",null,o.createElement(y.a,{margin:{bottom:1},background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},a),o.createElement(C.g,{margin:{y:1},display:C.d.Flex,flexWrap:C.f.Wrap},o.createElement("div",{role:"radiogroup","aria-label":n},t,o.createElement(v.a,{fontSize:k.d.Size7},o.createElement("a",{href:r},Object(l.d)("more colors â†’","ChatSettings"))))))},t}(o.Component)),R=n("cr+I"),I=n("b7S+"),j=n("M//1"),B=(n("TwNI"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onGlobalBadgeClicked=function(e){var n=e.currentTarget.getAttribute("data-badge");t.setGlobalBadge(t.props.userLogin,n||"")},t.onGlobalBadgeKeyPress=function(e){if(e.charCode===T.a.Enter||e.charCode===T.a.Space){var n=e.currentTarget.getAttribute("data-badge");t.setGlobalBadge(t.props.userLogin,n||"")}},t.onChannelBadgeClicked=function(e){var n=e.currentTarget.getAttribute("data-badge");t.setChannelBadge(t.props.channelLogin,t.props.userLogin,n||"")},t.onChannelBadgeKeyPress=function(e){if(e.charCode===T.a.Enter||e.charCode===T.a.Space){var n=e.currentTarget.getAttribute("data-badge");t.setChannelBadge(t.props.channelLogin,t.props.userLogin,n||"")}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.data,t=e.error,n=e.loading,a=e.user,r=e.currentUser;return n?null:!t&&a&&a.self&&r?o.createElement("div",null,o.createElement(U,{selectedColor:this.props.userChatColor,onColorSelected:this.props.onColorSelected,hasExtraColors:r.hasTurbo||r.hasPrime,borderTop:!0}),this.getBadgeChooser()):o.createElement(c.a,{message:Object(l.d)("Error loading data.","EditAppearance")})},t.prototype.getBadgeChooser=function(){var e=this,t=this.props.data,n=t.user,a=t.currentUser,r=n.self.availableBadges,s=n.self.selectedBadge,d=a.availableBadges,c=a.selectedBadge;if(!r)return null;var u=r.filter(function(e){return null!==e}),h=null===d?null:d.filter(function(e){return null!==e}),m=void 0===this.state.channelBadgeID&&s?s.setID:this.state.channelBadgeID,p=!m,g={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":p},b=Object(l.d)("No channel badges :(","ChatSettings");u.length>0&&(b=u.map(function(t){var n=!!s&&t.setID===m,a={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":n};return o.createElement("div",{role:"radio","aria-checked":n,"data-badge":t.setID,onClick:e.onChannelBadgeClicked,onKeyPress:e.onChannelBadgeKeyPress,key:t.setID+"/"+t.version,className:i(a),"data-test-selector":"channel_badge_"+t.setID,"data-a-target":"channel_badge_"+t.setID,tabIndex:0},o.createElement(I.a,{label:t.title},o.createElement("img",{alt:t.title,src:t.image1x,srcSet:t.image1x+" 1x, "+t.image2x+" 2x, "+t.image4x+" 4x"})))})).push(o.createElement("div",{key:"none",role:"radio","aria-checked":p,"data-badge":"",onClick:this.onChannelBadgeClicked,onKeyPress:this.onChannelBadgeKeyPress,className:i(g),"data-test-selector":"channel_badge_none","data-a-target":"channel_badge_none",tabIndex:0},o.createElement(I.a,{label:Object(l.d)("Same as Global","ChatSettings")},o.createElement("div",{className:"edit-appearance__badge-chooser__none"},o.createElement(O.a,{asset:O.b.Global})))));var f=void 0===this.state.globalBadgeID&&c?c.setID:this.state.globalBadgeID,S=!f,E={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":S},w=Object(l.d)("No global badges :(","ChatSettings");return h&&h.length>0&&(w=h.map(function(t){var n=!!c&&t.setID===f,a={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":n};return o.createElement("div",{role:"radio","aria-checked":n,"data-badge":t.setID,onClick:e.onGlobalBadgeClicked,onKeyPress:e.onGlobalBadgeKeyPress,key:t.setID+"/"+t.version,className:i(a),"data-test-selector":"global_badge_"+t.setID,"data-a-target":"global_badge_"+t.setID,tabIndex:0},o.createElement(I.a,{label:t.title},o.createElement("img",{alt:t.title,src:t.image1x,srcSet:t.image1x+" 1x, "+t.image2x+" 2x, "+t.image4x+" 4x"})))})).push(o.createElement("div",{role:"radio","aria-checked":S,key:"none","data-badge":"",onClick:this.onGlobalBadgeClicked,onKeyPress:this.onGlobalBadgeKeyPress,className:i(E),"data-test-selector":"global_badge_none","data-a-target":"global_badge_none",tabIndex:0},o.createElement(I.a,{label:Object(l.d)("None","ChatSettings")},o.createElement("div",{className:"edit-appearance__badge-chooser__none"},o.createElement(O.a,{asset:O.b.Ban}))))),o.createElement("div",null,o.createElement(y.a,{background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},o.createElement(y.a,{margin:{top:2},padding:{top:2},borderTop:!0},o.createElement(I.a,{align:I.b.Left,label:Object(l.d)("Your global badge is shown when chatting and whispering.","ChatSettings"),width:175},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Global Badge [?]","ChatSettings")))),o.createElement(C.g,{margin:{y:1},padding:{top:1},display:C.d.Flex,"data-a-target":"global-badge-selector"},o.createElement("div",{role:"radiogroup"},w))),o.createElement(y.a,{background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},o.createElement(y.a,{margin:{top:2},padding:{top:2},borderTop:!0},o.createElement(I.a,{align:I.b.Left,label:Object(l.d)("Change the badge shown when chatting in this channel.","ChatSettings"),width:175},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Channel Badge [?]","ChatSettings")))),o.createElement(C.g,{margin:{y:1},padding:{top:1},display:C.d.Flex,"data-a-target":"channel-badge-selector"},o.createElement("div",{role:"radiogroup"},b))))},t.prototype.setChannelBadge=function(e,t,n){return r.__awaiter(this,void 0,void 0,function(){var a,i,o,s;return r.__generator(this,function(r){switch(r.label){case 0:a={"Client-ID":l.q.config.legacyClientID,Accept:"application/vnd.twitchtv.v4+json; charset=UTF-8","content-type":"application/x-www-form-urlencoded; charset=UTF-8","Accept-Language":"en-us",Authorization:"OAuth "+this.props.authToken},i="https://api.twitch.tv/kraken/users/"+t+"/chat/channels/"+e+"/badges",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(i,{method:"PUT",body:R.stringify({selected_badge:n}),headers:a})];case 2:return(o=r.sent())&&o.ok&&(this.props.onBadgesChanged(),this.setState({channelBadgeID:n})),[3,4];case 3:return s=r.sent(),l.k.error(s,"Failed to set channel badge"),[3,4];case 4:return[2]}})})},t.prototype.setGlobalBadge=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,a,i,o;return r.__generator(this,function(r){switch(r.label){case 0:n={"Client-ID":l.q.config.legacyClientID,Accept:"application/vnd.twitchtv.v4+json; charset=UTF-8","content-type":"application/x-www-form-urlencoded; charset=UTF-8","Accept-Language":"en-us",Authorization:"OAuth "+this.props.authToken},a="https://api.twitch.tv/kraken/users/"+e+"/chat/badges",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(a,{method:"PUT",body:R.stringify({selected_badge:t}),headers:n})];case 2:return(i=r.sent())&&i.ok&&(this.props.onBadgesChanged(),this.setState({globalBadgeID:t})),[3,4];case 3:return o=r.sent(),l.k.error(o,"Failed to set global badge"),[3,4];case 4:return[2]}})})},t}(o.Component)),x=Object(s.compose)(Object(h.a)(j,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}))(B),L=n("1/iK"),P=n("y5D0"),z=n("jZLd"),V=n("jBwP"),q=n("eJ65"),H=n("wUQP"),G=n("aCAx"),W=n("/HY+"),K=n("DMoW"),Q=n("cys1"),Y=n("oK83"),X=n("iyGE"),$=n("a2UF"),J=n("HzXE"),Z=n("dEDE"),ee=(n("u/v7"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onReportButtonClick=function(){t.props.onReportButtonClick(t.props.raidID,t.props.raiderUserID,t.props.raiderLogin)},t.onUsernameClick=function(){t.props.onUsernameClick(t.props.raiderLogin,Y.b.recent_raids,t.props.raidID)},t.onBanButtonClick=function(){t.props.banUserMutation(t.props.raiderLogin)},t.onUnbanButtonClick=function(){t.props.unbanUserMutation(t.props.raiderLogin)},t}return r.__extends(t,e),t.prototype.render=function(){return o.createElement(S.a,{className:"recent-raids-item",flexDirection:C.e.Row,display:C.d.Flex,fullWidth:!0},o.createElement(S.a,{flexDirection:C.e.Row,display:C.d.Flex,fullWidth:!0,justifyContent:C.h.Between},o.createElement(v.a,{bold:!0},o.createElement("a",{className:"recent-raids-item__name",onClick:this.onUsernameClick,href:"#"},this.props.raiderLogin)),o.createElement(S.a,{position:C.j.Relative},o.createElement(S.a,{className:"recent-raids-item__timestamp"},Object(Q.m)(Date.parse(this.props.timestamp))),this.getCardSlideInContent())))},t.prototype.getCardSlideInContent=function(){var e=null;return e=this.props.data.chatRoomBanStatus&&this.props.data.chatRoomBanStatus.isPermanent?o.createElement(Z.a,{size:Z.b.Small,type:Z.d.Text,onClick:this.onUnbanButtonClick,"data-a-target":"recent-raid-item-button"},Object(l.d)("Unban","RecentRaid")):o.createElement(I.a,{align:I.b.Right,width:150,label:Object(l.d)("Banning a user prevents them from future chatting or raiding","RecentRaid")},o.createElement(Z.a,{size:Z.b.Small,type:Z.d.Text,onClick:this.onBanButtonClick,"data-a-target":"recent-raid-item-button"},Object(l.d)("Ban","RecentRaid"))),o.createElement(S.a,{className:"recent-raids-item__hover-content",zIndex:C.n.Above,"data-a-target":"recent-raids-item-hover"},o.createElement(y.a,{color:k.c.Alt2,display:C.d.InlineFlex},o.createElement(Z.a,{size:Z.b.Small,type:Z.d.Text,onClick:this.onReportButtonClick,"data-a-target":"recent-raid-item-button"},Object(l.d)("Report","RecentRaid"))),e)},t}(o.Component));function te(e){return{channelID:e.channelID}}var ne=Object(p.compose)(Object(h.a)(J,{options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.raiderUserID},fetchPolicy:"cache-and-network"}}}),Object(X.a)(te),Object($.a)(te))(ee),ae=n("b6Yk"),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetChannelID=t.props.targetChannelID,t}return r.__extends(t,e),t.fetchRecentRaidsList=function(e){return r.__awaiter(this,void 0,Promise,function(){var t,n;return r.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ae.a.get("/kraken/raids?client_id="+l.a.authSettings.clientID+"&api_version="+l.a.defaultAPIVersion+"&target_id="+e)];case 1:return t=a.sent(),[2,this.deserialize(t)];case 2:return n=a.sent(),l.k.error(n,"Couldn't fetch raids list"),[2,[]];case 3:return[2]}})})},t.deserialize=function(e){var t=[];if(e.body&&e.body.raids){for(var n in e.body.raids)if(n.hasOwnProperty){var a={raidID:e.body.raids[n]._id,raidAt:e.body.raids[n].raid_at,userID:e.body.raids[n].creator_user._id,name:e.body.raids[n].creator_user.name};t.push(a)}return t}return[]},t}(o.Component),ie=n("1wEQ"),oe=n("Jsra"),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onReportButtonClick=function(e,n,a){t.props.showReportUserModal({reportContext:{contentType:K.Ma.RAID_REPORT,targetUserID:n,contentID:e,extra:JSON.stringify({channel_id:n.toString()}),additionalTrackingID:t.props.targetChannelID||""},title:Object(l.d)("Report {channelDisplayName}",{channelDisplayName:a},"ReportUserModal")})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return this.props.targetChannelID&&this.getRecentRaids(this.props.targetChannelID),[2]})})},t.prototype.componentWillReceiveProps=function(e){e.targetChannelID&&e.targetChannelID!==this.props.targetChannelID&&this.getRecentRaids(e.targetChannelID)},t.prototype.render=function(){var e=[],t=[],n={};if(void 0!==this.state.raidChannels&&this.props.targetChannelID)for(var a in 0===this.state.raidChannels.length&&e.push(o.createElement(v.a,{key:"recent-raids-no-raids",type:v.e.P},Object(l.d)("You have no recent raids","RecentRaids"))),this.state.raidChannels)if(a.hasOwnProperty){var r=this.state.raidChannels[a];this.state.raidChannels.hasOwnProperty(a)&&void 0===n[r.userID]&&(t.push(o.createElement(ne,{key:"recent-raids-item-"+r.userID,channelID:this.props.targetChannelID,onReportButtonClick:this.onReportButtonClick,onUsernameClick:this.props.onUsernameClick,raiderLogin:r.name,raiderUserID:r.userID,raidID:r.raidID,timestamp:r.raidAt})),n[r.userID]=!0)}var i=null;return this.props.recentRaids?o.createElement(S.a,{key:"recent-raids"},o.createElement(S.a,{margin:{bottom:2}},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(oe.a,{to:{pathname:"/broadcast/dashboard/settings",hash:"#"+ie.a.RAIDS}},Object(l.d)("Manage Raid Settings","RecentRaids")))),e,t):(i=o.createElement(S.a,{key:"recent-raids",margin:{top:1,bottom:1},display:C.d.Flex,justifyContent:C.h.Between,alignItems:C.b.Center},o.createElement(oe.a,{hoverUnderlineNone:!0,onClick:this.props.onClickRecentRaids,"data-test-selector":"recent-raids-button"},Object(l.d)("See Recent Raids","ChatSettings")),this.props.tooltipText&&o.createElement(S.a,{position:C.j.Relative},o.createElement(I.a,{align:I.b.Right,direction:I.c.Top,display:C.d.InlineFlex,label:this.props.tooltipText,width:175,show:!0},o.createElement(C.g,{alignItems:C.b.Center,className:"chat-settings__highlight-indicator",display:C.d.InlineFlex,justifyContent:C.h.Center,margin:{left:.5}},o.createElement(v.a,{color:k.c.Overlay,fontSize:k.d.Size8,type:v.e.Span},"i"))))),o.createElement(S.a,null,i))},t.prototype.getRecentRaids=function(e){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:return[4,re.fetchRecentRaidsList(e)];case 1:return t=n.sent(),this.setState({raidChannels:t}),[2]}})})},t}(o.Component);var le=Object(m.connect)(null,function(e){return Object(p.bindActionCreators)({showReportUserModal:function(e){var t=r.__rest(e,[]);return Object(G.d)(W.a,t)}},e)})(se),de=n("W/3w"),ce=n("r2Xj"),ue=n("WytW"),he=n("F6GT"),me=n("x0gr"),pe=n("nEWQ"),ge=n("ygYM"),be=n("kqSx"),fe=(n("op4u"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={autoModToolTipVisible:!1},n.isConsolidatedModerationEnabled=Object(H.a)(pe.a),n.handleFollowerDurationClick=function(e){var t=e.currentTarget.getAttribute("data-duration");t&&n.onFollowerDurationChange(parseInt(t,10))},n.onClickRecentRaids=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.onClickRecentRaids()},n.onChatClear=function(){n.props.onChatCommand(Object(ue.b)())},n.getSelectedFollowerDuration=function(){if(n.props.followerModeEnabled)return n.props.followerModeDuration;var e=n.props.lastUsedFollowerDurations[n.props.channelLogin];return"number"==typeof e?e:de.a},n.onFollowerModeToggle=function(){if(n.props.followerModeEnabled)n.props.onChatCommand(Object(ue.c)()),n.props.onRoomStateUpdate({followersOnly:!1});else{var e=n.getSelectedFollowerDuration();n.props.onChatCommand(Object(ue.e)(e)),n.props.onRoomStateUpdate({followersOnly:!0,followersOnlyRequirement:e})}Object(me.a)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.followerModeEnabled,settingName:ce.a.FollowerMode})},n.onSlowModeToggle=function(){n.props.slowModeEnabled?(n.props.onChatCommand(Object(ue.d)()),n.props.onRoomStateUpdate({slowMode:!1})):(n.props.onChatCommand(Object(ue.f)()),n.props.onRoomStateUpdate({slowMode:!0})),Object(me.a)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.slowModeEnabled,settingName:ce.a.SlowMode})},n.onFollowerDurationChange=function(e){Object(he.d)(n.props.channelLogin,e),n.props.onFollowerModeDurationPreferenceChange(n.props.channelLogin,e),n.props.followerModeEnabled&&(n.props.onChatCommand(Object(ue.e)(e)),n.props.onRoomStateUpdate({followersOnlyRequirement:e})),Object(me.c)({channelLogin:n.props.channelLogin,followerModeOn:n.props.followerModeEnabled,isHostMode:n.props.isHostMode,newValue:e})},n.onModIconsToggle=function(){Object(he.c)("showModIcons",!n.props.showModerationIcons),n.props.showModerationIcons?n.props.onModIconsDisable():n.props.onModIconsEnable(),Object(me.a)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.showModerationIcons,settingName:ce.a.ShowModIcons})},n.onShowModerationActionsToggle=function(){Object(he.c)("showModerationActions",!n.props.showModerationActions),n.props.showModerationActions?n.props.onShowModerationActionsDisable():n.props.onShowModerationActionsEnable(),Object(me.a)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.showModerationActions,settingName:ce.a.ShowModActions})},n.onShowAutoModActionsToggle=function(){Object(he.c)("showAutoModActions",!n.props.showAutoModActions),n.props.showAutoModActions?n.props.onShowAutoModActionsDisable():n.props.onShowAutoModActionsEnable(),Object(me.a)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.showAutoModActions,settingName:ce.a.ShowAutoModActions})},n.handleToggleAutoModLink=n.handleToggleAutoModLink.bind(n),n.handleToggleAutoModLink=n.handleToggleAutoModLink.bind(n),n}return r.__extends(t,e),t.prototype.render=function(){var e=this;if(!this.props.isCurrentUserModerator)return null;var t=this.getSelectedFollowerDuration(),n=de.b.map(function(n){return o.createElement(_.a,{"data-duration":n,key:n,onClick:e.handleFollowerDurationClick,selected:n===t},o.createElement(S.a,{padding:.5},Object(de.c)(n)))});return o.createElement(y.a,{key:"mod-tools",borderTop:!0,"data-test-selector":"mod-tools",margin:{top:2},padding:{top:2}},o.createElement(S.a,{margin:{bottom:1}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Mod Tools","ChatSettings"))),o.createElement(S.a,{margin:{bottom:1}},o.createElement(be.a,{checked:this.props.showModerationIcons,"data-a-target":"mod-icons-checkbox","data-test-selector":"mod-icons-checkbox",id:"chat-settings-mod-icons",label:Object(l.d)("Mod Icons","ChatSettings"),onChange:this.onModIconsToggle})),o.createElement(y.a,{margin:{bottom:1},display:C.d.Flex,justifyContent:C.h.Between,flexWrap:C.f.Wrap},o.createElement(be.a,{checked:this.props.followerModeEnabled,"data-a-target":"follower-mode-checkbox","data-test-selector":"follower-mode-checkbox",id:"chat-settings-followers-only",label:Object(l.d)("Followers-Only Chat","ChatSettings"),onChange:this.onFollowerModeToggle}),o.createElement(S.a,{alignItems:C.b.Center,display:C.d.Flex,flexWrap:C.f.NoWrap,justifyContent:C.h.Between},o.createElement(S.a,{margin:{right:.5}},o.createElement(v.a,{color:k.c.Alt2,fontSize:k.d.Size7,type:v.e.Span},Object(l.d)("Must have followed for","ChatSettings"))),o.createElement(S.a,{className:"chat-settings__mod-tools-follower-button",flexShrink:0},o.createElement(q.a,{display:C.d.InlineBlock},o.createElement(Z.a,{size:Z.b.Small,type:Z.d.Text,"data-a-target":"follower-mode-dropdown","data-test-selector":"follower-mode-duration-menu",dropdown:!0},Object(de.d)(t)),o.createElement(ge.a,{direction:ge.b.TopRight},o.createElement(S.a,{padding:.5},o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Followers can chat if they have followed for at least","ChatSettings"))),o.createElement(y.a,{color:k.c.Link},n)))))),o.createElement(S.a,{margin:{bottom:1}},o.createElement(be.a,{checked:this.props.slowModeEnabled,"data-a-target":"slow-mode-checkbox","data-test-selector":"slow-mode-checkbox",id:"chat-settings-slow-mode",label:Object(l.d)("Slow Mode","ChatSettings"),onChange:this.onSlowModeToggle})),o.createElement(S.a,{margin:{bottom:1}},o.createElement(be.a,{checked:this.props.showModerationActions,"data-a-target":"show-mod-actions-checkbox","data-test-selector":"show-mod-actions",id:"chat-settings-show-mod-actions",label:Object(l.d)("Show Moderation Actions","ChatSettings"),onChange:this.onShowModerationActionsToggle})),o.createElement(S.a,{margin:{bottom:1}},o.createElement(be.a,{checked:this.props.showAutoModActions,"data-a-target":"show-automod-messages-checkbox","data-test-selector":"show-automod-messages",id:"chat-settings-show-automod-messages",label:Object(l.d)("Show Messages Caught by AutoMod","ChatSettings"),onChange:this.onShowAutoModActionsToggle})),o.createElement(le,{key:"recent-raids",recentRaids:this.props.recentRaids,onClickRecentRaids:this.onClickRecentRaids,onUsernameClick:this.props.onShowViewerCard,targetChannelID:this.props.channelID}),this.renderModerationSettingsLink(),o.createElement("button",{onClick:this.onChatClear,"data-a-target":"clear-chat-button","data-test-selector":"clear-chat-button"},Object(l.d)("Clear Chat","ChatSettings")))},t.prototype.renderModerationSettingsLink=function(){var e=Object(l.d)("Manage Moderation Settings","ChatSettings"),t="moderation";return this.isConsolidatedModerationEnabled||(t="automod"),o.createElement(y.a,{margin:{top:1,bottom:1},display:C.d.Flex,justifyContent:C.h.Between,alignItems:C.b.Center,color:k.c.Alt},o.createElement(oe.a,{to:"/"+this.props.channelLogin+"/dashboard/settings/"+t,"data-a-target":"automod-link-button","data-test-selector":"automod-link-button",type:oe.b.Inherit,hoverUnderlineNone:!0},e))},t.prototype.handleToggleAutoModLink=function(){this.setState(function(e){return{autoModToolTipVisible:!e.autoModToolTipVisible}})},t}(o.Component));var ve=Object(s.compose)(Object(m.connect)(function(e){return{lastUsedFollowerDurations:e.chat.lastUsedFollowerDurations,showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons}},function(e){return Object(p.bindActionCreators)({onChatHide:function(){return g.M()},onChatUnhide:function(){return g.P()},onFollowerModeDurationPreferenceChange:function(e,t){return g.y(e,t)},onModIconsDisable:function(){return g.C()},onModIconsEnable:function(){return g.H()},onShowAutoModActionsEnable:function(){return g.I()},onShowAutoModActionsDisable:function(){return g.D()},onShowModerationActionsEnable:function(){return g.J()},onShowModerationActionsDisable:function(){return g.E()},onTimestampsDisable:function(){return g.F()},onTimestampsEnable:function(){return g.K()},onThemeChanged:function(e){return Object(z.b)(e,void 0,!1)},login:function(){return Object(P.e)(L.a.Chat)}},e)}),Object(V.b)(function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeEnabled:e.slowMode,onRoomStateUpdate:function(t){return e.updateRoomState(t)}}}))(fe),ke=n("QVaV"),Ce=n("uIkQ"),Se="edit-appearance-button",Ee="edit-display-name";function ye(e){var t=o.createElement(v.a,{bold:!0,type:v.e.Span},o.createElement("span",{style:{color:e.chatColor},"data-a-target":Ee},Object(ke.a)(e.login,e.displayName))),n=null;return e.editAppearance||(n=o.createElement(S.a,{margin:{top:1}},o.createElement(oe.a,{hoverUnderlineNone:!0,onClick:e.onClickEdit,"data-a-target":Se,"data-test-selector":Se},Object(l.d)("Edit Appearance","ChatSettings")))),o.createElement(y.a,{background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Name Display","ChatSettings")),o.createElement(S.a,{margin:{top:2}},e.userBadges&&e.userBadges.map(function(e){return o.createElement(Ce.a,{key:e.id,schemaBadge:e})}),t),n)}var we=n("iFBW");n("kELf");n.d(t,"DARK_MODE_SELECTOR",function(){return Ae}),n.d(t,"SHOW_CHAT_RULES_SELECTOR",function(){return Fe}),n.d(t,"HIDE_CHAT_BUTTON_SELECTOR",function(){return _e}),n.d(t,"LEGACY_POPOUT_BUTTON_SELECTOR",function(){return Oe}),n.d(t,"POPOUT_BUTTON_SELECTOR",function(){return De}),n.d(t,"TIMESTAMPS_SELECTOR",function(){return Ne}),n.d(t,"HIGH_CONTRAST_SELECTOR",function(){return Te}),n.d(t,"CHAT_SETTINGS_BACK_BUTTON_SELECTOR",function(){return Me}),n.d(t,"AUTOMOD_TOOLTIP_SEEN_NUM_TIMES_LIMIT",function(){return Ue}),n.d(t,"AUTOMOD_TOOLTIP_SEEN_KEY",function(){return Re}),n.d(t,"ChatSettingsPresentation",function(){return Ie}),n.d(t,"ChatSettingsComponent",function(){return je});var Ae="dark-mode-checkbox",Fe="show-chat-rules-button",_e="hide-chat-button",Oe="legacy-popout-button",De="popout-button",Ne="timestamps-selector",Te="high-contrast-selector",Me="chat-settings-back-button",Ue=5,Re="autoModToolTipInChatSettings",Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recentRaids:!1,chatColor:null,autoModToolTipVisible:!1},t.resizeAnimationFrame=0,t.onClickEdit=function(e){e.nativeEvent.stopImmediatePropagation(),t.props.onClickEditAppearance()},t.onClickChatFilter=function(){t.setState({recentRaids:!1}),t.props.showChatFilterSettings()},t.onClickRecentRaids=function(){t.setState({recentRaids:!0})},t.onClickBack=function(e){e.nativeEvent.stopImmediatePropagation(),t.props.onLeaveEditAppearance(),t.setState({recentRaids:!1}),t.props.hideChatFilterSettings()},t.onColorSelected=function(e){t.setState({chatColor:e}),t.props.onColorSelected(e)},t.onBadgesChanged=function(){return r.__awaiter(t,void 0,void 0,function(){var e,t,n;return r.__generator(this,function(a){switch(a.label){case 0:return!this.props.data||this.props.data.loading?[3,2]:[4,this.props.data.refetch()];case 1:if((e=a.sent()).data){if(!(t=e.data).user||!t.user.self)return[2];n={},t.user.self.displayBadges.forEach(function(e){e&&(n[e.setID]=e.version)}),l.q.tmi.client.updateChannelBadges(this.props.channelLogin,n)}a.label=2;case 2:return[2]}})})},t.onResize=function(){t.resizeAnimationFrame||(t.resizeAnimationFrame=requestAnimationFrame(t.setContainerHeight))},t.setContainerHeight=function(){var e=t.props.containerElement&&t.props.containerElement.clientHeight||700;t.setState({containerHeight:e}),t.resizeAnimationFrame=0},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!0),this.setContainerHeight()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},t.prototype.render=function(){var e=this.props.data,t=e.error,n=e.loading,a=e.user,r=e.currentUser;if(n)return null;if(t||!a||this.props.isLoggedIn!==!!r||this.props.isLoggedIn!==!!a.self)return o.createElement(c.a,{message:Object(l.d)("Error loading data.","ChatSettings")});var s=null;if(this.props.isLoggedIn&&r.login){var h=a.self.displayBadges.filter(function(e){return null!==e});s=o.createElement(ye,{key:"name-display",login:r.login,displayName:r.displayName||r.login,chatColor:this.state.chatColor||r.chatColor,editAppearance:this.props.editAppearance,userBadges:h,onClickEdit:this.onClickEdit})}var m=[];this.props.isLoggedIn?this.props.editAppearance&&r.login?m=[o.createElement(C.g,{margin:{bottom:2},key:"chat-settings-edit-inject",className:"chat-settings__edit-button"},o.createElement(oe.a,{hoverUnderlineNone:!0,key:"chat-settings-edit",onClick:this.onClickBack,"data-test-selector":Me},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(O.a,{asset:O.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back","ChatSettingsAppearance")))),s,o.createElement(x,{key:"edit-appearance",onColorSelected:this.onColorSelected,editAppearance:this.props.editAppearance,authToken:this.props.authToken,channelLogin:this.props.channelLogin,userChatColor:this.state.chatColor||r.chatColor,userLogin:r.login,onBadgesChanged:this.onBadgesChanged})]:this.state.recentRaids?m=[o.createElement(C.g,{key:"chat-settings-recent-raids"},o.createElement(oe.a,{hoverUnderlineNone:!0,key:"chat-settings-edit",onClick:this.onClickBack,"data-test-selector":Me},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(O.a,{asset:O.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back","ChatSettingsRecentRaids")),o.createElement(S.a,{margin:{top:2}},o.createElement(v.a,{key:"recent-raids-title",color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Recent Raids","ChatSettings"))))),o.createElement(le,{key:"recent-raids",targetChannelID:this.props.channelID,recentRaids:this.state.recentRaids,onClickRecentRaids:this.onClickRecentRaids,onUsernameClick:this.props.onShowViewerCard})]:this.props.isShowingChatFilterSettings?m=[o.createElement(S.a,{key:"chat-settings-chat-filter"},o.createElement(oe.a,{hoverUnderlineNone:!0,onClick:this.onClickBack},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(O.a,{asset:O.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back to Chat Options","ChatFilter")))),o.createElement(F,{key:"chat-filter"})]:(m=[s,this.renderUniversalOptions()],this.props.isCurrentUserModerator&&!this.props.isEmbedded&&m.push(o.createElement(ve,{key:"moderation-tools",channelLogin:this.props.channelLogin,channelID:this.props.channelID,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isLoggedIn:this.props.isLoggedIn,onChatCommand:this.props.onChatCommand,onClickRecentRaids:this.onClickRecentRaids,onShowViewerCard:this.props.onShowViewerCard,recentRaids:this.state.recentRaids}))):m=[o.createElement(U,{key:"color-chooser",onColorSelected:this.props.onColorSelected}),this.renderUniversalOptions()];var p={"chat-settings":!0,"chat-settings--chat-filter":this.props.isShowingChatFilterSettings};return o.createElement(d.a,{onClickOut:this.props.onCloseSettings},o.createElement(ge.a,{direction:ge.b.Top,noTail:!0,offsetY:"11px","data-a-target":"chat-settings-balloon",show:this.props.isVisible},o.createElement(u.b,{className:i(p),suppressScrollX:!0,style:{maxHeight:this.state.containerHeight}},o.createElement("div",null,o.createElement(y.a,{key:"chat-settings",className:"chat-settings__content",background:k.a.Base,color:k.c.Base,padding:2},m)))))},t.prototype.renderUniversalOptions=function(){var e=this.props.authToken&&o.createElement(N,{onClick:this.onClickChatFilter}),t=this.props.isPopout&&o.createElement(be.a,{checked:this.props.darkModeEnabled,"data-a-target":"darkmode-checkbox","data-test-selector":Ae,id:"chat-settings-dark-mode",label:Object(l.d)("Dark Mode","ChatSettings"),onChange:this.props.onDarkModeToggle}),n=this.props.onShowChatRules&&o.createElement("button",{onClick:this.props.onShowChatRules,"data-a-target":"show-chat-rules-button","data-test-selector":Fe},Object(l.d)("Show Chat Rules","ChatSettings")),a=!this.props.isEmbedded&&o.createElement("button",{onClick:this.props.onChatPopout,"data-a-target":"popout-chat-button","data-test-selector":De},Object(l.d)("Popout","ChatSettings")),r=!this.props.isPopout&&o.createElement("button",{onClick:this.props.onChatHide,"data-a-target":"hide-chat-button","data-test-selector":_e},Object(l.d)("Hide Chat","ChatSettings"));return o.createElement(S.a,{key:"chat-options"},o.createElement(y.a,{borderTop:!0,margin:{top:2},padding:{top:2,bottom:1}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Chat Options","ChatSettings"))),e,o.createElement(S.a,{margin:{bottom:1}},o.createElement(be.a,{checked:this.props.showTimestamps,"data-a-target":"timestamp-checkbox","data-test-selector":Ne,id:"chat-settings-timestamp",label:Object(l.d)("Timestamps","ChatSettings"),onChange:this.props.onTimestampToggle})),o.createElement(S.a,{margin:{bottom:1}},o.createElement(be.a,{checked:this.props.useHighContrastColors,"data-a-target":"high-contrast-color-checkbox","data-test-selector":Te,id:"chat-settings-high-contrast",label:Object(l.d)("Readable Colors","ChatSettings"),onChange:this.props.onHighContrastColorsToggle})),o.createElement(S.a,{margin:{bottom:1}},t),o.createElement(S.a,{margin:{bottom:1}},n),o.createElement(S.a,{margin:{bottom:1}},r),o.createElement(S.a,{margin:{bottom:1}},a))},t}(o.Component),je=Object(s.compose)(Object(h.a)(we,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}))(Ie)},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:283}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"M//1":function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatSettings_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:306}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatSettings_Badges($channelLogin: String!) {\ncurrentUser {\nid\nhasPrime\nhasTurbo\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\nuser(login: $channelLogin) {\nid\nself {\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};a.definitions=a.definitions.concat(n("IKE4").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=a},"O3/n":function(e,t,n){"use strict";var a=n("q1tI"),r=n("sUnt"),i=n("+80q"),o=n("X2PJ"),s=function(e){return a.createElement(r.a,{margin:{top:2,bottom:1,x:1}},a.createElement(i.a,{bold:!0,color:o.c.Alt,fontSize:o.d.Size7,transform:i.d.Uppercase,type:i.e.H4},e.children))};n.d(t,"a",function(){return s})},Pp1Y:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("uNOt"),o=n("vCsY"),s=n("X2PJ"),l=n("hnjF"),d=(n("obKW"),function(e){return r.createElement(s.e,{borderRadius:s.b.Medium,display:l.d.Block,fontSize:s.d.Size5,padding:{x:1,y:.5}},r.createElement(i.a,a.__assign({activeClassName:"dashboard-side-nav__link--active",className:"dashboard-side-nav__link",exact:e.exact,isActive:e.isActive,to:e.linkTo},Object(o.a)(e)),e.children))});n.d(t,"a",function(){return d})},"Pub/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("HzXE");function r(e,t,n){try{return e.readQuery({query:a,variables:{channelID:t,targetUserID:n}})}catch(e){}}},TwNI:function(e,t,n){},"W/3w":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s});var a=n("/7QA"),r=30,i=[0,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return Object(a.d)("0 minutes (Any followers)","FollowersOnlyLabel");case 10:return Object(a.d)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return Object(a.d)("30 minutes","FollowersOnlyLabel");case 60:return Object(a.d)("1 hour","FollowersOnlyLabel");case 1440:return Object(a.d)("1 day","FollowersOnlyLabel");case 10080:return Object(a.d)("1 week","FollowersOnlyLabel");case 43200:return Object(a.d)("1 month","FollowersOnlyLabel");case 129600:return Object(a.d)("3 months","FollowersOnlyLabel");default:return a.k.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return Object(a.d)("0 min","FollowersOnlyShorthand");case 10:return Object(a.d)("10 min","FollowersOnlyShorthand");case 30:return Object(a.d)("30 min","FollowersOnlyShorthand");case 60:return Object(a.d)("1 hr","FollowersOnlyShorthand");case 1440:return Object(a.d)("1 day","FollowersOnlyShorthand");case 10080:return Object(a.d)("1 wk","FollowersOnlyShorthand");case 43200:return Object(a.d)("1 mo","FollowersOnlyShorthand");case 129600:return Object(a.d)("3 mo","FollowersOnlyShorthand");default:return Object(a.d)("custom","FollowersOnlyShorthand")}}},a2UF:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("yR8l"),i=n("Pub/"),o=n("HzXE"),s=n("1Rv/");function l(e){var t=this;return Object(r.a)(s,{props:function(n){return{unbanUserMutation:function(r){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(s){switch(s.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:r}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.ban&&t.data.unbanUserFromChatRoom.ban.bannedUser&&t.data.unbanUserFromChatRoom.ban.bannedUser.id){var r=Object(i.a)(e,n,t.data.unbanUserFromChatRoom.ban.bannedUser.id);if(!r)return;e.writeQuery({query:o,variables:{targetUserID:t.data.unbanUserFromChatRoom.ban.bannedUser.id,channelID:n},data:a.__assign({},r,{chatRoomBanStatus:null})})}}(e,n,t)}})];case 2:return[2,s.sent().data];case 3:throw s.sent(),new Error("Unable to unban user");case 4:return[3,6];case 5:throw new Error("Unban user mutation is not ready");case 6:return[2]}})})}}}})}},b6Yk:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("mrSG"),r=n("/7QA"),i=n("kRBY"),o=function(){function e(){}return e.get=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"GET"}),n)];case 1:return[2,r.sent()]}})})},e.getOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"GET"}),n)];case 1:return[2,r.sent()]}})})},e.put=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"PUT"}),n)];case 1:return[2,r.sent()]}})})},e.putOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"PUT"}),n)];case 1:return[2,r.sent()]}})})},e.post=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"POST"}),n)];case 1:return[2,r.sent()]}})})},e.postOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"POST"}),n)];case 1:return[2,r.sent()]}})})},e.delete=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"DELETE"}),n)];case 1:return[2,r.sent()]}})})},e.deleteOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"DELETE"}),n)];case 1:return[2,r.sent()]}})})},e.request=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){var r,i,o,s;return a.__generator(this,function(l){switch(l.label){case 0:return t=this.constructOptions(t,n),r=t.headers?t.headers["Content-Type"]:void 0,i=this.serialize(t.body,r),o=a.__assign({},t,{body:i}),[4,this._fetch(e,o)];case 1:return s=l.sent(),[4,this.constructLegacyAPIResponse(s)];case 2:return[2,l.sent()]}})})},e.requestOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.request(e,t,n)];case 1:if((r=i.sent()).requestError)throw r.requestError;if(r.error)throw new Error("Error while sending legacy-api request: "+r.error.status+" - "+r.error.message);return[2,a.__assign({},r,{body:r.body})];case 2:throw i.sent();case 3:return[2]}})})},e.getAPIURL=function(e){return new URL(e,r.q.config.apiBaseURL)},e.constructLegacyAPIResponse=function(e){return a.__awaiter(this,void 0,Promise,function(){var t,n,r,i;return a.__generator(this,function(a){switch(a.label){case 0:t={status:e.status},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.json()];case 2:return n=a.sent(),e.ok?t.body=n:t.error=n,[3,4];case 3:return r=a.sent(),e.headers&&e.headers.get&&(i=e.headers.get("Content-Type"))&&-1!==i.indexOf("application/json")&&(t.requestError=r),[3,4];case 4:return[2,t]}})})},e._fetch=function(e,t){return void 0===t&&(t={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(n){switch(n.label){case 0:return[4,fetch(this.getAPIURL(e).toString(),t)];case 1:return[2,n.sent()]}})})},e.constructOptions=function(e,t){return e=Object.assign({},e,{headers:a.__assign({},this.getDefaultHeaders(e,t),e.headers)})},e.serialize=function(e,t){return"application/json; charset=UTF-8"===t?JSON.stringify(e):"string"==typeof e?e:e&&FormData.prototype.isPrototypeOf(e)?e:e?(this.logger.error(new Error("Could not serialize this request body for the content-type provided."),"attempting to serialize object with a non-JSON content-type",{contentType:t}),null):null},e.getDefaultHeaders=function(e,t){var n=r.q.store.getState(),a={Accept:"application/vnd.twitchtv.v"+(t.version||5)+"+json; charset=UTF-8","Accept-Language":"en-us","Client-ID":r.q.config.legacyClientID,"X-Requested-With":"XMLHttpRequest"};e.body&&FormData.prototype.isPrototypeOf(e.body)||(a["Content-Type"]="application/json; charset=UTF-8");var o=Object(i.e)(n);return o&&(a.Authorization="OAuth "+o.authToken,o.legacyCSRFToken&&(a["Twitch-Api-Token"]=o.legacyCSRFToken)),t.excludeHeaders&&t.excludeHeaders.forEach(function(e){a[e]&&delete a[e]}),a},e.logger=r.q.logger.withCategory("legacy-api"),e}()},bRMw:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var a=n("/7QA"),r=n("kRBY"),i="cc_v2_whitelist";function o(e,t){var n=a.b.get(e,[]),i=a.q.store.getState();return n.includes(t)||n.includes(t+"-staff")&&Object(r.g)(i)||!!(n.includes(t+"-staff")&&i.session&&i.session.user&&i.session.user.login===t)}function s(e){return o(i,e)}},iFBW:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatSettings_CurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:236}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatSettings_CurrentUser($channelLogin: String!) {\ncurrentUser {\nid\nlogin\ndisplayName\nchatColor\n}\nuser(login: $channelLogin) {\nid\nself {\ndisplayBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};a.definitions=a.definitions.concat(n("IKE4").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=a},iyGE:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("mrSG"),r=n("yR8l"),i=n("Pub/"),o=n("HzXE"),s=n("4G6/"),l=n("4w0E");function d(e){var t=this;return Object(r.a)(l,{props:function(n){return{banUserMutation:function(r,l,d){return void 0===l&&(l=null),void 0===d&&(d=null),a.__awaiter(t,void 0,void 0,function(){var t,c;return a.__generator(this,function(u){switch(u.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),c=null,"number"==typeof l?c=Object(s.a)(l):"string"==typeof l&&(c=l),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:r,expiresIn:c,reason:d}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.banUserFromChatRoom&&t.data.banUserFromChatRoom.ban&&t.data.banUserFromChatRoom.ban.bannedUser&&t.data.banUserFromChatRoom.ban.bannedUser.id){var r=Object(i.a)(e,n,t.data.banUserFromChatRoom.ban.bannedUser.id);if(!r)return;e.writeQuery({query:o,variables:{targetUserID:t.data.banUserFromChatRoom.ban.bannedUser.id,channelID:n},data:a.__assign({},r,{chatRoomBanStatus:{isPermanent:t.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,n,t)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}})})}}}})}},jBwP:function(e,t,n){"use strict";var a,r=n("mrSG"),i=n("q1tI"),o=n("1rIY"),s=n("W/3w"),l=(a=Object(o.a)("ChatRoomStateContext",{followerDuration:s.a,followerMode:!1,slowMode:!1,slowModeDuration:120,subsOnlyMode:!1,updateRoomState:function(e){return null}})).InnerProvider,d=a.withContext,c=function(e){function t(t){var n=e.call(this,t)||this;return n.updateRoomState=function(e){n.setState(function(t){return{followerMode:void 0!==e.followersOnly?e.followersOnly:t.followerMode,followerDuration:void 0!==e.followersOnlyRequirement?e.followersOnlyRequirement:t.followerDuration,slowMode:void 0!==e.slowMode?e.slowMode:t.slowMode,slowModeDuration:e.slowModeDuration||t.slowModeDuration,subsOnlyMode:void 0!==e.subsOnly?e.subsOnly:t.subsOnlyMode}})},n.state={followerDuration:s.a,followerMode:!1,slowMode:!1,slowModeDuration:120,subsOnlyMode:!1,updateRoomState:n.updateRoomState},n}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(l,{value:this.state},this.props.children)},t}(i.Component),u=c;n.d(t,!1,function(){return l}),n.d(t,"b",function(){return d}),n.d(t,!1,function(){return c}),n.d(t,"a",function(){return u})},kELf:function(e,t,n){},m9vr:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("/7QA"),o=n("hnjF"),s=n("7uM4"),l=n("sUnt"),d=n("+80q"),c=n("X2PJ"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return r.createElement(l.a,{fullWidth:!0,fullHeight:!0},r.createElement(l.a,{display:o.d.Flex,flexGrow:1,alignItems:o.b.Center,justifyContent:o.h.Center,flexDirection:o.e.Column,fullHeight:!0},r.createElement(s.a,{width:48,height:48,asset:s.b.Lock,type:s.c.Alt2}),r.createElement(l.a,{display:o.d.Flex,alignItems:o.b.Center,flexDirection:o.e.Column,margin:{top:1}},r.createElement(d.a,{bold:!0,fontSize:c.d.Size3},Object(i.d)("Access Denied","DashboardAccessDenied")),r.createElement(d.a,{fontSize:c.d.Size4,color:c.c.Alt2},Object(i.d)("You don't have access to this dashboard","DashboardAccessDenied")))))},t}(r.Component);n.d(t,"a",function(){return u})},nEWQ:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("9C/b"),o=n("fvjX"),s=n("/7QA"),l=n("wUQP"),d=n("O3/n"),c=n("Pp1Y"),u=n("omRF"),h=n("w+70"),m="consolidated_dashboard_settings",p={"data-test-selector":"revenue-settings-link-selector"},g={"data-test-selector":"settings-link-selector"},b={"data-test-selector":"moderation-link-selector"},f={"data-test-selector":"moderation-settings-link-selector"},v={"data-test-selector":"permissions-link-selector"},k={"data-test-selector":"roles-link-selector"},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isConsolidatedModerationEnabled=Object(l.a)(m),t.isDashboardSettingsActive=function(e,n){var a=Object(u.b)(t.props.match.params.channelLogin),r=Object.values(u.a).join("|");return!!n.pathname.match(new RegExp("("+a+"$)|("+a+"/("+r+"))"))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.match.params.channelLogin,n=e.pageAccess,i=Object(u.b)(t),o=n[h.a.SettingsChannel].channelEnabled&&n[h.a.SettingsChannel].currentUserAuthorized,l=n[h.a.SettingsRoles].channelEnabled&&n[h.a.SettingsRoles].currentUserAuthorized,m=n[h.a.SettingsModeration].channelEnabled&&n[h.a.SettingsModeration].currentUserAuthorized,v=n[h.a.SettingsRevenue],C=v.revenueType,S=!!(v.channelEnabled&&v.currentUserAuthorized&&C);return o||l||m||S?r.createElement(r.Fragment,null,r.createElement(d.a,null,Object(s.d)("Settings","SettingsDashboardNav")),r.createElement("ul",null,o&&r.createElement("li",null,r.createElement(c.a,a.__assign({isActive:this.isDashboardSettingsActive,linkTo:i},g),Object(s.d)("Channel","SettingsDashboardNav"))),l&&r.createElement("li",null,r.createElement(c.a,a.__assign({linkTo:"/"+t+"/dashboard/roles"},k),Object(s.d)("Roles","SettingsDashboardNav"))),m&&r.createElement("li",null,r.createElement(c.a,a.__assign({},this.isConsolidatedModerationEnabled?a.__assign({linkTo:i+"/moderation"},f):a.__assign({linkTo:i+"/automod"},b)),Object(s.d)("Moderation","SettingsDashboardNav"))),S&&C&&r.createElement("li",null,r.createElement(c.a,a.__assign({linkTo:i+"/revenue"},p),function(e){switch(e){case h.c.Partner:return Object(s.d)("Partner","SettingsDashboardNav");case h.c.Affiliate:return Object(s.d)("Affiliate","SettingsDashboardNav");case h.c.Developer:return Object(s.d)("Extensions Developer","SettingsDashboardNav");default:var t=e;return t}}(C))))):null},t}(r.Component);var S=Object(o.compose)(i.a,h.e)(C);n.d(t,"a",function(){return m}),n.d(t,!1,function(){return p}),n.d(t,!1,function(){return g}),n.d(t,!1,function(){return b}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return k}),n.d(t,!1,function(){return C}),n.d(t,"b",function(){return S})},obKW:function(e,t,n){},omRF:function(e,t,n){"use strict";function a(e){return void 0===e&&(e=":channelLogin"),"/"+e+"/dashboard/settings"}var r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e.AUTHORIZED_STREAMERS="authorized-streamers",e.AUTOHOST="autohost",e.MANAGED_CHANNELS="managed-channels"}(r||(r={}))},op4u:function(e,t,n){},rVj2:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DashboardPageAccessContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isChannelOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bountyBoardSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"payoutInvite"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isChannelOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:337}};n.loc.source={body:"query DashboardPageAccessContext($channelLogin: String! $isChannelOwner: Boolean!) {\ncurrentUser {\nid\nroles {\nisGlobalMod\nisSiteAdmin\n}\n}\nchannel: user(login: $channelLogin) {\nid\nbountyBoardSettings {\nisEnabled\n}\npayoutInvite @include(if: $isChannelOwner) {\nid\ncategory\n}\nroles {\nisAffiliate\nisPartner\n}\nself {\nisEditor\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"u/v7":function(e,t,n){},"w+70":function(e,t,n){"use strict";var a,r,i,o,s=n("mrSG"),l=n("q1tI"),d=n("/MKj"),c=n("9C/b"),u=n("fvjX"),h=n("ZDlU"),m=n("LA8z"),p=n("yR8l"),g=n("DMoW"),b=n("kRBY"),f=n("1rIY"),v=n("m9vr"),k=n("bRMw"),C=n("XQbB"),S=n("rVj2");!function(e){e.AnalyticsChannel="AnalyticsChannel",e.AnalyticsStreamSummary="AnalyticsStreamSummary",e.DashboardAchievements="DashboardAchievements",e.DashboardActivity="DashboardActivity",e.DashboardBounties="DashboardBounties",e.DashboardEvents="DashboardEvents",e.DashboardExtensions="DashboardExtensions",e.DashboardLive="DashboardLive",e.DashboardMultiview="DashboardMultiview",e.DashboardBroadcast="DashboardBroadcast",e.SettingsChannel="SettingsChannel",e.SettingsModeration="SettingsModeration",e.SettingsModerationAutomod="SettingsModerationAutomod",e.SettingsModerationBannedChatters="SettingsModerationBannedChatters",e.SettingsModerationBlockedTerms="SettingsModerationBlockedTerms",e.SettingsModerationPermittedTerms="SettingsModerationPermittedTerms",e.SettingsModerationDirectory="SettingsModerationDirectory",e.SettingsRevenue="SettingsRevenue",e.SettingsRoles="SettingsRoles",e.VideoClips="VideoClips",e.VideoCollections="VideoCollections",e.VideoModeration="VideoModeration",e.VideoProducer="VideoProducer"}(i||(i={})),function(e){e[e.Affiliate=1]="Affiliate",e[e.Developer=2]="Developer",e[e.Partner=3]="Partner"}(o||(o={}));var E=(r=Object(f.a)("PageAccessContext",{pageAccess:(a={},a[i.AnalyticsChannel]={channelEnabled:!0,currentUserAuthorized:!1},a[i.AnalyticsStreamSummary]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardAchievements]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardActivity]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardBounties]={channelEnabled:!1,currentUserAuthorized:!1},a[i.DashboardEvents]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardExtensions]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardLive]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardMultiview]={channelEnabled:!1,currentUserAuthorized:!1},a[i.DashboardBroadcast]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsChannel]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModeration]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationAutomod]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationBannedChatters]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationBlockedTerms]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationPermittedTerms]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationDirectory]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsRevenue]={channelEnabled:!1,currentUserAuthorized:!1},a[i.SettingsRoles]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoClips]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoCollections]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoModeration]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoProducer]={channelEnabled:!0,currentUserAuthorized:!1},a)})).InnerProvider,y=r.withContext;function w(e){return e}function A(e){return y(w)(e)}var F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.data,a=n.channel,r=n.currentUser,o=n.error,s=n.loading,d=t.match.params.channelLogin,c=t.sessionUser;if(s)return l.createElement(C.a,{fillContent:!0,size:C.b.Large});var u=Boolean(c&&c.login.toLowerCase()===d.toLowerCase()),p=Boolean(a&&a.self&&a.self.isEditor),g=Boolean(a&&a.self&&a.self.isModerator),b=Boolean(c&&c.roles&&c.roles.isStaff),f=Boolean(r&&r.roles&&r.roles.isSiteAdmin),S=Boolean(r&&r.roles&&r.roles.isGlobalMod);if(!u){if(o)return l.createElement(h.a,null);if(!a||!a.id)return l.createElement(m.a,null);if(!(p||g||b||f||S))return l.createElement(v.a,null)}var y={pageAccess:(e={},e[i.AnalyticsChannel]={channelEnabled:!0,currentUserAuthorized:u||b},e[i.AnalyticsStreamSummary]={channelEnabled:!0,currentUserAuthorized:u||b},e[i.DashboardAchievements]={channelEnabled:!0,currentUserAuthorized:u||b},e[i.DashboardActivity]={channelEnabled:!0,currentUserAuthorized:u||b||f},e[i.DashboardBounties]={channelEnabled:Boolean(a&&a.bountyBoardSettings&&a.bountyBoardSettings.isEnabled),currentUserAuthorized:u},e[i.DashboardEvents]={channelEnabled:!0,currentUserAuthorized:u||p||b},e[i.DashboardExtensions]={channelEnabled:!0,currentUserAuthorized:u},e[i.DashboardLive]=O(u,p,b),e[i.DashboardMultiview]={channelEnabled:Object(k.c)(k.a,d),currentUserAuthorized:u||b},e[i.DashboardBroadcast]={channelEnabled:!0,currentUserAuthorized:u},e[i.SettingsChannel]={channelEnabled:!0,currentUserAuthorized:u},e[i.SettingsModeration]={channelEnabled:!0,currentUserAuthorized:u||g||b||f},e[i.SettingsModerationAutomod]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsModerationBannedChatters]={channelEnabled:!0,currentUserAuthorized:u||f},e[i.SettingsModerationBlockedTerms]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsModerationPermittedTerms]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsModerationDirectory]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsRevenue]={channelEnabled:void 0!==this.revenueType,currentUserAuthorized:u||b,revenueType:this.revenueType},e[i.SettingsRoles]={channelEnabled:!0,currentUserAuthorized:u},e[i.VideoClips]={channelEnabled:!0,currentUserAuthorized:u},e[i.VideoCollections]={channelEnabled:!0,currentUserAuthorized:u||p||b},e[i.VideoModeration]={channelEnabled:!0,currentUserAuthorized:u||g||b||f||S},e[i.VideoProducer]={channelEnabled:!0,currentUserAuthorized:u||p||b||f},e)};return l.createElement(E,{value:y},this.props.children)},Object.defineProperty(t.prototype,"revenueType",{get:function(){var e=this.props.data.channel,t=e&&e.payoutInvite&&e.payoutInvite.category;return Boolean(e&&e.roles&&e.roles.isPartner)||t===g.Fa.CUSTOM_PARTNER||t===g.Fa.PREMIUM_PARTNER||t===g.Fa.STANDARD_PARTNER?o.Partner:Boolean(e&&e.roles&&e.roles.isAffiliate)||t===g.Fa.AFFILIATE?o.Affiliate:t===g.Fa.EXTENSIONS_DEVELOPER?o.Developer:void 0},enumerable:!0,configurable:!0}),t}(l.Component);var _=Object(u.compose)(c.a,Object(d.connect)(function(e){return{sessionUser:Object(b.e)(e)}}),Object(p.a)(S,{options:function(e){var t=e.match.params.channelLogin,n=e.sessionUser;return{variables:{channelLogin:t,isChannelOwner:Boolean(n&&n.login.toLowerCase()===t.toLowerCase())}}}}))(F);function O(e,t,n){return{channelEnabled:!0,currentUserAuthorized:e||t||n}}n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,!1,function(){return E}),n.d(t,!1,function(){return y}),n.d(t,"e",function(){return A}),n.d(t,!1,function(){return F}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return O})}}]);