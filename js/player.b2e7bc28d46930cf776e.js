!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.video=t():(e.Twitch=e.Twitch||{},e.Twitch.video=t())}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n=window.webpackJsonpTwitch_video;window.webpackJsonpTwitch_video=function(t,r,a){for(var o,s,u=0,c=[];u<t.length;u++)s=t[u],i[s]&&c.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);for(n&&n(t,r,a);c.length;)c.shift()()};var r={},i={6:0};return t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(u);var t=i[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),i[e]=void 0)}var r=i[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var a=new Promise(function(t,n){r=i[e]=[t,n]});r[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"js/"+e+".b2e7bc28d46930cf776e.js";var u=setTimeout(n,12e4);return s.onerror=s.onload=n,o.appendChild(s),a},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=336)}([function(e,t,n){"use strict";e.exports=n(485)},function(e,t,n){e.exports=n(486)()},function(e,t,n){var r,i;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=n.apply(null,r);o&&e.push(o)}else if("object"===i)for(var s in r)a.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],o=n||t+"Subscription",s=function(e){function n(a,o){r(this,n);var s=i(this,e.call(this,a,o));return s[t]=a.store,s}return a(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[o]=null,e},n.prototype.render=function(){return q.Children.only(this.props.children)},n}(q.Component);return s.propTypes={store:F.isRequired,children:B.a.element.isRequired},s.childContextTypes=(e={},e[t]=F.isRequired,e[o]=U,e),s}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(){var e=[],t=[];return{clear:function(){t=K,e=K},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==K&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function p(){}function h(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function m(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,o=r.methodName,s=void 0===o?"connectAdvanced":o,u=r.renderCountProp,m=void 0===u?void 0:u,y=r.shouldHandleStateChanges,v=void 0===y||y,b=r.storeKey,g=void 0===b?"store":b,_=r.withRef,w=void 0!==_&&_,k=f(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),E=g+"Subscription",S=X++,P=(t={},t[g]=F,t[E]=U,t),T=(n={},n[E]=U,n);return function(t){G()("function"==typeof t,"You must pass a component to the function returned by "+s+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=a(n),i=$({},k,{getDisplayName:a,methodName:s,renderCountProp:m,shouldHandleStateChanges:v,storeKey:g,withRef:w,displayName:r,wrappedComponentName:n,WrappedComponent:t}),o=function(n){function a(e,t){c(this,a);var i=l(this,n.call(this,e,t));return i.version=S,i.state={},i.renderCount=0,i.store=e[g]||t[g],i.propsMode=Boolean(e[g]),i.setWrappedInstance=i.setWrappedInstance.bind(i),G()(i.store,'Could not find "'+g+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+g+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}return d(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[E]=t||this.context[E],e},a.prototype.componentDidMount=function(){v&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=p,this.store=null,this.selector.run=p,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return G()(w,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=h(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(v){var e=(this.propsMode?this.props:this.context)[E];this.subscription=new Q(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(J)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(w||m||this.propsMode&&this.subscription))return e;var t=$({},e);return w&&(t.ref=this.setWrappedInstance),m&&(t[m]=this.renderCount++),this.propsMode&&this.subscription&&(t[E]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(q.createElement)(t,this.addExtraProps(e.props))},a}(q.Component);return o.WrappedComponent=t,o.displayName=r,o.childContextTypes=T,o.contextTypes=P,o.propTypes=P,z()(o,t)}}function y(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function v(e,t){if(y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Z.call(t,n[i])||!y(e[n[i]],t[n[i]]))return!1;return!0}function b(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function g(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function _(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=g(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=g(i),i=r(t,n)),i},r}}function w(e){return"function"==typeof e?_(e,"mapDispatchToProps"):void 0}function k(e){return e?void 0:b(function(e){return{dispatch:e}})}function E(e){return e&&"object"==typeof e?b(function(t){return Object(ee.b)(e,t)}):void 0}function S(e){return"function"==typeof e?_(e,"mapStateToProps"):void 0}function P(e){return e?void 0:b(function(){return{}})}function T(e,t,n){return re({},n,e,t)}function O(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,a=!1,o=void 0;return function(t,n,s){var u=e(t,n,s);return a?r&&i(u,o)||(o=u):(a=!0,o=u),o}}}function C(e){return"function"==typeof e?O(e):void 0}function x(e){return e?void 0:function(){return T}}function R(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function j(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function A(e,t,n,r,i){function a(i,a){return h=i,m=a,y=e(h,m),v=t(r,m),b=n(y,v,m),p=!0,b}function o(){return y=e(h,m),t.dependsOnOwnProps&&(v=t(r,m)),b=n(y,v,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(v=t(r,m)),b=n(y,v,m)}function u(){var t=e(h,m),r=!f(t,y);return y=t,r&&(b=n(y,v,m)),b}function c(e,t){var n=!d(t,m),r=!l(e,h);return h=e,m=t,n&&r?o():n?s():r?u():b}var l=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1,h=void 0,m=void 0,y=void 0,v=void 0,b=void 0;return function(e,t){return p?c(e,t):a(e,t)}}function I(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=R(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),u=i(e,a);return(a.pure?A:j)(o,s,u,e,a)}function N(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function M(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function L(e,t){return e===t}var q=n(0),D=n(1),B=n.n(D),U=B.a.shape({trySubscribe:B.a.func.isRequired,tryUnsubscribe:B.a.func.isRequired,notifyNestedSubs:B.a.func.isRequired,isSubscribed:B.a.func.isRequired}),F=B.a.shape({subscribe:B.a.func.isRequired,dispatch:B.a.func.isRequired,getState:B.a.func.isRequired}),V=o(),H=n(197),z=n.n(H),W=n(488),G=n.n(W),K=null,Y={notify:function(){}},Q=function(){function e(t,n,r){s(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=Y}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=u())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Y)},e}(),$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=0,J={},Z=Object.prototype.hasOwnProperty,ee=n(284),te=(n(198),[w,k,E]),ne=[S,P],re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie=[C,x],ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?m:t,r=e.mapStateToPropsFactories,i=void 0===r?ne:r,a=e.mapDispatchToPropsFactories,o=void 0===a?te:a,s=e.mergePropsFactories,u=void 0===s?ie:s,c=e.selectorFactory,l=void 0===c?I:c;return function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.pure,c=void 0===s||s,d=a.areStatesEqual,f=void 0===d?L:d,p=a.areOwnPropsEqual,h=void 0===p?v:p,m=a.areStatePropsEqual,y=void 0===m?v:m,b=a.areMergedPropsEqual,g=void 0===b?v:b,_=N(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=M(e,i,"mapStateToProps"),k=M(t,o,"mapDispatchToProps"),E=M(r,u,"mergeProps");return n(l,ae({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:E,pure:c,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:g},_))}}();n.d(t,"a",function(){return V}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return m}),n.d(t,"b",function(){return oe})},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==(void 0===e?"undefined":F(e))||null===e||"object"!==(void 0===t?"undefined":F(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!V.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}function a(e){z=H({},z,e)}function o(){return z}function s(e){W=e}function u(){return W}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e){return e.displayName||e.name||"Component"}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=function(r){function a(n,r){p(this,a);var i=h(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n,r));i.i18n=n.i18n||t.i18n||r.i18n||u(),i.namespaces="function"==typeof e?e(n):e||i.i18n.options&&i.i18n.options.defaultNS,"string"==typeof i.namespaces&&(i.namespaces=[i.namespaces]);var s=i.i18n&&i.i18n.options&&i.i18n.options.react||{};return i.options=J({},o(),s,t),i.getWrappedInstance=i.getWrappedInstance.bind(i),i}return m(a,r),Z(a,[{key:"shouldComponentUpdate",value:function(e){return!this.options.usePureComponent||!i(this.props,e)}},{key:"getWrappedInstance",value:function(){return this.options.withRef||console.error("To access the wrapped instance, you need to specify { withRef: true } as the second argument of the translate() call."),this.wrappedInstance}},{key:"render",value:function(){var e=this,t={};return this.options.withRef&&(t.ref=function(t){e.wrappedInstance=t}),L.a.createElement(X,J({ns:this.namespaces},this.options,this.props,{i18n:this.i18n}),function(r,i){var a=i.ready,o=f(i,["ready"]);return L.a.createElement(n,J({tReady:a},e.props,t,o))})}}]),a}(M.Component);return r.WrappedComponent=n,r.contextTypes={i18n:D.a.object},r.displayName="Translate("+y(n)+")",r.namespaces=e,U()(r,n)}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e){return e&&(e.children||e.props&&e.props.children)}function T(e){return e&&e.children?e.children:e.props&&e.props.children}function O(e,t,n){return t?("[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(function(t,n){var r=""+n;if("string"==typeof t)e=""+e+t;else if(P(t))e=e+"<"+r+">"+O("",T(t),n+1)+"</"+r+">";else if(L.a.isValidElement(t))e=e+"<"+r+"></"+r+">";else if("object"===(void 0===t?"undefined":ue(t))){var i=se({},t),a=i.format;delete i.format;var o=Object.keys(i);a&&1===o.length?e=e+"<"+r+">{{"+o[0]+", "+a+"}}</"+r+">":1===o.length?e=e+"<"+r+">{{"+o[0]+"}}</"+r+">":console&&console.warn&&console.warn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else console&&console.warn&&console.warn("react-i18next: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),e):""}function C(e,t,n){function r(e,t){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.reduce(function(t,i,a){if("tag"===i.type){var o=e[parseInt(i.name,10)]||{},s=L.a.isValidElement(o);if("string"==typeof o)t.push(o);else if(P(o)){var u=r(T(o),i.children);o.dummy&&(o.children=u),t.push(L.a.cloneElement(o,se({},o.props,{key:a}),u))}else if("object"!==(void 0===o?"undefined":ue(o))||s)t.push(o);else{var c=n.services.interpolator.interpolate(i.children[0].content,o,n.language);t.push(c)}}else"text"===i.type&&t.push(i.content);return t},[])}return""===t?[]:e?T(r([{dummy:!0,children:e}],ae.a.parse("<0>"+t+"</0>"))[0]):[t]}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){for(var n=0,r=e.length;n<r;n++)if("object"===me(e[n])){var i=!0,a=!1,o=void 0;try{for(var s,u=Object.entries(e[n])[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=he(s.value,2),l=c[0],d=c[1];t(d,n,l)}}catch(e){a=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}}else t(e[n],n)}function I(e){var t=[];return A(e,function(e){e&&e.namespaces&&e.namespaces.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}function N(e){var t=e.components,n=e.i18n,r=I(t);return new Promise(function(e){n.loadNamespaces(r,e)})}var M=n(0),L=n.n(M),q=n(1),D=n.n(q),B=n(197),U=n.n(B),F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=Object.prototype.hasOwnProperty,H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1},W=void 0,G={type:"3rdParty",init:function(e){a(e.options.react),s(e)}},K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=!1,$=function(e){function t(e,n){c(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.i18n=e.i18n||n.i18n||u(),r.namespaces=e.ns||r.i18n.options&&r.i18n.options.defaultNS,"string"==typeof r.namespaces&&(r.namespaces=[r.namespaces]);var i=r.i18n&&r.i18n.options&&r.i18n.options.react||{};r.options=K({},o(),i,e),e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.options.wait=!1),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r.i18n.options&&r.i18n.options.isInitialSSR&&(r.options.wait=!1);var a=r.i18n.languages&&r.i18n.languages[0],s=!!a&&r.namespaces.every(function(e){return r.i18n.hasResourceBundle(a,e)});return r.state={i18nLoadedAt:null,ready:s},r.t=r.getI18nTranslate(),r.onI18nChanged=r.onI18nChanged.bind(r),r.getI18nTranslate=r.getI18nTranslate.bind(r),r}return d(t,e),Y(t,[{key:"getChildContext",value:function(){return{t:this.t,i18n:this.i18n}}},{key:"componentDidMount",value:function(){var e=this,t=function(){e.options.bindI18n&&e.i18n&&e.i18n.on(e.options.bindI18n,e.onI18nChanged),e.options.bindStore&&e.i18n.store&&e.i18n.store.on(e.options.bindStore,e.onI18nChanged)};this.mounted=!0,this.i18n.loadNamespaces(this.namespaces,function(){var n=function(){e.mounted&&!e.state.ready&&e.setState({ready:!0}),e.options.wait&&e.mounted&&t()};if(e.i18n.isInitialized)n();else{var r=function t(){setTimeout(function(){e.i18n.off("initialized",t)},1e3),n()};e.i18n.on("initialized",r)}}),this.options.wait||t()}},{key:"componentWillUnmount",value:function(){var e=this;if(this.mounted=!1,this.onI18nChanged){if(this.options.bindI18n){this.options.bindI18n.split(" ").forEach(function(t){return e.i18n.off(t,e.onI18nChanged)})}if(this.options.bindStore){this.options.bindStore.split(" ").forEach(function(t){return e.i18n.store&&e.i18n.store.off(t,e.onI18nChanged)})}}}},{key:"onI18nChanged",value:function(){this.mounted&&(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date}))}},{key:"getI18nTranslate",value:function(){return this.i18n.getFixedT(null,"fallback"===this.options.nsMode?this.namespaces:this.namespaces[0])}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.ready;return!n&&this.options.wait?null:(this.i18n.options&&this.i18n.options.isInitialSSR&&!Q&&(Q=!0,setTimeout(function(){delete e.i18n.options.isInitialSSR},100)),t(this.t,{i18n:this.i18n,t:this.t,ready:n}))}}]),t}(M.Component),X=$;$.contextTypes={i18n:D.a.object},$.childContextTypes={t:D.a.func.isRequired,i18n:D.a.object};var J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();v.setDefaults=a,v.setI18n=s;var ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ne=function(e){function t(e,n){b(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n||n.i18n,r.t=e.t||n.t,r}return _(t,e),te(t,[{key:"render",value:function(){var e=this,t=this.props.parent||"span",n=this.props.regexp||this.i18n.services.interpolator.regexp,r=this.props,i=r.className,a=r.style,o=this.props.useDangerouslySetInnerHTML||!1,s=this.props.dangerouslySetInnerHTMLPartElement||"span",u=ee({},this.props.options,{interpolation:{prefix:"#$?",suffix:"?$#"}}),c=this.t(this.props.i18nKey,u);if(!c||"string"!=typeof c)return L.a.createElement("noscript",null);var l=[],d=function(t,n){if(t.indexOf(e.i18n.options.interpolation.formatSeparator)<0)return void 0===n[t]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+t+" for interpolating "+c),n[t];var r=t.split(e.i18n.options.interpolation.formatSeparator),i=r.shift().trim(),a=r.join(e.i18n.options.interpolation.formatSeparator).trim();return void 0===n[i]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+i+" for interpolating "+c),e.i18n.options.interpolation.format(n[i],a,e.i18n.language)};c.split(n).reduce(function(t,n,r){var i=void 0;if(r%2==0){if(0===n.length)return t;i=o?L.a.createElement(s,{dangerouslySetInnerHTML:{__html:n}}):n}else i=d(n,e.props);return t.push(i),t},l);var f={};if(this.i18n.options.react&&this.i18n.options.react.exposeNamespace){var p="string"==typeof this.t.ns?this.t.ns:this.t.ns[0];if(this.props.i18nKey&&this.i18n.options.nsSeparator&&this.props.i18nKey.indexOf(this.i18n.options.nsSeparator)>-1){p=this.props.i18nKey.split(this.i18n.options.nsSeparator)[0]}this.t.ns&&(f["data-i18next-options"]=JSON.stringify({ns:p}))}return i&&(f.className=i),a&&(f.style=a),L.a.createElement.apply(this,[t,f].concat(l))}}]),t}(M.Component);ne.propTypes={className:D.a.string},ne.defaultProps={className:""},ne.contextTypes={i18n:D.a.object.isRequired,t:D.a.func.isRequired};var re=ne,ie=n(493),ae=n.n(ie),oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce=function(e){function t(){return k(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),oe(t,[{key:"render",value:function(){var e=se({i18n:this.context.i18n,t:this.context.t},this.props),t=e.children,n=e.count,r=e.parent,i=e.i18nKey,a=e.tOptions,o=e.values,s=e.defaults,u=e.components,c=e.ns,l=e.i18n,d=e.t,f=w(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]),p=d||l.t.bind(l),h=l.options&&l.options.react||{},m=void 0!==r?r:h.defaultTransParent,y=s||O("",t,0),v=h.hashTransKey,b=i||(v?v(y):y),g=o?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},_=b?p(b,se({},a,o,g,{defaultValue:y,count:n,ns:c})):y;if(h.exposeNamespace){var k="string"==typeof p.ns?p.ns:p.ns[0];if(i&&l.options&&l.options.nsSeparator&&i.indexOf(l.options.nsSeparator)>-1){k=i.split(l.options.nsSeparator)[0]}p.ns&&(f["data-i18next-options"]=JSON.stringify({ns:k}))}return m?L.a.createElement(m,f,C(u||t,_,l)):C(u||t,_,l)}}]),t}(L.a.Component),le=ce;ce.propTypes={count:D.a.number,parent:D.a.oneOfType([D.a.node,D.a.func]),i18nKey:D.a.string,i18n:D.a.object,t:D.a.func},ce.contextTypes={i18n:D.a.object.isRequired,t:D.a.func};var de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fe=function(e){function t(e,n){x(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n,e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.i18n.options.isInitialSSR=!0),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r}return j(t,e),de(t,[{key:"getChildContext",value:function(){return{i18n:this.i18n}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.i18n!==e.i18n)throw new Error("[react-i18next][I18nextProvider]does not support changing the i18n object.")}},{key:"render",value:function(){var e=this.props.children;return M.Children.only(e)}}]),t}(M.Component);fe.propTypes={i18n:D.a.object.isRequired,children:D.a.element.isRequired},fe.childContextTypes={i18n:D.a.object.isRequired};var pe=fe,he=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}),n.d(t,"c",function(){return v}),n.d(t,!1,function(){return X}),n.d(t,"b",function(){return re}),n.d(t,!1,function(){return le}),n.d(t,"a",function(){return pe}),n.d(t,!1,function(){return N}),n.d(t,!1,function(){return G}),n.d(t,!1,function(){return a}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return s}),n.d(t,!1,function(){return u})},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"i",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return u}),n.d(t,"l",function(){return c}),n.d(t,"m",function(){return l}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return f}),n.d(t,"p",function(){return p}),n.d(t,"q",function(){return h}),n.d(t,"r",function(){return m}),n.d(t,"s",function(){return y}),n.d(t,"t",function(){return v}),n.d(t,"u",function(){return b}),n.d(t,"v",function(){return g}),n.d(t,"w",function(){return _}),n.d(t,"x",function(){return w}),n.d(t,"y",function(){return k}),n.d(t,"z",function(){return E}),n.d(t,"A",function(){return S}),n.d(t,"B",function(){return P}),n.d(t,"C",function(){return T}),n.d(t,"D",function(){return O}),n.d(t,"E",function(){return C}),n.d(t,"F",function(){return x}),n.d(t,"c",function(){return R}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return I}),n.d(t,"e",function(){return N}),n.d(t,"G",function(){return M});var r="amazon_live",i="amazon_product_page",a="amazon_vse_test",o="animated_thumbnails",s="clips-editing",u="clips-embed",c="clips-viewing",l="clips-watch",d="creative",f="curse",p="dashboard",h="embed",m="facebook",y="feed",v="frontpage",b="highlighter",g="imdb",_="multiview-primary",w="multiview-secondary",k="onboarding",E="popout",S="pulse",P="site",T="site_mini",O="squad_primary",C="squad_secondary",x="twitch_everywhere",R=[c,u,s,l],j=[r,i,a,o,s,u,c,l,d,f,p,h,m,y,v,b,g,_,w,k,E,S,P,T,O,C,x],A=[r,i,a],I=[w,O,C],N=[_,w],M=[O,C]},function(e,t,n){var r=n(128),i=n(58),a=n(170),o=n(49),s=n(104),u=n(53),c=Object.prototype,l=c.hasOwnProperty,d=a(function(e,t){if(s(t)||o(t))return void i(t,u(t),e);for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=d},function(e,t,n){function r(e,t,n,r){e=a(e)?e:u(e),n=n&&!r?s(n):0;var l=e.length;return n<0&&(n=c(l+n,0)),o(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&i(e,t,n)>-1}var i=n(166),a=n(49),o=n(123),s=n(69),u=n(342),c=Math.max;e.exports=r},function(e,t,n){"use strict";function r(e){return function(t){"Enter"===t.key&&e()}}function i(e,t){return t?function(t){e(),t&&t.currentTarget&&t.currentTarget.blur()}:e}function a(e){var t=e.children,n=e.className,a=e.disabled,o=e.id,u=e.onBlur,c=e.onClick,l=e.onFocus,d=e.onMouseOut,f=e.onMouseOver,p=e.tabIndex,h=e.blurAfterClick;return s.a.createElement("button",{className:n,disabled:a,id:o,onBlur:u,onClick:i(c,h),onFocus:l,onKeyUp:r(c),onMouseOut:d,onMouseOver:f,tabIndex:p,type:"button"},t)}t.a=a;var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l={className:c.a.string,children:c.a.oneOfType([c.a.arrayOf(c.a.element),c.a.element,c.a.node]),disabled:c.a.bool,id:c.a.string,onClick:c.a.func,onMouseOver:c.a.func,onMouseOut:c.a.func,onFocus:c.a.func,onBlur:c.a.func,tabIndex:c.a.string,blurAfterClick:c.a.bool},d={className:"",disabled:!1,id:"",onClick:function(){},onMouseOver:function(){},onMouseOut:function(){},onFocus:function(){},onBlur:function(){},tabIndex:"0",blurAfterClick:!1};a.propTypes=l,a.defaultProps=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return g});var o=n(6),s=n.n(o),u=n(32),c=n.n(u),l=n(254),d=n(12),f=n(39),p=(n.n(f),n(11)),h=n(279),m=n(97),y=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b="live",g=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u._channelName=e,u}return a(t,e),v(t,[{key:"_fetchAccessToken",value:function(e,t,n){return Object(h.a)(e,t,n)}},{key:"_buildUsherParams",value:function(e){return c()({token:e.token,sig:e.sig,allow_source:!0,fast_bread:!0,playlist_include_framerate:!0},this._usherParams)}},{key:"contentType",get:function(){return b}},{key:"channel",get:function(){return this._channelName}},{key:"_baseStreamUrl",get:function(){return p.B+"/api/channel/hls/"+this._channelName.toLowerCase()+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams(),Object(d.F)()]).then(function(t){var n=y(t,3),r=n[0],i=n[1],a=n[2],o=e._buildUsherParams(r),u={baking_bread:!1,baking_brownies:!1,baking_brownies_timeout:l.b};return l.a[a.requestInfo.countryCode]&&(u.baking_bread=!0,u.baking_brownies=!0),s()(o,i,u),p.B+"/api/channel/hls/"+e._channelName.toLowerCase()+".m3u8?"+Object(f.stringify)(o)})}}]),t}(m.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return g});var o=n(6),s=n.n(o),u=n(32),c=n.n(u),l=n(254),d=n(12),f=n(39),p=(n.n(f),n(11)),h=n(279),m=n(97),y=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b="vod",g=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u._vodId=e,u}return a(t,e),v(t,[{key:"_fetchAccessToken",value:function(e,t,n){return Object(h.b)(e,t,n)}},{key:"_buildUsherParams",value:function(e){return c()({nauth:e.token,nauthsig:e.sig,allow_source:!0,playlist_include_framerate:!0},this._usherParams)}},{key:"contentType",get:function(){return b}},{key:"videoId",get:function(){return this._vodId}},{key:"_baseStreamUrl",get:function(){return p.B+"/vod/"+this._vodId.substring(1)+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams(),Object(d.F)()]).then(function(t){var n=y(t,3),r=n[0],i=n[1],a=n[2],o=e._buildUsherParams(r),u={baking_bread:!1,baking_brownies:!1,baking_brownies_timeout:l.b};return l.a[a.requestInfo.countryCode]&&(u.baking_bread=!0,u.baking_brownies=!0),s()(o,i,u),e._baseStreamUrl+"?"+Object(f.stringify)(o)})}}]),t}(m.a)},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return v}),n.d(t,"m",function(){return b}),n.d(t,"A",function(){return g}),n.d(t,"x",function(){return _}),n.d(t,"e",function(){return w}),n.d(t,"B",function(){return k}),n.d(t,"y",function(){return E}),n.d(t,"j",function(){return S}),n.d(t,"q",function(){return P}),n.d(t,"z",function(){return T}),n.d(t,"g",function(){return O}),n.d(t,"u",function(){return C}),n.d(t,"s",function(){return x}),n.d(t,"d",function(){return A}),n.d(t,"k",function(){return I}),n.d(t,"p",function(){return N}),n.d(t,"C",function(){return M}),n.d(t,"o",function(){return L}),n.d(t,"n",function(){return q}),n.d(t,"t",function(){return D}),n.d(t,"v",function(){return B}),n.d(t,"l",function(){return U}),n.d(t,"r",function(){return F}),n.d(t,"i",function(){return V}),n.d(t,"f",function(){return H}),n.d(t,"w",function(){return z}),n.d(t,"h",function(){return W});var r=n(261),i=n.n(r),a=n(54),o=n(72),s=n(41),u=n(27),c=n(186),l=n(188),d=n(7),f=n.n(d),p=n(144),h="https://player.twitch.tv",m=["https://clips.twitch.tv","https://clips-beta.twitch.tv"],y="https://www.twitch.tv/signup",v="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",b=p.c,g="//www.twitch.tv",_="//m.twitch.tv",w="https://api.twitch.tv",k="https://usher.ttvnw.net",E=function(){var e=document.currentScript,t=document.getElementsByTagName("script");if(!e){var n=Array.prototype.filter.call(t,function(e){return e.src&&e.src.match(/player(?:\.\w+)?\.js$/i)});e=1===n.length?n[0]:t[t.length-1]}if(!e)return"";var r=Object(a.a)(e.src);if("testplayer.twitch.tv"===r.authority){var i=r.path.split("/").slice(1,-2).join("/");return r.protocol+"://"+r.authority+"/"+i}return f()(m,window.location.origin)?h:r.protocol+"://"+r.authority}(),S="//countess.twitch.tv",P=g+"/directory/game",T={width:853,height:480},O="B3DCF968",C=8e3,x=5e3,R=[u.j,u.a,u.g,u.r,u.i,u.h,u.c,u.d,u.n,u.u,u.q,u.p,u.f,u.e,u.s,u.l,u.k,u.t,u.o],j=["usherfail",o.AD_END,o.AD_IMPRESSION,o.AD_IMPRESSION_COMPLETE,o.AD_START,o.COMPANION_AD_BUFFERED,o.COMPANION_RENDERED,l.a,c.a,s.a,s.b,s.c,s.e,s.f,s.g,s.k,s.l,s.o,s.q,s.r,s.s,s.t,s.w,s.x,s.z,s.A,s.C,s.E,s.F,s.G,s.H,s.J,s.K,s.N,s.O,s.P,s.U,s.u,u.m,u.b],A=i()(R,j),I=[u.s,s.a],N=Object.freeze(["autoplay","allowfullscreen","channel","channelId","collection","controls","debug","debug_ads","force_manifest_node","html5","flash","muted","origin","playsinline","quality","showMature","stream","t","time","tt_content","tt_medium","video"]),M=.1,L="//pubads.g.doubleclick.net/gampad/ads",q="//pubads.g.doubleclick.net/gampad/live/ads",D="3576121",B={enabled:!1,sinceEnded:45,viewerThreshold:5e4,text:"Don't panicBasket. The broadcast is down, but don't refresh just yet. When the broadcast is back, the player will automatically reload for you.",refreshTimeout:20,warningDuration:45},U="en-US",F=5,V=2,H=120,z=30,W="https://clips.twitch.tv/api/v2/clips/"},function(e,t,n){"use strict";function r(e){var t={};return e.component&&(t.component={aspectHeight:e.component.aspect_height,aspectWidth:e.component.aspect_width,canLinkExternalContent:e.component.can_link_external_content,viewerUrl:e.component.viewer_url,zoom:e.component.zoom,zoomPixels:e.component.zoom_pixels}),e.config&&(t.config={canLinkExternalContent:e.config.can_link_external_content,viewerUrl:e.config.viewer_url}),e.hidden&&(t.hidden={canLinkExternalContent:e.hidden.can_link_external_content,viewerUrl:e.hidden.viewer_url}),e.live_config&&(t.liveConfig={canLinkExternalContent:e.live_config.can_link_external_content,viewerUrl:e.live_config.viewer_url}),e.mobile&&(t.mobile={viewerUrl:e.mobile.viewer_url}),e.panel&&(t.panel={canLinkExternalContent:e.panel.can_link_external_content,height:e.panel.height,viewerUrl:e.panel.viewer_url}),e.video_overlay&&(t.videoOverlay={canLinkExternalContent:e.video_overlay.can_link_external_content,viewerUrl:e.video_overlay.viewer_url}),t}function i(e){return e.installed_extensions.map(function(t){var n=t.extension,i=t.installation_status,a=e.tokens.reduce(function(e,t){var r=t.extension_id,i=t.token;return n.id===r?i:e},""),o=i.activation_config.anchor===G.c.Component;return{abilities:{isChatEnabled:i.abilities.is_chat_enabled,isBitsEnabled:i.abilities.is_bits_enabled,isSubscriptionStatusAvailable:i.abilities.is_subscription_status_available},id:n.id,extension:{authorName:n.author_name,clientId:n.id,bitsEnabled:n.bits_enabled,description:n.description,name:n.name,iconUrl:n.icon_urls[W.a.Square100],iconUrls:{square24:n.icon_urls[W.a.Square24],square100:n.icon_urls[W.a.Square100],discoverySplash:n.icon_urls[W.a.DiscoverySplash]},id:n.id,requestIdentityLink:n.request_identity_link,sku:n.sku,summary:n.summary,token:a,vendorCode:n.vendor_code,state:n.state,version:n.version,views:r(n.views),whitelistedConfigUrls:n.whitelisted_config_urls,whitelistedPanelUrls:n.whitelisted_panel_urls},activationConfig:{anchor:i.activation_config.anchor,slot:i.activation_config.slot,x:o?i.activation_config.x:void 0,y:o?i.activation_config.y:void 0,state:i.activation_state},configuration:e.configurations?e.configurations[n.id]:{}}})}function a(e){var t={"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"};return e&&(t.Authorization="OAuth "+e),new Y.GraphQLClient(X,{headers:t})}function o(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function s(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}function u(e){var t=e.oauthToken,n=e.opts,r=q()({},J,n.headers);return t&&(r.Authorization="OAuth "+t),"GET"!==n.method&&"HEAD"!==n.method&&(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r}function c(e){return ne().then(function(e){return e},function(e){return null}).then(function(t){var n=u({oauthToken:t,opts:e});return fetch(e.url,{method:e.method||"GET",headers:n,credentials:e.xhrFields&&e.xhrFields.withCredentials?"include":"omit",body:e.data?Object(F.stringify)(e.data):void 0})}).then(s).then(function(e){return e.json().catch(function(){return e})})}function l(e){return c({url:V.e+"/kraken/"+e,headers:{Accept:Q}})}function d(e,t){var n={Accept:$};return t&&t.headers&&(n=q()(n,t.headers)),c(q()({},t,{url:V.e+"/kraken/"+e,headers:n}))}function f(e){return l("streams/"+o(e))}function p(e,t){return d("users/"+e+"/subscriptions/"+t,{})}function h(e){return c({url:V.e+"/channels/"+o(e)+"/product"})}function m(e,t){return j(se,{login:e,allowAmazon:t.amazon.consent,allowComscore:t.comscore.consent,allowGoogle:t.google.consent,allowNielsen:t.nielsen.consent})}function y(e,t){return"users/"+o(e.toString())+"/follows/channels/"+o(t.toString())}function v(e,t){return d(y(e,t))}function b(e,t,n){return d(y(e,t),{method:n?"PUT":"DELETE"})}function g(e,t,n){return d(y(e,t),{data:{notifications:n},method:"PUT"})}function _(e){return c({url:V.e+"/v5/channels/"+e+"/collections?limit=1&exclude_empty=true"})}function w(e){var t=c({url:V.e+"/v5/collections/"+e}),n=c({url:V.e+"/v5/collections/"+e+"/items"});return Promise.all([t,n])}function k(e){var t=e.player,n=e.oauth_token;t!==H.o&&t!==H.B&&t!==H.t&&t!==H.s&&t!==H.y||!n||ne.cache.set(void 0,Promise.resolve(n))}function E(e){var t=e.channel,n=e.params,r=e.isMobile,i=r?V.x:V.A,a=i+"/"+o(t);return n&&(a+="?"+Object(F.stringify)(n)),a}function S(e){var t=e.channel,n=e.video,r=e.params,i=e.isMobile,a=E({channel:t,params:null,isMobile:i}),s=n[0],u=n.substring(1);return a+="/"+o(s)+"/"+o(u),r&&(a+="?"+Object(F.stringify)(r)),a}function P(e){return e?c({url:V.e+"/v5/resumewatching/user/"+e}):Promise.reject("Invalid user id")}function T(e,t){return e?c({data:t,method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:V.e+"/v5/resumewatching/user/"+e}):Promise.reject("Invalid user id")}function O(e){return ne().then(function(e){return e},function(e){return null}).then(function(t){return z.g.setEnvironmentOptions({authToken:t}),Z(e)}).then(function(e){return z.g.getInstalledExtensions(e._id)}).then(function(e){return i(e).reduce(function(e,t){var n=t.extension,r=t.activationConfig,i=r.state===z.a.Active,a=r.anchor===z.b.Component||r.anchor===z.b.Hidden||r.anchor===z.b.Overlay;return i&&n.token&&a?e.concat(Object(K.t)(t)):e},[])}).catch(function(){return[]})}function C(e){return c({url:V.e+"/v5/users/"+e+"/bits/balance"})}function x(e){return fetch("https://www.twitch.tv/user/report",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Object(F.stringify)(e)})}function R(e,t){return ne().then(function(e){return e},function(e){return null}).then(function(n){var r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(F.stringify)(t)};return n&&(r.headers.Authorization="OAuth "+n),fetch(e,r)}).then(function(e){return e.json()})}function j(e,t){return ne().then(function(e){return e},function(e){return null}).then(function(n){return a(n).request(e,t)})}function A(e){return j(ie,{channel:e})}function I(){return re().then(function(e){return e.requestInfo.isFromEEA})}var N=n(239),M=n.n(N),L=n(40),q=n.n(L),D=n(183),B=n.n(D),U=n(93),F=n(39),V=n(11),H=n(5),z=n(73),W=n(108),G=n(47),K=n(36),Y=n(501);t.s=l,t.t=d,n.d(t,"a",function(){return Z}),n.d(t,"C",function(){return ee}),t.B=f,t.q=p,t.r=h,t.k=m,t.m=v,t.y=b,t.z=g,n.d(t,"u",function(){return te}),t.l=_,t.g=w,n.d(t,"v",function(){return ne}),t.A=k,t.d=E,t.E=S,t.p=P,t.x=T,t.o=O,t.j=C,t.w=x,t.h=R,n.d(t,"F",function(){return re}),t.e=A,n.d(t,"b",function(){return ae}),n.d(t,"c",function(){return oe}),n.d(t,"D",function(){return ue}),n.d(t,"i",function(){return ce}),n.d(t,"f",function(){return le}),n.d(t,"G",function(){return fe}),t.n=I;var Q="application/vnd.twitchtv.v3+json",$="application/vnd.twitchtv.v5+json",X="https://api.twitch.tv/gql",J={"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"},Z=M()(function(e){return e?l("channels/"+o(e)):Promise.reject(new Error("No channel info available on null channel ID"))}),ee=M()(function(e){return null===e||void 0===e?Promise.reject(new Error("No video info available on null video ID")):d("videos/"+o(e)).then(function(e){var t=e.channel.name;return Z(t).then(function(t){var n=e;return n.channel=t,n})})}),te=M()(function(){return l("user")},function(){return"krakenUserInfo"}),ne=M()(function(){try{var e=U.cookie.get("auth-token");return e?Promise.resolve(e):Promise.reject()}catch(e){return Promise.reject()}}),re=M()(function(){return j("query WebPlayerViewerInfo {\n    currentUser {\n        id\n        login\n        hasTurbo\n    }\n    requestInfo {\n        countryCode\n        isFromEEA\n    }\n}")}),ie="query WebPlayerChannelViewer($channel: String) {\n    channel: user(login: $channel) {\n        viewer: self {\n            subscriptionBenefit {\n                product {\n                    name\n                }\n            }\n        }\n        subscriptionProducts {\n            name\n            hasAdFree\n        }\n        adProperties {\n            adServer\n            adServerDefault\n            hasPrerollsDisabled\n            hasPostrollsDisabled\n            hasVodAdsEnabled\n            vodArchiveMidrolls\n            vodArchiveMidrollsFrequency\n            vodArchiveMidrollsBreakLength\n            requiredAge\n        }\n    }\n}",ae=M()(function(e){return j("query WebPlayerChannelStream($channel: String) {\n    channel: user(login: $channel) {\n        stream {\n            broadcasterSoftware\n            isEncrypted\n            tags {\n                localizedName\n            }\n            game {\n                tags(tagType: CONTENT) {\n                    localizedName\n                }\n            }\n            previewImageURL(height: 56, width: 100)\n            restriction {\n                type\n                exemptions {\n                    startsAt\n                    endsAt\n                }\n            }\n        }\n    }\n}",{channel:e})}),oe=M()(function(e){return j("query ChannelTags($channel: String) {\n    channel: user(login:$channel) {\n        stream {\n            id\n            tags{\n                id\n                localizedName\n            }\n        }\n    }\n}",{channel:e})}),se="query WebPlayerPixelAnalyticsUrls(\n  $login: String,\n  $allowAmazon: Boolean,\n  $allowComscore: Boolean,\n  $allowGoogle: Boolean,\n  $allowNielsen: Boolean,\n) {\n  channel: user(login: $login) {\n    id\n    adProperties {\n      trackingPixels(consent: {\n        allowAmazon: $allowAmazon,\n        allowComscore: $allowComscore,\n        allowGoogle: $allowGoogle,\n        allowNielsen: $allowNielsen,\n      }) {\n        origin\n        service\n        type\n        url\n        timeOffsetSeconds\n      }\n    }\n  }\n}",ue=M()(function(e){return j("query moments($videoId: ID!) {\n    video(id: $videoId) {\n        moments(momentRequestType: VIDEO_CHAPTER_MARKERS) {\n            edges {\n                cursor\n                node {\n                    moments {\n                        edges {\n                            node {\n                                ...videoMomentNode\n                            }\n                        }\n                    }\n                    ...videoMomentNode\n                }\n            }\n        }\n    }\n}\n\nfragment videoMomentNode on VideoMoment {\n    id\n    description\n    durationMilliseconds\n    positionMilliseconds\n    subDescription\n    thumbnailURL\n    type\n    ...momentDetails\n    ...momentVideo\n}\n\nfragment momentVideo on VideoMoment {\n    video {\n      id\n      lengthSeconds\n    }\n  }\n\nfragment momentDetails on VideoMoment {\n    details {\n        ...on GameChangeMomentDetails {\n            game {\n                id\n                displayName\n                boxArtURL(width: 40, height: 53)\n            }\n        }\n        ...on HearthstoneMomentDetails {\n            broadcasterHero {\n                id\n                class\n                name\n            }\n            opponentHero {\n                id\n                class\n                name\n            }\n            gameMode {\n                type\n                value\n            }\n        }\n        ...on OverwatchMomentDetails {\n            role\n            heroName\n        }\n        ...on PUBGMomentDetails {\n            maxPlayerCount\n            minPlayerCount\n        }\n    }\n}",{videoId:e})}),ce=M()(function(e){return j("query followsAndSubscriptions($channel: String) {\n\tuser(login: $channel) {\n\t\tsubscriptionProducts {\n\t\t\tid\n\t\t}\n\t\tself {\n\t\t\tsubscriptionBenefit {\n\t\t\t\tid\n\t\t\t}\n\t\t\tfollower {\n\t\t\t\tfollowedAt,\n\t\t\t\tnotificationSettings {\n\t\t\t\t\tisEnabled\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}",{channel:e})}),le=M()(function(e){return j(de,{slug:e})}),de="query clipInfo($slug: ID!) {\n    clip(slug: $slug) {\n        durationSeconds\n        createdAt\n        id\n        title\n        broadcaster {\n            id\n            roles {\n                isPartner\n            }\n        }\n        video {\n            creator {\n                displayName\n            }\n        }\n        game {\n            name\n        }\n    }\n}",fe=M()(function(e){if(B()(e))return Promise.resolve({});var t=String(e).replace("v","");return j(pe,{id:t})}),pe="query vodInfo($id: ID!) {\n    video(id: $id) {\n        contentTags {\n            localizedName\n        }\n    }\n}"},function(e,t,n){"use strict";function r(e){return{type:a,screen:e}}function i(){return{type:o}}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"m",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"p",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"h",function(){return v}),n.d(t,"o",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"k",function(){return _}),t.r=r,t.q=i;var a="push screen",o="pop screen",s="content",u="advertisement",c="advertisement-bb",l="stormwarning",d="vodrecommendations",f="offlinerecommendations",p="vodrestrictedscreen",h="collectionemptyscreen",m="clip-sharing-screen",y="clip-shortcut-screen",v="error",b="unmute",g="qualityrestrictedscreen",_="premiumcontentrestrictedscreen"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s={className:o.a.string,id:o.a.string,width:o.a.number,height:o.a.number,viewBox:o.a.string,preserveAspectRatio:o.a.string,children:o.a.oneOfType([o.a.arrayOf(o.a.element),o.a.element,o.a.node])},u=function(e){return i.a.createElement("svg",{className:e.className,id:e.id,width:e.width,height:e.height,viewBox:e.viewBox,preserveAspectRatio:e.preserveAspectRatio,xmlns:"http://www.w3.org/2000/svg"},e.children)};u.propTypes=s},function(e,t,n){"use strict";function r(e){return{type:y,video:e}}function i(){return{type:v}}function a(){return{type:b}}function o(){return{type:g}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:_,muted:e,automated:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:w,volume:e}}function c(e){return{type:k,backendType:e}}function l(e){return{type:E,issueType:e}}function d(e){return{type:S,playbackRate:e}}function f(e){return{type:P,seekTime:e}}function p(e){return{type:O,time:e}}function h(e){return{type:T,enable:e}}function m(e,t){return{type:C,width:e,height:t}}n.d(t,"b",function(){return y}),n.d(t,"h",function(){return v}),n.d(t,"g",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"f",function(){return _}),n.d(t,"e",function(){return w}),n.d(t,"c",function(){return k}),n.d(t,"i",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"j",function(){return P}),n.d(t,"l",function(){return T}),n.d(t,"m",function(){return O}),n.d(t,"k",function(){return C}),t.z=r,t.t=i,t.s=a,t.n=o,t.r=s,t.q=u,t.o=c,t.y=l,t.p=d,t.u=f,t.x=p,t.w=h,t.v=m;var y="load video api",v="video api play content",b="video api pause content",g="automated pause content",_="video api mute player",w="video api change volume",k="video api change backend",E="video api report video issue",S="video api change playback rate",P="video api seek",T="video api set live low latency",O="video api set live max latency",C="video api set auto max video size"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(a,o){var s=o(),u=s.adsManager;return h(e,t,o(),n,r,i).then(function(e){e.mature&&!B.a.get(W.a,!1)||e.contentType===N.a&&e.requiredAge>0&&!Object(G.c)(e.channel)||o().manifestInfo.suppress||u.requestAds(e)})}}function a(e){return{type:ee,playback:e}}function o(e){return{type:Z,values:e}}function s(e){var t=O()(e,"channel.viewer.subscriptionBenefit.product.name",null),n=O()(e,"channel.subscriptionProducts",[]),r=H()({},se,O()(e,"channel.adProperties",{}));return{type:te,currentAdProperties:r,currentSubscriptionBenefit:t,currentSubscriptionProducts:n}}function u(e){return y(e)?{type:$,currentMetadata:e}:ae}function c(){return u(oe)}function l(){return function(e,t){t().adsManager.pause()}}function d(){return function(e,t){t().adsManager.play()}}function f(e){return{type:J,setting:e}}function p(e){return{type:Q,URL:e}}function h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments[5];return m(n.stream).then(function(e){return Promise.all([Object(D.F)(),Object(D.a)(e),Object(D.b)(e),Object(D.G)(O()(n,"streamMetadata.videoId"))])}).then(function(o){var s=K(o,4),u=s[0],c=s[1],l=s[2],d=s[3],f=Object(z.a)(n.window.location.href),p=f.queryKey,h="raid"===p.referrer,m="true"===p.promo;return new q({adType:e,channelInfo:c,channelStreamInfo:l,creativeId:i,duration:t,embedPromo:m,forced:r,lastAdDisplay:B.a.get("lastAdDisplay",0),raid:h,requestType:a,sdk:n.sdk,state:n,viewerInfo:u,vodTagInfo:d})})}function m(e){return e instanceof N.b?Promise.resolve(e.channel):e instanceof w.b?Object(D.C)(e.videoId).then(function(e){return e.channel.name}):Promise.reject(new Error("Invalid stream: "+e))}function y(e){return!(!e.hasOwnProperty("contentType")||!e.hasOwnProperty("rollType"))&&(!(!F()(re,e.contentType)||!F()(ie,e.rollType))&&((e.contentType!==re.NONE||e.rollType===ie.NONE)&&(e.rollType!==ie.NONE||e.contentType===re.NONE)))}function v(e){return{type:ne,remainingAdTime:e}}var b=n(60),g=n(278),_=n(5),w=n(10),k=n(51),E=n(111),S=n(59),P=n.n(S),T=n(33),O=n.n(T),C=n(261),x=n.n(C),R=n(98),j=n.n(R),A=n(183),I=n.n(A),N=n(9),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=30,q=function(){function e(t){var n=t.adType,i=t.channelInfo,a=t.channelStreamInfo,o=t.creativeId,s=t.duration,u=t.embedPromo,c=t.forced,l=t.lastAdDisplay,d=t.raid,f=t.requestType,p=t.state,h=t.viewerInfo,m=t.vodTagInfo;r(this,e),this.contentType=p.stream.contentType,this.adSessionId=Object(b.a)(L),this.adType=n,this.raid=d,this.channel=i.name,this.channelId=i._id,this.twitchCorrelator=Object(b.a)(),this.deviceId=E.a(!1),this.duration=s,this.requestType=f,this.lastAdDisplay=l,this.forced=c,this.requestTime=Date.now(),this.creativeId=o,this.embedPromo=u,this._initViewerInfoFields(h),this._initChannelInfoFields(i,a),this._initStateFields(p),this._initAmazonFields(),this._getContentTag(a,p,m)}return M(e,[{key:"_initSubscriptionDetails",value:function(e){var t=e.currentSubscriptionBenefit,n=e.currentSubscriptionProducts;if(this.hasChanSub=!1,this.hasAdFreeSubscription=!1,null!==t){this.hasChanSub=!0;var r=P()(n,function(e){return e.name===t});this.hasAdFreeSubscription=r.hasAdFree}}},{key:"_initViewerInfoFields",value:function(e){e.currentUser&&(this.login=e.currentUser.login,this.hasTurbo=e.currentUser.hasTurbo,this.userId=e.currentUser.id),e.requestInfo&&(this.countryCode=e.requestInfo.countryCode,this.isFromEEA=e.requestInfo.isFromEEA)}},{key:"_initChannelInfoFields",value:function(e,t){this.channel=e.name,this.channelId=e._id,e.game&&(this.game=Object(k.f)(e.game)),this.mature=e.mature,this.partner=e.partner;var n=t.channel&&t.channel.stream?t.channel.stream:{};this.broadcasterSoftware=n.broadcasterSoftware}},{key:"_initChannelAdPropertiesFields",value:function(e){var t=e.currentAdProperties;this.vodAdsEnabled=t.hasVodAdsEnabled,this.prerollsEnabled=!t.hasPrerollsDisabled,this.postrollsEnabled=!t.hasPostrollsDisabled,this.requiredAge=t.requiredAge,this.adServer=t.adServerDefault||t.adServer}},{key:"_initStateFields",value:function(e){var t=e.ads,n=e.adsManager,r=e.gdprConsent,i=e.window,a=e.env,o=a.platform,s=a.playerType;this.contentType=e.stream.contentType,this.vodMidrollArchiveSetting=t.vodMidrollArchiveSetting,this.isMobileLocation=e.env.isMobileLocation,this.kruxId=i.Krux?i.Krux.user||"":null,this.platform=s===_.o?s:o,this.playerType=e.env.playerType,this.embedUrl=i.document.referrer,this.url=Object(g.a)(i.location.href),this.sdk=n.sdk,this.amazonConsent=r.vendors.amazon,this.googleConsent=r.vendors.google,this._initChannelAdPropertiesFields(t),this._initSubscriptionDetails(t),this._initVodFields(e)}},{key:"_initVodFields",value:function(e){var t=e.playback;this.vod={id:"",name:"",type:"",duration:-1},e.stream.contentType===w.a&&(this.vod.id=e.stream.videoId,this.vod.name=Object(k.f)(e.streamMetadata.name),this.vod.type=e.streamMetadata.type,this.vod.duration=t.duration)}},{key:"_initAmazonFields",value:function(){this.amzniid="",this.amznbid="",this.qsParams=""}},{key:"_getContentTag",value:function(e,t,n){var r=void 0;if(t.stream.contentType===N.a){var i=O()(e,"channel.stream.tags"),a=O()(e,"channel.stream.game.tags");r=x()(i,a)}else t.stream.contentType===w.a&&(r=O()(n,"video.contentTags"));this.contentTag=j()(r,function(e,t){return I()(e)?""+e+O()(t,"localizedName",""):e+","+O()(t,"localizedName","")},"")}}]),e}(),D=n(12),B=n(21),U=n(7),F=n.n(U),V=n(40),H=n.n(V),z=n(54),W=n(280),G=n(200);n.d(t,"k",function(){return Y}),n.d(t,"f",function(){return Q}),n.d(t,"c",function(){return $}),n.d(t,"a",function(){return X}),n.d(t,"h",function(){return J}),n.d(t,"b",function(){return Z}),n.d(t,"d",function(){return ee}),n.d(t,"e",function(){return te}),n.d(t,"g",function(){return ne}),n.d(t,"i",function(){return re}),n.d(t,"j",function(){return ie}),n.d(t,"l",function(){return se}),t.q=i,t.t=a,t.s=o,t.u=s,t.v=u,t.m=c,t.o=l,t.p=d,t.x=f,t.r=p,t.n=h,t.w=v;var K=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=30,Q="set clickthrough url",$="set ad metadata",X="check to see if ima script loaded",J="set vod midroll archive setting",Z="ACTION_SET_AD_DETAILS",ee="ACTION_SET_AD_PLAYBACK",te="ACTION_SET_CHANNEL_AD_INFO",ne="ACTION_SET_REMAINING_AD_TIME",re=Object.freeze({NONE:"none",IMA:"ima",STITCHED:"stitched"}),ie=Object.freeze({NONE:"none",PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"}),ae={type:"an invalid ad action"},oe={contentType:re.NONE,rollType:ie.NONE},se={hasVodAdsEnabled:!0,hasPrerollsDisabled:!0,hasPostrollsDisabled:!0,requiredAge:0}},function(e,t,n){"use strict";function r(e){return{type:a,tracker:e}}function i(e,t){return{type:o,eventName:e,eventProperties:t}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="set analytics tracker",o="track event"},function(e,t,n){"use strict";function r(e,t,n){var r=e.getState();return e.subscribe(function(){var i=!1,o=e.getState(),u=t.reduce(function(e,t){return a()(e,t,s()(o,t)),s()(o,t)!==s()(r,t)&&(i=!0),e},{});if(i){var c=r;r=o,n(u,c)}})}t.a=r;var i=n(417),a=n.n(i),o=n(33),s=n.n(o)},function(e,t,n){"use strict";function r(e){return function(t,n){t(Object(k.h)());var r=n(),c=r.analytics,l=r.window;switch(c.videoPlayCount>=1&&t(Object(C.x)("web_ttv_base",l.performance.now())),e.contentType){case L:return i(e,t,n);case q:return a(e,t,n);case D:return o(e,t,n);case B:return s(e,t,n);case N:case M:return u(e,t,n)}}}function i(e,t,n){var r=e.customerId,i=e.contentId,a=n(),o=a.playback,s=a.usher;t(Object(T.d)(w.g,{autoplay:o.autoplay,customer_id:r,content_id:i}));var u=new y.b({contentId:i,customerId:r,usherHostOverride:s.hostOverride});t({type:I,stream:u})}function a(e,t,n){var r=e.contentId,i=n(),a=i.playback,o=i.analyticsTracker;t(Object(T.d)(w.g,{autoplay:a.autoplay}));var s=""+x.h+r+"/status";return fetch(s).then(function(e){return e.json()}).then(function(e){var n=Object(_.t)("clips/"+r);o.setProperties(n.then(function(e){return{channel:e.broadcaster.name,channel_id:e.broadcaster.id,game:e.game,vod_id:e.tracking_id,content_mode:v.a,vod_type:A.a,live:!1}})),t(Object(O.p)(e.quality_options));var i=new v.b(r);return t({type:I,stream:i}),n.then(function(e){t(Object(S.g)(e)),Object(j.b)(r)})})}function o(e,t,n){var r=e.contentId,i=e.contentSourceUrl,a=e.duration,o=e.slug,s=n(),u=s.playback;t(Object(T.d)(w.g,{autoplay:u.autoplay}));t(Object(O.p)([{quality:O.e,source:i,frame_rate:30}])),t({type:I,stream:new b.b(r,i)}),t(Object(O.n)(O.e+"p30")),t(Object(S.h)({contentId:r,duration:a,slug:o})),Object(j.b)(r)}function s(e,t,n){var r=e.contentId,i=n(),a=i.playback;t(Object(T.d)(w.g,{autoplay:a.autoplay}));var o=new g.b(r);t({type:I,stream:o})}function u(e,t,n){var r=e.contentType,i=e.contentId,a=n(),o=a.accessToken,s=a.analytics,u=a.experiments,c=a.playback,y=a.usher,v=a.window,b=r===N?l(i):null,g=r===M?d(i):null;t(Object(T.d)(w.g,{autoplay:c.autoplay,channel:b,vod_id:g}));var _=f().then(function(e){return t(Object(T.d)(w.j,{time_since_load_start:Date.now()-s.playSessionStartTime})),e}),k={realtimeQos:u.get(p.o),reassignmentsSupported:u.get(p.u)},P=void 0;r===N?P=new h.b(b,_,y.params,o.params,k):r===M&&(P=new m.b(g,_,y.params,o.params,k)),t(Object(C.w)(C.p,v.performance.now())),P.accessToken.then(function(){t(Object(T.d)(w.i,{time_since_load_start:Date.now()-s.playSessionStartTime})),t(Object(C.w)(C.o,v.performance.now()))}),t({type:I,stream:P}),t(Object(S.d)(P));var O=n().env.playerType,x=n().multiview.parentChannelLogin,j=O===R.w&&x?x:P.channel;t(Object(E.x)(j)),t(Object(E.G)(j))}function c(){return{type:I,stream:P.b}}function l(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function d(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function f(){return Object(_.v)().then(function(e){return e},function(){return null})}n.d(t,"a",function(){return I}),n.d(t,"b",function(){return N}),n.d(t,"f",function(){return M}),n.d(t,"e",function(){return L}),n.d(t,"c",function(){return q}),n.d(t,"d",function(){return D}),n.d(t,"g",function(){return B}),t.i=r,t.h=c;var p=n(25),h=n(9),m=n(10),y=n(113),v=n(99),b=n(285),g=n(286),_=n(12),w=n(86),k=n(114),E=n(77),S=n(61),P=n(112),T=n(17),O=n(52),C=n(78),x=n(11),R=n(5),j=n(288),A=n(222),I="set stream",N="channel",M="video",L="provided",q="clip",D="clip edit",B="video-source"},function(e,t,n){"use strict";function r(e){return{type:M,restriction:e}}function i(){return{type:L}}function a(e){return{type:Q,playback:{duration:e}}}function o(e){switch(e){case T.n:return{type:U};case T.l:return{type:F};case T.u:return{type:$};case T.k:return{type:B};case T.f:return{type:q}}}function s(e){return{type:H,playback:{autoplay:e}}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:W,muted:e,automated:t}}function c(e){return{type:G,volume:Math.max(0,Math.min(1,e))}}function l(e){return{type:z,isLoading:e}}function d(e){return{type:Y,currentTime:e}}function f(e,t){return{type:K,start:e,end:t}}function p(){return{type:X}}function h(e){return{type:J,playbackRate:e}}function m(e){var t={type:ae};return Number.isFinite(e)&&e>=0&&(t={type:te,startTime:e}),t}function y(){return{type:Z}}function v(e){return{type:ee,currentTime:e}}function b(){return{type:ne}}function g(){return{type:re}}function _(e){return function(t,n){switch(n().env.playerType){case C.B:t(Object(N.L)(e));break;case C.z:k(E(e,n),n);break;case C.F:t(Object(N.L)(e)),t(Object(O.l)()),t(Object(I.i)({contentType:I.f,contentId:e}));break;default:t(Object(O.l)()),t(Object(I.i)({contentType:I.f,contentId:e}))}}}function w(e,t){return function(n,r){var i=r(),a=i.env,o=i.screenMode;if(a.playerType===C.B)n(o.isFullScreen?Object(I.i)({contentType:I.f,contentId:e}):Object(N.K)(t,e));else if(a.playerType===C.z){var s=S(e,r);k(s,r)}else n(Object(I.i)({contentType:I.f,contentId:e}))}}function k(e,t){t().window.location.search="?"+Object(A.stringify)(e)}function E(e,t){var n=t(),r=n.window,i=P(r);return j()({},{video:e},i)}function S(e,t){var n=t(),r=n.window,i=n.collection,a=P(r);return j()({},{video:e,collection:i.pendingRequest.collectionId||i.id},a)}function P(e){var t=Object(x.b)(e.location.search.slice(1));return delete t.channel,delete t.video,delete t.collection,delete t.time,t}n.d(t,"d",function(){return M}),n.d(t,"b",function(){return L}),n.d(t,"e",function(){return q}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return B}),n.d(t,"n",function(){return U}),n.d(t,"i",function(){return F}),n.d(t,"o",function(){return V}),n.d(t,"p",function(){return H}),n.d(t,"q",function(){return z}),n.d(t,"k",function(){return W}),n.d(t,"w",function(){return G}),n.d(t,"t",function(){return K}),n.d(t,"u",function(){return Y}),n.d(t,"v",function(){return Q}),n.d(t,"x",function(){return $}),n.d(t,"c",function(){return X}),n.d(t,"j",function(){return J}),n.d(t,"m",function(){return Z}),n.d(t,"l",function(){return ee}),n.d(t,"r",function(){return te}),n.d(t,"a",function(){return ne}),n.d(t,"f",function(){return re}),n.d(t,"s",function(){return ie}),n.d(t,"M",function(){return oe}),t.B=r,t.z=i,t.P=a,t.Q=o,t.J=s,t.E=u,t.R=c,t.K=l,t.O=d,t.N=f,t.A=p,t.D=h,t.L=m,t.G=y,t.F=v,t.y=b,t.C=g,t.I=_,t.H=w;var T=n(27),O=n(43),C=n(5),x=n(96),R=n(32),j=n.n(R),A=n(39),I=(n.n(A),n(19)),N=n(22),M="content restricted",L="clear error quality restricted",q="set player ended",D="initialize playback settings",B="set player pause",U="set player playing",F="set player play",V="error quality restricted",H="set autoplay state",z="set loading state",W="player muted",G="volume changed",K="update buffer values",Y="update current time",Q="update playback duration",$="set player waiting",X="content is showing",J="playback rate changed",Z="player seeking",ee="player seeked",te="set start time",ne="clear bufferEmpties count",re="increment bufferEmpties count",ie="ACTION_TIMED_METADATA_RECEIVED",ae="invalid playback action",oe=function(e){return{type:ie,data:e}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){try{return a(window[e])}catch(e){}return new u}function a(e){if(e){var t="test_item_"+Date.now();try{if(e.setItem(t,"OK"),"OK"===e.getItem(t))return e.removeItem(t),e}catch(e){}}return new u}n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this._storage=t}return o(e,[{key:"get",value:function(e,t){if(this.has(e))try{return JSON.parse(this._storage.getItem(e))}catch(e){}return t}},{key:"has",value:function(e){return null!==this._storage.getItem(e)}},{key:"set",value:function(e,t){this._storage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){this._storage.removeItem(e)}},{key:"clear",value:function(){this._storage.clear()}},{key:"usesCache",value:function(){return!(this._storage instanceof u)}}]),e}(),u=function(){function e(){r(this,e),this._cache={}}return o(e,[{key:"key",value:function(e){return Object.keys(this._cache)[e]}},{key:"getItem",value:function(e){return this._cache.hasOwnProperty(e)?this._cache[e]:null}},{key:"setItem",value:function(e,t){this._cache[e]=String(t)}},{key:"removeItem",value:function(e){delete this._cache[e]}},{key:"clear",value:function(){this._cache={}}}]),e}(),c=new s(i("sessionStorage")),l=new s(i("localStorage"));new s(new u)},function(e,t,n){"use strict";function r(){return{type:C}}function i(){return{type:x}}function a(e){return{type:E,emitter:e}}function o(){return{type:S}}function s(e,t){return{type:T,collectionId:e,vodId:t}}function u(e){return{type:O,vodId:e}}function c(){return{type:j}}function l(){return{type:A}}function d(){return{type:R}}function f(){return{type:P}}function p(e){return{type:I,event:e.name,data:e.properties}}function h(){return{type:N}}function m(){return{type:M}}function y(){return{type:L}}function v(){return{type:q}}function b(){return{type:D}}function g(){return{type:B}}function _(){return{type:U}}function w(){return{type:F}}function k(){return{type:V}}n.d(t,"t",function(){return E}),n.d(t,"k",function(){return S}),n.d(t,"l",function(){return P}),n.d(t,"r",function(){return T}),n.d(t,"s",function(){return O}),n.d(t,"j",function(){return C}),n.d(t,"g",function(){return x}),n.d(t,"a",function(){return R}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return A}),n.d(t,"p",function(){return I}),n.d(t,"h",function(){return M}),n.d(t,"i",function(){return L}),n.d(t,"o",function(){return q}),n.d(t,"e",function(){return D}),n.d(t,"d",function(){return B}),n.d(t,"f",function(){return U}),n.d(t,"m",function(){return F}),n.d(t,"n",function(){return V}),n.d(t,"q",function(){return H}),t.E=r,t.A=i,t.N=a,t.F=o,t.K=s,t.L=u,t.v=c,t.w=l,t.u=d,t.G=f,t.B=p,t.H=h,t.C=m,t.D=y,t.M=v,t.y=b,t.x=g,t.z=_,t.I=w,t.J=k;var E="use event emitter",S="emit open stream",P="emit player ready",T="transition to collection",O="transition to recommended vod",C="emit fullscreen change",x="emit external fullscreen change",R="emit ad pause",j="emit ad play",A="emit ad playing",I="emit first party analytic event",N="prompt login modal",M="emit focus player",L="emit follow channel",q="emit unfollow channel",D="emit enable notifications",B="emit disable notifications",U="emit enter multiview",F="emit remove stream",V="emit subscribe channel",H="playback blocked event"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.a:return t.online?s:u;case i.a:return c;case o.a:return"live"===t.streamMetadata.type?s:e;default:return e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),t.c=r;var i=n(19),a=n(150),o=n(61),s="online",u="offline",c="unknown"},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return Object(m.u)().then(function(t){return"staff"===t.type?e:Promise.reject()})}function a(e){var t,n,a=l()(h.a.SERVICE_URL,"http")?h.a.SERVICE_URL:"https:"+h.a.SERVICE_URL;return new f.a({defaults:(t={},r(t,b,"control"),r(t,g,"no"),r(t,_,"no"),r(t,w,"control"),r(t,k,"2.9.1"),r(t,E,"control"),r(t,S,"asmjs"),r(t,P,"2.9.1"),r(t,T,"no"),r(t,O,v.a),r(t,C,"control"),r(t,x,"control"),r(t,R,"control"),r(t,j,"send"),r(t,A,"control"),r(t,I,"ctrl_a"),r(t,N,"control"),r(t,L,"control"),r(t,q,"control"),r(t,D,"control"),r(t,B,"control"),t),deviceID:e.deviceID,overrides:u()((n={},r(n,_,i("yes")),r(n,S,i("wasm")),r(n,A,i("variant_a")),r(n,q,i("treatment")),n),JSON.parse(o.cookie.get("experiment_overrides","{}"))),platform:"web",login:e.login,provider:new h.a(a),Promise:Promise})}n.d(t,"e",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"i",function(){return _}),n.d(t,"o",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"b",function(){return E}),n.d(t,"k",function(){return S}),n.d(t,"j",function(){return P}),n.d(t,"u",function(){return T}),n.d(t,"h",function(){return O}),n.d(t,"r",function(){return C}),n.d(t,"q",function(){return x}),n.d(t,"c",function(){return R}),n.d(t,"s",function(){return j}),n.d(t,"p",function(){return A}),n.d(t,"l",function(){return I}),n.d(t,"a",function(){return M}),n.d(t,"t",function(){return L}),n.d(t,"d",function(){return q}),n.d(t,"m",function(){return D}),n.d(t,"n",function(){return B}),t.v=a;var o=n(93),s=(n.n(o),n(6)),u=n.n(s),c=n(471),l=n.n(c),d=n(472),f=n.n(d),p=n(478),h=n.n(p),m=n(12),y=n(48),v=(n.n(y),n(275)),b="5684b8eb-5d61-4685-84e2-43090b32179d",g="5fbb67a0-b4ff-4775-b836-e9a348a87481",_="1a42d36b-3f3f-4b80-8252-bdd6cc675ec3",w="6a2630a4-edc7-4f2a-8cfe-e4de75eb0d98",k="ec70bd08-dbc8-4f48-9f60-d035fec3eb20",E="f75ab09d-daf7-46db-bdd5-bb5a2f413cf7",S="49083595-80d4-4c13-93a2-20a605b3318e",P="3c3a5d48-117f-43ac-8b35-091f13b2d479",T="e2fecbd4-98e4-45e0-aad5-624cc70d6b85",O="7cdee701-0ac3-4b47-94d3-b47b3b707dc8",C="9edf91e6-0499-49f2-b171-30f85573bf5a",x="de013c6f-a800-45ee-9ab4-7965c405e3eb",R="bd9234fc-3c40-45f6-a544-868478744ba7",j="70c05c72-ccfe-4604-895c-48ff3fc98128",A="4a567053-3ece-44bc-9496-9519a37a6053",I="742b7531-8f5c-4c62-9099-7b2a60048ab2",N="921a6d36-7e97-4908-9b29-e4198fa3e34d",M="af3153dc-5bdf-474e-8bb4-3f15f9f4c70c",L="b253f060-19fc-4539-98e2-391a55354741",q="6a55a881-2e43-4e1b-9ff2-de8916d6f80e",D="89328310-2ae2-448b-9cf6-b801b20470f7",B="f21b3a40-dd87-44eb-a7e6-1c9a1feb2816"},function(e,t,n){var r=n(360),i=n(243),a=i(function(e,t){return null==e?{}:r(e,t)});e.exports=a},function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"i",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"n",function(){return u}),n.d(t,"u",function(){return c}),n.d(t,"q",function(){return l}),n.d(t,"p",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"s",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"t",function(){return v}),n.d(t,"o",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"r",function(){return _}),n.d(t,"a",function(){return w}),n.d(t,"m",function(){return k}),n.d(t,"b",function(){return E});var r="loadstart",i="error",a="loadedmetadata",o="canplay",s="canplaythrough",u="playing",c="waiting",l="seeking",d="seeked",f="ended",p="durationchange",h="timeupdate",m="play",y="pause",v="volumechange",b="ratechange",g="loadeddata",_="stalled",w="abort",k="playbackblocked",E="audioblocked"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.b:return s()({},e,f);case i.f:return s()({},e,{loadingState:i.q,channel:t.channel,activeInstallations:[]});case i.k:return s()({},e,{loadingState:i.p,channel:t.channel,activeInstallations:t.installations});case i.d:return s()({},e,{loadingState:i.s,channel:t.channel});case i.o:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){return e.extension.id!==t.extensionId?e:c()({},e,{activationConfig:t.activationConfig})}).filter(a.r)});case i.h:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){if(e.id!==t.installationId)return e;var n=e.playerState,r=n.token.permissionsState===a.k;return c()({},e,{playerState:{isUserIdentityLinked:!r}})})});case i.j:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){return e.id!==t.installationId?e:c()({},e,{playerState:{isUserIdentityLinked:t.isLinked,token:{permissionsState:t.isLinked?a.k:a.l}}})})});case i.l:return s()({},e,{menuState:t.menuState});case i.m:return!t.notification&&e.notification&&e.notification.timer&&clearTimeout(e.notification.timer),s()({},e,{notification:t.notification});case i.g:return s()({},e,{purchaseIntent:t.purchaseIntent});case i.e:return s()({},e,{hoveredExtension:t.extension,activeInstallations:e.activeInstallations.map(function(e){var n=e.id;return t.extension&&n===t.extension.id&&t.highlightFrame?c()({},e,{playerState:{isHighlighted:!0}}):c()({},e,{playerState:{isHighlighted:!1}})})});case i.n:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){if(e.id!==t.installationId)return e;var n={isHidden:!t.visible};return t.collapseLocation&&(n.collapseLocation=t.collapseLocation),c()({},e,{playerState:n})})});case i.i:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){return e.id!==t.installationId?e:c()({},e,{playerState:{collapseLocation:t.collapseLocation}})})});case i.c:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){return e.id!==t.installationId?e:c()({},e,{playerState:{unreleasedPromptResponded:!0,unreleasedAccepted:!1}})})});case i.a:return s()({},e,{activeInstallations:e.activeInstallations.map(function(e){return e.id!==t.installationId?e:c()({},e,{playerState:{unreleasedPromptResponded:!0,unreleasedAccepted:!0}})})});default:return e}}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return m}),t.d=r;var i=n(77),a=n(36),o=n(6),s=n.n(o),u=n(40),c=n.n(u),l=n(1),d=n.n(l),f={loadingState:i.r,channel:void 0,activeInstallations:[],modalRequest:void 0,purchaseIntent:null,hoveredExtension:null,menuState:{extensionSlot:null,menuName:null,modalOptions:null},notification:m},p=d.a.shape({abilities:d.a.shape({isChatEnabled:d.a.bool.isRequired}),id:d.a.string.isRequired,extension:d.a.shape({authorName:d.a.string.isRequired,clientId:d.a.string.isRequired,description:d.a.string.isRequired,iconUrl:d.a.string.isRequired,iconUrls:d.a.shape({square100:d.a.string.isRequired,square24:d.a.string}).isRequired,id:d.a.string.isRequired,name:d.a.string.isRequired,requestIdentityLink:d.a.bool.isRequired,sku:d.a.string.isRequired,summary:d.a.string.isRequired,token:d.a.string.isRequired,version:d.a.string.isRequired,views:d.a.shape({component:d.a.shape({aspectHeight:d.a.number.isRequired,aspectWidth:d.a.number.isRequired,viewerUrl:d.a.string.isRequired,zoom:d.a.bool.isRequired,zoomPixels:d.a.number}),hidden:d.a.shape({viewerUrl:d.a.string.isRequired}),videoOverlay:d.a.shape({viewerUrl:d.a.string.isRequired})}),vendorCode:d.a.string.isRequired,state:d.a.string.isRequired}),activationConfig:d.a.shape({anchor:d.a.string.isRequired,slot:d.a.string.isRequired,state:d.a.string.isRequired,x:d.a.number,y:d.a.number}),playerState:d.a.shape({isUserIdentityLinked:d.a.bool.isRequired,token:d.a.shape({permissionsState:d.a.string.isRequired,role:d.a.string.isRequired,token:d.a.string.isRequired}),isHidden:d.a.bool.isRequired,isHighlighted:d.a.bool.isRequired,collapseLocation:d.a.shape({x:d.a.number.isRequired,y:d.a.number.isRequired}),unreleasedPromptResponded:d.a.bool.isRequired,unreleasedAccepted:d.a.bool.isRequired})}),h=d.a.shape({extensionId:d.a.string.isRequired,message:d.a.shape({action:d.a.string.isRequired,payload:d.a.object.isRequired}),resultCallback:d.a.func.isRequired}),m=d.a.shape({type:d.a.string.isRequired,options:d.a.object,timer:d.a.number.isRequired})},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.a:return a()({},t.userInfo,{loggedInStatus:u});case o.b:return a()({},l,{loggedInStatus:c});default:return e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),t.c=r;var i=n(6),a=n.n(i),o=n(194),s="unknown",u="logged in",c="not logged in",l={loggedInStatus:s,id:0,isStaff:!1,isAdmin:!1,name:""}},function(e,t,n){"use strict";function r(e){return{type:s,isFullScreen:e}}function i(e){return{type:u,canFullScreen:e}}function a(){return{type:c}}function o(e){return{type:l,isTheatreMode:e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return d}),t.g=r,t.f=i,t.i=a,t.h=o;var s="set fullscreen",u="set can fullscreen",c="toggle fullscreen",l="set theatre mode",d="toggle theatre mode"},function(e,t,n){e.exports=n(357)},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(132);e.exports=r},function(e,t,n){"use strict";function r(e){return{type:E,showCCModal:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||m.a.get(y,p.a.enabled);return{type:g,captions:{enabled:t,preset:m.a.get(v,p.a.preset),style:m.a.get(b,p.a.style)}}}function a(e){return{type:_,captions:{data:e}}}function o(e){return m.a.set(y,e),function(t,n){var r=e?"block":"none",i=n().captions.style,a=u(l()({},i,{display:r}));return t({type:k,captions:{enabled:e,style:a}})}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.a.set(v,e),function(n,r){var i=r().captions.style,a=u(l()({},i,t));return m.a.set(b,a),n({type:w,captions:{preset:e,style:a}})}}function u(e){var t=f()(e.fontSize,h.i.min,h.i.max);return l()({},e,{fontSize:t})}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return w}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return E}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return P}),t.l=r,t.h=i,t.i=a,t.j=o,t.k=s;var c=n(32),l=n.n(c),d=n(535),f=n.n(d),p=n(301),h=n(100),m=n(21),y="captionsEnabled",v="captionsPreset",b="captionsStyle",g="captions settings initialized",_="captions data received",w="captions preset selected",k="captions toggled",E="captions show modal",S="update caption font size",P="custom"},function(e,t,n){"use strict";function r(e){return{type:f,value:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return{type:p,value:e}}function a(e){return{type:h,showUI:e}}function o(){return{type:m}}function s(){return{type:y}}function u(){return{type:v}}function c(){return{type:b}}function l(e){return{type:g,hidden:e}}function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:_,showPlayerControls:e}}n.d(t,"d",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"i",function(){return g}),n.d(t,"f",function(){return _}),n.d(t,"j",function(){return w}),n.d(t,"k",function(){return k}),t.p=r,t.r=i,t.q=a,t.t=o,t.l=s,t.n=u,t.m=c,t.o=l,t.s=d;var f="set miniplayer",p="show settings menu",h="set ui display",m="show ui with auto hide",y="hide ui",v="hovering on ui element",b="hovering off ui element",g="action visiblity change",_="show player controls",w="none",k="settings"},function(e,t,n){"use strict";function r(e){if(!e)return M;try{var t=JSON.parse(atob(e.split(".")[1])),n=!(!t||!t.user_id),r=t.role,i=n?S:E;return p()({},M,{token:e,permissionsState:i,role:r})}catch(e){console.error("Error parsing extension token",e)}return p()({},M,{token:e})}function i(e){var t=e.extension,n=r(t.token),i=n.permissionsState===S;return p()({},e,{playerState:{isUserIdentityLinked:i,token:n,isHidden:!1,isHighlighted:!1,unreleasedPromptResponded:!1,unreleasedAccepted:!1}})}function a(e){return parseInt(e.activationConfig.slot.match(/\d+/)[0],10)}function o(e){return e.env.platform!==v.a&&y()(L,e.env.playerType)&&e.stream.contentType===b.a&&e.streamMetadata.streamType===b.a&&e.playback.contentShowing&&e.onlineStatus===_.b}function s(e){return!e.ui.isMini&&e.ads.currentMetadata.contentType===w.i.NONE&&!e.playback.paused}function u(e){var t=e.activationConfig;return t.anchor===k.b.Component||t.anchor===k.b.Hidden||t.anchor===k.b.Overlay}function c(e){var t=e.user.loggedInStatus===g.a,n=e.env.playerType;return t||L.includes(n)&&n!==h.z}function l(e){return Boolean(e.playerState.unreleasedPromptResponded&&!e.playerState.unreleasedAccepted)}function d(e){return Boolean("Released"!==e.extension.state&&!0!==e.playerState.unreleasedPromptResponded)}n.d(t,"l",function(){return E}),n.d(t,"k",function(){return S}),n.d(t,"n",function(){return P}),n.d(t,"d",function(){return T}),n.d(t,"b",function(){return O}),n.d(t,"e",function(){return C}),n.d(t,"g",function(){return x}),n.d(t,"c",function(){return R}),n.d(t,"f",function(){return j}),n.d(t,"i",function(){return A}),n.d(t,"h",function(){return I}),n.d(t,"j",function(){return N}),n.d(t,"m",function(){return L}),n.d(t,"a",function(){return q}),t.t=i,t.p=a,t.u=o,t.v=s,t.r=u,t.o=c,t.q=l,t.s=d;var f=n(6),p=n.n(f),h=n(5),m=n(7),y=n.n(m),v=n(42),b=n(9),g=n(30),_=n(23),w=n(16),k=n(73),E="none",S="granted",P="broadcaster",T="main menu",O="extension details",C="extension manage access",x="extension report",R="follow modal",j="needs auth modal",A="use bits modal",I="use accept unreleased modal",N="video_overlay",M={permissionsState:E,role:"viewer"},L=[h.n,h.p,h.w,h.z,h.C,h.B],q={"twitch-ext-follow-action":R,"twitch-ext-login-request":j,"twitch-ext-use-bits-prompt-required":A,"twitch-ext-use-bits":A}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.labelClass,n=e.label,i=e.children,a=e.t,s=e.iconClass,u=d()(r({"player-tip":!0},t,""!==t)),c=n?o.a.createElement("span",{className:u,"data-tip":a(n)}):null;return o.a.createElement("span",null,c,o.a.createElement("span",{className:s},i))}t.b=i,n.d(t,"a",function(){return h});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(4),l=n(2),d=n.n(l),f={labelClass:u.a.string,label:u.a.string.isRequired,children:u.a.node.isRequired,t:u.a.func,iconClass:u.a.string},p={labelClass:"",t:function(e){return e},iconClass:""};i.propTypes=f,i.defaultProps=p;var h=Object(c.c)()(i)},function(e,t,n){var r=n(230),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function u(e,t){t=l({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:d(a),n(d(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r}var c=n(407),l=n(179),d=n(408);t.extract=s,t.parse=u,t.stringify=function(e,t){t=l({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var n=r(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:u(s(e),t)}}},function(e,t,n){var r=n(409),i=n(170),a=i(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){"use strict";n.d(t,"w",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"v",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"R",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"n",function(){return c}),n.d(t,"M",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"E",function(){return f}),n.d(t,"Q",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"D",function(){return m}),n.d(t,"U",function(){return y}),n.d(t,"I",function(){return v}),n.d(t,"S",function(){return b}),n.d(t,"T",function(){return g}),n.d(t,"A",function(){return _}),n.d(t,"r",function(){return w}),n.d(t,"q",function(){return k}),n.d(t,"C",function(){return E}),n.d(t,"c",function(){return S}),n.d(t,"K",function(){return P}),n.d(t,"p",function(){return T}),n.d(t,"o",function(){return O}),n.d(t,"N",function(){return C}),n.d(t,"O",function(){return x}),n.d(t,"H",function(){return R}),n.d(t,"G",function(){return j}),n.d(t,"t",function(){return A}),n.d(t,"F",function(){return I}),n.d(t,"z",function(){return N}),n.d(t,"s",function(){return M}),n.d(t,"x",function(){return L}),n.d(t,"e",function(){return q}),n.d(t,"y",function(){return D}),n.d(t,"k",function(){return B}),n.d(t,"l",function(){return U}),n.d(t,"P",function(){return F}),n.d(t,"i",function(){return V}),n.d(t,"h",function(){return H}),n.d(t,"L",function(){return z}),n.d(t,"V",function(){return W}),n.d(t,"j",function(){return G}),n.d(t,"B",function(){return K}),n.d(t,"f",function(){return Y}),n.d(t,"J",function(){return Q}),n.d(t,"u",function(){return $});var r="init",i="contentShowing",a="playbackStatistics",o="chansubRequired",s="videoFailure",u="videoFormats",c="videoFormatChanged",l="timeChange",d="bufferChange",f="segmentchange",p="usherFail",h="captions",m="seekfailed",y="viewerschange",v="streamLoaded",b="videoLoaded",g="videoPaused",_="qualitychange",w="online",k="offline",E="restricted",S="castingchange",P="theatrechange",T="midrollrequested",O="manifestExtraInfo",C="transitionToCollectionVod",x="transitionToRecommendedVod",R="stitchedadstart",j="stitchedadend",A="persistentPlayerEnableToggle",I="statsupdate",N="prompt login modal",M="openStream",L="ready",q="clips-moderation-open",D="premiumContentRestricted",B="focusPlayer",U="followChannel",F="unfollowChannel",V="enableNotifications",H="disableNotifications",z="timedMetadata",W="vodrestricted",G="enterMultiview",K="removeStream",Y="contentRestricted",Q="subscribeChannel",$="playbackerror"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments[1];switch(t.type){case p.a:return u()({},e,{deviceId:t.deviceId});case p.b:var n=v()(m.a,t.playerType)?t.playerType:e.playerType;return u()({},e,{playerType:n});case p.c:return u()({},e,{twitchEverywhere:t.params});case h.a:return u()({},e,{platform:i((t.window.navigator||{}).userAgent),isMobileLocation:a(t.window)});default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.a._detect(e);return t.mobile||t.tablet?E:k}function a(e){var t=Object(d.a)(e.document.referrer),n=void 0;try{n=e!==e.top}catch(e){n=!0}return n&&g()(t.protocol)===T&&o(t.host)}function o(e){var t=g()(e);return t===P||w()(t,"."+P)}n.d(t,"a",function(){return E}),t.b=r;var s=n(6),u=n.n(s),c=n(48),l=n.n(c),d=n(54),f=n(5),p=n(148),h=n(149),m=n(5),y=n(7),v=n.n(y),b=n(469),g=n.n(b),_=n(470),w=n.n(_),k="web",E="mobile_web",S=Object.freeze({deviceId:"",playerType:f.z,platform:k,isMobileLocation:!1}),P="m.twitch.tv",T="https"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return{type:C,featuredCollection:m(e)}}function a(e){return function(t){t(c(e._id)),t({type:T,collection:y(e)}),t(s())}}function o(){return function(e){e(l()),e({type:O})}}function s(){return function(e,t){var n=t(),r=n.collection,i=n.env,a=n.experiments;if(!r.collectionsUiEnabled)return i.playerType!==S.B?void e(u()):a.get(E.r).then(function(t){"on"!==t&&e(u())}).catch(function(){e(u())})}}function u(){return{type:j}}function c(e){return function(){var t,n=_.b.get(N,{}),i=n[M],a=n[L],o=n[q],s=Date.now(),u=void 0;u=o&&a&&a===e&&s-o<D?i:Object(w.a)(),_.b.set(N,(t={},r(t,M,u),r(t,L,e),r(t,q,s),t))}}function l(){return function(){_.b.remove(N)}}function d(){return{type:x}}function f(){return{type:R}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:P,request:{collectionId:e,videoId:t,timestamp:n,preferVideo:r}}}function h(){return function(){var e=_.b.get(N,{});e[q]=Date.now(),_.b.set(N,e)}}function m(e){return{id:e._id,owner:{id:e.owner._id,displayName:e.owner.display_name,name:e.owner.name},thumbnails:e.thumbnails,title:e.title,itemsCount:e.items_count}}function y(e){return{id:e._id,owner:{id:e.owner._id,displayName:e.owner.display_name,name:e.owner.name},thumbnails:e.thumbnails,title:e.title,totalDuration:e.total_duration,views:e.views,items:e.items.map(function(e){return v(e)})}}function v(e){return{itemId:e.item_id,title:e.title,owner:{displayName:e.owner.display_name},thumbnails:{small:e.thumbnails?e.thumbnails.small:B}}}function b(){return{type:A}}function g(){return{type:I}}n.d(t,"h",function(){return P}),n.d(t,"i",function(){return T}),n.d(t,"a",function(){return O}),n.d(t,"d",function(){return C}),n.d(t,"f",function(){return x}),n.d(t,"e",function(){return R}),n.d(t,"c",function(){return j}),n.d(t,"g",function(){return A}),n.d(t,"b",function(){return I}),n.d(t,"k",function(){return N}),n.d(t,"j",function(){return M}),t.n=i,t.s=a,t.l=o,t.p=d,t.o=f,t.r=p,t.t=h,t.q=b,t.m=g;var _=n(21),w=n(60),k=n(199),E=n(25),S=n(5),P="request collection",T="set collection",O="clear collection",C="fetched featured collection",x="loaded last collection item",R="loaded collection item",j="enable collections ui",A="open collection sidebar",I="close collection sidebar",N="collection-session",M="session-id",L="collection-id",q="timestamp",D=k.a,B="https://static-cdn.jtvnw.net/ttv-playlists-thumbnails-prod/no-thumbnail-sm.png"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case d.a:return o()({},e,{transitionScheme:h});case d.e:return o()({},e,{transitionScheme:p});case d.f:return o()({},e,{transitionScheme:h});case d.i:return o()({},e,{transitionScheme:p});case l.a:return t.stream===f.b?o()({},e,C,{paused:!1}):o()({},e,C);case c.b:return o()({},e,{restrictedQualityError:!1});case c.c:return o()({},e,O);case c.e:return o()({},e,T);case c.g:return o()({},e,u()(t.playback,x));case c.h:return o()({},e,P);case c.j:return o()({},e,{playbackRate:t.playbackRate});case c.s:return o()({},e,{timedMetadata:t.data});case c.k:return o()({},e,{muted:t.muted,automatedMute:t.automated});case c.l:return o()({},e,{isSeeking:!1});case c.m:return o()({},e,{isSeeking:!0});case c.n:return o()({},e,k,O);case c.i:return o()({},e,E,O);case c.o:return o()({},e,{restrictedQualityError:!0});case c.p:return o()({},e,{autoplay:t.playback.autoplay,paused:!t.playback.autoplay});case c.q:return o()({},e,{isLoading:t.isLoading});case c.r:return o()({},e,{startTime:t.startTime,startTimeSet:!0});case c.t:return o()({},e,{buffer:{start:t.start,end:t.end}});case c.u:return o()({},e,{currentTime:t.currentTime});case c.v:return o()({},e,u()(t.playback,x));case c.w:return o()({},e,{volume:t.volume});case c.x:return o()({},e,S);case c.d:return o()({},e,{contentRestriction:t.restriction});case c.f:return o()({},e,{bufferEmpties:e.bufferEmpties+1});case c.a:return o()({},e,{bufferEmpties:0});default:return e}}function i(e){var t=e.playback;return!t.muted&&0!==t.volume}n.d(t,"g",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return _}),t.j=r,t.i=i;var a=n(6),o=n.n(a),s=n(26),u=n.n(s),c=n(20),l=n(19),d=n(43),f=n(112),p="transition collection",h="transition recommendations",m="premium content restricted",y="content unrestricted",v="content restricted mature",b="content restricted age",g="content restricted twitch gate",_="content restricted vod subscription",w={autoplay:!0,buffer:{start:0,end:0},bufferEmpties:0,currentTime:0,startTime:0,startTimeSet:!1,duration:0,ended:!1,hasPlayed:!1,isLoading:!1,isSeeking:!1,muted:!1,automatedMute:!1,paused:!1,playing:!1,playbackRate:1,restrictedQualityError:!1,timedMetadata:{},volume:.5,transitionScheme:h,contentShowing:!1,contentRestriction:y},k={playing:!0,hasPlayed:!0,paused:!1,ended:!1,isSeeking:!1},E={playing:!0,paused:!1,ended:!1,isSeeking:!1},S={ended:!1},P={playing:!1,paused:!0,ended:!1},T={playing:!1,paused:!0,ended:!0},O={contentShowing:!0},C={bufferEmpties:0,playing:!1,hasPlayed:!1,contentShowing:!1,startTime:0,startTimeSet:!1,isSeeking:!1,restrictedQualityError:!1,contentRestriction:y},x=Object.keys(w)},function(e,t,n){"use strict";function r(e){var t=/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/,n=t.exec(e);if(!n)return null;for(var r=0,i=1;i<n.length;i++){r=60*r+(parseInt(n[i],10)||0)}return r}function i(e){for(var t=[e/3600,e/60%60,e%60],n=0;n<t.length;n++){var r=Math.floor(t[n]);t[n]=r<10?"0"+r:r}return t}function a(e){for(var t=0;t<e.length;t++)if("0"!==e[t]&&":"!==e[t])return e.substring(t,e.length);return"0"}function o(e,t){if(!isFinite(e)||e<0||e>=259200)return"00:00:00";var n=i(e),r=n.join(":");return t?a(r):r}function s(e){var t=i(e),n=["s","m","h"],r="";t=t.reverse();for(var a=0;a<t.length;a++)r=t[a]+n[a]+r;return r.replace(/00(h|m|s)/g,"")}t.a=r,t.b=i,t.c=o,t.d=s},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";var r,i=n(189),a=n(145);!function(e){e.SupervisorReady="supervisor-ready",e.SupervisorInit="supervisor-init"}(r||(r={}));var o;!function(e){e.ExtensionFrameLoaded="extensionFrameLoaded",e.IdentityLinked="identityLinked",e.Minimize="minimize",e.RequestModal="requestModal",e.ShowBitsBalance="showBitsBalance",e.ShowUseBitsSuccess="showUseBitsSuccess",e.UseBitsError="useBitsError"}(o||(o={}));var s;!function(e){e.Video="video",e.Audio="audio",e.Remote="remote",e.ChatOnly="chat-only"}(s||(s={}));var u;!function(e){e.RequestModal="requestModal",e.ContextUpdate="contextupdate"}(u||(u={})),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return i.c}),n.d(t,"c",function(){return i.d}),n.d(t,"f",function(){return i.e}),n.d(t,"g",function(){return i.f}),n.d(t,"i",function(){return i.g}),n.d(t,!1,function(){}),n.d(t,"j",function(){return i.h}),n.d(t,"a",function(){return i.b}),n.d(t,!1,function(){return i.a}),n.d(t,"m",function(){return r}),n.d(t,"k",function(){return a.a}),n.d(t,!1,function(){return 300}),n.d(t,"e",function(){return o}),n.d(t,"l",function(){return s}),n.d(t,"h",function(){return u});var c=[r.SupervisorReady,i.b.TwitchExtLoaded,i.b.TwitchExtLongtask,i.b.TwitchExtUserAction,i.b.TwitchExtNetworkTiming,i.b.TwitchExtBeginPurchase,i.b.TwitchExtBitsOnHover,i.b.TwitchExtUseBits,i.b.TwitchExtPubSubReceived,i.b.TwitchExtPubsubListen,i.b.TwitchExtPubsubUnlisten,a.a.FollowAction,a.a.FollowStatusRequest,a.a.IdShareRequest,a.a.TwitchExtMinimize,a.a.UseBits,a.a.SubscribeToChannel]},function(e,t,n){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(t,r,i){void 0!==e&&e.exports?e.exports=i():n(468)("bowser",i)}(0,0,function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(e),s=!a&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),c=!u&&/nexus\s*[0-9]+/i.test(e),l=/CrOS/.test(e),d=/silk/i.test(e),f=/sailfish/i.test(e),p=/tizen/i.test(e),h=/(web|hpw)os/i.test(e),m=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),v=!i&&!d&&/macintosh/i.test(e),b=!s&&!f&&!p&&!h&&/linux/i.test(e),g=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=t(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),k=!w&&/[^-]mobi/i.test(e),E=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:o,version:_||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:o,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:o,version:_||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:o,version:_||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:o,version:_||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:o,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:o,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:o,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:o,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:o,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:o,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:o},g?(r.msedge=o,r.version=g):(r.msie=o,r.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:o,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?r={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:o,version:g}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:o,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?r={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:o,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:o,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=o,r.osname="Firefox OS")):d?r={name:"Amazon Silk",silk:o,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:o,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:o,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:_||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(r={name:"WebOS",osname:"WebOS",webos:o,version:_||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=o)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:o,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:o,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:o,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?r={name:"Chromium",chromium:o,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:o},_&&(r.version=_)):i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(r.version=_)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:o,version:t(/googlebot\/(\d+(\.\d+))/i)||_}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=o):(r.name=r.name||"Webkit",r.webkit=o),!r.version&&_&&(r.version=_)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=o,r.version=r.version||t(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&i?(r[i]=o,r.ios=o,r.osname="iOS"):v?(r.mac=o,r.osname="macOS"):E?(r.xbox=o,r.osname="Xbox"):y?(r.windows=o,r.osname="Windows"):b&&(r.linux=o,r.osname="Linux"):(r.android=o,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(S=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),S=S.replace(/[_\s]/g,".")):i?(S=t(/os (\d+([_\s]\d+)*) like mac os x/i),S=S.replace(/[_\s]/g,".")):s?S=t(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=t(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=t(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var P=!r.windows&&S.split(".")[0];return w||c||"ipad"==i||s&&(3==P||P>=4&&!k)||r.silk?r.tablet=o:(k||"iphone"==i||"ipod"==i||s||u||r.blackberry||r.webos||r.bada)&&(r.mobile=o),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=o:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=o:r.x=o,r}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=e(i));var o=""+a.version;for(var u in t)if(t.hasOwnProperty(u)&&a[u]){if("string"!=typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return r([o,t[u]])<0}return n}function a(e,t,n){return!i(e,t,n)}var o=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=e,s.detect=e,s})},function(e,t,n){function r(e){return null!=e&&a(e.length)&&!i(e)}var i=n(122),a=n(167);e.exports=r},function(e,t,n){var r;!function(t){"use strict";function i(){}function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}function s(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&s(e.listener)}var u=i.prototype,c=t.EventEmitter;u.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},u.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},u.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},u.addListener=function(e,t){if(!s(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===a(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},u.on=o("addListener"),u.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},u.once=o("addOnceListener"),u.defineEvent=function(e){return this.getListeners(e),this},u.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},u.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=a(i[r],t))&&i[r].splice(n,1);return this},u.off=o("removeListener"),u.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},u.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},u.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},u.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},u.removeAllListeners=o("removeEvent"),u.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)r=n[i],!0===r.once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},u.trigger=o("emitEvent"),u.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},u.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},u._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},u._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=c,i},void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)}("undefined"!=typeof window?window:this||{})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=t,r=u(e);n=n.withURL(e.url).withReturnType("vast3").withDuration(e.duration).withGeocode(e.countryCode).withPublisherID("twitch").withSlot(e.adType,["640x480"],"v").withGDPRL({status:"no-cmp"}).withCurrentWindowSize().withRawPageReferrer(e.embedUrl);for(var i in r)n=n.withKeyValuePair(i,r[i]);return n.buildAdTagURL()}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"twitch.web",n=u(e),r={iu:"/"+y.t+"/"+t+"/client/desktop/live/"+e.channelId,ciu_szs:"300x250,300x60",sz:"640x480",impl:"s",gdfp_req:"1",env:"vp",output:"xml_vast3",url:e.url,correlator:Date.now(),cust_params:c(n),unviewed_position_start:"1"};e.isFromEEA&&(r.npa=s(e)?"0":"1");var i=m()(r,function(e,t,n){return e.push(n+"="+t),e},[]).join("&");return e.contentType===_.a?y.o+"?"+i:y.n+"?"+i}function o(e){return"string"==typeof e?e.toLowerCase().replace(/[^a-z0-9]+/g,"_"):""}function s(e){return e.playerType!==v.q&&e.playerType!==v.F&&e.googleConsent}function u(e){var t={partner:e.partner,game:e.game,chan:e.channel,chanid:e.channelId,deviceId:e.deviceId,twitchCorrelator:e.twitchCorrelator,embed:e.playerType===v.q||e.playerType===v.F,platform:e.platform,playerType:e.playerType,mature:e.mature,pos:T[e.adType],timebreak:e.duration,sdk:e.sdk,broadcaster_software:e.broadcasterSoftware,tag:e.contentTag};if(null!==e.kruxId&&(t.kuid=e.kruxId),e.contentType===_.a&&(t.vod_id=e.vod.id,t.vod_name=e.vod.name,t.vod_type=e.vod.type),t.embed){var n=d(e.embedUrl);t.embed_url=n,t.curse_embed=n}var r=Object(g.b)(e.broadcasterSoftware),i=r.live,a=r.contentMode;return t.live=i,t.content_mode=a,f(e,t)}function c(e){return m()(e,function(e,t,n){var r=String(t);return k()(O,n)?e.push(""+r.replace(/^&/,"")):(r=r.toLowerCase(),e.push(n+"="+r)),e},[]).join("&").replace(/[=&, ]/g,function(e){switch(e){case"=":return"%3D";case"&":return"%26";case",":return"%2C";case" ":return"_"}})}function l(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}function d(e){var t=Object(b.a)(e);return l(t)?t:t.host.split(".").slice(-2).join(".")}function f(e,t){var n=t;return e.qsParams&&(n.qsParams=e.qsParams),n}n.d(t,"c",function(){return E}),n.d(t,"a",function(){return S}),n.d(t,"b",function(){return P}),t.e=i,t.d=a,t.f=o;var p,h=n(98),m=n.n(h),y=n(11),v=n(5),b=n(54),g=n(178),_=n(10),w=n(7),k=n.n(w),E="preroll",S="midroll",P="postroll",T=(p={},r(p,E,"1"),r(p,S,"2"),r(p,P,"3"),p),O=["qsParams"]},function(e,t,n){"use strict";function r(e){return{type:E,absAvailable:e}}function i(){return function(e,t){var n=t(),r=n.quality,i=n.env;e({type:_,quality:v.get(i.playerType)||r.selected,bitrate:m.a.get("quality-bitrate",r.bitrate)})}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return function(n,r){var i=r(),a=i.analyticsTracker,o=i.manifestInfo,s=i.quality,u=i.stream,c=i.env;if(-1!==u.restrictedBitrates.indexOf(e))return void n({type:p.o});a.trackEvent("quality_change_request",{prev_quality:s.current,new_quality:e,serving_id:o.serving_id});var l=f()(h.c,c.playerType)?s.selected:s.current;e!==T&&l!==e&&n(Object(p.K)(!0)),n({type:_,quality:e,bitrate:t})}}function o(e){return function(t,n){var r=n(),i=r.playerOptions,a=r.env;!0===i.persistUserPreferences&&(v.set(a.playerType,e.group),m.a.set("quality-bitrate",e.bandwidth))}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:w,quality:e,isAuto:t}}function u(e,t){return g()(t,function(t){return t.group+"2"===e||e+"2"===t.group})}function c(e){return function(t,n){var r=n(),i=r.quality,a=r.stream,o=e.filter(function(e){return!f()(a.restrictedBitrates,e.group)});if(o.length>0&&!o.some(function(e){return e.group===i.selected})&&i.selected!==T){var s=o.sort(function(e,t){return t.bandwidth-e.bandwidth}),c=u(i.selected,s),l=g()(s,function(e){return e.bandwidth<=i.bitrate}),d=c||l||s[s.length-1],p=d.group,h=d.bandwidth;t({type:_,quality:p,bitrate:h})}t({type:k,qualities:e})}}function l(e){var t=e.map(function(e){return{name:e.quality+"p",group:e.quality+"p"+e.frame_rate,bitrate:"",resolution:j[e.quality],source:e.source}});return{type:k,qualities:t}}var d=n(7),f=n.n(d),p=n(20),h=n(5),m=n(21),y=n(287),v=new y.a({storageKey:"video-quality",segments:[{key:"clips",playerTypes:h.c}]});Object(y.b)("quality",v);var b=n(59),g=n.n(b);n.d(t,"a",function(){return _}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return S}),n.d(t,"h",function(){return P}),n.d(t,"i",function(){return T}),n.d(t,"k",function(){return O}),n.d(t,"j",function(){return C}),n.d(t,"g",function(){return x}),n.d(t,"f",function(){return R}),n.d(t,"l",function(){return A}),t.o=r,t.m=i,t.n=a,t.r=o,t.q=s,t.s=c,t.p=l;var _="select quality",w="set current quality",k="set qualities",E="abs is availabile",S="source",P="auto-quality-forced-v2",T="auto",O="chunked",C=Object.freeze({bitrate:0,resolution:"0x0",group:"auto",name:"Auto"}),x="medium",R=992e3,j=Object.freeze({1080:"1920x1080",720:"1280x720",480:"854x480",360:"640x360"}),A="s-qs-ts"},function(e,t,n){function r(e){return o(e)?i(e):a(e)}var i=n(232),a=n(233),o=n(49);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}t.a=r},function(e,t,n){"use strict";var r=n(95);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?a(e):o(e)}var i=n(84),a=n(340),o=n(341),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){function r(e,t,n,r){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?a(n,c,l):i(n,c,l)}return n}var i=n(128),a=n(129);e.exports=r},function(e,t,n){var r=n(384),i=n(92),a=r(i);e.exports=a},function(e,t,n){"use strict";function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.charAt(i)}return n}t.a=r},function(e,t,n){"use strict";function r(e){return{type:x,streamMetadata:m(e)}}function i(e){return{type:x,streamMetadata:y(e)}}function a(e){var t=e.gameName,n=e.title;return{type:R,streamMetadata:{gameName:t,title:n}}}function o(e){return{type:x,streamMetadata:{tags:e}}}function s(e){return{type:x,streamMetadata:{broadcastID:e}}}function u(){return function(e,t){var n=t().window,r=t().stream.channel,a=t().streamMetadata.broadcastID;return new Promise(function(o,s){function u(n,r,a,c){if(r!==t().stream.channel||a!==t().streamMetadata.broadcastID||n>=A.length)return void s();Object(g.B)(r).then(function(t){t.stream&&t.stream._id===a?(e(Object(k.b)(t.stream.viewers)),e(i(t.stream)),o(t)):c.setTimeout(function(){return u(n+1,r,a,c)},A[n])})}u(0,r,a,n)})}}function c(e){return function(t,n){if(e.contentType===_.a){Object(g.B)(e.channel).then(function(n){n.stream?t(i(n.stream)):Object(g.a)(e.channel).then(function(e){t({type:x,streamMetadata:v(e)})})}),Object(g.b)(e.channel).then(function(e){t({type:x,streamMetadata:h(e)})});n().env.playerType!==O.B&&Object(g.c)(e.channel).then(function(e){e.channel&&e.channel.stream&&t(o(e.channel.stream.tags))}),Object(g.e)(e.channel).then(function(e){t(Object(C.u)(e))})}else e.contentType===w.a&&Object(g.C)(e.videoId).then(function(e){t(r(e)),Object(g.e)(e.channel.name).then(function(e){t(Object(C.u)(e))})})}}function l(e){return function(t,n){Object(g.a)(e).then(function(e){t({type:x,streamMetadata:S()({},v(e),{streamType:"dead_ltv"})})})}}function d(e){return{type:x,streamMetadata:S()({},b(e))}}function f(e){return{type:x,streamMetadata:S()({},p(e))}}function p(e){return{duration:e.duration,slug:e.slug}}function h(e){return{isEncrypted:!!T()(e,"channel.stream.isEncrypted",!1),restriction:{type:T()(e,"channel.stream.restriction.type",""),previewUrl:T()(e,"channel.stream.previewImageURL","")}}}function m(e){return{broadcastID:e.broadcast_id,type:e.broadcast_type,name:e.title,channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview.template},url:e.url,viewers:j}}function y(e){return{broadcastID:e._id,type:"live",streamType:e.stream_type,name:"",channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.channel.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview.template},url:e.channel.url,viewers:e.viewers}}function v(e){return{channel:{displayName:e.display_name,name:e.name,id:e._id,partner:e.partner,status:e.status,videoBanner:e.video_banner,logo:e.logo,mature:e.mature},game:e.game,url:e.url}}function b(e){var t={id:e.tracking_id,channel:{channelUrl:e.broadcaster.channel_url,displayName:e.broadcaster.display_name,name:e.broadcaster.name,id:e.broadcaster.id,logo:e.broadcaster.logo},curator:{channelUrl:e.curator.channel_url,displayName:e.curator.display_name,name:e.curator.name,id:e.curator.id,logo:e.curator.logo},game:e.game,url:e.url,title:e.title,thumbnails:e.thumbnails,createdAt:e.created_at,duration:e.duration,embedHtml:e.embed_html,embedUrl:e.embed_url,language:e.language,slug:e.slug,viewCount:e.views,clipHasVod:!1,segments:e.segments},n={};return e.vod&&(n.clipVideoId=e.vod.id,n.clipVideoOffset=e.vod.offset,n.clipVideoUrl=e.vod.url,n.clipVideoPreviewImageUrl=e.vod.preview_image_url,n.clipHasVod=!0),S()(t,n)}n.d(t,"a",function(){return x}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return j}),t.j=a,t.i=s,t.e=u,t.d=c,t.f=l,t.g=d,t.h=f;var g=n(12),_=n(9),w=n(10),k=n(201),E=n(6),S=n.n(E),P=n(33),T=n.n(P),O=n(5),C=n(16),x="set streammetadata",R="update streammetadata",j=0,A=[15e3,3e4,6e4,12e4,3e5,6e5]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(514),a=n.n(i),o=n(59),s=n.n(o),u=Object.freeze({ABORTED:{code:1e3,message:"The video download was cancelled. Please try again."},NETWORK:{code:2e3,message:"There was a network error. Please try again."},CCU_CAP_REACHED:{code:2001,message:"An error occurred. Please try again."},DECODE:{code:3e3,message:"Your browser encountered an error while decoding the video."},FORMAT_NOT_SUPPORTED:{code:4e3,message:"This video is either unavailable or not supported in this browser."},CONTENT_NOT_AVAILABLE:{code:5e3,message:"This video is unavailable."},RENDERER_NOT_AVAILABLE:{code:6e3,message:"Your browser does not support playback of this video."},DRM_GEOBLOCKED:{code:7e3,message:"This premium content is not available in your region."},DRM_UNSUPPORTED_DEVICE:{code:7001,message:"Your device does not support playback of this premium content. Please try a different device."},DRM_UNBLOCKER:{code:7002,message:"A proxy or unblocker has been detected. This premium content will not be available to you while it is in use."},DRM_CELLULAR_NETWORK_PROHIBITED:{code:7003,message:"Please connect to a Wi-Fi network to watch this premium content."},DRM_SAFARI_UNSUPPORTED_DEVICE:{code:7004,message:"Safari is not currently supported for this stream. Please try Chrome or Firefox."}}),c=u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.freeze(a()(c,function(e){return e.code})),f=function(){function e(){r(this,e)}return l(e,null,[{key:"getError",value:function(e){var t=s()(c,{code:e});if(t)return t;throw new Error("Invalid error code "+e)}},{key:"getMessage",value:function(t){return e.getError(t).message}},{key:"CODES",get:function(){return d}}]),e}();t.a=f},function(e,t,n){"use strict";function r(e){var t=a.a.getError(e);return{type:o,code:t.code}}function i(){return{type:s}}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),t.d=r,t.c=i;var a=n(62),o="set error",s="clear error"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case u.b:return a()({},e,{deviceName:t.deviceName});case u.a:return s()(p,t.castingState)?a()({},e,{castingState:t.castingState}):e;default:return e}}n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return p}),t.f=r;var i=n(6),a=n.n(i),o=n(7),s=n.n(o),u=n(115),c="unavailable",l="available",d="connecting",f="connected",p=Object.freeze([c,l,d,f]),h={deviceName:"",castingState:c}},function(e,t,n){function r(e){return"number"==typeof e&&a(e)}var i=n(38),a=i.isFinite;e.exports=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.c:return s()({},e,{collectionsUiEnabled:!0,currentView:u});case i.h:return s()({},e,{pendingRequest:t.request});case i.d:return s()({},e,{featuredCollection:s()({},d,t.featuredCollection)});case i.i:return s()({},f,t.collection,{pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},collectionsUiEnabled:e.collectionsUiEnabled,currentView:e.collectionsUiEnabled?u:l});case i.a:return f;case i.g:return s()({},e,{currentView:e.collectionsUiEnabled?c:l});case i.b:return s()({},e,{currentView:e.collectionsUiEnabled?u:l});case a.a:return s()({},e,{pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},featuredCollection:d});default:return e}}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),t.c=r;var i=n(43),a=n(19),o=n(40),s=n.n(o),u="collapsed",c="sidebar",l="none",d={id:"",itemsCount:0,owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:""},f={id:"",owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:"",totalDuration:0,views:0,items:[],currentView:l,collectionsUiEnabled:!1,pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},featuredCollection:d}},function(e,t,n){"use strict";function r(e){return{type:w,show:e}}function i(e,t){return e===t.stream}function a(e,t){return function(n,a){var o=a(),s=o.stream;return Object(b.m)(e,t).then(function(e){var t=e.notifications;i(s,a())&&(d(n,e),n(r(!t)))}).catch(function(e){i(s,a())&&(f(n,e),n(r(!0)))})}}function o(e,t){return function(n){return Object(b.y)(e,t,!0).then(function(e){return d(n,e)}).catch(function(){})}}function s(e,t){return function(n){return Object(b.y)(e,t,!1).then(function(){return n(l({following:!1,notificationsEnabled:!1}))}).catch(function(){})}}function u(e,t){return function(n,r){var i=r(),a=i.analyticsTracker;return Object(b.z)(e,t,!0).then(function(e){return d(n,e)}).then(function(){return h(a)}).catch(function(){})}}function c(e,t){return function(n,r){var i=r(),a=i.analyticsTracker;return Object(b.z)(e,t,!1).then(function(e){return d(n,e)}).then(function(){return m(a)}).catch(function(){})}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,followInfo:e}}function d(e,t){var n=t.channel,r=t.notifications;n._id&&void 0!==r&&e(l({following:!0,notificationsEnabled:r}))}function f(e,t){404===t.status&&e(l({following:!1,notificationsEnabled:!1}))}function p(e){return{type:_,channelName:e}}function h(e){e.trackEvent(P,{src:"player"}),e.trackEvent(C,{notifications:!0})}function m(e){e.trackEvent(C,{notifications:!1})}function y(e){return{type:k,isFollowing:e}}function v(e){return{type:E,isFollowingNotifications:e}}n.d(t,"c",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return w}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return E}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return T}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return x}),n.d(t,"j",function(){return R}),t.s=r,t.o=a,t.p=o,t.t=s,t.n=u,t.m=c,t.q=l,t.r=p,t.l=y,t.k=v;var b=n(12),g="follow info fetched",_="prompt login modal",w="show follow notification",k="channel follow updated",E="channel follow notification updated",S="follow_on_notif_on",P="follow",T="player_notifbutton_clicks",O="player_notifbutton_views",C="notification_change",x="notif_off",R="notif_on"},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(231);e.exports=r},function(e,t,n){function r(e,t){var n=a(e,t);return i(n)?n:void 0}var i=n(349),a=n(352);e.exports=r},function(e,t,n){function r(e){return o(e)?i(e,!0):a(e)}var i=n(232),a=n(358),o=n(49);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AD_START",function(){return r}),n.d(t,"AD_END",function(){return i}),n.d(t,"COMPANION_RENDERED",function(){return a}),n.d(t,"AD_IMPRESSION",function(){return o}),n.d(t,"AD_IMPRESSION_COMPLETE",function(){return s}),n.d(t,"AD_SKIPPED",function(){return u}),n.d(t,"AD_ERROR",function(){return c}),n.d(t,"COMPANION_AD_BUFFERED",function(){return l});var r="adstart",i="adend",a="adcompanionrendered",o="adImpression",s="adImpressionComplete",u="adSkipped",c="adError",l="companionadbuffered"},function(e,t,n){"use strict";function r(){var e=window.localStorage.getItem("twilight.theme");if(e)return M[e];if(e=window.localStorage.getItem("storage:theme")){var t=JSON.parse(e);if(t.activeTheme)return L[t.activeTheme]||x.Light}return x.Light}function i(e,t){return"USD"===t?"$"+e:e+" "+t}function a(e,t){var n=document.createElement("a");n.href=e;var r=n.search.slice(1),i=r.split("&").filter(function(e){return e.length>0}),a=i.length>0?e.slice(0,e.length-r.length-1):e,o=Object.keys(t),s=o.reduce(function(e,n){var r=t[n];return r&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(r.toString())),e},i);return s.length>0?a+"?"+s.join("&"):e}function o(e,t){return{isBitsEnabled:t.isBitsEnabled&&e.isBitsEnabled,isChatEnabled:e.isChatEnabled,isSubscriptionStatusAvailable:e.isSubscriptionStatusAvailable,useSharedPubsub:t.useSharedPubsub}}function s(e){if(pe.has(e))return pe.get(e);var t=e();return pe.set(e,t),t}var u,c=(n(418),n(228),n(421),n(74)),l=n(107),d=n(47),f=n(94),p=n(108),h=function(e){return f.a.graphQLRequest("query ExtensionSubscriptionStatus(\n  $channelID: ID\n) {\n  user(id: $channelID) {\n    id\n    self {\n      subscriptionBenefit {\n        tier\n      }\n    }\n  }\n}",{channelID:e}).then(function(e){return e})},m=n(264),y=function(){function e(){this.driver=m.a.getInstance("production")}return e.prototype.setEnvironment=function(e){this.driver=m.a.getInstance(e)},e.prototype.subscribe=function(e){var t=this,n=e.topic,r=e.success,i=e.failure,a=e.message,o=e.token,s=this.createSubscribeCallback(a);return this.driver.Listen({topic:n,success:r,failure:i,message:s,auth:o}),function(){return t.unsubscribe(n,s)}},e.prototype.unsubscribe=function(e,t){this.driver.Unlisten({topic:e,success:function(){},failure:function(){},message:t})},e.prototype.createSubscribeCallback=function(e){return function(t){var n;try{n=JSON.parse(t)}catch(e){return}e(n)}},e}(),v=function(){function e(){this.SUPERVISOR_LOCATION={production:"https://supervisor.ext-twitch.tv",staging:"https://supervisor.ext-assets.internal.justin.tv"},this.env="production"}return Object.defineProperty(e.prototype,"environment",{get:function(){return this.env},set:function(e){this.env=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supervisorOrigin",{get:function(){return this.SUPERVISOR_LOCATION[this.env]||this.SUPERVISOR_LOCATION.production},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supervisorURL",{get:function(){return this.supervisorOrigin+"/supervisor/v1/index.html"},enumerable:!0,configurable:!0}),e}(),b=new v,g=function(){function e(){var e=this;this.clockSkew=0,this.tokens={},this.timers={},this.tokenEmitter=new l.EventEmitter,this.clearTokenManager=function(){e.clockSkew=0,e.tokenEmitter.removeAllListeners();for(var t in e.tokens)e.tokens[t]&&(delete e.tokens[t],e.timers[t]&&(clearTimeout(e.timers[t]),delete e.timers[t]))},this.getToken=function(t){return e.tokens[t]},this.registerToken=function(t,n){var r=new k(n),i=e.tokens[t]||r;e.tokens[t]=new k(n),e.tokenEmitter.emit(t,r,i),e.updateRefreshTimer(t)},this.updateRefreshTimer=function(t){var n=e.getToken(t),r=e.tokenEmitter.listeners(t).length>0,i=void 0!==e.timers[t];r&&!i?e.timers[t]=setTimeout(function(){delete e.timers[t],e.refreshToken(t)},n.refreshAfter):!r&&i&&(clearTimeout(e.timers[t]),delete e.timers[t])},this.refreshToken=function(t){var n=e.getToken(t);Object(p.e)(t,n).catch(function(){return e.getTokenFromExtensions(t,n)}).then(function(n){var r=n.token;r&&e.registerToken(t,r)})},this.getTokenFromExtensions=function(e,t){return Object(p.c)(t.payload.channel_id).then(function(t){return{token:t.tokens.reduce(function(t,n){var r=n.extension_id,i=n.token;return r===e?i:t},"")}})}}return e.prototype.setClockSkew=function(e){var t=new Date(e).getTime();this.clockSkew=Date.now()-t},e.prototype.subscribe=function(e,t){this.tokenEmitter.on(e,t),this.getToken(e)&&this.updateRefreshTimer(e)},e.prototype.unsubscribe=function(e,t){this.tokenEmitter.off(e,t),this.getToken(e)&&this.updateRefreshTimer(e)},e}(),_=new g,w=.9,k=function(){function e(e){this.token=e;var t=Date.now(),n=t,r=1e3*this.payload.exp+_.clockSkew;this.refreshAt=t+(r-n)*w}return Object.defineProperty(e.prototype,"payload",{get:function(){var e=this.token.split(".")[1];return JSON.parse(atob(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expiresIn",{get:function(){return 1e3*this.payload.exp-Date.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinked",{get:function(){return void 0!==this.payload.user_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isNearExpiration",{get:function(){return this.expiresIn<=6e4},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshAfter",{get:function(){return this.refreshAt-Date.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldRefresh",{get:function(){return this.refreshAfter<=0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUserLoggedIn",{get:function(){return"U"===this.payload.opaque_user_id.charAt(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBroadcaster",{get:function(){return"broadcaster"===this.payload.role},enumerable:!0,configurable:!0}),e}(),E=n(190),S=function(){function e(){}return e.prototype.get=function(e,t){return t},e}(),P=new S,T=function(e){function t(t){var n=e.call(this)||this;return n.viewerInfo={subscriptionStatus:{}},n.currentControlHandlers=[],n.broadcastSettingsUnsubscribe=null,n.viewerSubscriptionStatusUpdateUnsubscribe=null,n.currentChannelUnsubscribe=null,n.currentExtensionUnsubscribes=Object(E.a)(),n.currentSubscriptionStatusCallbacks=Object(E.a)(),n.hasPurchaseCompletedSubscriptionList=Object(E.a)(),n.hasBitsTransactionCompletedSubscriptionList=Object(E.a)(),n.listenForViewerSubscriptionStatus=function(e,t,r,i){n.currentSubscriptionStatusCallbacks[r]=i,n.viewerSubscriptionStatusUpdateUnsubscribe||(n.viewerSubscriptionStatusUpdateUnsubscribe=n.pubsub.subscribe({token:f.a.authToken,topic:"user-subscribe-events-v1."+e,success:function(){},failure:function(){},message:function(e){e.channel_id===t&&n.getViewerInfoForChannel(t,!0).then(function(e){Object.keys(n.currentSubscriptionStatusCallbacks).forEach(function(t){n.currentSubscriptionStatusCallbacks[t](e)})})}}))},n.unlistenFromViewerSubscriptionStatus=function(){n.currentSubscriptionStatusCallbacks={},n.viewerSubscriptionStatusUpdateUnsubscribe&&(n.viewerSubscriptionStatusUpdateUnsubscribe(),n.viewerSubscriptionStatusUpdateUnsubscribe=null)},n.onPlayerContextUpdate=function(){n.emit(d.h.ContextUpdate)},n.onTwilightContextUpdate=function(e){n.emit(d.h.ContextUpdate,e)},n.onExtensionControlMessage=function(e){switch(e.status){case"activate":if(e.maxDelayMS>0){var t=Math.random()*e.maxDelayMS;setTimeout(function(){n.onShouldFetchExtensions()},t)}else n.onShouldFetchExtensions();break;case"anchor_changed":var r=e.activationConfig;r&&n.onActivationChanged(e.extensionId,r);break;case"deactivate":case"uninstall":n.onDestroyExtension(e.extensionId)}},n.onExtensionMassControlMessage=function(e){switch(e.status){case"mass_deactivate":n.onDestroyExtension(e.extensionId)}},n.onBroadcastSettingsUpdateMessage=function(e){var t=e.channel_id,r=e.game,i=e.old_game;n.currentChannelId&&t===n.currentChannelId||!n.broadcastSettingsUnsubscribe?r!==i&&n.emit(d.h.ContextUpdate,{game:r}):n.broadcastSettingsUnsubscribe()},n.onShouldFetchExtensions=function(){n.currentControlHandlers.forEach(function(e){e.onShouldFetchExtensions()})},n.onActivationChanged=function(e,t){n.currentControlHandlers.forEach(function(n){n.onActivationChanged&&n.onActivationChanged(e,t)})},n.onDestroyExtension=function(e){n.currentControlHandlers.forEach(function(t){t.onDestroyExtension(e)})},n.pubsub=t||new y,n}return c.b(t,e),t.prototype.getInstalledExtensions=function(e){var t=this;return Object(p.c)(e).then(function(e){return t.registerExtensionInstallations(e)})},t.prototype.registerExtensionInstallations=function(e){var t=this;return _.setClockSkew(e.issued_at),e.tokens.forEach(function(n){var r=e.installed_extensions,i=r.reduce(function(e,t){var r=t.extension,i=t.installation_status;return e||(r.id===n.extension_id?"active"===i.activation_state:e)},!1),a=new k(n.token).isBroadcaster;(i||a)&&_.registerToken(n.extension_id,n.token),i&&t.subscribeToMassExtensionControl(n.extension_id)}),e},t.prototype.setEnvironmentOptions=function(e){e.env&&(this.pubsub.setEnvironment(this.getPubsubEnvironment(e.env)),b.environment=e.env),e.dynamicSettings&&(P=e.dynamicSettings),f.a.setApiOptions({apiUrl:e.apiUrl,authToken:e.authToken})},t.prototype.setSubscriptionStatusForChannel=function(e,t){this.viewerInfo.subscriptionStatus[t]=e},t.prototype.getViewerInfoForChannel=function(e,t){var n=this;void 0===t&&(t=!1);var r=this.viewerInfo.subscriptionStatus[e];return r&&!t?Promise.resolve({subscriptionStatus:r}):h(e).then(function(e){if(!e||!e.user||!e.user.self)return{subscriptionStatus:null};var t=e.user.self.subscriptionBenefit;return t&&e.user.id&&n.setSubscriptionStatusForChannel(t,e.user.id),{subscriptionStatus:t}})},t.prototype.subscribeToExtensionControl=function(e,t){var n=String(e);this.currentChannelId&&n!==this.currentChannelId&&this.unsubscribeFromExtensionControl(this.currentChannelId),this.currentChannelId=n,this.currentControlHandlers.push(t),this.currentChannelUnsubscribe||(this.currentChannelUnsubscribe=this.pubsub.subscribe({topic:"extension-control."+n,success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onExtensionControlMessage})),this.broadcastSettingsUnsubscribe||(this.broadcastSettingsUnsubscribe=this.pubsub.subscribe({topic:"broadcast-settings-update."+n,success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onBroadcastSettingsUpdateMessage}))},t.prototype.unsubscribeFromExtensionControl=function(e){var t=String(e);if(this.currentChannelId&&t===this.currentChannelId){this.currentChannelUnsubscribe&&(this.currentChannelUnsubscribe(),this.currentChannelUnsubscribe=null),this.broadcastSettingsUnsubscribe&&(this.broadcastSettingsUnsubscribe(),this.broadcastSettingsUnsubscribe=null),this.currentControlHandlers.length>0&&(this.currentControlHandlers=[]);for(var n=0,r=Object.keys(this.currentExtensionUnsubscribes);n<r.length;n++){var i=r[n];this.currentExtensionUnsubscribes[i]()}this.unlistenFromViewerSubscriptionStatus()}},t.prototype.registerPlayer=function(e){this.player=e,this.player.addEventListener("pause",this.onPlayerContextUpdate),this.player.addEventListener("play",this.onPlayerContextUpdate),this.player.addEventListener("statsupdate",this.onPlayerContextUpdate),this.player.addEventListener("volumechange",this.onPlayerContextUpdate)},t.prototype.unregisterPlayer=function(){this.player&&(this.player.removeEventListener("pause",this.onPlayerContextUpdate),this.player.removeEventListener("play",this.onPlayerContextUpdate),this.player.removeEventListener("statsupdate",this.onPlayerContextUpdate),this.player.removeEventListener("volumechange",this.onPlayerContextUpdate),this.player=void 0)},t.prototype.setPlayerWindow=function(e){this.playerWindow=e},t.prototype.postContext=function(e){this.playerWindow&&this.playerWindow.postMessage({event:d.h.ContextUpdate,context:e},"*"),this.emit(d.h.ContextUpdate,e)},t.prototype.listenForContext=function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if(t.origin===window.location.origin&&n.event&&n.event===d.h.ContextUpdate){var r=n.context;e.onTwilightContextUpdate(r)}},!1)},t.prototype.onPurchaseCompleted=function(e,t){var n=this,r="purchase-completed."+e;if(this.on(r,t),!this.hasPurchaseCompletedSubscriptionList[e]){var i=f.a.authToken;this.hasPurchaseCompletedSubscriptionList[e]=!0,this.pubsub.subscribe({token:i,topic:"user-extensionpurchase-events."+e,success:function(){},failure:function(){},message:function(e){n.emit(r,e)}})}},t.prototype.onBitsTransactionCompleted=function(e,t,n,r){var i=this,a="bits-transaction-completed."+e+"-"+t;this.on(a,r),this.hasBitsTransactionCompletedSubscriptionList[a]||(this.hasBitsTransactionCompletedSubscriptionList[a]=!0,this.pubsub.subscribe({token:f.a.authToken,topic:"bits-ext-v1-transaction."+e+"-"+t,success:function(){},failure:function(){},message:function(e){i.emit(a,e)}}),null!==n&&this.pubsub.subscribe({token:f.a.authToken,topic:"bits-ext-v1-user-transaction."+n+"."+e+"-"+t,success:function(){},failure:function(){},message:function(e){i.emit(a,e)}}))},t.prototype.onSubscribeFailure=function(){},t.prototype.onSubscribeSuccess=function(){},t.prototype.getPubsubEnvironment=function(e){return"staging"===e?"darklaunch":"test"===e?"production":e},t.prototype.subscribeToMassExtensionControl=function(e){this.currentExtensionUnsubscribes[e]||(this.currentExtensionUnsubscribes[e]=this.pubsub.subscribe({topic:"extension-control."+e,success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onExtensionMassControlMessage}))},t}(l.EventEmitter),O=new T;!function(e){e.Upsell="upsell"}(u||(u={}));var C;!function(e){e.InvalidTier="INVALID_TIER"}(C||(C={}));var x,R=function(){function e(e){var t=this;this.extensionId=e,this.subscribeToChannelWhitelist=P.get("ext_sub_to_channel_whitelist",[]),this.useClientIdWhitelist=P.get("ext_use_sub_to_channel_whitelist",!0),this.onOpen=function(e){t.sendActionToClient=function(t){e(t)}},this.resultCallback=function(e){t.sendResultToExtension(e)},this.onModalResult=function(e){t.sendResultToExtension=function(t){e({action:d.k.SubscribeToChannelResult,payload:t})}}}return Object.defineProperty(e.prototype,"defaultResult",{get:function(){return{didSubscribe:!1}},enumerable:!0,configurable:!0}),e.prototype.open=function(e){if(!this.useClientIdWhitelist||-1!==this.subscribeToChannelWhitelist.indexOf(this.extensionId)){var t=!1;for(var n in u)if(u[n]===e.payload.tier){t=!0;break}t?this.sendActionToClient(e.payload):this.close(C.InvalidTier)}},e.prototype.close=function(e){this.sendResultToExtension({didSubscribe:!1,errorCode:e})},e}(),j=function(e){var t="twitch.ext."+e,n=f.a.newRequest("/v5/bits/extensions/"+t+"/products",{method:"GET"});return f.a.authRequest(n)},A=function(e,t,n){var r=f.a.newRequest("/v5/bits/extensions/is-eligible/"+e,{body:JSON.stringify({channel_id:t,extension_client_id:n}),method:"POST"});return f.a.authRequest(r)},I=function(e){var t=f.a.newRequest("/v5/bits/extensions/use-bits/"+e,{method:"POST"});return f.a.authRequest(t)};!function(e){e.Light="light",e.Dark="dark"}(x||(x={}));var N,M={0:x.Light,1:x.Dark},L={"":x.Light,"theme--dark":x.Dark},q="en";!function(e){e.Context="context"}(N||(N={}));var D,B=function(e){function t(t,n){void 0===n&&(n=q);var i=e.call(this)||this;return i.extensionMode=t,i.language=n,i.context={},i.isContextInitialized=!1,i.destroy=function(){O.off(d.h.ContextUpdate,i.updateLocalContext)},i.initializeContext=function(){i.isContextInitialized=!0,i.emit(N.Context,i.context,Object.keys(i.context))},i.getPlayerContext=function(){var e=O.player;if(!e)return{};var t=e.getPlaybackStats();return{bitrate:t.playbackRate,bufferSize:t.bufferSize,displayResolution:t.displayResolution,hlsLatencyBroadcaster:t.hlsLatencyBroadcaster,isFullScreen:e.getFullscreen(),isPaused:e.isPaused(),isTheatreMode:e.getTheatre(),videoResolution:t.videoResolution,isMuted:e.getMuted(),volume:e.getVolume()}},i.getBaseContext=function(){return{mode:i.extensionMode,language:i.language}},i.updateLocalContext=function(e){void 0===e&&(e={});var t=c.a({},i.context,i.getPlayerContext(),e,i.getBaseContext());void 0!==t.theme&&(t.theme=i.translateTheme(t.theme)),i.diffAndEmitContext(t)},i.diffAndEmitContext=function(e){var t=i.context;if(i.context=e,i.isContextInitialized){var n=Object.keys(e),r=n.reduce(function(n,r){return t[r]!==e[r]&&n.push(r),n},[]);r.length>0&&i.emit(N.Context,e,r)}},i.translateTheme=function(e){return"number"==typeof e?M[e]||x.Light:e},O.on(d.h.ContextUpdate,i.updateLocalContext),i.context=i.getBaseContext(),i.context.theme=r(),t===d.f.Viewer&&(i.context.game="",i.context.playbackMode=d.l.Video),i}return c.b(t,e),t}(l.EventEmitter);!function(e){e.CurrentUser="current_user",e.Other="other"}(D||(D={}));var U,F=function(e){function t(t){var n=e.call(this)||this;return n.iframe=t,n.destroy=function(){n.iframe.ownerDocument.defaultView.removeEventListener("message",n.handleMessage)},n.sendContext=function(e,t){n.sendMessage({action:d.a.TwitchExtContext,context:e,updatedFields:t})},n.sendExtensionAuth=function(e){n.sendMessage({action:d.a.TwitchExtAuth,auth:e})},n.sendExtensionBootstrap=function(e,t,r,i){n.sendMessage({action:d.a.TwitchExtBootstrap,auth:e,features:t,configuration:r,viewerInfo:i})},n.sendSupervisorInit=function(e){n.sendMessage({action:d.m.SupervisorInit,options:e})},n.sendFunctionReply=function(e){n.sendMessage(e)},n.sendExtensionReloadEntitlementsMessage=function(){n.sendMessage({action:d.a.TwitchExtReloadEntitlements})},n.sendVisibilityChanged=function(e,t){n.sendMessage({action:d.a.TwitchExtVisibilityChanged,isVisible:e,context:t})},n.sendPositionChange=function(e){n.sendMessage({action:d.a.TwitchExtPositionChanged,position:e})},n.sendHighlightChange=function(e){n.sendMessage({action:d.a.TwitchExtHighlightChanged,isHighlighted:e})},n.sendBitsProductsMessage=function(e){n.sendMessage({action:d.a.TwitchExtBitsProducts,products:e})},n.sendBitsTransactionCompleteMessage=function(e){n.sendMessage(e)},n.sendHelperPubsubMessage=function(e,t,r){n.sendMessage({action:d.a.TwitchExtPubsubMessage,payload:{target:e,contentType:t,content:r}})},n.sendHelperPubsubBindFailure=function(e,t){n.sendMessage({action:d.a.TwitchExtPubsubBindFailure,payload:{target:e,error:t}})},n.sendViewerUpdateMessage=function(e){n.sendMessage({action:d.a.TwitchExtViewerUpdate,viewerInfo:e})},n.handleMessage=function(e){var t=e.source,r=e.data;if(t===n.iframe.contentWindow)try{n.handleExtensionAction(r)}catch(e){}},n.handleExtensionAction=function(e){-1!==d.d.indexOf(e.action)&&n.emit(e.action,e)},n.sendMessage=function(e){n.iframe&&n.iframe.contentWindow&&n.iframe.contentWindow.postMessage(e,b.supervisorOrigin)},n.iframe.ownerDocument.defaultView.addEventListener("message",n.handleMessage),n}return c.b(t,e),t.prototype.sendExtensionReloadMessage=function(){this.sendMessage({action:d.a.TwitchExtReload})},t.prototype.sendExtensionProductPricesMessage=function(e){var t=e.products.reduce(function(e,t){var n=t.sku,r=t.price;return e[n]={displayPrice:i(r.price,r.currency_unit)},e},{});this.sendMessage({action:d.a.TwitchExtProductPrices,prices:t})},t}(l.EventEmitter),V=function(){function e(e,t,n,r){var i=this;this.coordinator=e,this.loginId=t,this.extensionId=n,this.emitConfirmationRequest=r,this.functionActionMap=Object(E.a)(),this.functionModalMap=Object(E.a)(),this.registerFunctionModal=function(e,t){t.onOpen(function(n){var r=i.loginId?e:d.k.LoginRequest,a={action:r,extensionId:i.extensionId,resultCallback:t.resultCallback,defaultResult:t.defaultResult};n&&(a.options=n),i.requestConfirmation(a)}),t.onModalResult&&t.onModalResult(function(e){i.sendFunctionReply(e)}),i.functionModalMap[e]=t,i.functionActionMap[e]=i.functionActionHandler(e),i.coordinator.on(e,i.functionActionMap[e])},this.unregisterFunctionModal=function(e){i.coordinator.off(e,i.functionActionMap[e]),delete i.functionActionMap[e],delete i.functionModalMap[e]},this.functionActionHandler=function(e){return function(t){var n=i.functionModalMap[e];n&&n.open(t)}},this.requestConfirmation=function(e){if(e.action===d.k.SubscribeToChannel)return void O.emit(d.h.RequestModal,e);i.emitConfirmationRequest(e)},this.sendFunctionReply=function(e){i.coordinator.sendFunctionReply(e)}}return e}(),H=n(145);!function(e){e.UseBitsLinkUserFailure="extension_use_bits_link_user_fail",e.UseBitsUserIneligible="extension_use_bits_user_ineligible",e.UseBitsFailure="extension_use_bits_fail",e.UseBitsInitialization="extension_use_bits_init",e.UseBitsConfirmation="extension_use_bits_confirm",e.UseBitsSuccess="extension_use_bits_success"}(U||(U={}));var z,W=function(e){var t=document.createElement("a");return t.href=e,{host:t.host}},G=function(e){return e?e.split(".").pop()||"":""};!function(e){e.Cancelled="cancelled",e.LoggedOut="logged_out_user",e.InvalidId="invalid_id",e.AlreadyFollowed="already_followed"}(z||(z={}));var K;!function(e){e.Cancelled="cancelled",e.LoggedOut="logged_out_user",e.InvalidID="invalid_id",e.UserIneligible="user_ineligible",e.InsufficientBalance="insufficient_balance",e.UnableToGetEligibility="unable_to_get_eligibility",e.UnableToLinkUser="unable_to_link_user",e.UseBitsFailure="use_bits_failure"}(K||(K={}));var Y,Q=function(){function e(e){this.dobbin=e.dobbin;var t=W(e.iframe.ownerDocument.referrer);this.trackingProperties=c.a({},e.requiredProps,{url:e.iframe.ownerDocument.location.href,host:e.iframe.ownerDocument.location.host,domain:e.iframe.ownerDocument.domain,user_agent:e.iframe.ownerDocument.defaultView.navigator.userAgent,referrer_url:e.iframe.ownerDocument.referrer,referrer_host:t.host,extension_id:e.extension.clientId,extension_version:e.extension.version,extension_anchor:e.anchor,extension_mode:e.extensionMode})}return e.prototype.trackEvent=function(e,t){var n=c.a({},t,this.trackingProperties);this.dobbin.trackEvent(e,n,["spade"])},e}(),$=function(){function e(e,t,n,r,i,a){var o=this;this.loginId=e,this.tracker=t,this.pubsub=n,this.onSuccess=r,this.extension=i,this.extensionBitsProducts=a,this.useBitsInProgress=!1,this.close=function(e){void 0===e&&(e=!1),o.replyCallback({action:H.a.UseBitsComplete,didConfirm:e,didUseBits:!1}),o.track(U.UseBitsFailure)},this.onModalResult=function(e){o.replyCallback=function(t){o.useBitsInProgress=!1,t.didConfirm&&t.didUseBits&&o.onSuccess(t.bitsBalance||0),o.loginId&&o.offBitsBalanceUpdate(),e(c.a({action:H.a.UseBitsComplete},t))}},this.onOpen=function(e){o.openCallback=function(t){o.track(U.UseBitsInitialization),e(t)}},this.resultCallback=function(e){return e.didConfirm?(o.track(U.UseBitsConfirmation),o.useBitsInExtension(o.transactionId,e.didConfirm)):(o.failReason=K.Cancelled,Promise.resolve(o.close()))},this.useBitsPromptRequired=function(e,t,n){return void 0===e&&(e=!1),e||t<n},this.openBitsConfirmationModal=function(e){if(!o.loginId)return void(o.failReason=K.LoggedOut);o.openCallback&&(o.onBitsBalanceUpdate(o.loginId),o.openCallback({payload:c.a({userId:o.loginId,isLoggedIn:!!o.loginId,clientId:o.extension.clientId,extensionName:o.extension.name,track:o.track},e)}))},this.unsubscribeCallback=function(){},this.useBitsInExtension=function(e,t){return Object(p.d)(o.extension.id,o.token,!0).then(function(n){var r=n.token;return _.registerToken(o.extension.id,r),I(e).then(function(e){var n=e.bits_balance,r={action:H.a.UseBitsComplete,didConfirm:t,didUseBits:!0};return o.track(U.UseBitsSuccess),o.replyCallback(c.a({},r,{bitsBalance:n})),n}).catch(function(e){o.handleUseBitsError(e,K.UseBitsFailure,U.UseBitsFailure)})}).catch(function(e){o.handleUseBitsError(e,K.UnableToLinkUser,U.UseBitsLinkUserFailure)})},this.handleUseBitsError=function(e,t,n){o.failReason=t,o.openCallback?(o.track(n),o.openCallback({error:e})):o.close(!0)},this.track=function(e,t){void 0===t&&(t={});var n={target_channel_id:o.channelId,user_id:o.loginId,client_id:o.extension.clientId,fail_reason:o.failReason,extension_name:o.extension.name,extension_item_label:o.extensionItemLabel,sku:o.sku,transaction_id:o.transactionId,bits_balance:o.bitsBalance,extension_id:o.extension.id,bits_required:o.bitsRequired};t=Object.assign(n,t),o.tracker.trackEvent(e,t)}}return Object.defineProperty(e.prototype,"defaultResult",{get:function(){return{didConfirm:!1,didUseBits:!1}},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t=this;if(!this.useBitsInProgress){this.useBitsInProgress=!0;var n=_.getToken(this.extension.clientId),r=A(e.sku,n.payload.channel_id,this.extension.clientId),i=this.extensionBitsProducts;Promise.all([r,i]).then(function(r){var i=r[0],a=r[1],o=i.bits_required,s=i.transaction_id,u=i.prompt_required,c=i.bits_balance,l=a.products;if(!t.useBitsPromptRequired(u,c,o))throw new Error("Use Bits always requires a prompt for now");var d=l.find(function(t){return t.sku===e.sku}),f=d?d.displayName:"";t.token=n.token,t.bitsBalance=c,t.bitsRequired=o,t.transactionId=s,t.sku=e.sku,t.channelId=n.payload.channel_id,t.extensionItemLabel=f,n.payload.channel_id||(t.failReason=K.InvalidID),t.openBitsConfirmationModal({channelId:n.payload.channel_id,sku:e.sku,bitsRequired:o,transactionId:s,extensionItemLabel:f,bitsBalance:c})}).catch(function(e){t.handleUseBitsError(e,K.UserIneligible,U.UseBitsUserIneligible)})}},e.prototype.onBitsBalanceUpdate=function(e){var t=this,n=f.a.authToken;this.unsubscribeCallback=this.pubsub.subscribe({token:n,topic:"user-bits-updates-v1."+e,success:function(){},failure:function(){},message:function(e){t.bitsBalance=e.data.balance,t.openCallback({payload:{channelId:t.channelId,clientId:t.extension.clientId,userId:t.loginId,isLoggedIn:!!t.loginId,sku:t.sku,bitsRequired:t.bitsRequired,transactionId:t.transactionId,extensionItemLabel:t.extensionItemLabel,extensionName:t.extension.name,bitsBalance:t.bitsBalance,track:t.track}})}})},e.prototype.offBitsBalanceUpdate=function(){this.unsubscribeCallback&&this.unsubscribeCallback()},e}(),X=function(e){var t=f.a.newRequest("/api/channels/"+e,{method:"GET"});return f.a.authRequest(t).then(function(e){return e?e._id:0}).catch(function(){return 0})},J=function(e,t){return X(t).then(function(n){if(0===n)return{channel:null,channelId:0,isFollowing:!1};var r=f.a.newRequest("/v5/users/"+e+"/follows/channels/"+n,{method:"GET"});return f.a.authRequest(r).then(function(){return{channel:t,channelId:n,isFollowing:!0}}).catch(function(){return{channel:t,channelId:n,isFollowing:!1}})})},Z=function(e,t,n){return X(t).then(function(r){if(0===r)return{channel:null,channelId:0,isFollowing:!1};var i=f.a.newRequest("/v5/users/"+e+"/follows/channels/"+r,{method:"PUT",body:JSON.stringify({notifications:n})});return f.a.authRequest(i).then(function(){return{channel:t,channelId:r,isFollowing:!0}}).catch(function(){return{channel:t,channelId:r,isFollowing:!1}})})},ee=function(){function e(e,t){var n=this;this.loginId=e,this.tracker=t,this.close=function(){n.replyCallback({action:H.a.FollowComplete,channel:n.channel,didFollow:!1}),n.tracker.trackEvent("extension_follow_fail",{target_channel:n.channel,target_channel_id:n.channelId,fail_reason:n.failReason})},this.onModalResult=function(e){n.replyCallback=e},this.onOpen=function(e){n.openCallback=function(t){n.tracker.trackEvent("extension_follow_init",{target_channel:t.channel,target_channel_id:t.channelId}),e(t)}},this.resultCallback=function(e){e.didFollow?(n.tracker.trackEvent("extension_follow_confirm",{target_channel:n.channel,target_channel_id:n.channelId}),n.follow(n.loginId,n.channel,e.notifications)):n.close()},this.follow=function(e,t,r){Z(e,t,r).then(function(e){var t=e.channel,r=e.channelId,i=e.isFollowing;n.tracker.trackEvent("extension_follow",{target_channel:t,target_channel_id:r}),n.replyCallback({action:H.a.FollowComplete,channel:t,didFollow:i})})}}return Object.defineProperty(e.prototype,"defaultResult",{get:function(){return{didFollow:!1,notifications:!1}},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t=this;if(this.channel=e.payload.channel,!this.loginId)return this.channelId=0,this.openCallback&&this.openCallback({channel:this.channel,channelId:0,isFollowing:!1,isLoggedIn:!1}),void(this.failReason=z.LoggedOut);J(this.loginId,this.channel).then(function(e){var n=e.channel,r=e.channelId,i=e.isFollowing;t.channelId=r,t.openCallback&&t.openCallback({channel:n,channelId:r,isFollowing:i,isLoggedIn:!0}),t.failReason=null===n?z.InvalidId:i?z.AlreadyFollowed:z.Cancelled})},e}(),te=function(){function e(){var e=this;this.close=function(){},this.onOpen=function(t){e.openCallback=t},this.onModalResult=function(){},this.resultCallback=function(){}}return Object.defineProperty(e.prototype,"defaultResult",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.open=function(){this.openCallback()},e}();!function(e){e.Component="component",e.Config="config",e.Hidden="hidden",e.LiveConfig="liveConfig",e.Mobile="mobile",e.Panel="panel",e.VideoOverlay="videoOverlay"}(Y||(Y={}));var ne,re=function(){function e(e){this.extension=e}return Object.defineProperty(e.prototype,"clientId",{get:function(){return this.extension.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitsEnabled",{get:function(){return this.extension.bitsEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.extension.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.extension.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.extension.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requestIdentityLink",{get:function(){return this.extension.requestIdentityLink},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sku",{get:function(){return this.extension.sku},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summary",{get:function(){return this.extension.summary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this.extension.token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this.extension.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"views",{get:function(){return this.extension.views},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vendorCode",{get:function(){return this.extension.vendorCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.extension.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whitelistedConfigUrls",{get:function(){return this.extension.whitelistedConfigUrls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whitelistedPanelUrls",{get:function(){return this.extension.whitelistedPanelUrls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asObject",{get:function(){return this.extension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelHeight",{get:function(){return this.extension.views.panel&&this.extension.views.panel.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMonetized",{get:function(){return!(!this.extension.sku||!this.extension.vendorCode)},enumerable:!0,configurable:!0}),e.prototype.getViewerUrlForContext=function(e,t,n){var r="";switch(e){case d.g.Web:r=this.getViewerUrlForWeb(t,n);break;case d.g.Mobile:r=this.getViewerUrlForMobile()}return r||""},e.prototype.getViewerUrlForWeb=function(e,t){var n=this.extension.views;switch(e){case d.f.Config:return n.config&&n.config.viewerUrl;case d.f.Dashboard:return n.liveConfig&&n.liveConfig.viewerUrl;case d.f.Viewer:return this.getViewerUrlForAnchor(t)}},e.prototype.getViewerUrlForMobile=function(){return this.extension.views.mobile&&this.extension.views.mobile.viewerUrl},e.prototype.getViewerUrlForAnchor=function(e){var t=this.extension.views;switch(e){case d.c.Component:return t.component.viewerUrl;case d.c.Hidden:return t.hidden.viewerUrl;case d.c.Overlay:return t.videoOverlay.viewerUrl;case d.c.Panel:return t.panel.viewerUrl}},e}(),ie=function(){function e(e,t,n,r){var i=this;this.coordinator=e,this.tracker=t,this.authData=n,this.unsubscribeMap={},this.lastSequenceInfoMap={},this.onHelperListenMessage=function(e){i.listen(e.target)},this.onHelperUnlistenMessage=function(e){i.unlisten(e.target)},this.onSubscribeSuccess=function(){},this.createSubscribeFailureCallbackForTarget=function(e){return function(t){i.coordinator.sendHelperPubsubBindFailure(e,t)}},this.createCallbackForTarget=function(e){return function(t){if(!i.isExtensionTarget(e))return void i.coordinator.sendHelperPubsubMessage(e,"application/plain",[JSON.stringify(t)]);i.coordinator.sendHelperPubsubMessage(e,t.content_type,t.content),t.sequence&&i.trackSequence(i.convertToTopic(e),e,t.sequence.start,t.sequence.number)}},this.pubsub=r||new y,this.coordinator.on(d.a.TwitchExtPubsubListen,this.onHelperListenMessage),this.coordinator.on(d.a.TwitchExtPubsubUnlisten,this.onHelperUnlistenMessage)}return e.prototype.destroy=function(){this.coordinator.off(d.a.TwitchExtPubsubListen,this.onHelperListenMessage),this.coordinator.off(d.a.TwitchExtPubsubUnlisten,this.onHelperUnlistenMessage)},e.prototype.listen=function(e){this.unsubscribeMap[e]||(this.unsubscribeMap[e]=this.pubsub.subscribe({topic:this.convertToTopic(e),success:this.onSubscribeSuccess,failure:this.createSubscribeFailureCallbackForTarget(e),message:this.createCallbackForTarget(e),token:this.authData&&this.authData.token}),this.lastSequenceInfoMap[e]={})},e.prototype.unlisten=function(e){var t=this.unsubscribeMap[e];t&&(t(),delete this.lastSequenceInfoMap[e])},e.prototype.updateAuthData=function(e){this.authData=e},e.prototype.isExtensionTarget=function(e){return-1===e.indexOf(".")},e.prototype.convertToTopic=function(e){if(this.isExtensionTarget(e)&&this.authData){var t=this.authData.channelId;return"global"===e&&(t="all"),"channel-ext-v1."+t+"-"+this.authData.clientId+"-"+e}return e},e.prototype.trackSequence=function(e,t,n,r){if(this.lastSequenceInfoMap[t]){var i=this.lastSequenceInfoMap[t].sequenceTime,a=this.lastSequenceInfoMap[t].sequenceNumber;if(a&&(i!==n&&(a=0),a<r-1)){var o=a+1,s=r-o,u=r-1;this.tracker.trackEvent("extension_pubsub_missed",{topic:e,target:t,sequenceStart:n,firstMissedSequenceNumber:o,lastMissedSequenceNumber:u,missed:s})}this.lastSequenceInfoMap[t]={sequenceNumber:r,sequenceTime:n},this.tracker.trackEvent("extension_pubsub_received",{topic:e,target:t,sequenceStart:n,sequenceNumber:r})}},e}(),ae=n(263),oe=function(){function e(){}return e.prototype.makePurchase=function(e,t,n){return Promise.resolve().then(function(){window.open(e.action_details.destination_url+"&br_id="+Object(ae.b)(""+t)+"&locale="+n,"Twitch","width=1024,height=600,scrollbars=yes")})},e}(),se=function(){return window.innerHeight},ue=function(e){return e.getBoundingClientRect()},ce={getWindowInnerHeight:se,getElementBoundingClientRect:ue},le=function(e,t){var n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n||(n=!0,setTimeout(function(){n=!1},t),e.apply(null,r))}},de=n(429),fe=n.n(de),pe=new fe.a,he=["allow-forms","allow-scripts","allow-same-origin"],me=700,ye=300;!function(e){e[e.Supervisor=0]="Supervisor",e[e.Extension=1]="Extension"}(ne||(ne={}));var ve=function(e){function t(t){var n=e.call(this)||this;return n.lastSequenceInfoMap={},n.handleUserAction={click:function(e){var t=e.payload,n=this.iframe.getBoundingClientRect(),r=n.width,i=n.height;this.tracker.trackEvent("extension_click",{px_mouse_coord_x:t.clientX,px_mouse_coord_y:t.clientY,pct_mouse_coord_x:t.clientX/r*100,pct_mouse_coord_y:t.clientY/i*100})},dblclick:function(e){this.throttleDblClick(this.iframe,e)},mousemove:function(e){var t=e.payload,n=this.iframe.getBoundingClientRect(),r=n.left,i=n.top,a=t.clientX,o=t.clientY,s=r+a,u=i+o;try{this.iframe.dispatchEvent(new MouseEvent("mousemove",{clientX:a,clientY:o,screenX:s,screenY:u,bubbles:!0}))}catch(e){var c=document.createEvent("MouseEvent");c.initMouseEvent("mousemove",!0,!1,window,0,s,u,a,o,!1,!1,!1,!1,0,null),this.iframe.dispatchEvent(c)}},focusin:function(){if(this.activationAnchor===d.c.Overlay){for(var e=this.iframe;e&&!e.hasAttribute("tabindex");)e=e.parentElement;e&&e.focus()}}},n.hasSentViewEvent=!1,n.hasBootstrapped=!1,n.hasLoaded=!1,n.throttleDblClick=le(function(e,t){var n=t.payload,r=e.getBoundingClientRect(),i=r.left,a=r.top;e.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0,clientX:n.clientX,clientY:n.clientY,screenX:i+n.clientX,screenY:a+n.clientY}))},1e3),n.isVisible=!0,n.destroy=function(){n.unsetupListeners(),n.contextManager.destroy(),n.coordinator.destroy(),n.iframe.remove()},n.linkIdentity=function(){var e=n.extension.clientId,t=_.getToken(e);t.isLinked||Object(p.d)(e,t.token,!0).then(function(t){var r=t.token;_.registerToken(e,r),n.tracker.trackEvent("extension_ui_interaction_client",{extension_interaction:"grant"})})},n.unlinkIdentity=function(){var e=n.extension.clientId,t=_.getToken(e);t.isLinked&&Object(p.d)(e,t.token,!1).then(function(t){var r=t.token;_.registerToken(e,r),n.tracker.trackEvent("extension_ui_interaction_client",{extension_interaction:"revoke"})})},n.visibilityChanged=function(){if(!n.hasSentViewEvent&&n.activationAnchor===d.c.Panel&&n.params.mode===d.f.Viewer){var e=ce.getElementBoundingClientRect(n.iframe),t=e.bottom-e.top,r=ce.getWindowInnerHeight();100*(Math.min(Math.max(r-e.top,0),t)/t)>=75&&(n.tracker.trackEvent("extension_view",{pct_view_visible:75,px_view_visible:Math.floor(75*t/100)}),n.hasSentViewEvent=!0)}},n.setVisible=function(e){if(n.hasLoaded&&n.isVisible!==e){n.isVisible=e;var t=e?n.contextManager.context:null;n.coordinator.sendVisibilityChanged(e,t)}},n.setPosition=function(e){n.coordinator.sendPositionChange(e)},n.setHighlighted=function(e){n.coordinator.sendHighlightChange(e)},n.buildTracker=function(){var e=n.params;return e.extensionTracker||new Q({anchor:n.activationAnchor,dobbin:e.dobbin,extension:n.extension,extensionMode:e.mode,iframe:n.iframe,requiredProps:{login:e.trackingProperties.login,channel:e.trackingProperties.channel,channel_id:e.channelId,device_id:e.trackingProperties.device_id,user_id:e.loginId,platform:e.trackingProperties.platform,player_type:e.trackingProperties.player_type,locale:n.locale,login_id:e.loginId}})},n.buildContextManager=function(){var e=n.params;return e.contextManager||new B(e.mode)},n.buildCoordinator=function(){return n.params.extensionCoordinator||new F(n.iframe)},n.buildFunctionManager=function(){return n.params.functionManager||new V(n.coordinator,n.params.loginId,n.params.extension.id,n.emitConfirmationRequest)},n.buildPurchaseService=function(){return n.params.purchaseService||new oe},n.getExtensionHeight=function(){var e=n.params.mode,t=n.extension.panelHeight;return e===d.f.Config?me:t?Number(t):ye},n.getDefaultAnchorAttributes=function(){var e={};return n.params.mode===d.f.Viewer&&n.extensionOptions.platform!==d.g.Mobile&&(e.scrolling="no"),e},n.getAnchorAttributes=function(e){var t={};if(n.params.isPopout||!1)return e===ne.Extension&&(t.style="height: 100%;"),t;switch(n.activationAnchor){case d.c.Panel:if(n.extensionOptions.platform===d.g.Mobile){t.style="height: 100%;";break}var r=n.getExtensionHeight();t.style="height: "+r+"px;";break;case d.c.Overlay:case d.c.Component:case d.c.Hidden:return n.getDefaultAnchorAttributes()}return t},n.applyAnchorAttributesForSupervisor=function(e){var t=n.getAnchorAttributes(ne.Supervisor).style;t&&e.setAttribute("style",t)},n.createSupervisorIFrame=function(e){var t=n.params.mode,r=document.createElement("iframe"),i=n.getViewWithPermissions();switch(r.setAttribute("class",e),r.setAttribute("frameBorder","0"),r.setAttribute("scrolling","no"),r.setAttribute("src",b.supervisorURL),r.setAttribute("sandbox",n.getSandboxFlags(i)),t){case d.f.Viewer:n.applyAnchorAttributesForSupervisor(r);break;case d.f.Dashboard:if(!n.params.isPopout){var a=n.extension.panelHeight||ye;r.setAttribute("style","height: "+a+"px;")}break;case d.f.Config:r.setAttribute("style","width: 100%; height: "+me+"px;")}return r.style.display="none",r},n.initSupervisedExtension=function(){var e=n.params.mode,t=n.extensionOptions.platform,r=n.extension.getViewerUrlForContext(t,e,n.activationAnchor),i=n.getViewWithPermissions(),o=n.getAnchorAttributes(ne.Extension);o.sandbox=n.getSandboxFlags(i);var s={extensionURL:a(r,n.extensionOptions),hostOrigin:window.location.origin,iframeAttrs:o};n.coordinator.sendSupervisorInit(s);n.extension.state!==d.i.Released&&(n.helperNotLoadedTimeout=setTimeout(function(){console.warn("Extension Warning ("+n.extension.id+"): Extension Helper Library Not Loaded")},1e4))},n.getExtensionAuth=function(){var e=_.getToken(n.extension.clientId);return{channelId:e.payload.channel_id,clientId:n.extension.clientId,token:e.token,userId:e.payload.opaque_user_id}},n.onLongtask=function(e){n.tracker.trackEvent("extension_longtask",{longtask_duration:e.payload.longtask_duration})},n.onMouseEnter=function(){n.tracker.trackEvent("extension_mouseenter",{})},n.handleToken=function(e,t){n.helperPubsubAdapter&&n.helperPubsubAdapter.updateAuthData(n.getExtensionAuth()),n.hasLoaded&&!e.isNearExpiration&&(n.hasBootstrapped?n.shouldReloadExtension(e,t)?n.reloadExtension():n.sendAuthUpdate(e):n.sendBootstrap(e))},n.shouldReloadExtension=function(e,t){var r=e.isLinked!==t.isLinked;return r&&!e.isLinked||r&&!n.extension.bitsEnabled},n.onExtensionLoaded=function(){n.hasLoaded=!0,n.contextManager.initializeContext(),n.helperNotLoadedTimeout&&(clearTimeout(n.helperNotLoadedTimeout),delete n.helperNotLoadedTimeout),n.tracker.trackEvent("extension_helper_load_success",{}),n.iframe.style.removeProperty("display");var e=_.getToken(n.extension.clientId);n.handleToken(e,e),n.emit(d.e.ExtensionFrameLoaded,n.extension.asObject),n.sendExtensionProductPrices(),n.sendExtensionBitsProductPrices(),n.sendExtensionDisplayState()},n.onExtensionUserAction=function(e){n.handleUserAction[e.payload.type].call(n,e)},n.onExtensionPubSubRecived=function(e){var t=e.payload;n.trackSequence(t.topic,t.target,t.sequenceStart,t.sequenceNumber)},n.onExtensionNetworkTraffic=function(e){n.tracker.trackEvent("extension_network_request",{request_duration:e.payload.duration,request_end_time:e.payload.endTime,request_file_type:G(e.payload.url),request_start_time:e.payload.startTime,request_url:e.payload.url})},n.emitConfirmationRequest=function(e){n.emit(d.e.RequestModal,e)},n.sendAuthUpdate=function(e){n.sendIdentityLinkUpdate(e),n.coordinator.sendExtensionAuth(n.getExtensionAuth());var t=o(n.installationAbilities,n.clientAbilities);e.isLinked&&t.isSubscriptionStatusAvailable&&O.getViewerInfoForChannel(""+n.params.channelId).then(function(e){n.coordinator.sendViewerUpdateMessage(e)})},n.sendBootstrap=function(e){n.hasBootstrapped=!0,n.sendIdentityLinkUpdate(e);var t=o(n.installationAbilities,n.clientAbilities);t.isSubscriptionStatusAvailable&&e.isLinked?O.getViewerInfoForChannel(""+n.params.channelId).then(function(e){n.coordinator.sendExtensionBootstrap(n.getExtensionAuth(),t,n.configuration,e)}):n.coordinator.sendExtensionBootstrap(n.getExtensionAuth(),t,n.configuration,{subscriptionStatus:null})},n.sendIdentityLinkUpdate=function(e){var t=e.isUserLoggedIn&&n.canRequestIdLink;n.emit(d.e.IdentityLinked,e.isLinked,t)},n.beginPurchase=function(e){var t=e.payload.sku,r=n.extension.vendorCode;n.extensionProducts.then(function(e){var i=e.products.find(function(e){return e.sku===t});if(!i)throw new Error("An extension product with the SKU "+t+" could not be found.");var a={asin:i.asin,developer_name:i.developer_name,item_name:i.title,item_description:i.description,item_description_short:i.short_description,item_price:i.price.price,item_price_currency:i.price.currency_unit,vendor_code:r,sku:i.sku};n.tracker.trackEvent("extension_start_buy",a),n.onBeginPurchase&&n.onBeginPurchase(n.formatExtensionProductForDisplay(i),function(){return n.tracker.trackEvent("extension_confirm_buy",a),Promise.resolve().then(function(){n.linkIdentity()}).then(function(){n.purchaseService.makePurchase(i,n.params.channelId,n.locale)})})})},n.onContextUpdate=function(e,t){n.isVisible&&n.coordinator.sendContext(e,t)},n.setupListeners=function(){n.eventListeners=[{target:n.iframe,event:"mouseenter",callback:n.onMouseEnter.bind(n)}],n.eventListeners.forEach(function(e){e.target.addEventListener(e.event,e.callback)}),n.contextManager.on(N.Context,n.onContextUpdate),n.coordinator.on(d.m.SupervisorReady,n.initSupervisedExtension),n.coordinator.on(d.a.TwitchExtLoaded,n.onExtensionLoaded),n.coordinator.on(d.k.TwitchExtMinimize,n.onMinimize),n.coordinator.on(d.a.TwitchExtNetworkTiming,n.onExtensionNetworkTraffic),n.coordinator.on(d.a.TwitchExtUserAction,n.onExtensionUserAction),n.onBeginPurchase&&n.coordinator.on(d.a.TwitchExtBeginPurchase,n.beginPurchase),n.coordinator.on(d.a.TwitchExtBitsOnHover,n.showBitsBalance),n.coordinator.on(d.a.TwitchExtPubSubReceived,n.onExtensionPubSubRecived),n.coordinator.on(d.a.TwitchExtLongtask,n.onLongtask),_.subscribe(n.extension.clientId,n.handleToken);var e=_.getToken(n.extension.clientId);e&&!e.isNearExpiration&&n.handleToken(e,e),n.bindHelperPubsub()},n.reloadExtension=function(){n.hasLoaded=!1,n.hasBootstrapped=!1,n.coordinator.sendExtensionReloadMessage()},n.unsetupListeners=function(){n.eventListeners.forEach(function(e){e.target.removeEventListener(e.event,e.callback)}),n.contextManager.off(N.Context,n.coordinator.sendContext),n.coordinator.off(d.a.TwitchExtLoaded,n.onExtensionLoaded),n.coordinator.off(d.a.TwitchExtNetworkTiming,n.onExtensionNetworkTraffic),n.coordinator.off(d.a.TwitchExtUserAction,n.onExtensionUserAction),n.coordinator.off(d.a.TwitchExtLongtask,n.onLongtask),n.coordinator.off(d.k.TwitchExtMinimize,n.onMinimize),n.unregisterFunctionModals(),_.unsubscribe(n.extension.clientId,n.handleToken),n.helperPubsubAdapter&&n.helperPubsubAdapter.destroy()},n.registerFunctionModals=function(){n.functionManager.registerFunctionModal(d.k.FollowAction,new ee(n.params.loginId,n.tracker)),n.functionManager.registerFunctionModal(d.k.SubscribeToChannel,new R(n.params.extension.clientId)),n.canRequestIdLink&&n.functionManager.registerFunctionModal(d.k.IdShareRequest,new te),n.extension.bitsEnabled&&n.functionManager.registerFunctionModal(d.k.UseBits,new $(String(n.params.loginId),n.tracker,new y,n.showUseBitsSuccess,n.extension,n.extensionBitsProducts))},n.unregisterFunctionModals=function(){n.functionManager.unregisterFunctionModal(d.k.FollowAction),n.extension.bitsEnabled&&n.functionManager.unregisterFunctionModal(d.k.UseBits)},n.handlePurchaseCompleted=function(e){var t=e.msg.sku;n.extensionProducts.then(function(e){e.products.find(function(e){return e.sku===t})&&n.coordinator.sendExtensionReloadEntitlementsMessage()})},n.onMinimize=function(){n.emit(d.e.Minimize)},n.showBitsBalance=function(){n.emit(d.e.ShowBitsBalance)},n.showUseBitsSuccess=function(e){n.emit(d.e.ShowUseBitsSuccess,e)},n.handleBitsTransactionCompleted=function(e){var t=D.Other;String(n.params.loginId)===e.user_id&&(t=D.CurrentUser);var r={sku:e.sku,displayName:e.sku,cost:{amount:"",type:""}};n.extensionBitsProducts.then(function(i){var a=i.products.find(function(t){return t.sku===e.sku});n.coordinator.sendBitsTransactionCompleteMessage({action:d.a.TwitchExtBitsTransactionComplete,product:a||r,transactionId:e.transaction_id,userId:e.user_id,displayName:e.display_name,transactionReceipt:e.transactionReceipt,initiator:t})}).catch(function(){n.coordinator.sendBitsTransactionCompleteMessage({action:d.a.TwitchExtBitsTransactionComplete,product:r,transactionId:e.transaction_id,userId:e.user_id,displayName:e.display_name,transactionReceipt:e.transactionReceipt,initiator:t})})},n.extension=new re(t.extension),n.params=c.a({platform:d.g.Web},t,{mode:t.platform===d.g.Mobile?d.f.Viewer:t.mode}),n.iframe=n.createSupervisorIFrame(t.iframeClassName),void 0!==t.onBeginPurchase&&(n.onBeginPurchase=t.onBeginPurchase),n.setupListeners(),n.extension.token&&!_.getToken(n.extension.clientId)&&_.registerToken(n.extension.clientId,n.extension.token),n.registerFunctionModals(),n.tracker.trackEvent("extension_render",{}),t.parentElement.appendChild(n.iframe),n.visibilityChanged(),n.params.loginId&&O.onPurchaseCompleted(n.params.loginId,n.handlePurchaseCompleted),O.onBitsTransactionCompleted(n.params.channelId,n.extension.clientId,n.params.loginId,n.handleBitsTransactionCompleted),o(n.installationAbilities,n.clientAbilities).isSubscriptionStatusAvailable&&O.listenForViewerSubscriptionStatus(""+n.params.loginId,""+n.params.channelId,n.params.extension.id,function(e){n.coordinator.sendViewerUpdateMessage(e)}),n}return c.b(t,e),Object.defineProperty(t.prototype,"activationAnchor",{get:function(){return this.params.anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracker",{get:function(){return s(this.buildTracker)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextManager",{get:function(){return s(this.buildContextManager)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordinator",{get:function(){return s(this.buildCoordinator)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionOptions",{get:function(){return{anchor:this.activationAnchor,language:this.language,locale:this.locale,mode:this.params.mode,state:d.j[this.extension.state],platform:this.params.platform,popout:this.params.isPopout||!1}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functionManager",{get:function(){return s(this.buildFunctionManager)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this.params.language||"en"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this.params.locale||"en-US"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"purchaseService",{get:function(){return s(this.buildPurchaseService)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRequestIdLink",{get:function(){var e=_.getToken(this.extension.clientId);return!e.isBroadcaster&&(e.isLinked||this.extension.requestIdentityLink)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"installationAbilities",{get:function(){return{isChatEnabled:!!this.params.installationAbilities&&this.params.installationAbilities.isChatEnabled,isBitsEnabled:!!this.params.installationAbilities&&this.params.installationAbilities.isBitsEnabled,isSubscriptionStatusAvailable:!!this.params.installationAbilities&&this.params.installationAbilities.isSubscriptionStatusAvailable}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configuration",{get:function(){return this.params.configuration?this.params.configuration:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientAbilities",{get:function(){return{isBitsEnabled:!this.params.features||!!this.params.features.bits,useSharedPubsub:!!this.params.features&&!!this.params.features.sharePubsub}},enumerable:!0,configurable:!0}),t.prototype.getSandboxFlags=function(e){return e&&e.canLinkExternalContent?he.concat(["allow-popups","allow-popups-to-escape-sandbox"]).join(" "):he.join(" ")},t.prototype.getViewWithPermissions=function(){var e=this.extension.views;switch(this.params.mode){case d.f.Config:return e[Y.Config];case d.f.Dashboard:return e[Y.LiveConfig];case d.f.Viewer:switch(this.activationAnchor){case d.c.Component:return e[Y.Component];case d.c.Hidden:return e[Y.Hidden];case d.c.Overlay:return e[Y.VideoOverlay];case d.c.Panel:return e[Y.Panel]}}},t.prototype.trackSequence=function(e,t,n,r){this.lastSequenceInfoMap[t]||(this.lastSequenceInfoMap[t]={});var i=this.lastSequenceInfoMap[t].sequenceTime,a=this.lastSequenceInfoMap[t].sequenceNumber;if(a&&(i!==n&&(a=0),a<r-1)){var o=a+1,s=r-o,u=r-1;this.tracker.trackEvent("extension_pubsub_missed",{topic:e,target:t,sequenceStart:n,firstMissedSequenceNumber:o,lastMissedSequenceNumber:u,missed:s})}this.lastSequenceInfoMap[t]={sequenceNumber:r,sequenceTime:n},this.tracker.trackEvent("extension_pubsub_received",{topic:e,target:t,sequenceStart:n,sequenceNumber:r})},Object.defineProperty(t.prototype,"extensionProducts",{get:function(){var e=this.extensionProductsCache;if(void 0===e){var t=this.extension,n=t.sku,r=t.vendorCode;this.extension.isMonetized?(this.extensionProductsCache=Object(p.b)(r,n,this.language),e=this.extensionProductsCache):e=Promise.resolve({products:[]})}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionBitsProducts",{get:function(){var e=this.extensionBitsProductsCache;if(void 0===e){var t=this.extension.clientId;this.extensionBitsProductsCache=j(t),e=this.extensionBitsProductsCache}return e},enumerable:!0,configurable:!0}),t.prototype.formatExtensionProductForDisplay=function(e){return{description:e.description,developerName:e.developer_name,displayPrice:i(e.price.price,e.price.currency_unit),extensionName:this.extension.name,shortDescription:e.short_description,sku:e.sku,title:e.title}},t.prototype.sendExtensionProductPrices=function(){var e=this;this.extensionProducts.then(function(t){e.extension.isMonetized&&e.coordinator.sendExtensionProductPricesMessage(t)})},t.prototype.sendExtensionBitsProductPrices=function(){var e=this;if(!this.extension.bitsEnabled)return void this.coordinator.sendBitsProductsMessage([]);this.extensionBitsProducts.then(function(t){var n=t.products.filter(function(t){return e.extension.state!==d.i.Released||!0!==t.inDevelopment}).map(function(t){var n={cost:t.cost,displayName:t.displayName,sku:t.sku};return e.extension.state!==d.i.Released&&(n.inDevelopment=t.inDevelopment),n});e.coordinator.sendBitsProductsMessage(n)})},t.prototype.sendExtensionDisplayState=function(){var e=this.params.getDisplayState;if(e){var t=e();switch(t.anchor){case d.c.Overlay:this.setVisible(t.isVisible);break;case d.c.Component:this.setVisible(t.isVisible),this.setPosition(t.position)}}},t.prototype.bindHelperPubsub=function(){this.helperPubsubAdapter=this.params.helperPubsubAdapter||new ie(this.coordinator,this.tracker)},t}(l.EventEmitter),be=n(273);n.d(t,"c",function(){return ve}),n.d(t,"g",function(){return O}),n.d(t,!1,function(){return Y}),n.d(t,!1,function(){return re}),n.d(t,!1,function(){return d.d}),n.d(t,"a",function(){return d.b}),n.d(t,"b",function(){return d.c}),n.d(t,"d",function(){return d.f}),n.d(t,"e",function(){return d.g}),n.d(t,!1,function(){return d.i}),n.d(t,!1,function(){}),n.d(t,!1,function(){return d.j}),n.d(t,!1,function(){return d.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){return d.m}),n.d(t,"f",function(){return d.k}),n.d(t,!1,function(){}),n.d(t,!1,function(){return d.e}),n.d(t,!1,function(){return d.l}),n.d(t,!1,function(){return d.h}),n.d(t,!1,function(){return be.a}),n.d(t,!1,function(){return be.b});!function(){function e(){}e.ExtensionFrame=ve,e.ExtensionService=O}()},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}t.b=r,n.d(t,"a",function(){return a});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a.apply(this,arguments)}},function(e,t,n){"use strict";e.exports=n(444)()?Symbol:n(445)},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";function r(e,t){return{type:R,channel:e,installations:t}}function i(e,t){return{type:A,extensionId:e,activationConfig:t}}function a(e){return{type:I,channel:e}}function o(e){return{type:N,channel:e}}function s(e,t){return{type:q,menuState:{extensionSlot:e,menuName:t,modalOptions:null}}}function u(e,t){return{type:q,menuState:{extensionSlot:e,menuName:O.a[t.action],modalOptions:t}}}function c(){return{type:q,menuState:{extensionSlot:null,menuName:null,modalOptions:null}}}function l(e,t){return function(n,r){var i=r().extensions.notification,a=null;i&&i.timer&&clearTimeout(i.timer),a=setTimeout(function(){n(d())},W),n({type:U,notification:{type:e,options:t,timer:a}})}}function d(){return{type:U,notification:null}}function f(e){return{type:M,installationId:e}}function p(e,t){return{type:L,installationId:e,isLinked:t}}function h(e){return function(t,n){var i=n(),o=i.extensions,s=i.env,u=s.playerType,c=S()(O.m,u),l=o.channel===e&&o.loadingState===Y;return!e||l?Promise.resolve():c?(t(a(e)),Object(T.o)(e).then(function(i){var a=n(),o=a.experiments,s=a.stream,c=a.user;if(s.channel===e||u===C.w){o.get(x.e).then(function(n){var a="test"===n,o=c&&c.name===e,s=i;a&&!o&&(s=[]),t(r(e,s))})}})):(t(r(e,[])),Promise.resolve())}}function m(e){return function(t,n){var a=n(),s=a.stream;return Object(T.a)(e).then(function(a){if(n().stream===s){var u=String(a._id);P.g.subscribeToExtensionControl(u,{onShouldFetchExtensions:function(){t(o(e)),t(h(e))},onDestroyExtension:function(i){var a=function(e){return e.id!==i},o=n().extensions.activeInstallations,s=o.filter(a);t(r(e,s))},onActivationChanged:function(r,a){var o=n().extensions.activeInstallations,s=o.find(function(e){return e.extension.id===r});t(s?i(r,a):h(e))}})}}).catch(function(){return Promise.resolve()})}}function y(e){return{type:D,purchaseIntent:e}}function v(e,t){return{type:B,extension:e,highlightFrame:t}}function b(e,t,n){return{type:F,installationId:e,visible:t,collapseLocation:n}}function g(e,t){return function(n,r){var i=r().extensions.activeInstallations.find(function(t){return t.id===e});i&&n(b(e,i.playerState.isHidden,t))}}function _(e){return{type:V,installationId:e}}function w(e){return{type:H,installationId:e}}function k(e,t){return{type:z,installationId:e,collapseLocation:t}}n.d(t,"k",function(){return R}),n.d(t,"b",function(){return j}),n.d(t,"o",function(){return A}),n.d(t,"f",function(){return I}),n.d(t,"d",function(){return N}),n.d(t,"h",function(){return M}),n.d(t,"j",function(){return L}),n.d(t,"l",function(){return q}),n.d(t,"g",function(){return D}),n.d(t,"e",function(){return B}),n.d(t,"m",function(){return U}),n.d(t,"n",function(){return F}),n.d(t,"c",function(){return V}),n.d(t,"a",function(){return H}),n.d(t,"i",function(){return z}),n.d(t,"r",function(){return G}),n.d(t,"p",function(){return K}),n.d(t,"q",function(){return Y}),n.d(t,"s",function(){return Q}),t.C=s,t.D=u,t.v=c,t.E=l,t.u=d,t.A=f,t.I=p,t.x=h,t.G=m,t.z=y,t.y=v,t.F=b,t.H=g,t.w=_,t.t=w,t.B=k;var E=n(7),S=n.n(E),P=n(73),T=n(12),O=n(36),C=n(5),x=n(25),R="set extensions",j="clear extensions",A="update extension installation",I="fetching extensions",N="extension activated",M="request toggle extension identity linking",L="set extension identity linking",q="set extension menu",D="purchaseIntent received",B="extension hovered",U="set extension notification",F="set extension visibility",V="decline using unreleased extension",H="accept using unreleased extension",z="set extension collapse location",W=3e3,G="not loaded",K="loaded",Y="loading",Q="reloading"},function(e,t,n){"use strict";function r(e,t){return{type:s,milestone:{name:e,time:t}}}function i(e,t){return{type:u,metric:{name:e,value:t}}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"web_ttv_base",t=arguments[1];return{type:l,milestone:{name:e,time:t}}}function o(e){return{type:c,timeSpentHidden:e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"n",function(){return h}),n.d(t,"o",function(){return m}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return v}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"i",function(){return _}),n.d(t,"j",function(){return w}),n.d(t,"s",function(){return k}),n.d(t,"r",function(){return E}),n.d(t,"u",function(){return S}),n.d(t,"t",function(){return P}),n.d(t,"g",function(){return T}),n.d(t,"m",function(){return O}),t.w=r,t.v=i,t.x=a,t.y=o;var s="performance timed milestone reached",u="performance metric recorded",c="update time spent hidden",l="set base milestone",d="mp_player_loaded_in_worker",f="mp_master_manifest_ready",p="mp_master_manifest_request",h="web_backend_loaded",m="web_nauth_request_received",y="web_nauth_request_sent",v="web_playback_started",b="mp_variant_request",g="time_to_mp_variant_request_count",_="mp_variant_ready",w="time_to_mp_variant_ready_count",k="web_ui_init_started",E="web_ui_init_done",S="web_video_api_init_started",P="web_video_api_init_done",T="mp_min_buffer_ready",O="mp_video_element_play"},function(e,t,n){"use strict";function r(e){return{type:u,embedHost:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:c,event:e,data:t}}function a(e){return{type:l,data:{deltaMode:e.deltaMode,deltaX:e.deltaX,deltaY:e.deltaY,shiftKey:e.shiftKey}}}function o(e){return{type:d,event:e.name,data:e.properties}}function s(){return{type:f}}n.d(t,"e",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f}),t.g=r,t.f=i,t.j=a,t.h=o,t.i=s;var u="use embed event emitter",c="ad companion rendered",l="wheel event embedded player",d="first party analytic embed event",f="playback blocked event"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return z}),n.d(t,"c",function(){return W}),n.d(t,"b",function(){return $});var a=n(41),o=n(86),s=n(81),u=n(27),c=n(48),l=n.n(c),d=n(517),f=n.n(d),p=n(6),h=n.n(p),m=n(59),y=n.n(m),v=n(98),b=n.n(v),g=n(296),_=n.n(g),w=n(7),k=n.n(w),E=n(519),S=n.n(E),P=n(25),T=n(152),O=n(208),C=n(17),x=n(62),R=n(63),j=n(23),A=n(78),I=n(12),N=n(209),M=n(210),L=n(9),q=n(42),D=n(18),B=n(21),U=n(11),F=n(52),V=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),H=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),z="mediaplayer",W="X-TV-TWITCH-AD-URL",G={group:"auto",name:"Auto"},K={broadcast_id:0,cluster:"",manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",serving_id:0,user_ip:"",vod_cdn_origin:"",vod_cdn_region:"",stream_time_offset:0,segment_protocol:"",bandwidth:0,current_bitrate:0,current_fps:0,current_fps_exact:0,decoded_frames:0,dropped_frames:0,hls_latency_broadcaster:0,hls_latency_encoder:0,hls_target_duration:0,paused:!1,playing:!1,stream_time:0,totalMemoryNumber:0,vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,volume:0},Y=Object.freeze({playbackRate:-1,fps:-1,bufferSize:-1,skippedFrames:-1,memoryUsage:"0 MB",hlsLatencyEncoder:-1,hlsLatencyBroadcaster:-1,latencyMode:"",videoResolution:"",displayResolution:"",backendVersion:"",codecs:""}),Q=Object.freeze(["minute-watched","video-play","buffer-refill","buffer-empty"]),$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];i(this,e),this.store=n,this._unsubscribes=[],this._options=t,this._mediaPlayer=null,this._eventEmitter=new f.a,this._apiCallQueue=[],this._readyStateStatus=T.d,this._networkState=O.d,this._hiddenTimer=null,this._didAutoDowngradeQuality=!1;var r=this.store.getState().experiments;this._untrustedTier1Experiment=r.get(P.s),this._costSavingExperiment=r.get(P.l),this._vp9Experiment=r.get(P.d),this._fireLoadedMetadata=!1,this._hasRetried=!1,this._firePlay=!1,this._vp9disabled=!1,this._src="",this._currentCaptionData={},this._mediaPlayerLogLevel=t["cvp-log"]||"error",this.initialize()}return H(e,[{key:"initialize",value:function(){var e=this;return this.loadMediaPlayer().then(function(t){e._initMediaPlayer(t),e.setMuted(e._options.muted),e._initMobileAttributes(),e._setupStoreSubscriptions()},function(t){e.onCoreAnalytics(t)})}},{key:"_initMediaPlayer",value:function(e){var t=this,n=e.mediaPlayerInstance,r=e.mediaPlayerHandle,i=e.isWasm,o=void 0!==i&&i;this.sendPerformanceEvent(A.n),this.store.dispatch(Object(N.d)(o)),this._mediaPlayer=n,this._costSavingExperiment.then(function(e){switch("function"==typeof t._mediaPlayer.setBufferReplaceEnabled&&t._shouldEnableBufferSplicingForExperiment(e)&&t._mediaPlayer.setBufferReplaceEnabled(!0),e){case"ad_1":t._mediaPlayer.setAutoViewportSizeEnabled(!0);break;case"ad_125":t._mediaPlayer.setAutoViewportSizeEnabled(!0),t._mediaPlayer.setAutoViewportScale(1.25);break;case"ad_15":t._mediaPlayer.setAutoViewportSizeEnabled(!0),t._mediaPlayer.setAutoViewportScale(1.5)}}),this._mediaPlayerHandle=r,this._attachInternalListeners(r),this._eventEmitter.emit(a.w),this._apiCallQueue.forEach(function(e){e()}),this._apiCallQueue=[]}},{key:"_shouldEnableBufferSplicingForExperiment",value:function(e){return k()(["ad_1","ad_125","ad_15","h_mw_1","h_mw_2","h_mw_5","h_mw_10","h_mw_30"],e)}},{key:"_isHiddenMwExperiment",value:function(e){return k()(["h_mw_1_nobs","h_mw_1","h_mw_2","h_mw_5","h_mw_10","h_mw_30"],e)}},{key:"_initMobileAttributes",value:function(){this._mediaPlayer&&this._options.playsinline&&(this._mediaPlayer.getHTMLVideoElement().setAttribute("webkit-playsinline",""),this._mediaPlayer.getHTMLVideoElement().setAttribute("playsinline",""))}},{key:"_setupStoreSubscriptions",value:function(){this._unsubscribes.push(Object(D.a)(this.store,["ui.hidden"],this._onPlayerHidden.bind(this)))}},{key:"loadMediaPlayer",value:function(){var e=this;if(this._options.playerCoreDetails)return Promise.resolve(this._options.playerCoreDetails);var t=this.store.getState(),n=t.experiments,r=this._mediaPlayerLogLevel;return Object(I.u)().then(function(e){return"staff"===e.type}).catch(function(){return!1}).then(function(e){var t=e?P.j:P.f;return Promise.all([n.get(t),n.get(P.k)])}).then(function(t){return S.a.loadMediaPlayer({value:t[0],latencyValue:"control",logLevel:r,forceAsmJs:e._options.asmjs||"asmjs"===t[2]})})}},{key:"_onPlayerHidden",value:function(){var e=this;if(!l.a.safari)return this._costSavingExperiment.then(function(t){switch(t){case"h_mw_1_nobs":case"h_mw_1":e._setHiddenTimeout(e._minToMs(1));break;case"h_mw_2":e._setHiddenTimeout(e._minToMs(2));break;case"h_mw_5":e._setHiddenTimeout(e._minToMs(5));break;case"h_mw_10":e._setHiddenTimeout(e._minToMs(10));break;case"h_mw_30":e._setHiddenTimeout(e._minToMs(30))}})}},{key:"_minToMs",value:function(e){return 6e4*e}},{key:"_setHiddenTimeout",value:function(e){var t=this,n=this.store.getState(),r=n.ui,i=n.window;r.hidden?this._hiddenTimer=i.setTimeout(function(){t._didAutoDowngradeQuality=!0,t.setVisible(!1)},e):(this._hiddenTimer&&(i.clearTimeout(this._hiddenTimer),this._hiddenTimer=null),this._didAutoDowngradeQuality&&(this._didAutoDowngradeQuality=!1,this.setVisible(!0)))}},{key:"getStats",value:function(){var e=this._mediaPlayer;if(e){var t=e.getVideoWidth()+"x"+e.getVideoHeight(),n=e.getDisplayWidth()+"x"+e.getDisplayHeight(),r=(e.getQuality()||{}).codecs||"",i={playbackRate:_()(e.getVideoBitRate()/1e3),fps:_()(e.getVideoFrameRate()),bufferSize:e.getBufferDuration(),skippedFrames:e.getDroppedFrames(),memoryUsage:"64 MB",hlsLatencyEncoder:e.getTranscoderLatency()/1e3,hlsLatencyBroadcaster:e.getBroadcasterLatency()/1e3,videoResolution:t,displayResolution:n,backendVersion:e.getVersion(),codecs:r},a=this._checkLatencyMode();return h()(i,a),i}return Y}},{key:"_checkLatencyMode",value:function(){var e="auto"===this.store.getState().quality.selected,t=this.store.getState().settings.lowLatencyModeEnabled,n=this.store.getState().manifestInfo.future;if(this.store.getState().stream.contentType===L.a)return l.a.chrome?{latencyMode:t&&n?"Low Latency":"Normal Latency"}:{latencyMode:n&&!e?"Low Latency":"Normal Latency"}}},{key:"getCaption",value:function(){return this._currentCaptionData}},{key:"onCoreAnalytics",value:function(e){var t=e.spadeEventName,n=e.spadeEventData;this.store.dispatch(Object(C.d)(t,n))}},{key:"addEventListener",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.addEventListener.bind(this,e,t));this._eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.removeEventListener.bind(this,e,t));this._eventEmitter.removeListener(e,t)}},{key:"attach",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.attach.bind(this,e));e.insertBefore(this._mediaPlayer.getHTMLVideoElement(),e.firstChild)}},{key:"detach",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.detach.bind(this,e));e.removeChild(this._mediaPlayer.getHTMLVideoElement())}},{key:"load",value:function(){var e=this;if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.load.bind(this));this._firePlay=!1,this._src&&(this._src.indexOf(U.B)>-1?this._vp9Experiment.then(function(t){var n="treatment"===t&&e._mediaPlayerHandle.MediaPlayer.isVP9Supported()&&!e._vp9disabled?"vp09%2Cavc1":"avc1";e._src+="&preferred_codecs="+n,e._loadAndPlay()}):this._loadAndPlay())}},{key:"_loadAndPlay",value:function(){var e=this.store.getState(),t=e.playback,n=this._mediaPlayer.getPlayerState();this._mediaPlayer.pause(),this._mediaPlayer.load(this._src),this._eventEmitter.emit(u.j),t.autoplay&&(this._mediaPlayer.play(),n===this._mediaPlayerHandle.PlayerState.IDLE?this._eventEmitter.emit(u.l):this._firePlay=!0)}},{key:"setAutoplay",value:function(){}},{key:"getSrc",value:function(){return this._src}},{key:"setSrc",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setSrc.bind(this,e));this._src=e,this._src&&this.load()}},{key:"getVolume",value:function(){return this._mediaPlayer?this._mediaPlayer.getVolume():0}},{key:"setVolume",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setVolume.bind(this,e));this._mediaPlayer.setVolume(e),this._eventEmitter.emit(u.t)}},{key:"setMuted",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setMuted.bind(this,e));e?this._mediaPlayer.getHTMLVideoElement().setAttribute("muted",""):this._mediaPlayer.getHTMLVideoElement().removeAttribute("muted"),this._mediaPlayer.setMuted(e),this._eventEmitter.emit(u.t)}},{key:"getMuted",value:function(){return this._mediaPlayer&&this._mediaPlayer.isMuted()}},{key:"setChannel",value:function(e,t){var n=this;return t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.channelName&&n.setSrc(t)})}},{key:"setClip",value:function(){}},{key:"setVideo",value:function(e,t){var n=this;t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.videoId&&n.setSrc(t)})}},{key:"setQuality",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setQuality.bind(this,e));if("auto"===e)this._mediaPlayer.setAutoSwitchQuality(!0);else{var t=this._mediaPlayer.getQualities().find(function(t){return t.group===e});void 0!==t&&this._mediaPlayer.setQuality(t)}}},{key:"getQualities",value:function(){if(null===this._mediaPlayer)return[];var e=function(e){return Object.assign({},e,{bandwidth:e.bitrate})};return[G].concat(r(this._mediaPlayer.getQualities())).map(e)}},{key:"getQuality",value:function(){return null===this._mediaPlayer?null:this._mediaPlayer.getAutoSwitchQuality()?G.group:this._mediaPlayer.getQuality().group}},{key:"elapsedTime",value:function(){return null===this._mediaPlayer?0:this._mediaPlayer.getStartOffset()+this._mediaPlayer.getPosition()}},{key:"getCurrentTime",value:function(){return this._mediaPlayer?this._mediaPlayer.getPosition():0}},{key:"setCurrentTime",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setCurrentTime.bind(this,e));this._mediaPlayer.seekTo(e),this._eventEmitter.emit(u.q)}},{key:"getDuration",value:function(){return this._mediaPlayer?this._mediaPlayer.getDuration():0}},{key:"getNetworkProfile",value:function(){return this._mediaPlayer?this._mediaPlayer.getNetworkProfile():[]}},{key:"getBuffered",value:function(){if(null===this._mediaPlayer)return new X;var e=this._mediaPlayer.getBuffered();return new X(e.start,e.end)}},{key:"getReadyState",value:function(){return this._readyStateStatus}},{key:"getNetworkState",value:function(){return this._networkState}},{key:"getEnded",value:function(){return this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.ENDED}},{key:"getError",value:function(){return this._errorCode}},{key:"getVersion",value:function(){return this._mediaPlayer?this._mediaPlayer.getVersion():""}},{key:"getBackend",value:function(){return z}},{key:"play",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.play.bind(this));this._mediaPlayer.play(),this._firePlay=!1,this._eventEmitter.emit(u.l)}},{key:"pause",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.pause.bind(this));this._firePlay=!1,this._mediaPlayer.pause()}},{key:"getPaused",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.IDLE}},{key:"getSeeking",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.isSeeking()}},{key:"getVideoInfo",value:function(){var e=this.store.getState(),t=e.manifestInfo,n=e.window,r={broadcast_id:t.broadcast_id,cluster:t.cluster,manifest_cluster:t.manifest_cluster,manifest_node:t.manifest_node,manifest_node_type:t.manifest_node_type,node:t.node,serving_id:t.serving_id,user_ip:t.user_ip,vod_cdn_origin:t.origin,vod_cdn_region:t.region,stream_time_offset:parseFloat(t.stream_time),segment_protocol:"https:"===n.location.protocol?"https":"http"},i=this._mediaPlayer,a={};if(i){var o=i.getPlayerState(),s=i.getVideoBitRate()/1e3,u=i.getVideoFrameRate();a={bandwidth:s,current_bitrate:s,current_fps:_()(u),current_fps_exact:u,decoded_frames:i.getDecodedFrames(),dropped_frames:i.getDroppedFrames(),hls_latency_broadcaster:_()(i.getBroadcasterLatency()),hls_latency_encoder:_()(i.getTranscoderLatency()),hls_target_duration:5,paused:o===this._mediaPlayerHandle.PlayerState.IDLE,playing:o===this._mediaPlayerHandle.PlayerState.PLAYING,stream_time:i.getPosition(),totalMemoryNumber:64,vid_display_height:i.getDisplayHeight(),vid_display_width:i.getDisplayWidth(),vid_height:i.getVideoHeight(),vid_width:i.getVideoWidth(),video_buffer_size:i.getBufferDuration(),volume:i.getVolume()}}return Object.assign({},K,r,a)}},{key:"getBandwidthEstimate",value:function(){return this._mediaPlayer?this._mediaPlayer.getBandwidthEstimate():0}},{key:"setPlaybackRate",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setPlaybackRate.bind(this,e)),this._mediaPlayer.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this._mediaPlayer?this._mediaPlayer.getPlaybackRate():1}},{key:"getPlayed",value:function(){return new X}},{key:"getStatsEnabled",value:function(){return!1}},{key:"absAvailable",value:function(){return!0}},{key:"setLoop",value:function(){}},{key:"setVisible",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setVisible.bind(this,e));this._mediaPlayer.setVisible&&this._mediaPlayer.setVisible(e)}},{key:"setLiveLowLatencyEnabled",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setLiveLowLatencyEnabled.bind(this,e)),this._mediaPlayer.setLiveLowLatencyEnabled(e)}},{key:"setLiveMaxLatency",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setLiveMaxLatency.bind(this,e)),this._mediaPlayer.setLiveMaxLatency(e)}},{key:"setAutoMaxVideoSize",value:function(e,t){null===this._mediaPlayer&&this._apiCallQueue.push(this.setAutoMaxVideoSize.bind(this,e,t)),this._mediaPlayer.setAutoMaxVideoSize(e,t)}},{key:"destroy",value:function(){this._unsubscribes.forEach(function(e){return e()}),this._mediaPlayer?(this._mediaPlayer.delete(),this._mediaPlayer=null):this._apiCallQueue.push(this.destroy.bind(this))}},{key:"_retryStreamLoad",value:function(){var e=this,t=this.store.getState(),n=t.stream;return this.src="",n.resetNAuthToken(),n.streamUrl.then(function(t){e.setSrc(t),e.play()})}},{key:"_onAuthError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this._checkForDRMErrors(e),!this._errorCode){if(k()(e,"PREMIUM_CONTENT"))return void this._eventEmitter.emit(a.y);if(k()(e,"vod_manifest_restricted"))return void this._eventEmitter.emit(a.V);this.store.getState().onlineStatus===j.a||(this._hasRetried?(this.store.dispatch(Object(R.d)(x.a.CODES.CONTENT_NOT_AVAILABLE)),this.store.dispatch(Object(C.d)(s.n,{playback_error_code:8003,playback_error_msg:"fatal_auth_error"}))):(this._hasRetried=!0,this._retryStreamLoad(),this.store.dispatch(Object(C.d)(s.n,{playback_error_code:8004,playback_error_msg:"warn_auth_error"}))))}}},{key:"_retryVP9Error",value:function(e,t){var n=this._mediaPlayer.getQuality().codecs,r=e===this._mediaPlayerHandle.ErrorSource.DECODER,i=e===this._mediaPlayerHandle.ErrorSource.PLAYLIST&&t>=500;return!(-1===n.indexOf("vp09.")||!r&&!i)&&(this._vp9disabled=!0,this._retryStreamLoad(),!0)}},{key:"_checkForDRMErrors",value:function(e){if(k()(e,"content_geoblocked"))return this._errorCode=x.a.CODES.DRM_GEOBLOCKED,void this.store.dispatch(Object(R.d)(this._errorCode));var t=this.store.getState(),n=t.env,r=t.streamMetadata;return k()(e,"no_cdm_specified")&&n.platform!==q.a&&r.isEncrypted&&l.a.safari?(this._errorCode=7004,void this.store.dispatch(Object(R.d)(this._errorCode))):k()(e,"no_cdm_specified")?(this._errorCode=x.a.CODES.DRM_UNSUPPORTED_DEVICE,void this.store.dispatch(Object(R.d)(this._errorCode))):k()(e,"anonymizer_blocked")?(this._errorCode=x.a.CODES.DRM_UNBLOCKER,void this.store.dispatch(Object(R.d)(this._errorCode))):k()(e,"cellular_geoblocked")?(this._errorCode=x.a.CODES.DRM_CELLULAR_NETWORK_PROHIBITED,void this.store.dispatch(Object(R.d)(this._errorCode))):void 0}},{key:"_onOfflineError",value:function(){this.store.dispatch(Object(C.d)(s.n,{playback_error_code:8002,playback_error_msg:"offline_error"})),this._eventEmitter.emit(a.q),this._eventEmitter.emit(u.f)}},{key:"_onCCUCapReached",value:function(){this._errorCode=x.a.CODES.CCU_CAP_REACHED,this.store.dispatch(Object(C.d)(s.n,{playback_error_code:x.a.CODES.CCU_CAP_REACHED,playback_error_msg:"ccu_cap_error"})),this.store.dispatch(Object(R.d)(this._errorCode))}},{key:"_handleNotAvailableError",value:function(e){return 509===e?this._onCCUCapReached():this._onOfflineError()}},{key:"onMediaplayerInitialized",value:function(){this._eventEmitter.emit(a.w)}},{key:"onPlaying",value:function(){this._readyStateStatus<=T.a&&(this._readyStateStatus=T.b),this.sendPerformanceEvent(A.q),this._eventEmitter.emit(u.h),this._eventEmitter.emit(u.n)}},{key:"onQualityChanged",value:function(){this._eventEmitter.emit(a.A,{quality:this._mediaPlayer.getQuality().group,isAuto:this._mediaPlayer.getAutoSwitchQuality()})}},{key:"onDurationChanged",value:function(){this._fireLoadedMetadata&&(this._fireLoadedMetadata=!1,this._eventEmitter.emit(u.i)),this._eventEmitter.emit(u.e)}},{key:"onPlaybackRateChanged",value:function(){this._eventEmitter.emit(u.o,this._mediaPlayer.getPlaybackRate())}},{key:"onRebuffering",value:function(){this._readyStateStatus=T.a,this._eventEmitter.emit(u.u)}},{key:"onTimeUpdate",value:function(){this._eventEmitter.emit(u.s)}},{key:"onBufferUpdate",value:function(){this._eventEmitter.emit(a.a,this._mediaPlayer.getBuffered())}},{key:"onSeekCompleted",value:function(){this._eventEmitter.emit(u.c),this._eventEmitter.emit(u.p)}},{key:"onTrackingEvent",value:function(e){var t=this,n=e.name,r=e.properties;"video_error"!==n&&"abs_stream_format_change"!==n&&"buffer_2_seconds"!==n||(r.broadcast_id=this.store.getState().streamMetadata.broadcastID,r.manifest_broadcast_id=this.store.getState().manifestInfo.broadcast_id,this.store.dispatch(Object(C.d)(n,r))),k()(Q,n)&&this._untrustedTier1Experiment.then(function(e){"send"===e&&t.store.dispatch(Object(C.d)("x_untrusted_"+n,r))})}},{key:"onPerformanceTimedEvent",value:function(e){this.store.dispatch(Object(A.w)(e.name,e.time))}},{key:"onBuffering",value:function(){this._readyStateStatus=T.a,this._networkState=O.c}},{key:"onIdle",value:function(){this._readyStateStatus=T.d,this._networkState=O.b,this._eventEmitter.emit(u.k),this._firePlay&&(this._firePlay=!1,this._eventEmitter.emit(u.l))}},{key:"onEnded",value:function(){this._readyStateStatus=T.d,this._networkState=O.a,this._eventEmitter.emit(u.f)}},{key:"onReady",value:function(){var e=this,t=this.store.getState(),n=t.analytics,r=t.quality;this._hasRetried=!1,this._readyStateStatus=T.c,this._networkState=O.b,this.store.dispatch(Object(C.d)(o.h,{time_since_load_start:Date.now()-n.playSessionStartTime}));var i=b()(this._mediaPlayer.getManifestInfo(),function(e,t,n){return e[n.toLowerCase().replace(/-/g,"_")]=t,e},{});this._eventEmitter.emit(a.o,i),this._eventEmitter.emit(u.c),this._fireLoadedMetadata=!0,this._vp9disabled=!1,Promise.all([this._costSavingExperiment,Object(I.F)()]).then(function(t){var n=V(t,2),i=n[0],a=n[1];if(a.requestInfo&&"KR"===a.requestInfo.countryCode){var o=e._mediaPlayer.getQualities(),s=o.sort(function(e,t){return t.bitrate-e.bitrate});if(s.length>1){var u=s[1];e._mediaPlayer.setAutoMaxBitrate(u.bitrate)}if("fa"===i){Date.now()-B.a.get(F.l,0)>=864e5&&r.selected===F.k&&(e.store.dispatch(Object(F.n)(F.i)),e.store.dispatch(Object(F.r)(F.j)))}}})}},{key:"onID3",value:function(e){var t=y()(e,function(e){return"TOFN"===e.id}),n=y()(e,function(e){return"TXXX"===e.id});if(t&&this._eventEmitter.emit(a.E,{name:t.info[0]}),n&&"content"!==n.desc){var r=JSON.parse(n.info[0]);"commercial"===r.cmd&&this._eventEmitter.emit(a.p,{duration:r.length})}}},{key:"onCaption",value:function(e){this._currentCaptionData=e,this._eventEmitter.emit(a.b)}},{key:"onMetadataCueEnter",value:function(e){if("string"==typeof e)try{var t=JSON.parse(e);"twitch-stitched-ad"===t.CLASS&&this._eventEmitter.emit(a.H,t)}catch(e){}else"twitch-stitched-ad"===e.CLASS&&this._eventEmitter.emit(a.H,e)}},{key:"onMetadataCueExit",value:function(e){if("string"==typeof e)try{"twitch-stitched-ad"===JSON.parse(e).CLASS&&this._eventEmitter.emit(a.G)}catch(e){}else"twitch-stitched-ad"===e.CLASS&&this._eventEmitter.emit(a.G)}},{key:"onPlaybackBlocked",value:function(){this._eventEmitter.emit(u.m)}},{key:"onAudioBlocked",value:function(){this._eventEmitter.emit(u.b)}},{key:"onVariantManifestRequest",value:function(){var e=this.store.getState(),t=e.performance,n=y()(t.otherMetrics,function(e){return e.name===A.l}),r=y()(t.timedMilestones,function(e){return e.name===A.k}),i=n&&n.value?n.value:0;r||this.sendPerformanceEvent(A.k),this.store.dispatch(Object(A.v)(A.l,i+1))}},{key:"onVariantManifestReady",value:function(){var e=this.store.getState(),t=e.performance,n=y()(t.otherMetrics,function(e){return e.name===A.j}),r=y()(t.timedMilestones,function(e){return e.name===A.i}),i=n&&n.value?n.value:0;r||this.sendPerformanceEvent(A.i),this.store.dispatch(Object(A.v)(A.j,i+1))}},{key:"onTwitchInfo",value:function(e){var t=e.twitchInfo,n={};Object.keys(t).forEach(function(e){var r=e.toLowerCase().replace(/-/g,"_");n[r]=t[e]}),this.store.dispatch(Object(M.b)(n))}},{key:"onTimedMetadata",value:function(e){this._eventEmitter.emit(a.L,e)}},{key:"_attachPlayerEventListeners",value:function(e){var t=e.PlayerEvent;this._mediaPlayer.addEventListener(t.INITIALIZED,this.onMediaplayerInitialized.bind(this)),this._mediaPlayer.addEventListener(t.QUALITY_CHANGED,this.onQualityChanged.bind(this)),this._mediaPlayer.addEventListener(t.DURATION_CHANGED,this.onDurationChanged.bind(this)),this._mediaPlayer.addEventListener(t.PLAYBACK_RATE_CHANGED,this.onPlaybackRateChanged.bind(this)),this._mediaPlayer.addEventListener(t.REBUFFERING,this.onRebuffering.bind(this)),this._mediaPlayer.addEventListener(t.TIME_UPDATE,this.onTimeUpdate.bind(this)),this._mediaPlayer.addEventListener(t.BUFFER_UPDATE,this.onBufferUpdate.bind(this)),this._mediaPlayer.addEventListener(t.SEEK_COMPLETED,this.onSeekCompleted.bind(this)),this._mediaPlayer.addEventListener(t.TRACKING,this.onTrackingEvent.bind(this)),this._mediaPlayer.addEventListener(t.PERFORMANCE_EVENT,this.onPerformanceTimedEvent.bind(this)),this._mediaPlayer.addEventListener(t.PLAYBACK_BLOCKED,this.onPlaybackBlocked.bind(this)),this._mediaPlayer.addEventListener(t.AUDIO_BLOCKED,this.onAudioBlocked.bind(this)),this._mediaPlayer.addEventListener(t.TWITCH_INFO,this.onTwitchInfo.bind(this)),this._mediaPlayer.addEventListener(t.TIMED_METADATA,this.onTimedMetadata.bind(this)),this._mediaPlayer.addEventListener(t.METADATA_CUE_ENTER,this.onMetadataCueEnter.bind(this)),this._mediaPlayer.addEventListener(t.METADATA_CUE_EXIT,this.onMetadataCueExit.bind(this))}},{key:"_attachPlayerStateListeners",value:function(e){var t=e.PlayerState;this._mediaPlayer.addEventListener(t.PLAYING,this.onPlaying.bind(this)),this._mediaPlayer.addEventListener(t.BUFFERING,this.onBuffering.bind(this)),this._mediaPlayer.addEventListener(t.IDLE,this.onIdle.bind(this)),this._mediaPlayer.addEventListener(t.ENDED,this.onEnded.bind(this)),this._mediaPlayer.addEventListener(t.READY,this.onReady.bind(this))}},{key:"_attachErrorListeners",value:function(e){var t=this;this._mediaPlayer.addEventListener(e.PlayerEvent.ERROR,function(n){var r=n.type,i=n.source,a=n.code,o=n.message;switch(r){case e.ErrorType.NOT_AVAILABLE:return void t._handleNotAvailableError(a);case e.ErrorType.AUTHORIZATION:return void t._onAuthError(o);case e.ErrorType.NOT_SUPPORTED:t._errorCode=x.a.CODES.FORMAT_NOT_SUPPORTED;break;case e.ErrorType.NETWORK:if(t._retryVP9Error(i,a))return;t._errorCode=x.a.CODES.NETWORK;break;case e.ErrorType.NETWORK_IO:t._errorCode=x.a.CODES.NETWORK;break;default:if(i===e.ErrorSource.DECODER){if(t._retryVP9Error(i,a))return;t._errorCode=x.a.CODES.DECODE}else console.error("MediaPlayer failed",r),t._errorCode=x.a.CODES.ABORTED}t.store.dispatch(Object(C.d)(s.n,{playback_error_code:8001,playback_error_msg:"fatal_error"})),t.store.dispatch(Object(R.d)(t._errorCode))})}},{key:"_attachMetadataListeners",value:function(e){var t=e.MetadataEvent;this._mediaPlayer.addEventListener(t.ID3,this.onID3.bind(this)),this._mediaPlayer.addEventListener(t.CAPTION,this.onCaption.bind(this))}},{key:"_attachProfilingListeners",value:function(e){var t=this;this._mediaPlayer.addEventListener(e.PlayerEvent.PROFILE,function(n){switch(n){case e.Profile.PLAYER_LOADED_IN_WORKER:t.sendPerformanceEvent(A.h);break;case e.Profile.HLS_MASTER_PLAYLIST_REQUEST:t.sendPerformanceEvent(A.f);break;case e.Profile.HLS_MASTER_PLAYLIST_READY:t.sendPerformanceEvent(A.e);break;case e.Profile.HLS_MEDIA_PLAYLIST_REQUEST:t.onVariantManifestRequest();break;case e.Profile.HLS_MEDIA_PLAYLIST_READY:t.onVariantManifestReady();break;case e.Profile.MIN_BUFFER_READY:t.sendPerformanceEvent(A.g);break;case e.Profile.VIDEO_ELEMENT_PLAY:t.sendPerformanceEvent(A.m)}})}},{key:"_attachInternalListeners",value:function(e){this._attachPlayerEventListeners(e),this._attachPlayerStateListeners(e),this._attachErrorListeners(e),this._attachMetadataListeners(e),this._attachProfilingListeners(e)}},{key:"sendPerformanceEvent",value:function(e){var t=this.store.getState(),n=t.window;this.store.dispatch(Object(A.w)(e,n.performance.now()))}}]),e}();$.canPlay=function(){return S.a.canLoadMediaplayer()};var X=function(){function e(t,n){i(this,e),this.length=void 0===t?0:1,this._start=t,this._end=n}return H(e,[{key:"start",value:function(){return this._start}},{key:"end",value:function(){return this._end}}]),e}()},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"i",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"k",function(){return s}),n.d(t,"l",function(){return u}),n.d(t,"m",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return y});var r="video_ad_impression",i="video_ad_impression_complete",a="video_ad_request",o="video_ad_request_declined",s="video_ad_request_error",u="video_ad_request_response",c="video_ad_skipped",l="video_ad_error",d="video_ad_loaded",f="playback_error",p="video_ad_auction",h="video_ad_auction_response",m="video_ad_auction_error",y="video_ad_auction_init_error"},function(e,t,n){"use strict";function r(e){return{type:s,videoStats:e}}function i(e){return{type:u,adStats:e}}function a(e){return{type:o,displayState:e}}n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return c}),t.g=r,t.f=i,t.e=a;var o="display stats",s="update stats",u="update ad stats",c=1e3},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(14),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c={fill:o.a.string,viewBox:o.a.string},l=function(e){return i.a.createElement(s.a,u({viewBox:"0 0 30 30"},e),i.a.createElement("path",{d:"M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z",fill:e.fill}))};l.propTypes=c},function(e,t,n){var r=n(38),i=r.Symbol;e.exports=i},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){this._host=e.host}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return function(t){return G.v3(t,0)/4294967295<=e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return e.stream instanceof W.b?Promise.resolve(E()({},ge,{ns_st_ci:e.streamMetadata.broadcastID,ns_st_cl:0,ns_st_st:e.streamMetadata.channel.displayName,ns_st_ep:e.streamMetadata.channel.status,ns_st_ge:ye[e.streamMetadata.game]||ve,ns_st_ddt:b(new Date(e.streamMetadata.createdAt)),ns_st_ce:!0})):e.stream instanceof le.b?Object(ce.C)(e.stream.videoId).then(function(e){return E()({},ge,{ns_st_ci:e.broadcast_id,ns_st_cl:1e3*e.length,ns_st_st:e.channel.display_name,ns_st_ep:e.title,ns_st_ge:ye[e.game]||ve,ns_st_ddt:b(new Date(e.recorded_at)),ns_st_ce:"archive"===e.broadcast_type})}):e.stream instanceof de.b?Object(ce.f)(e.stream.slug).then(function(e){return E()({},ge,{ns_st_ci:String(re()(e,"clip.id",""))+String(re()(e,"clip.broadcaster.id","")),ns_st_cl:1e3*re()(e,"clip.durationSeconds",1),ns_st_st:re()(e,"clip.video.creator.displayName",""),ns_st_ep:re()(e,"clip.title",""),ns_st_ge:ye[re()(e,"clip.game.name","")]||ve,ns_st_ddt:te()(e.clip,"createdAt")?b(new Date(e.clip.createdAt)):"",ns_st_ce:!1})}):Promise.reject(new Error("No stream is currently playing; no metadata is available."))}function f(e){return e.stream instanceof W.b?e.streamMetadata.channel.partner?ue.a.StreamingTag.ContentType.Live:ue.a.StreamingTag.ContentType.UserGeneratedLive:e.stream instanceof le.b?Object(ce.C)(e.stream.videoId).then(function(e){var t=1e3*e.length>=be;return e.partner?t?ue.a.StreamingTag.ContentType.LongFormOnDemand:ue.a.StreamingTag.ContentType.ShortFormOnDemand:t?ue.a.StreamingTag.ContentType.UserGeneratedLongFormOnDemand:ue.a.StreamingTag.ContentType.UserGeneratedShortFormOnDemand}):e.stream instanceof de.b?Object(ce.f)(e.stream.slug).then(function(e){return e.clip.broadcaster.roles.isPartner?ue.a.StreamingTag.ContentType.ShortFormOnDemand:ue.a.StreamingTag.ContentType.UserGeneratedShortFormOnDemand}):ue.a.StreamingTag.ContentType.Other}function p(e){return{ns_st_cl:(1e3*e.time_break).toString()}}function h(e,t){if(e.stream instanceof W.b)return ue.a.StreamingTag.AdType.LinearLive;if(e.stream instanceof le.b)switch(t.roll_type){case oe.c:return ue.a.StreamingTag.AdType.LinearOnDemandPreRoll;case oe.a:return ue.a.StreamingTag.AdType.LinearOnDemandMidRoll;case oe.b:return ue.a.StreamingTag.AdType.LinearOnDemandPostRoll}return ue.a.StreamingTag.AdType.Other}function m(e,t){var n=e.gdprConsent;return t&&!n.vendors.comscore.hasUserSavedGDPRConsent?{cs_ucfr:null}:{cs_ucfr:n.vendors.comscore.consent}}function y(e,t){var n=E()({},e,t);return Z()(n,function(e,t,n){return e[n]=v(t),e},{})}function v(e){switch(e){case!0:return"1";case!1:return"0";case null:return"*null"}return String(e)}function b(e){return e.getUTCFullYear()+"-"+X()(e.getUTCMonth()+1,2,"0")+"-"+X()(e.getUTCDate(),2,"0")}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){var t=String(e).trim(),n=t.indexOf(" ");return n>0?t.slice(0,n):t}var k=n(6),E=n.n(k),S=n(32),P=n.n(S),T=n(26),O=n.n(T),C=n(59),x=n.n(C),R=n(92),j=n.n(R),A=n(7),I=n.n(A),N=n(253),M=n(178),L=n(321),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=[5,15,45],B=function(){function e(){a(this,e)}return q(e,[{key:"setPeriods",value:function(){}},{key:"getPeriods",value:function(){return[]}},{key:"start",value:function(){}},{key:"reset",value:function(){}},{key:"onNSecondPlay",value:function(){}},{key:"destroy",value:function(){}}]),e}(),U=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._timeoutIds=[],n._callbacks=[],n._periods=D,n._window=e,n}return i(t,e),q(t,[{key:"setPeriods",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.reset(),this._periods=e}},{key:"getPeriods",value:function(){return this._periods.slice()}},{key:"start",value:function(){var e=this;this._periods.forEach(function(t,n){var r=e._window.setTimeout(function(){return e._timeoutHandler(t)},1e3*t);e._timeoutIds[n]=r})}},{key:"reset",value:function(){var e=this;this._timeoutIds.forEach(function(t){e._window.clearTimeout(t)}),this._timeoutIds=[]}},{key:"_timeoutHandler",value:function(e){this._callbacks.forEach(function(t){t(e)})}},{key:"onNSecondPlay",value:function(e){this._callbacks.push(e)}},{key:"destroy",value:function(){this.reset(),this._callbacks=[],this._window=null,this._periods=[]}}]),t}(B),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),V=function(){function e(){o(this,e),this.initialDelay=0,this._remainingDelay=this.initialDelay,this._timeout=null,this._timoutStart=null,this.totalMinutes=0,this._events=function(){}}return F(e,[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"reset",value:function(){}},{key:"on",value:function(){}},{key:"off",value:function(){}},{key:"destroy",value:function(){}},{key:"_tick",value:function(){}},{key:"_scheduleTick",value:function(){}},{key:"isCurrentlyTracking",value:function(){}}]),e}(),H=n(21),z=n(39);s.prototype._trackEvent=function(e){(new Image).src=e},s.prototype.trackVODView=function(e){this._trackEvent(e.increment_view_count_url)},s.prototype.trackView=function(e,t){var n={type:e,id:t},r={u:JSON.stringify(n)},i=this._host+"/ping.gif?"+Object(z.stringify)(r);this._trackEvent(i)};var W=n(9),G=n(503),K=n(41),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=function(){function e(t,n,r,i){u(this,e),this._analytics=t,this._sample=c(n),this._player=r,this._store=i,r.addEventListener(K.E,this._onSegmentChange.bind(this))}return Y(e,[{key:"_segmentName",value:function(e){var t=this._store.getState(),n=t.stream,r=t.quality;return(n.contentType===W.a?n.channel.toLowerCase():"")+","+r.current+","+e}},{key:"_onSegmentChange",value:function(e){var t=this._segmentName(e.name);this._sample(t)&&this._store.getState().stream.contentType===W.a&&this._analytics.trackEvent("latency_report_playback",{segment:t,broadcaster_send:e.broadcaster_send,ingest_receive:e.ingest_receive,ingest_send:e.ingest_send,transcode_receive:e.transcode_receive,transcode_send:e.transcode_send,playback_start:e.playback_start})}}]),e}(),$=n(504),X=n.n($),J=n(98),Z=n.n(J),ee=n(151),te=n.n(ee),ne=n(33),re=n.n(ne),ie=n(27),ae=n(72),oe=n(51),se=n(291),ue=n.n(se),ce=n(12),le=n(10),de=n(99),fe=n(205),pe=n(16),he=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ye={Creative:"Creative",Poker:"Poker",Music:"Music"},ve="Gaming",be=6e5,ge={ns_st_cl:null,ns_st_st:null,ns_st_pu:null,ns_st_pr:null,ns_st_ep:null,ns_st_sn:null,ns_st_en:null,ns_st_ge:null,ns_st_ti:null,ns_st_ia:!1,ns_st_ce:!1,ns_st_ddt:null,ns_st_tdt:null,c3:"TWITCH",c4:"twitch.tv",c6:null},_e=function(){function e(t,n,r){l(this,e),this.analytics=t,this.player=n,this.store=r,this.ended=!1;var i=r.getState(),a=i.window;n.addEventListener(ie.n,this.onPlaying.bind(this)),n.addEventListener(ie.k,this.onPause.bind(this)),n.addEventListener(ie.q,this.onSeeking.bind(this)),n.addEventListener(ie.f,this.onEnded.bind(this)),n.addEventListener(ae.AD_START,this.onAdStart.bind(this)),n.addEventListener(ae.AD_IMPRESSION,this.onAdImpression.bind(this)),n.addEventListener(ae.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this)),n.addEventListener(ae.AD_END,this.onAdEnd.bind(this)),a.addEventListener("beforeunload",this)}return me(e,[{key:"handleEvent",value:function(e){switch(e.type){case"beforeunload":this._stop()}}},{key:"onPlaying",value:function(){var e=this.store.getState();e.ads.currentMetadata.contentType===pe.i.NONE&&Promise.all([d(e),f(e),Object(ce.n)()]).then(function(t){var n=he(t,3),r=n[0],i=n[1],a=n[2],o=m(e,a);e.comscore.streamingTag.playVideoContentPart(y(r,o),i)}),this.ended=!1}},{key:"onPause",value:function(){this.store.getState().ads.currentMetadata.contentType===pe.i.NONE&&this._stop()}},{key:"onSeeking",value:function(){this.analytics.hasPlayed&&!this.player.paused&&(this.ended?(this.store.dispatch(Object(fe.b)()),this.ended=!1):this._stop())}},{key:"onEnded",value:function(){this._stop(),this.ended=!0}},{key:"onAdStart",value:function(e){e.roll_type!==oe.b&&this._stop()}},{key:"onAdImpression",value:function(e){var t=this.store.getState();Object(ce.n)().then(function(n){var r=m(t,n);t.comscore.streamingTag.playVideoAdvertisement(y(p(e),r),h(t,e))})}},{key:"onAdImpressionComplete",value:function(){this._stop()}},{key:"onAdEnd",value:function(e){e.roll_type!==oe.b&&this.onPlaying()}},{key:"onBeforeUnload",value:function(){this._stop()}},{key:"destroy",value:function(){this._stop()}},{key:"_stop",value:function(){this.store.getState().comscore.streamingTag.stop()}}]),e}(),we=n(275),ke=n(40),Ee=n.n(ke),Se=n(17),Pe=n(206),Te=n(23),Oe=n(111),Ce=n(18),xe=n(292),Re=n(5),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ae=function(){function e(t){g(this,e),this._channelName=null,this._store=t,this._subscriptions=[],this._timers=[];var n=this._store.getState();this._window=n.window,this._initializeEventListeners()}return je(e,[{key:"attemptToResumeTimers",value:function(){var e=this._store.getState(),t=re()(e,"stream.contentType")===W.a,n=re()(e,"ads.currentMetadata.contentType")===pe.i.NONE;t&&n&&re()(e,"playback.playing")&&!re()(e,"playback.isLoading")&&this._timers.forEach(function(e){return e.start()})}},{key:"attemptToFetchPixels",value:function(){var e=this._store.getState(),t=re()(e,"stream.contentType"),n=re()(e,"onlineStatus");if(this.cancelTimers(),t===W.a&&n===Te.b&&this.isPlayerTrackable()){var r=re()(e,"stream.channel"),i=re()(e,"gdprConsent.vendors");this._store.dispatch(Object(Pe.b)(r,i))}}},{key:"cancelTimers",value:function(){this._timers.forEach(function(e){return e.destroy()}),this._timers=[]}},{key:"createTimer",value:function(e){var t=this,n=new xe.b(function(){t.trackPixel(e),t._timers.shift()},1e3*e.timeOffsetSeconds,this._window);this._timers.push(n)}},{key:"destroy",value:function(){this._subscriptions.forEach(function(e){return e()}),this.cancelTimers()}},{key:"onAdContentTypeChange",value:function(){var e=this._store.getState();re()(e,"ads.currentMetadata.contentType")===pe.i.NONE?this.attemptToResumeTimers():this.pauseTimers()}},{key:"onGDPRChange",value:function(){this.attemptToFetchPixels()}},{key:"onOnlineStatusChange",value:function(){this.attemptToFetchPixels()}},{key:"onLoadingChange",value:function(){var e=this._store.getState();re()(e,"playback.isLoading")?this.pauseTimers():this.attemptToResumeTimers()}},{key:"onPixelsChange",value:function(e){var t=this,n=e.pixel;this.cancelTimers(),this.isPlayerTrackable()&&(n.pixels.forEach(function(e){return t.createTimer(e)}),this.attemptToResumeTimers())}},{key:"onPlayerTypeChange",value:function(){this.attemptToFetchPixels()}},{key:"onPlayingChange",value:function(){var e=this._store.getState();re()(e,"playback.playing")?this.attemptToResumeTimers():this.pauseTimers()}},{key:"isPlayerTrackable",value:function(){var e=this._store.getState(),t=re()(e,"env.playerType");return t!==Re.E&&t!==Re.x}},{key:"pauseTimers",value:function(){this._timers.forEach(function(e){return e.pause()})}},{key:"trackPixel",value:function(e){var t=this,n={pixel_url:e.url,pixel_type:e.type,pixel_channel_id:e.channelId,pixel_time_offset_seconds:e.timeOffsetSeconds,pixel_origin:e.origin,pixel_service:e.service,pixel_rejected:!1,pixel_device_id:Oe.a(!1)};fetch(e.url,{cache:"no-store",mode:"no-cors"}).then(function(){t._store.dispatch(Object(Se.d)("tracking_pixel_fired",n))}).catch(function(e){var r={pixel_rejected:!0,pixel_rejected_reason:e.status};t._store.dispatch(Object(Se.d)("tracking_pixel_fired",Ee()({},n,r)))})}},{key:"_initializeEventListeners",value:function(){this._subscriptions.push(Object(Ce.a)(this._store,["onlineStatus"],this.onOnlineStatusChange.bind(this))),this._subscriptions.push(Object(Ce.a)(this._store,["playback.playing"],this.onPlayingChange.bind(this))),this._subscriptions.push(Object(Ce.a)(this._store,["playback.isLoading"],this.onLoadingChange.bind(this))),this._subscriptions.push(Object(Ce.a)(this._store,["pixel.pixels"],this.onPixelsChange.bind(this))),this._subscriptions.push(Object(Ce.a)(this._store,["gdprConsent.vendors"],this.onGDPRChange.bind(this))),this._subscriptions.push(Object(Ce.a)(this._store,["env.playerType"],this.onPlayerTypeChange.bind(this))),this._subscriptions.push(Object(Ce.a)(this._store,["ads.currentMetadata.contentType"],this.onAdContentTypeChange.bind(this)))}}]),e}(),Ie=Ae,Ne=n(11),Me=n(25),Le=n(114),qe=n(207),De=n(113),Be=n(62),Ue=n(43),Fe=n(44);n.d(t,"e",function(){return ze}),n.d(t,"g",function(){return We}),n.d(t,"j",function(){return Ge}),n.d(t,"i",function(){return Ke}),n.d(t,"h",function(){return Ye}),n.d(t,"f",function(){return Qe}),n.d(t,"b",function(){return $e}),n.d(t,"d",function(){return Xe}),n.d(t,"c",function(){return Je}),n.d(t,"a",function(){return tt});var Ve=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),He=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ze="rebroadcast",We="video_play_load_start",Ge="video_play_oauth",Ke="video_play_nauth",Ye="video_play_master_manifest",Qe="site_mini_player_action",$e="watch_party",Xe="watch_party_rerun",Je="watch_party_premiere",Ze=Object.freeze({segment_protocol:"https"}),et=[30],tt=function(){function e(t,n,r,i){_(this,e);var a=r.getState(),o=a.experiments;this.player=t,this.tracker=n,this.store=r,this.options=i,this.firstPlayAutoMuted=!1,this.hasPlayed=!1,this.playbackBlocked=!1,this.bufferEmptyStartTime=null,this.bufferEmptyCount=0,this.lastNetworkProfile=-1/0,this.lastSeekTime=null,this.timeStampBeforeSeek=0,this.isSeekInProgress=!1,this.trackNetworkProfile=o.get(Me.g),this.nSecondPlayTimer=new B,this.countessTracker=new s({host:Ne.j}),this.comscore=new _e(this,this.player,this.store),this.nielsen=new we.b(this.player,this.store),this.latencyTracker=new Q(this,.001,this.player,this.store),this.pixel=new Ie(this.store),this.initProperties(),this.initEvents(),this.unsubscribes=[],this.unsubscribes.push(this._subscribeCaptions(this.store)),this.unsubscribes.push(Object(Ce.a)(this.store,["quality.current","quality.selected"],this.onQualityChange.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["collection.id"],this.onCollectionChange.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["playback.ended"],this.onPlaybackEnded.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["error"],this.onError.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["stream"],this.onStreamChange.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["streamMetadata.game"],this.onStreamMetadataGameUpdate.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["watchParty.vodId"],this.onWatchPartyVodChange.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["watchParty.watchPartyId"],this.onWatchPartyChange.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["chromecast.castingState"],this.onCastingChange.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["streamMetadata.isEncrypted","env.playerType"],this.onStreamMetadataAndEnv.bind(this))),this.unsubscribes.push(Object(Ce.a)(this.store,["ads.currentSubscriptionBenefit"],this.onSubscriptionBenefitChange.bind(this))),this.onError(),this.onStreamMetadataAndEnv()}return He(e,[{key:"_subscribeCaptions",value:function(e){var t=this;return Object(Ce.a)(e,["captions"],function(e,n){var r=e.captions,i=n.captions;r.preset!==i.preset&&t.trackEvent("player_caption_preset",{captions_preset:r.preset})})}},{key:"initProperties",value:function(){this.tracker.setProperties({content_id:"",customer_id:""}),this.tracker.setProperties(Object(ce.F)().then(function(e){return{login:e.currentUser?e.currentUser.login:void 0,turbo:!!e.currentUser&&Boolean(e.currentUser.hasTurbo)}})),this.tracker.setProperties(Object(ce.u)().then(function(e){return{user_id:e._id,staff:"staff"===e.type}}))}},{key:"initMinutesWatchedTimer",value:function(){I()(Re.c,this.store.getState().env.playerType)?this.minutesWatchedTimer=new V:(this.minutesWatchedTimer=new L.b,this.minutesWatchedTimer.on(L.a,this.onMinuteWatched.bind(this)))}},{key:"initNSecondPlayTimer",value:function(){var e=this.store.getState(),t=e.window,n=e.playerOptions;this.nSecondPlayTimer=new U(t),this.nSecondPlayTimer.onNSecondPlay(this.onNSecondPlay.bind(this)),n.nSecondPlayPeriods.length>0?this.nSecondPlayTimer.setPeriods(n.nSecondPlayPeriods):this.nSecondPlayTimer.setPeriods(et)}},{key:"initEvents",value:function(){this.initMinutesWatchedTimer(),this.player.addEventListener(K.w,this.onBackendInit.bind(this)),this.player.addEventListener(ie.j,this.onLoadStart.bind(this)),this.player.addEventListener(ie.k,this.onPause.bind(this)),this.player.addEventListener(ie.u,this.onWaiting.bind(this)),this.player.addEventListener(ie.n,this.onPlaying.bind(this)),this.player.addEventListener(ie.m,this.onPlaybackBlocked.bind(this)),this.player.addEventListener(ie.n,this.onQualityChange.bind(this)),this.player.addEventListener(ie.f,this.onEnded.bind(this)),this.player.addEventListener(ie.q,this.onSeeking.bind(this)),this.player.addEventListener(ie.s,this.onTimeUpdate.bind(this)),this.player.addEventListener(ie.c,this.onCanPlay.bind(this))}},{key:"getNetworkProfileStats",value:function(e){function t(e,t){return e+t}if(0===e.length)return{};var n=e.map(function(e){return e.firstByteLatency}).reduce(t),r=e.map(function(e){return e.segmentDuration}).reduce(t),i=e.map(function(e){return e.downloadDuration}).reduce(t),a=e.map(function(e){return e.bytes}).reduce(t);return{transport_segments:e.length,transport_first_byte_latency:n,transport_segment_duration:r,transport_download_duration:i,transport_download_bytes:a}}},{key:"_getBaseMinuteWatchedProperties",value:function(){var e=this.store.getState(),t=e.analytics,n=e.captions,r=e.collection,i=e.lang,a=e.manifestInfo,o=e.performance,s=e.stream,u=e.streamMetadata,c=e.playback,l=e.window,d={autoplayed:this.options.autoplay,broadcast_id:u.broadcastID,captions_enabled:n.enabled,language:i.langCode,manifest_broadcast_id:a.broadcast_id,minutes_logged:this.minutesWatchedTimer.totalMinutes,clock_drift:this.minutesWatchedTimer.clockDrift,player_size_mode:this._getPlayerDisplayMode(),quality_change_count:t.qualityChangeCount,seconds_offset:this.minutesWatchedTimer.initialDelay/1e3,streamType:u.streamType,tab_session_id:Object(N.b)(),time_spent_hidden:parseInt(o.timeHidden,10),transcoder_type:a.transcodestack,auto_muted:this.firstPlayAutoMuted,device_pixel_ratio:l.devicePixelRatio,estimated_bandwidth:this.player.getBandwidthEstimate()};if(s.contentType===le.a&&(E()(d,{vod_timestamp:c.currentTime}),r.id)){this.store.dispatch(Object(Ue.t)());var f=H.b.get(Ue.k),p=f?f[Ue.j]:"";E()(d,{collection_item_position:j()(r.items,{itemId:s.videoId.substr(1)}),collection_id:r.id,collection_session_id:p})}return d}},{key:"trackEvent",value:function(e,t){var n=E()({},Ze,this.player.getVideoInfo()),r=P()({},O()(n,["bandwidth","cluster","current_bitrate","current_fps","decoded_frames","dropped_frames","hls_latency_broadcaster","hls_latency_encoder","hls_latency_broadcaster_send_time","hls_latency_ingest_receive_time","hls_latency_ingest_send_time","hls_latency_transcode_receive_time","hls_latency_transcode_send_time","hls_target_duration","manifest_cluster","manifest_node","manifest_node_type","serving_id","node","user_ip","vid_display_height","vid_display_width","vid_height","vid_width","video_buffer_size","vod_cdn_origin","vod_cdn_region"]),{volume:this.player.getVolume(),muted:this.player.getMuted(),is_https:"https"===n.segment_protocol},t);this.tracker.trackEvent(e,r)}},{key:"onMinuteWatched",value:function(){var e=this,t=this.player.getNetworkProfile().filter(function(e){return e.startTime>this.lastNetworkProfile}.bind(this));this.lastNetworkProfile=t.reduce(function(e,t){return Math.max(e,t.startTime)},this.lastNetworkProfile);var n=this.getNetworkProfileStats(t),r=this._getBaseMinuteWatchedProperties(),i=P()({},r,n);this.trackEvent(qe.b.MINUTE_WATCHED,i),this.store.dispatch(Object(Le.i)()),this.trackNetworkProfile.then(function(n){"yes"===n&&t.length>0&&e.tracker.trackEvents(t.map(function(e){return{event:"network_profile",properties:{bytes:e.bytes,duration:e.segmentDuration,time:e.startTime+e.firstByteLatency+e.downloadDuration,time_to_first_byte:e.firstByteLatency,download_duration:e.downloadDuration,curr_buffer_length:e.currBufferLength,reason_code:e.reasonCode,curr_quality:e.currQuality}}}))})}},{key:"onSubscriptionBenefitChange",value:function(e){var t=e.ads;this.tracker.setProperty("subscriber",Boolean(t.currentSubscriptionBenefit))}},{key:"onStreamMetadataAndEnv",value:function(){var e=this.store.getState(),t=e.streamMetadata,n=e.env;(t.isEncrypted||I()(Re.b,n.playerType))&&this.nSecondPlayTimer instanceof B?this.initNSecondPlayTimer():(this.nSecondPlayTimer.destroy(),this.nSecondPlayTimer=new B)}},{key:"onNSecondPlay",value:function(e){var t=P()({},this._getBaseMinuteWatchedProperties(),{seconds_after_play:e});this.trackEvent(qe.a,t)}},{key:"onBackendInit",value:function(){this.tracker.setProperty("backend",this.player.getBackend()),this.tracker.setProperty("backend_version",this.player.getVersion()),this.tracker.trackEvent("video_init")}},{key:"onLoadStart",value:function(){this.player.getChannel()?this.onLoadChannel():this.player.getVideo()&&this.onLoadVideo(),this.minutesWatchedTimer.destroy(),this.initMinutesWatchedTimer(),this.hasPlayed=!1,this.playbackBlocked=!1,this.bufferEmptyCount=0,this.bufferEmptyStartTime=null,this.firstPlayAutoMuted=!1}},{key:"onLoadChannel",value:function(){var e=this.player.getChannel(),t=Object(ce.a)(e),n=Object(ce.b)(e);t.then(function(e){this.countessTracker.trackView("channel",e._id)}.bind(this));var r=Promise.all([t,n]).then(function(e){var t=Ve(e,2),n=t[0],r=t[1],i=r.channel&&r.channel.stream?r.channel.stream:{},a=i.broadcasterSoftware,o=Object(M.b)(a),s=o.live,u=o.contentMode;return{broadcaster_software:a,live:s,channel:n.name,channel_id:n._id,game:n.game,content_mode:u,partner:n.partner,vod_type:void 0}});this.tracker.setProperties(r)}},{key:"onLoadVideo",value:function(){var e=this.player.getVideo(),t=Object(ce.C)(e);this.tracker.setProperties(t.then(function(e){return Object(ce.a)(e.channel.name)}).then(function(e){return O()(e,"partner")}));var n=t.then(function(e){return{channel:e.channel.name,channel_id:e.channel._id,vod:e._id,vod_id:e._id,vod_type:e.broadcast_type,game:e.game,live:!1,content_mode:"vod"}});this.tracker.setProperties(n)}},{key:"onWaiting",value:function(){var e=this.store.getState(),t=e.manifestInfo,n=e.streamMetadata;this.player.getSeeking()||(this.bufferEmptyStartTime=(new Date).getTime(),this.bufferEmptyCount++,this.trackEvent(qe.b.BUFFER_EMPTY,{buffer_empty_count:this.bufferEmptyCount,broadcast_id:n.broadcastID,manifest_broadcast_id:t.broadcast_id}))}},{key:"onPlaybackBlocked",value:function(){this.playbackBlocked=!0}},{key:"onPlaying",value:function(){var e=this,t=this.store.getState(),n=t.analytics,r=t.backendInfo,i=t.collection,a=t.env,o=t.manifestInfo,s=t.performance,u=t.stream,c=t.streamMetadata,l=t.playback;if(null!==this.bufferEmptyStartTime){var d=(new Date).getTime();this.trackEvent(qe.b.BUFFER_REFILL,{buffering_time:(d-this.bufferEmptyStartTime)/1e3,buffer_empty_count:this.bufferEmptyCount,broadcast_id:c.broadcastID,manifest_broadcast_id:o.broadcast_id}),this.bufferEmptyStartTime=null}if(!this.hasPlayed){this.firstPlayAutoMuted=l.automatedMute;var f={time_since_load_start:Date.now()-n.playSessionStartTime,manifest_broadcast_id:o.broadcast_id,broadcast_id:c.broadcastID,autoplayed:this.options.autoplay,tab_session_id:Object(N.b)(),auto_muted:this.firstPlayAutoMuted,using_wasm_backend:r.isWasm};if(I()(Re.c,a.playerType)||(f.seconds_offset=this.minutesWatchedTimer.initialDelay/1e3),s.timedMilestones.forEach(function(e){var t="time_to_"+e.name;f[t]=parseInt(e.time-s.initTime,10)}),s.otherMetrics.forEach(function(e){f[e.name]=e.value}),f.is_first_video_play=0===n.videoPlayCount,f.player_instance_plays=n.videoPlayCount+1,f.playback_gated=l.contentRestriction!==Fe.f,f.time_spent_hidden=parseInt(s.timeHidden,10),f.autoplay_succeeded=!this.playbackBlocked,u.contentType===le.a&&(Object(ce.C)(u.videoId).then(function(t){e.countessTracker.trackVODView(t)}),i.id)){var p=H.b.get(Ue.k),h=p?p[Ue.j]:"";f.collection_item_position=j()(i.items,{itemId:u.videoId.substr(1)}),f.collection_id=i.id,f.collection_session_id=h}this.trackEvent(qe.b.VIDEO_PLAY,f),this.store.dispatch(Object(Le.g)()),this.hasPlayed=!0,this.store.dispatch(fe.c()),this.store.dispatch(fe.d()),this.nSecondPlayTimer.start()}this.minutesWatchedTimer.start()}},{key:"onCanPlay",value:function(){this.isSeekInProgress&&(this.isSeekInProgress=!1,this.trackEvent("vod_seek",{timestamp_departed:this.timeStampBeforeSeek,timestamp_target:this.player.getCurrentTime(),time_spent_seeking:(Date.now()-this.lastSeekTime)/1e3})),this.timeStampBeforeSeek=this.player.getCurrentTime()}},{key:"onSeeking",value:function(){this.hasPlayed&&!this.isSeekInProgress&&(this.isSeekInProgress=!0,this.lastSeekTime=Date.now())}},{key:"onTimeUpdate",value:function(){if(!this.isSeekInProgress){var e=this.player.getCurrentTime();e-this.timeStampBeforeSeek<500&&this.timeStampBeforeSeek<e&&(this.timeStampBeforeSeek=e)}}},{key:"onPause",value:function(){var e=this.store.getState(),t=e.ads,n=e.adsManager,r=e.stream;(t.currentMetadata.contentType!==pe.i.IMA||r.contentType!==le.a||n.paused)&&(this.minutesWatchedTimer.stop(),this.nSecondPlayTimer.reset())}},{key:"onPlaybackEnded",value:function(){this.store.getState().playback.ended&&this.trackEvent("video_end",{})}},{key:"onError",value:function(){var e=this.store.getState().error,t=e.hasError,n=e.code;t&&this.trackEvent(qe.c,{reason:Be.a.getMessage(n),code:n})}},{key:"onStreamChange",value:function(){var e=this.store.getState(),t=e.stream,n={content_id:"",customer_id:""};t.contentType===De.a&&(n=E()(n,{content_id:t.contentId,customer_id:t.customerId})),this.tracker.setProperties(n)}},{key:"onStreamMetadataGameUpdate",value:function(){var e=this.store.getState(),t=e.streamMetadata;t.streamType===W.a&&this.tracker.setProperty("game",t.game)}},{key:"onCollectionChange",value:function(){var e=this.store.getState(),t=e.collection;t.id&&this.countessTracker.trackView("collection",t.id)}},{key:"onWatchPartyVodChange",value:function(){var e=this.store.getState(),t=e.watchParty;t&&t.vodId&&t.incrementViewCountURL&&this.countessTracker.trackVODView({increment_view_count_url:t.incrementViewCountURL}),t&&this.tracker.setProperty("vod_type",t.broadcastType)}},{key:"onWatchPartyChange",value:function(){var e=this.store.getState(),t=e.watchParty;t&&t.watchPartyId&&this.countessTracker.trackView("watch_party",t.watchPartyId)}},{key:"onEnded",value:function(){this.minutesWatchedTimer.reset(),this.nSecondPlayTimer.reset(),this.bufferEmptyStartTime=null}},{key:"onQualityChange",value:function(){var e=this.store.getState(),t=e.quality;if(0!==t.available.length){var n=x()(t.available,function(e){return e.group===t.selected}),r=n?n.name:t.current;this.tracker.setProperty("quality",w(r)),this.tracker.setProperty("stream_format",t.current)}}},{key:"onCastingChange",value:function(e){var t=e.chromecast,n=t.castingState,r=this.store.getState(),i=r.env;"connected"===n||"connecting"===n?this.tracker.setProperties({player:"chromecast",chromecast_sender:i.platform}):this.tracker.setProperties({player:i.playerType,chromecast_sender:null})}},{key:"_getPlayerDisplayMode",value:function(){var e=this.store.getState(),t=e.ui;return e.screenMode.isFullScreen?"fullscreen":this.options.player===Re.z?"popout":this.player.getTheatre()?"theatre mode":t.isMini?"mini":""}},{key:"destroy",value:function(){this.minutesWatchedTimer.destroy(),this.nSecondPlayTimer.destroy(),this.comscore.destroy(),this.nielsen.destroy(),this.pixel.destroy(),this.unsubscribes.map(function(e){e()})}}]),e}()},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e,t){return o(a(e,t,i),e+"")}var i=n(130),a=n(237),o=n(238);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:a(e,t)?[e]:o(s(e))}var i=n(24),a=n(171),o=n(362),s=n(90);e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(137);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var i=n(125),a=1/0;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:o(n);return u<0&&(u=s(r+u,0)),i(e,a(t,3),u)}var i=n(229),a=n(105),o=n(69),s=Math.max;e.exports=r},function(e,t,n){var r;!function(i,a){var o=function(){return o.get.apply(o,arguments)},s=o.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],n="";for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};o.defaults={},o.expiresMultiplier=86400,o.set=function(e,t,n){if(s.isPlainObject(e))for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r],t);else{n=s.isPlainObject(n)?n:{expires:n};var a=void 0!==n.expires?n.expires:this.defaults.expires||"",o=typeof a;"string"===o&&""!==a?a=new Date(a):"number"===o&&(a=new Date(+new Date+1e3*this.expiresMultiplier*a)),""!==a&&"toGMTString"in a&&(a=";expires="+a.toGMTString());var u=n.path||this.defaults.path;u=u?";path="+u:"";var c=n.domain||this.defaults.domain;c=c?";domain="+c:"";var l=n.secure||this.defaults.secure?";secure":"";!1===n.secure&&(l=""),i.cookie=s.encode(e)+"="+s.encode(t)+a+u+c+l}return this},o.setDefault=function(e,t,n){if(s.isPlainObject(e)){for(var r in e)void 0===this.get(r)&&this.set(r,e[r],t);return o}if(void 0===this.get(e))return this.set.apply(this,arguments)},o.remove=function(e){e=s.isArray(e)?e:s.toArray(arguments);for(var t=0,n=e.length;t<n;t++)this.set(e[t],"",-1);return this},o.removeSpecific=function(e,t){if(!t)return this.remove(e);e=s.isArray(e)?e:[e],t.expires=-1;for(var n=0,r=e.length;n<r;n++)this.set(e[n],"",t);return this},o.empty=function(){return this.remove(s.getKeys(this.all()))},o.get=function(e,t){var n=this.all();if(s.isArray(e)){for(var r={},i=0,a=e.length;i<a;i++){var o=e[i];r[o]=s.retrieve(n[o],t)}return r}return s.retrieve(n[e],t)},o.all=function(){if(""===i.cookie)return{};for(var e=i.cookie.split("; "),t={},n=0,r=e.length;n<r;n++){var a=e[n].split("="),o=s.decode(a.shift()),u=s.decode(a.join("="));t[o]=u}return t},o.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===o.set("_","_").get("_");return o.remove("_"),e},void 0!==(r=function(){return{cookie:o}}.call(t,n,t,e))&&(e.exports=r)}("undefined"==typeof document?null:document)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(74),i=n(422),a=(n.n(i),function(){function e(){var e=this;this.apiUrl="https://api.twitch.tv",this.clientId="b31o4btkqth5bzbvr9ub2ovr79umhh",this.defaultHeaders={"Content-Type":"application/json","Client-ID":this.clientId},this.setApiOptions=function(t){e.apiUrl=t.apiUrl?t.apiUrl:e.apiUrl,e.authToken=t.authToken?t.authToken:void 0}}return e.prototype.authRequest=function(e){return this.authToken&&e.headers.append("Authorization","OAuth "+this.authToken),this.doRequest(e)},e.prototype.doRequest=function(e){return fetch(e).then(this.checkError).then(function(e){return e.json()})},e.prototype.newRequest=function(e,t){t.headers=new Headers(r.a({},this.defaultHeaders,t.headers));var n=t.apiUrl?t.apiUrl:this.apiUrl,i=""+n+e;return new Request(i,t)},e.prototype.graphQLRequest=function(e,t){var n=r.a({},this.defaultHeaders);return this.authToken&&(n.Authorization="OAuth "+this.authToken),new i.GraphQLClient(this.apiUrl+"/gql",{headers:n}).request(e,t)},e.prototype.checkError=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},e}()),o=new a},function(e,t,n){"use strict";var r=n(268)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";function r(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=/^(.+?)(?:=(.+))?$/.exec(n[r]);if(i){var a=i[1],o=i[2];if("true"===o)o=!0;else if("false"===o)o=!1;else if(void 0!==o)try{var u=JSON.parse(decodeURIComponent(o));o="object"===(void 0===u?"undefined":s(u))?u:decodeURIComponent(o)}catch(e){o=decodeURIComponent(o)}else"!"===a[0]?(a=a.substring(1),o=!1):o=!0;t[a]=o}}return t}function i(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=encodeURIComponent(n),!0===r?t.push(n):!1===r?t.push("!"+n):null!==r&&"object"===(void 0===r?"undefined":s(r))?(r=encodeURIComponent(JSON.stringify(r)),t.push(n+"="+r)):(r=encodeURIComponent(r),t.push(n+"="+r))}return t.join("&")}function a(e){if(void 0!==e){if(!/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/.exec(e)){var t=parseInt(e,10);return o.d(t)}}return e}t.b=r,t.c=i,t.a=a;var o=n(45),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var i=n(39),a=(n.n(i),function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,i,a,o){r(this,e),this._contentId=t,this._oAuthToken=n,this._usherParams=i,this._accessTokenParams=a,this._experimentSettings=o,this._restrictedBitrates=[]}return o(e,[{key:"_handleInvalidOp",value:function(e){var t=void 0;t="AbstractStream"===this.constructor.name?"AbstractStream should not be instantiated directly":this.constructor.name+"."+e+" is not implemented",console.error("Invalid operation: "+t)}},{key:"_fetchAccessToken",value:function(){return this._handleInvalidOp("_fetchAccessToken"),Promise.resolve({})}},{key:"resetNAuthToken",value:function(){this._nAuthPromise=this._fetchNAuthToken()}},{key:"_fetchNAuthToken",value:function(){var e=this;return this._oAuthToken.then(function(t){return e._fetchAccessToken(e._contentId,t,e._accessTokenParams)}).then(function(t){return e._nAuth=t,t})}},{key:"_buildUsherParams",value:function(e){return this._handleInvalidOp("_buildUsherParams"),{}}},{key:"_commonExperimentParams",value:function(){var e=this;return Promise.all([this.accessToken,this._experimentSettings.realtimeQos,this._experimentSettings.reassignmentsSupported]).then(function(t){var n=a(t,3),r=n[0],i=n[1],o=n[2],s={};s.rtqos=i,s.reassignments_supported="yes"===o;try{e._restrictedBitrates=JSON.parse(r.token).chansub.restricted_bitrates}catch(e){console.warn("Could not parse restricted bitrates from access token.")}return s})}},{key:"contentType",get:function(){return this._handleInvalidOp("contentType"),""}},{key:"channel",get:function(){return this._handleInvalidOp("channel"),""}},{key:"videoId",get:function(){return this._handleInvalidOp("videoId"),""}},{key:"customerId",get:function(){return this._handleInvalidOp("customerId"),""}},{key:"contentId",get:function(){return this._handleInvalidOp("contentId"),""}},{key:"contentUrl",get:function(){return this._handleInvalidOp("contentUrl"),""}},{key:"restrictedBitrates",get:function(){return this._restrictedBitrates}},{key:"accessToken",get:function(){var e=!1;try{if(this._nAuth){var t=JSON.parse(this._nAuth.token);e=Date.now()>=1e3*t.expires}}catch(e){console.error("Unable to JSON.parse nAuth.token: "+this._nAuth.token)}return this._nAuthPromise&&!e||(this._nAuthPromise=this._fetchNAuthToken()),this._nAuthPromise}},{key:"_baseStreamUrl",get:function(){return this._handleInvalidOp("_baseStreamUrl"),""}},{key:"streamUrl",get:function(){return this._handleInvalidOp("streamUrl"),""}},{key:"castStreamUrl",get:function(){var e=this;return this.accessToken.then(function(t){if(!t.token)return e._handleInvalidOp("castStreamUrl"),"";var n=e._buildUsherParams(t);delete n.allow_source;try{e._restrictedBitrates=JSON.parse(t.token).chansub.restricted_bitrates}catch(e){console.warn("Could not parse restricted bitrates from access token.")}return e._baseStreamUrl+"?"+Object(i.stringify)(n)})}}]),e}()},function(e,t,n){function r(e,t,n){var r=u(e)?i:s,c=arguments.length<3;return r(e,o(t,4),n,c,a)}var i=n(483),a=n(196),o=n(105),s=n(484),u=n(24);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var o=n(97),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="clip",c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._slug=e,n}return a(t,e),s(t,[{key:"contentType",get:function(){return u}},{key:"slug",get:function(){return this._slug}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"castStreamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}(o.a)},function(e,t,n){"use strict";function r(e,t){return"transparent"===e?"transparent":"rgba("+e+","+t+")"}n.d(t,"l",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"m",function(){return y}),t.c=r,n.d(t,"f",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"i",function(){return g});var i=n(32),a=n.n(i),o={fontSize:20,font:"prop-sans-serif",fontOpacity:"solid",alignment:"left",edge:"none",verticalPosition:"bottom",backgroundColorName:"black",backgroundOpacity:"solid",windowColorName:"transparent",windowOpacity:"solid",fontUnderline:"none",fontBold:"none",fontItalic:"none"},s=a()({},o,{backgroundColorName:"black",backgroundOpacity:"translucent"}),u={"white-on-black":a()({},o,{fontColorName:"white"}),"cyan-on-black":a()({},o,{fontColorName:"cyan"}),"yellow-on-black":a()({},o,{fontColorName:"yellow"}),"lime-on-black":a()({},o,{fontColorName:"green"}),"magenta-on-black":a()({},o,{fontColorName:"magenta"}),"white-on-trans-black":a()({},s,{fontColorName:"white"}),"cyan-on-trans-black":a()({},s,{fontColorName:"cyan"}),"yellow-on-trans-black":a()({},s,{fontColorName:"yellow"}),"lime-on-trans-black":a()({},s,{fontColorName:"green"}),"magenta-on-trans-black":a()({},s,{fontColorName:"magenta"}),"black-on-white":a()({},o,{backgroundColorName:"white",fontColorName:"black"})},c={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},l={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"},flashing:{opacityValue:1,animation:"blink .75s linear infinite"}},d={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},f={left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}},p={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},h={italic:{fontStyle:"italic"},none:{fontStyle:"normal"}},m={bold:{fontWeight:"bold"},none:{fontWeight:"normal"}},y={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}},v={black:{fontColorValue:"0,0,0"},white:{fontColorValue:"255,255,255"},red:{fontColorValue:"255,0,0"},green:{fontColorValue:"0,255,0"},blue:{fontColorValue:"0,0,255"},yellow:{fontColorValue:"255,255,0"},magenta:{fontColorValue:"255,0,255"},cyan:{fontColorValue:"0,255,255"}},b={black:{backgroundColorValue:"0,0,0"},white:{backgroundColorValue:"255,255,255"},red:{backgroundColorValue:"255,0,0"},green:{backgroundColorValue:"0,255,0"},blue:{backgroundColorValue:"0,0,255"},yellow:{backgroundColorValue:"255,255,0"},magenta:{backgroundColorValue:"255,0,255"},cyan:{backgroundColorValue:"0,255,255"},lightgray:{backgroundColorValue:"199,199,199"},gray:{backgroundColorValue:"145,145,145"},darkgray:{backgroundColorValue:"91,91,91"},transparent:{backgroundColorValue:"transparent"}},g={increment:5,decrement:-5,max:40,min:10}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case i.a:return l()({},e,t.streamMetadata);case a.a:return f()({},m,{channelName:t.stream.contentType===o.a?t.stream.channel:null,videoId:t.stream.contentType===s.a?t.stream.videoId:null,contentId:t.stream.contentType===u.a?t.stream.contentId:"",customerId:t.stream.contentType===u.a?t.stream.customerId:""});case i.b:return l()({},e,{game:t.streamMetadata.gameName,channel:{status:t.streamMetadata.title}});default:return e}}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h}),t.c=r;var i=n(61),a=n(19),o=n(9),s=n(10),u=n(113),c=n(40),l=n.n(c),d=n(6),f=n.n(d),p="dead_ltv",h="SUB_ONLY_LIVE",m=Object.freeze({broadcastID:0,type:"",channelName:null,videoId:null,contentId:"",customerId:"",channel:{displayName:"",name:"",id:0,partner:!1,status:"",videoBanner:"",logo:"",mature:!1},createdAt:"",game:"",preview:{template:""},streamType:"",url:"",viewers:i.c,tags:[],isEncrypted:!1,restriction:{type:"UNKNOWN",previewUrl:""}})},function(e,t,n){var r=n(345),i=n(46),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(38),i=n(346),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(168)(e))},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?a(e[0],e[1]):i(e):u(e)}var i=n(385),a=n(404),o=n(130),s=n(24),u=n(405);e.exports=r},function(e,t,n){var r=n(400),i=n(173),a=n(401),o=n(249),s=n(402),u=n(56),c=n(236),l=c(r),d=c(i),f=c(a),p=c(o),h=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||a&&"[object Promise]"!=m(a.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){"use strict";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,r||e,a),s=c?c+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(c=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)u.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=c?c+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(e){var t=c?c+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,i,a){var o=c?c+e:e;if(!this._events[o])return!1;var s,u,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!s)for(f=1,s=new Array(d-1);f<d;f++)s[f-1]=arguments[f];l[u].fn.apply(l[u].context,s)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var i=c?c+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||o(this,i);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[i]=1===u.length?u[0]:u:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=c,s.EventEmitter=s,e.exports=s},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f});var r,i=n(263),a=n(424),o=n.n(a),s=n(94);!function(e){e.Square100="100x100",e.Square24="24x24",e.DiscoverySplash="300x200"}(r||(r={}));var u=function(e){var t={factor:2,minTimeout:1e3,randomize:!0,retries:16},n=function(t){return s.a.authRequest(e).catch(function(e){if(e.response&&e.response.status){if(!(e.response.status>=500||429===e.response.status))throw e;t()}else t()})};return o()(n,t)},c=function(e){var t=s.a.newRequest("/v5/channels/"+e+"/extensions",{method:"GET"});return u(t)},l=function(e,t,n){var r=new i.a;r.append("vendor_code",e),r.append("sku",t),r.append("language",n);var a="/v5/extensions/products?"+r,o=s.a.newRequest(a,{method:"GET"});return u(o)},d=function(e,t,n){var r=s.a.newRequest("/v5/extensions/"+e+"/auth/link_user",{body:JSON.stringify({show_user:n,token:t}),method:"POST"});return u(r)},f=function(e,t){var n=t.payload.channel_id,r=s.a.newRequest("/v5/extensions/"+e+"/auth/refresh/"+n,{body:JSON.stringify({token:t.token}),method:"POST"});return u(r)}},function(e,t,n){"use strict";var r,i=n(192),a=n(269),o=n(440),s=n(270);r=e.exports=function(e,t){var n,r,o,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=o=!0,r=!1):(n=s.call(e,"c"),r=s.call(e,"e"),o=s.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:o},u?i(a(u),c):c},r.gs=function(e,t,n){var r,u,c,l;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,u=!1):(r=s.call(e,"c"),u=s.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:u},c?i(a(c),l):l}},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t,3))}var i=n(57),a=n(105),o=n(480),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?"session_unique_id":"unique_id",n=i.cookie.get(t);if(n&&"null"!==n&&n.length>=16&&"0000000000000000"!==n&&"00000000000000000000000000000000"!==n)return n;n=a.a();var r=e?"":3650;return i.cookie.set(t,n,{expires:r,domain:"."+o.m,path:"/",secure:!1}),n}t.a=r;var i=n(93),a=(n.n(i),n(60)),o=n(11)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=null,o=function(){function e(){r(this,e)}return i(e,[{key:"contentType",get:function(){return a}},{key:"channel",get:function(){return""}},{key:"restrictedBitrates",get:function(){return[]}},{key:"videoId",get:function(){return""}},{key:"slug",get:function(){return""}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),e}(),s=new o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var o=n(39),s=(n.n(o),n(97)),u=n(11),c=n(111),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="provided",f=function(e){function t(e){var n=e.customerId,a=e.contentId,o=e.usherHostOverride;r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return s._customerId=n,s._contentId=a,s._usherHostOverride=o,s}return a(t,e),l(t,[{key:"resetNAuthToken",value:function(){}},{key:"_buildUsherParams",value:function(){return{allow_source:!0,device_id:c.a(!1)}}},{key:"_fetchNAuthToken",value:function(){return Promise.reject("Error: Attempted NAuth fetch for ProvidedContentStream")}},{key:"_fetchAccessToken",value:function(){return Promise.reject("Error: Attempted Access Token fetch for ProvidedContentStream")}},{key:"contentType",get:function(){return d}},{key:"channel",get:function(){}},{key:"videoId",get:function(){}},{key:"contentId",get:function(){return this._contentId}},{key:"customerId",get:function(){return this._customerId}},{key:"_baseStreamUrl",get:function(){return(this._usherHostOverride&&""!==this._usherHostOverride?this._usherHostOverride:u.B)+"/api/lvs/hls/lvs."+this._customerId+"."+this._contentId+".m3u8"}},{key:"accessToken",get:function(){return Promise.resolve()}},{key:"streamUrl",get:function(){var e=this._buildUsherParams();return Promise.resolve(this._baseStreamUrl+"?"+Object(o.stringify)(e))}},{key:"castStreamUrl",get:function(){var e=this._buildUsherParams();return e.allow_source=void 0,Promise.resolve(this._baseStreamUrl+"?"+Object(o.stringify)(e))}}]),t}(s.a)},function(e,t,n){"use strict";function r(){return{type:c}}function i(){return{type:l}}function a(){return{type:d}}function o(){return{type:f,playSessionId:Object(u.a)(),playSessionStartTime:Date.now()}}function s(e){return{type:p,clients:e}}n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return p}),t.g=r,t.f=i,t.i=a,t.h=o,t.j=s;var u=n(60),c="increment video play count",l="increment quality change count",d="reset quality change count",f="reset play session",p="set new tracking clients"},function(e,t,n){"use strict";function r(){return{type:l}}function i(){return{type:c}}function a(e){return{type:s,deviceName:e}}function o(e){return{type:u,castingState:e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),t.h=r,t.g=i,t.f=a,t.e=o;var s="set device name",u="set casting state",c="start casting",l="stop casting"},function(e,t,n){"use strict";function r(){var e=this;e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}function i(){this._lastKnownTimeStamp=0,this._paused=!0,this._lastTimeUpdated=(new Date).getTime()}function a(e,t){function n(e){return e?{playbackRate:d()(.0078125*e.playback_bytes_per_second,2),fps:d()(e.current_fps),bufferSize:d()(e.video_buffer_size),skippedFrames:e.dropped_frames,memoryUsage:Math.floor(e.totalMemoryNumber/1024/1024).toString()+"MB",hlsLatencyEncoder:e.hasOwnProperty("hls_latency_encoder")?d()(.001*e.hls_latency_encoder):0,hlsLatencyBroadcaster:e.hasOwnProperty("hls_latency_broadcaster")?d()(.001*e.hls_latency_broadcaster):0,videoResolution:e.hasOwnProperty("vid_width")?e.vid_width+"x"+e.vid_height:"",displayResolution:e.hasOwnProperty("stageWidth")?e.stageWidth+"x"+e.stageHeight:"",backendVersion:Ne.getVersion()}:N}function o(){var e=t.getState(),n=e.window;t.dispatch(Object(C.w)(C.n,n.performance.now())),Fe=!0,De.resolve(),qe.emit(g.w)}function u(e){nt=e,qe.emit(g.b)}function l(e){s()(e.volume)&&(Ze||(Je=Math.min(Math.max(e.volume,0),1)),qe.emit(b.t))}function f(e){Xe=e.duration||0,qe.emit(b.e),ct&&qe.emit(b.i)}function h(e){tt=e.formats.map(function(e){return p()({},e,{isDefault:e.group===I})})}function Y(e){et=e.format,qe.emit(g.A,{quality:e.format,isAuto:!1})}function Q(e){e&&e.format&&et!==e.format&&(et=e.format,qe.emit(g.A,{quality:et,isAuto:!1})),ze=_.c,qe.emit(b.j),Xe=0,qe.emit(b.e),Pe(Ie("getVideoTime")),Oe()}function $(){qe.emit(b.c)}function X(e){Qe&&(Qe=!1,qe.emit(b.l)),st=!1,et=e.format,Pe(Ie("getVideoTime")),Te(),He<w.c&&(null!==Ne.getChannel()&&(Xe=1/0),He=w.c,qe.emit(b.i)),He<w.a&&(He=w.a,qe.emit(b.h)),He=w.b;var n=t.getState(),r=n.window;t.dispatch(Object(C.w)(C.q,r.performance.now())),qe.emit(b.n)}function J(){Qe=!0,qe.emit(b.k),ot instanceof k.b&&(He=w.d),Oe()}function Z(){qe.emit(g.q),st||He!==w.d||(st=!0,qe.emit(b.f)),st=!0,He=w.d,Oe()}function ee(){t.dispatch(Object(O.d)(T.a.CODES.ABORTED))}function te(){st=!0,He=w.d,qe.emit(b.f),Oe()}function ne(e){Oe(),Pe(0),We=e.channel,Ge=null}function re(e){Oe(),Pe(0),ct=!0;var t=e.videoId;isNaN(t[0])||(t="v"+t),Ge=t,We=null,He=w.c}function ie(){Oe(),$e=!0,qe.emit(b.q)}function ae(){$e=!1,qe.emit(b.p)}function oe(){$e=!1}function se(){Pe(Ie("getVideoTime"))}function ue(e){rt=e,qe.emit(g.a,e)}function ce(){Oe(),He=w.a,qe.emit(b.u)}function le(e){Qe=!1,Ge&&Oe(),qe.emit(K.AD_START,e)}function de(e){Ge&&!st&&(Pe(Ie("getVideoTime")),Te()),qe.emit(K.AD_END,e)}function fe(e){qe.emit(K.AD_REQUEST,e)}function pe(e){qe.emit(K.AD_REQUEST_DECLINED,e)}function he(e){qe.emit(K.AD_REQUEST_RESPONSE,e)}function me(e){qe.emit(K.AD_REQUEST_ERROR,e)}function ye(e){qe.emit(K.AD_ERROR,e)}function ve(e){qe.emit(K.COMPANION_RENDERED,e),t.dispatch(Object(P.f)(K.COMPANION_RENDERED,e))}function be(e){qe.emit(K.AD_IMPRESSION,e)}function ge(e){qe.emit(K.AD_IMPRESSION_COMPLETE,e)}function _e(){qe.emit(g.C)}function we(){qe.emit(g.Q)}function ke(e){qe.emit(g.E,e)}function Ee(e){qe.emit(g.p,e)}function Se(){qe.emit(b.s,Ue.extrapolateTimeStamp())}function Pe(e){Ue.setCurrentTimeStamp(e),qe.emit(b.s,Ue.extrapolateTimeStamp())}function Te(){null===Ve&&(Ve=setInterval(Se,R),Ue.resume())}function Oe(){null!==Ve&&(clearInterval(Ve),Ve=null,Ue.pause())}function Ce(e){qe.emit(K.AD_LOADED,e)}function xe(e){qe.emit(g.o,e)}function Re(e,n){var r=v.b();if(""===r)return void t.dispatch(Object(O.d)(T.a.CODES.ABORTED));var i={eventsCallback:"window._BackendFlash_emitEvents",eventsContext:Me,initCallback:null},a={bgcolor:"#000",allowscriptaccess:"always",allowfullscreen:"true",wmode:"ppapi"===r?"direct":"transparent"},o={align:"middle"},s=document.createElement("div");n.insertBefore(s,n.children[0]),at="swfobject-"+Me,s.setAttribute("id",at),v.a(e,at,"100%","100%","10.2","playerProductInstall.swf",i,a,o,function(e){it=e.ref,Be.resolve()})}function je(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e.debug&&console.log("flash call:",t,n),n.length){case 0:return it[t]();case 1:return it[t](n[0]);case 2:return it[t](n[0],n[1]);case 3:return it[t](n[0],n[1],n[2]);default:return console.log("WARNING, too many arguments passed to Flash"),it[t].apply(this,n)}}function Ae(t,n){De.promise.then(function(){Be.promise.then(function(){setTimeout(function(){var r=je(t,n);r&&e.debug&&console.log("flash return:",t,"=",r)},0)})})}function Ie(t,n){if(Fe&&it){var r=je(t,n);return r&&e.debug&&console.log("flash return:",t,"=",r),r}}var Ne=this,Me=a.counter++;a.map[Me]=Ne;var Le=new m.a,qe=new m.a,De=new r,Be=new r,Ue=new i,Fe=!1,Ve=null,He=0,ze=0,We=null,Ge=null,Ke=void 0,Ye=void 0,Qe=!1,$e=void 0,Xe=0,Je=void 0,Ze=void 0,et=void 0,tt=void 0,nt=void 0,rt=void 0,it=void 0,at="",ot=void 0,st=!1,ut=!1,ct=!1;Ne.getStats=function(){return n(Ne.getVideoInfo())},Ne.attach=function(t){Re("https://player.twitch.tv/vendor/TwitchPlayer.d93e3da6ceff62990dc40b52151c937b.swf",t),Ae("setLastAdDisplay",[e.lastAdDisplay]),Ae("setPlayerType",[e.player]),Ae("setFlashIMAAdsEnabled",[!0])},Ne._emitEvent=function(t,n){setTimeout(function(){e.debug&&"timeupdate"!==t&&"playbackStatistics"!==t&&console.log("flash event:",t,n),Le.emit(t,n)},0)},Ne.addEventListener=function(e,t){qe.on(e,t)},Ne.removeEventListener=function(e,t){qe.off(e,t)},Ne.getNetworkProfile=function(){return Ie("getNetworkProfile")||[]},Ne.getError=function(){},Ne.getNetworkState=function(){return ze},Ne.getBuffered=function(){var e=rt?1:0;return{length:e,start:function(t){if(!(t>=e))return rt.start},end:function(t){if(!(t>=e))return rt.end}}},Ne.load=function(){if(Ke||Ye){if(He=w.d,ze=_.c,qe.emit(b.j),ct=!1,Ye){var e=Ye;return Promise.all([Object(y.C)(Ye),ot.streamUrl]).then(function(n){var r=x(n,2),i=r[0],a=r[1],o=t.getState(),s=o.streamMetadata;e===s.videoId&&(ut=!0,Ae("loadStream",[a,i.channel.name,!1]))})}var n=Ke;return ot.streamUrl.then(function(e){var r=t.getState(),i=r.streamMetadata;n===i.channelName&&(ut=!0,Ae("loadStream",[e,Ke,!0]))})}},Ne.getReadyState=function(){return He},Ne.getSeeking=function(){return $e},Ne.getCurrentTime=function(){return Ue.extrapolateTimeStamp()},Ne.setCurrentTime=function(e){st=!1,Oe(),Pe(e),Ae("videoSeek",[e])},Ne.getDuration=function(){return Xe},Ne.getPaused=function(){return Qe},Ne.getEnded=function(){return t.getState().ads.currentMetadata.contentType===E.i.NONE&&st},Ne.play=function(){Qe=!1,qe.emit(b.l);var e=function(){ot.streamUrl.then(function(e){Ae("setStreamURI",[e]),Ae("playVideo")})};ut?e():Ne.load().then(e())},Ne.pause=function(){Ae("pauseVideo")},Ne.getVolume=function(){return Je},Ne.setVolume=function(e){Je=e,Ae("setVolume",[e])},Ne.getMuted=function(){return Ze},Ne.setMuted=function(e){Ze=e,Ae("setVolume",[e?0:Je])},Ne.getVideoInfo=c()(function(){var e=Ie("getVideoInfo");return e?p()({},N,e):N},j),Ne.getChannel=function(){return Ke||We},Ne.setChannel=function(t,n){ot=n,Ke=t,Ye=null,Ge=null,e.autoplay||ze>_.a?Ne.load():Ne.pause()},Ne.setClip=function(){},Ne.setAutoplay=function(t){e.autoplay=t},Ne.getVideo=function(){return Ye||Ge},Ne.setVideo=function(t,n){ot=n,Ye=t,Ke=null,We=null,e.autoplay||ze>_.a?Ne.load():Ne.pause()},Ne.getQuality=function(){return et||""},Ne.setQuality=function(e){e===S.i?(Ae("setQuality",[A]),et=A):(Ae("setQuality",[e]),et=e)},Ne.getQualities=function(){return tt||[]},Ne.getBackend=function(){return G},Ne.elapsedTime=function(){},Ne.getVersion=function(){return Ie("getVersion")},Ne.getMediaGroup=function(){return null},Ne.getController=function(){return null},Ne.getControls=function(){return!1},Ne.getAudioTracks=function(){return null},Ne.getVideoTracks=function(){return null},Ne.getTextTracks=function(){return null},Ne.getPlaybackRate=function(){return 1},Ne.addTextTrack=function(){},Ne.setControls=function(){},Ne.setLoop=function(){},Ne.setPlaybackRate=function(){qe.emit(b.o)},Ne.getPlayed=function(){},Ne.getSrc=function(){},Ne.setSrc=function(){},Ne.getCaption=function(){return nt},Ne.absAvailable=function(){},Ne.setLiveLowLatencyEnabled=function(){},Ne.setLiveMaxLatency=function(){},Ne.setAutoMaxVideoSize=function(){},Ne.getBandwidthEstimate=function(){},Ne.requestAdFill=function(e,t,n){Ae("requestFlashAd",[e,t,n])},Ne.destroy=function(){Oe(),v.e(at),it=null},function(){Le.on(b.c,$),Le.on(b.e,f),Le.on(b.q,ie),Le.on(b.p,ae),Le.on(b.f,te),Le.on(b.g,ee),Le.on(b.n,X),Le.on(b.u,ce),Le.on(b.t,l),Le.on(b.j,Q),Le.on(g.w,o),Le.on(g.D,oe),Le.on(g.d,_e),Le.on(g.o,xe),Le.on(g.R,Z),Le.on(g.m,h),Le.on(g.n,Y),Le.on(g.M,se),Le.on(g.a,ue),Le.on(g.E,ke),Le.on(g.Q,we),Le.on(g.b,u),Le.on(g.p,Ee),Le.on(g.T,J),Le.on(g.I,ne),Le.on(g.S,re),Le.on(M,le),Le.on(L,de),Le.on(V,ve),Le.on(q,fe),Le.on(D,pe),Le.on(B,he),Le.on(U,me),Le.on(F,ye),Le.on(H,be),Le.on(z,ge),Le.on(W,Ce)}()}var o=n(65),s=n.n(o),u=n(165),c=n.n(u),l=n(296),d=n.n(l),f=n(6),p=n.n(f),h=n(50),m=n.n(h);i.prototype.pause=function(){this._updateLastKnownTimeStamp(),this._paused=!0},i.prototype.resume=function(){this._updateLastKnownTimeStamp(),this._paused=!1},i.prototype.extrapolateTimeStamp=function(){if(this._paused)return this._lastKnownTimeStamp/1e3;var e=(new Date).getTime();return(this._lastKnownTimeStamp+(e-this._lastTimeUpdated))/1e3},i.prototype.setCurrentTimeStamp=function(e){isNaN(e)||(this._lastKnownTimeStamp=1e3*e,this._lastTimeUpdated=(new Date).getTime())},i.prototype._updateLastKnownTimeStamp=function(){var e=(new Date).getTime();this._lastKnownTimeStamp+=e-this._lastTimeUpdated,this._lastTimeUpdated=e};var y=n(12),v=n(295),b=n(27),g=n(41),_=n(208),w=n(152),k=n(9),E=n(16),S=n(52),P=n(79),T=n(62),O=n(63),C=n(78);n.d(t,"a",function(){return G}),n.d(t,"c",function(){return K}),t.b=a;var x=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=250,j=1500,A="medium",I="chunked",N={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps:0,current_fps_exact:0,deblocking:0,dropped_frames:0,hls_buffer_duration:0,hls_latency_encoder:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_node:"",manifest_node_type:"",manifest_cluster:"",node:"",playback_bytes_per_second:0,segment_protocol:"",serving_id:"",smoothing:!0,stageHeight:0,stream_protocol:"",stageWidth:0,stream_time:0,stream_time_offset:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0},M="adDisplayStarted",L="adDisplayEnded",q="adRequested",D="adRequestDeclined",B="adRequestResponse",U="adRequestError",F="adError",V="adcompanionrendered",H="adImpression",z="adImpressionComplete",W="adLoaded",G="flash",K=Object.freeze({AD_START:"flashAdstart",AD_END:"flashAdend",AD_REQUEST:"flashAdRequested",AD_REQUEST_DECLINED:"flashAdRequestDeclined",AD_REQUEST_RESPONSE:"flashAdRequestResponse",AD_REQUEST_ERROR:"flashAdRequestError",AD_ERROR:"flashAdError",AD_COMPANION_RENDERED:"flashAdcompanionrendered",AD_IMPRESSION:"flashAdImpression",AD_IMPRESSION_COMPLETE:"flashAdImpressionComplete",AD_LOADED:"flashAdLoaded"});a.map={},a.counter=0,a.canPlay=function(){return v.d("10.2")&&""!==v.b()},window._BackendFlash_emitEvents=function(e,t){for(var n=a.map[e],r=0;r<t.length;r++){var i=t[r];n._emitEvent(i.event,i.data)}}},function(e,t,n){"use strict";function r(e){return{type:i,moderationType:e}}n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),t.e=r;var i="moderation opened",a="report",o="delete",s="deleteAll"},function(e,t,n){"use strict";function r(){return{type:c,settings:{lowLatencyModeEnabled:s.a.get("lowLatencyModeEnabled",!0),persistenceEnabled:s.a.get("persistenceEnabled",!0)}}}function i(e){return{type:l,enable:e}}function a(){return function(e,t){var n=t(),r=n.analyticsTracker,i=n.playerOptions;r.trackEvent(u.f,{action:"persistence_enable"}),!0===i.persistUserPreferences&&s.a.set("persistenceEnabled",!0),e({type:d,value:!0})}}function o(){return function(e,t){var n=t(),r=n.analyticsTracker,i=n.playerOptions;r.trackEvent(u.f,{action:"persistence_disable"}),!0===i.persistUserPreferences&&s.a.set("persistenceEnabled",!1),e({type:d,value:!1})}}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),t.g=r,t.e=i,t.f=a,t.d=o;var s=n(21),u=n(86),c="initialize ui settings",l="set low latency mode",d="set persistence"},function(e,t,n){"use strict";function r(e,t){return 0===t?0:100*e/t}t.a=r},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(197),l=n(0),d=n(164);e.exports=function(e){var t=e.displayName||e.name,n=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return o(n,t),u(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||!this.__wrappedInstance||"function"!=typeof this.__wrappedInstance.handleClickOutside||this.__wrappedInstance.handleClickOutside(e)}},{key:"render",value:function(){var t=this,n=this.props,i=n.wrappedRef,a=r(n,["wrappedRef"]);return l.createElement(e,s({},a,{ref:function(e){t.__wrappedInstance=e,t.__domNode=d.findDOMNode(e),i&&i(e)}}))}}]),n}(l.Component);return n.displayName="clickOutside("+t+")",c(n,e)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"o",function(){return a}),n.d(t,"v",function(){return o}),n.d(t,"p",function(){return s}),n.d(t,"q",function(){return u}),n.d(t,"l",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"x",function(){return p}),n.d(t,"u",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"w",function(){return y}),n.d(t,"h",function(){return v}),n.d(t,"t",function(){return b}),n.d(t,"s",function(){return g}),n.d(t,"m",function(){return _}),n.d(t,"n",function(){return w}),n.d(t,"r",function(){return k}),n.d(t,"b",function(){return E}),n.d(t,"a",function(){return S}),n.d(t,"c",function(){return P}),n.d(t,"g",function(){return T}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return C});var i,a="clips",o="clip",s="clips_embed",u="clips_watch",c="player_title",l="player_channel_name",d="player_profile_img",f="player_game",p="video_share",h="recommendation",m="clips_minute_watched",y="player_twitch_logo",v="mp4",b=Object.freeze((i={},r(i,"top","popular_clips"),r(i,"similar","similar_popular_clips"),r(i,"game","game_popular_clips"),r(i,"channel","channel_popular_clips"),i)),g="similar_clips",_="item_section_click",w="item_section_load",k="pageview",E="benchmark_fetch_start",S="benchmark_complete_transition",P="benchmark_video_started",T="clips_qos",O="buffer-empty",C="buffer-refill"},function(e,t,n){function r(e){if(!a(e))return!1;var t=i(e);return t==s||t==u||t==o||t==c}var i=n(56),a=n(29),o="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t,n){function r(e){return"string"==typeof e||!a(e)&&o(e)&&i(e)==s}var i=n(56),a=n(24),o=n(46),s="[object String]";e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):u.test(e)?o:+e}var i=n(29),a=n(125),o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||a(e)&&i(e)==o}var i=n(56),a=n(46),o="[object Symbol]";e.exports=r},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var r=n(347),i=n(85),a=n(169),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(129),a=n(87),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(235);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&o(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(87),a=n(49),o=n(126),s=n(29);e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}var i=n(89),a=n(91);e.exports=r},function(e,t,n){var r=n(70),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(371),a=n(372),o=n(373),s=n(374),u=n(375);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(87);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(377);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(o(e))return a(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(84),a=n(57),o=n(24),s=n(125),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(134),a=n(387),o=n(388),s=n(389),u=n(390),c=n(391);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(172),a=n(393),o=n(394);r.prototype.add=r.prototype.push=a,r.prototype.has=o,e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e){return a(e)&&i(e)}var i=n(49),a=n(46);e.exports=r},function(e,t,n){"use strict";function r(){return window.self!==window.parent?document.referrer:window.location.href}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=Object(o.a)(e),n=t.host.split(".").slice(-2).join(".");return n===s||n===u}function a(e){return"127.0.0.1"===Object(o.a)(e).host}n.d(t,"c",function(){return s}),t.b=i,t.a=a;var o=n(54),s="twitch.tv",u="twitch.tech"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e.LoginRequest="twitch-ext-login-request",e.FollowAction="twitch-ext-follow-action",e.FollowComplete="twitch-ext-follow-complete",e.FollowStatusRequest="twitch-ext-follow-status",e.FollowStatusResponse="twitch-ext-follow-status-response",e.IdShareRequest="twitch-ext-id-share-request",e.TwitchExtMinimize="twitch-ext-minimize",e.UseBitsPromptRequired="twitch-ext-use-bits",e.SubscribeToChannel="twitch-ext-subscribe-to-channel",e.SubscribeToChannelResult="twitch-ext-subscribe-to-channel-result",e.UseBits="twitch-ext-use-bits",e.UseBitsComplete="twitch-ext-use-bits-complete"}(r||(r={}))},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===i}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},function(e,t,n){"use strict";function r(e){var t=e.deviceId;return{type:o,deviceId:t}}function i(e){return{type:s,playerType:e}}function a(e){return{type:u,params:e}}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),t.d=r,t.e=i,t.f=a;var o="set environment",s="set player type",u="set twitch everywhere params"},function(e,t,n){"use strict";function r(e){return{type:i,window:e}}n.d(t,"a",function(){return i}),t.b=r;var i="set window"},function(e,t,n){"use strict";function r(e){return{type:i,online:e}}n.d(t,"a",function(){return i}),t.b=r;var i="set online"},function(e,t,n){function r(e,t){return null!=e&&a(e,t,i)}var i=n(513),a=n(242);e.exports=r},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=0,i=1,a=2,o=3},function(e,t,n){"use strict";function r(){var e=this,t=new a.a;e.attach=function(e){},e.destroy=function(){},e.getVersion=function(){return""},e.addEventListener=function(e,n){t.on(e,n)},e.removeEventListener=function(e,n){t.off(e,n)},e.setAutoplay=function(){},e.getError=function(){return o},e.getSrc=function(){},e.getStats=function(){return{}},e.setSrc=function(e){},e.getNetworkState=function(){},e.getBuffered=function(){},e.load=function(){},e.getReadyState=function(){},e.getSeeking=function(){},e.getCurrentTime=function(){},e.setCurrentTime=function(e){},e.getDuration=function(){},e.getPaused=function(){},e.getPlaybackRate=function(){},e.setPlaybackRate=function(e){},e.getPlayed=function(){},e.getEnded=function(){},e.getAutoplay=function(){},e.setLoop=function(e){},e.play=function(){},e.pause=function(){},e.getControls=function(){},e.setControls=function(e){},e.getVolume=function(){},e.setVolume=function(e){},e.getMuted=function(){},e.setMuted=function(e){},e.getQuality=function(){},e.setQuality=function(e){},e.getQualities=function(){return[]},e.setChannel=function(e,t){},e.setClip=function(){},e.elapsedTime=function(){},e.setVideo=function(e,t){},e.getVideoInfo=function(){},e.getCaption=function(){},e.getBackend=function(){return s},e.absAvailable=function(){},e.setLiveLowLatencyEnabled=function(e){},e.setLiveMaxLatency=function(e){},e.setAutoMaxVideoSize=function(e,t){},e.getNetworkProfile=function(){},e.getBandwidthEstimate=function(){}}n.d(t,"a",function(){return s}),t.b=r;var i=n(50),a=n.n(i),o="Blank Backend Error",s="blank"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=this,i=void 0,a=void 0,o=void 0,s=void 0,g=void 0,_=void 0,w=new Promise(function(e){_=e});n.attach=function(e){e.appendChild(a),a.addEventListener(h,function(){var e;if(null!==a.error){if(a.error.code===a.error.MEDIA_ERR_SRC_NOT_SUPPORTED)return i.emit(l.q),void i.emit(c.f);var n=(e={},r(e,a.error.MEDIA_ERR_NETWORK,d.a.CODES.NETWORK),r(e,a.error.MEDIA_ERR_DECODE,d.a.CODES.DECODE),r(e,a.error.MEDIA_ERR_ABORTED,d.a.CODES.ABORTED),e);t.dispatch(Object(f.d)(n[a.error.code]))}}),a.addEventListener(p,function(){i.emit(l.A,n.getQuality())})},n.destroy=function(){},n.addEventListener=function(e,t){e!==h&&a.addEventListener(e,t),i.on(e,t)},n.removeEventListener=function(e,t){a.removeEventListener(e,t),i.off(e,t)},n.getNetworkProfile=function(){return[]},n.getError=function(){return null!==a.error&&a.error.code!==a.error.MEDIA_ERR_SRC_NOT_SUPPORTED?a.error:null},n.getSrc=function(){return a.src},n.setSrc=function(e){a.src=e,n.load(),_()},n.getNetworkState=function(){return a.networkState},n.getBuffered=function(){return a.buffered},n.load=function(){a.load(),n.getAutoplay()&&n.play()},n.getReadyState=function(){return a.readyState},n.getSeeking=function(){return a.seeking},n.getStats=function(){return m},n.getCurrentTime=function(){return a.currentTime},n.setCurrentTime=function(e){a.currentTime=e},n.getDuration=function(){return a.duration},n.getPaused=function(){return a.paused},n.getPlaybackRate=function(){return a.playbackRate},n.setPlaybackRate=function(e){a.playbackRate=e},n.getPlayed=function(){return a.played},n.getEnded=function(){return a.ended||!!a.error&&a.error.code===a.error.MEDIA_ERR_SRC_NOT_SUPPORTED},n.getAutoplay=function(){return g},n.setAutoplay=function(e){a.autoplay=e},n.setLoop=function(e){a.loop=e},n.play=function(){return w.then(function(){return new Promise(function(e){a.readyState>=v?e(a.play()):a.addEventListener(c.c,function t(){a.removeEventListener(c.c,t),e(a.play())})})}).catch(function(e){e.name===b&&(n.getMuted()?(i.emit(c.m),i.emit(c.k)):(n.setMuted(!0),i.emit(c.b),n.play()))})},n.pause=function(){a.pause()},n.getControls=function(){return!1},n.setControls=function(){},n.getVolume=function(){return a.volume},n.setVolume=function(e){a.volume=e},n.getMuted=function(){return a.muted},n.setMuted=function(e){e?a.setAttribute("muted",""):a.removeAttribute("muted"),a.muted=e},n.getChannel=function(){return o},n.setChannel=function(e,t){o=e,s=null,t.streamUrl.then(function(e){n.setSrc(e)})},n.setClip=function(){},n.getVideo=function(){return s},n.setVideo=function(e,t){s=e,o=null,t.streamUrl.then(function(e){n.setSrc(e)})},n.getQuality=function(){return"auto"},n.setQuality=function(){},n.getQualities=function(){return[{bandwidth:-1,resolution:"0x0",group:"auto",name:"Auto"}]},n.getVideoInfo=function(){return{}},n.getCaption=function(){},n.getBackend=function(){return y},n.getVersion=function(){},n.elapsedTime=function(){},n.absAvailable=function(){},n.setLiveLowLatencyEnabled=function(){},n.setLiveMaxLatency=function(){},n.setAutoMaxVideoSize=function(){},n.getBandwidthEstimate=function(){},function(){i=new u.a,a=document.createElement("video"),g=e.autoplay,e.playsinline&&(a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline","")),e.muted&&a.setAttribute("muted",""),setTimeout(function(){i.emit(l.w)},0)}()}n.d(t,"a",function(){return y}),t.b=i;var a=n(122),o=n.n(a),s=n(50),u=n.n(s),c=n(27),l=n(41),d=n(62),f=n(63),p="loadedmetadata",h="error",m={playbackRate:0,fps:0,bufferSize:0,skippedFrames:0,memoryUsage:"Unknown",hlsLatencyEncoder:0,hlsLatencyBroadcaster:0,videoResolution:"0x0",displayResolution:"0x0"},y="hls",v=3,b="NotAllowedError";i.canPlay=function(){var e=document.createElement("video");return!!o()(e.canPlayType)&&e.canPlayType("application/vnd.apple.mpegURL")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),l=n.n(c),d=n(1),f=n.n(d),p=n(2),h=n.n(p),m=n(4),y=n(213),v=n(8),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g={isActive:f.a.bool.isRequired,label:f.a.string.isRequired,onClick:f.a.func,speedValue:f.a.number.isRequired},_={onClick:function(){}},w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),b(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.speedValue)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.label,r=h()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return l.a.createElement("div",{className:r},l.a.createElement(v.a,{className:"ellipsis",onClick:this.handleClick},l.a.createElement("span",null,n)))}}]),t}(l.a.Component);w.propTypes=g,w.defaultProps=_,n.d(t,"a",function(){return P}),n.d(t,"c",function(){return T}),n.d(t,"b",function(){return R});var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E={currentSpeed:f.a.number.isRequired,onMenuTransition:f.a.func,onSelectPlaybackSpeed:f.a.func,t:f.a.func.isRequired},S={onMenuTransition:function(){},onSelectPlaybackSpeed:function(){}},P=Object.freeze([.25,.5,.75,1,1.25,1.5,2]),T="Speed",O=h()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),C=h()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),x=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return u(t,e),k(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(y.c)}},{key:"render",value:function(){var e=this.props.t,t=this._getSpeedSelectionButtons();return l.a.createElement("div",{className:"pl-menu__inner"},l.a.createElement("div",{className:O},l.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e(T))),l.a.createElement("div",{className:C},t))}},{key:"_getSpeedSelectionButtons",value:function(){var e=this.props,t=e.currentSpeed,n=e.onSelectPlaybackSpeed,r=e.t;return P.map(function(e){var i=t===e,a=1===e?"1x ("+r("Normal")+")":e+"x";return l.a.createElement(w,{isActive:i,key:e,label:a,onClick:n,speedValue:e})})}}]),t}(l.a.Component);x.propTypes=E,x.defaultProps=S;var R=Object(m.c)()(x)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f={uuid:c.a.string.isRequired,renderValue:c.a.string.isRequired,experiments:c.a.object.isRequired,children:c.a.node.isRequired},p=function(e){return{experiments:e.experiments}},h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={experimentValue:""},e}return a(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return""!==t.experimentValue}},{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.experiments,r=t.uuid;n.get(r).then(function(t){e.setState({experimentValue:t})})}},{key:"render",value:function(){var e=this.state.experimentValue,t=this.props,n=t.renderValue,r=t.children;return n!==e||""===e?null:r}}]),t}(s.a.Component);h.propTypes=f;var m=Object(l.b)(p)(h)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case i.c:return u()({},e,{videoStats:o()(t.videoStats,Object.keys(h.videoStats))});case i.b:var n=t.adStats,r=u()({},e);return m(n)?r.adStats=[n]:r.adStats.push(n),r;case i.a:return u()({},e,{displayState:t.displayState});default:return e}}n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p}),t.d=r;var i=n(82),a=n(26),o=n.n(a),s=n(6),u=n.n(s),c=n(33),l=n.n(c),d="DISPLAY_NONE",f="DISPLAY_AD_STATS",p="DISPLAY_VIDEO_STATS",h={videoStats:{bufferSize:0,displayResolution:"",skippedFrames:0,fps:0,bitrate:0,hlsLatencyBroadcaster:0,latencyMode:"",hlsLatencyEncoder:0,memoryUsage:"",playbackRate:0,videoResolution:"",backendVersion:"",codecs:""},adStats:[],displayState:d},m=function(e){return 1===l()(e,"adPodInfo.adPosition")}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return o("Cheer")}function o(e){return v.indexedActions[e.toLowerCase()]}function s(e,t){var n=[f.Red,f.Blue,f.Green,f.Purple,f.Gray],i=new Map,a=[];if("Cheer"===e){var o=u(e,f.Yellow);i.set(f.Yellow,o),a.push(o)}return a.push.apply(a,r(n.map(function(t){var n=u(e,t);return i.set(t,n),n}))),{prefix:e,type:t,tiers:a,orderedTiers:a,indexedTiers:i}}function u(e,t){var n=[],r={};return m.forEach(function(i){y.forEach(function(a){r[i]||(r[i]={animated:new Map,static:new Map});var o=c(e,i,!0,t,a);n.push(o),r[i].animated.set(a,o.url);var s=c(e,i,!1,t,a);n.push(s),r[i].static.set(a,s.url)})}),{id:e+";"+t,bits:t,color:p[t],images:n,indexedImages:r}}function c(e,t,n,r,i){var a=n?"gif":"png";return{theme:t,isAnimated:n,dpiScale:i,url:"https://d3aqoihi2n8ty8.cloudfront.net/actions/"+e.toLowerCase()+"/"+t.toLowerCase()+"/"+(n?"animated":"static")+"/"+r+"/"+i+"."+a}}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return v}),t.c=a;var l,d="cheer",f=Object.freeze({Gray:1,Purple:100,Green:1e3,Blue:5e3,Red:1e4,Yellow:1e5}),p=Object.freeze((l={},i(l,f.Gray,"#979797"),i(l,f.Purple,"#9c3ee8"),i(l,f.Green,"#1db2a5"),i(l,f.Blue,"#0099fe"),i(l,f.Red,"#f43021"),i(l,f.Yellow,"#f3a71a"),l)),h=Object.freeze({Cheer:"FIRST_PARTY",Kreygasm:"FIRST_PARTY",Kappa:"FIRST_PARTY",Muxy:"THIRD_PARTY",Streamlabs:"THIRD_PARTY",SwiftRage:"FIRST_PARTY",VoHiYo:"FIRST_PARTY"}),m=Object.freeze(["LIGHT","DARK"]),y=Object.freeze([1,1.5,2,3,4]),v=Object.freeze(function(){var e=[],t={};return Object.keys(h).forEach(function(n){var r=s(n,h[n]);e.push(r),t[n.toLowerCase()]=r}),{orderedActions:e,indexedActions:t}}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(562),c=r(u),l=n(0),d=r(l),f=n(1),p=r(f),h=n(563),m=(r(h),n(564)),y=(p.default.any,p.default.func,p.default.node,{component:"span",childFactory:function(e){return e}}),v=function(e){function t(n,r){i(this,t);var o=a(this,e.call(this,n,r));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=s({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,m.getChildMapping)(n.children)},o}return o(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,m.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,m.mergeChildMappings)(n,t)});for(var r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var a in n){var o=t&&t.hasOwnProperty(a);!n[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,a=e.props.childFactory(r),o=function(t){e.childRefs[n]=t};a===r&&i&&(o=(0,c.default)(r.ref,o)),t.push(d.default.cloneElement(a,{key:n,ref:o}))}}(n);var r=s({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,d.default.createElement(this.props.component,r,t)},t}(d.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=y,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return function(n,r){return Object(s.q)(e,t).then(function(){if(t===r().streamMetadata.channel.id)return n(f({isSubscribed:!0}))}).catch(function(){if(t===r().streamMetadata.channel.id)return n(f({isSubscribed:!1}))})}}function i(e){return function(t,n){return Object(s.r)(e).then(function(){if(e===n().streamMetadata.channel.name)return t(p({isSubscribable:!0}))}).catch(function(){if(e===n().streamMetadata.channel.name)return t(p({isSubscribable:!1}))})}}function a(e){return{type:l,isSubscribed:e}}function o(e){return{type:d,isSubscribable:e}}n.d(t,"b",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d}),t.h=r,t.i=i,n.d(t,"g",function(){return f}),n.d(t,"j",function(){return p}),t.f=a,t.e=o;var s=n(12),u="action channel subscriptions fetched",c="action subscription products fetched",l="action channel subscription updated",d="action channel subscribable updated",f=function(e){return{type:u,subscriptions:e}},p=function(e){return{type:c,subscriptions:e}}},function(e,t,n){"use strict";function r(e){return{type:o,tracker:e}}function i(){return{type:u}}function a(){return{type:s}}n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),t.d=r,t.e=i,t.f=a;var o="set clips tracker",s="track clips video started event",u="track clips app ready event"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.a:var n=s()({},e);return n.byName[t.channelName]=s()({},n.byName[t.channelName]||{},t.info),n.allNames=Object(a.a)(n.allNames,t.channelName),n;default:return e}}t.a=r,n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f});var i=n(163),a=n(202),o=n(6),s=n.n(o),u={byName:{},allNames:[]},c=function(e,t,n){var r=e.broadcasterInfo.byName[t];return r&&r[n]?r[n]:i.d},l=function(e,t){return c(e,t,"liveStatus")},d=function(e,t){return c(e,t,"partnerStatus")},f=function(e,t){return c(e,t,"stream")}},function(e,t,n){"use strict";function r(e,t){return{type:s,channelName:e,info:t}}function i(e){return function(t){return Object(o.a)(e).then(function(n){var i=n.partner?d:f;return t(r(e,{partnerStatus:i}))})}}function a(e){return function(t){return Object(o.B)(e).then(function(n){var i=n.stream?c:l;return t(r(e,{liveStatus:i,stream:n.stream}))})}}n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return d}),t.e=i,t.f=a;var o=n(12),s="broadcaster info loaded",u="NOT_AVAILABLE",c="BROADCASTER_IS_LIVE",l="BROADCASTER_IS_NOT_LIVE",d="BROADCASTER_IS_PARTNER",f="BROADCASTER_IS_NOT_PARTNER"},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(548)},function(e,t,n){function r(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return a(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:r,maxWait:t,trailing:s})}var i=n(293),a=n(29),o="Expected a function";e.exports=r},function(e,t,n){function r(e,t,n){return t===t?o(e,t,n):i(e,a,n)}var i=n(229),a=n(338),o=n(339);e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){var r=n(230),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(168)(e))},function(e,t,n){function r(e){return i(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t})}var i=n(88),a=n(131);e.exports=r},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}var i=n(24),a=n(125),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(364),a=n(376),o=n(378),s=n(379),u=n(380);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(70),i=n(38),a=r(i,"Map");e.exports=a},function(e,t,n){function r(e,t,n,o,s){var u=-1,c=e.length;for(n||(n=a),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,o,s):i(s,l):o||(s[s.length]=l)}return s}var i=n(138),a=n(383);e.exports=r},function(e,t,n){function r(e,t,n,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:i(e,t,n,o,r,s))}var i=n(392),a=n(46);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var r=n(399),i=n(248),a=Object.prototype,o=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:i;e.exports=u},function(e,t,n){"use strict";function r(e){var t=!0,n="live";return e===a.b||e===a.c||e===a.d?n="vodcast":e===a.e&&(n="vod",t=!1),{live:t,contentMode:n}}function i(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}t.b=r,t.a=i;var a=n(86)},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){var r=n(410),i=r();e.exports=i},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(245);e.exports=r},function(e,t,n){var r=n(234),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){if(null==e)return!0;if(u(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||d(e)||o(e)))return!e.length;var t=a(e);if(t==f||t==p)return!e.size;if(l(e))return!i(e).length;for(var n in e)if(m.call(e,n))return!1;return!0}var i=n(233),a=n(106),o=n(102),s=n(24),u=n(49),c=n(103),l=n(104),d=n(127),f="[object Map]",p="[object Set]",h=Object.prototype,m=h.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(166);e.exports=r},function(e,t){function n(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var i=n(187),a=n.n(i),o=n(31),s=n(18),u=n(22),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="fullscreenchange",d=function(){function e(t,n){var i=this;r(this,e),this._store=n,this._root=t,this._store.dispatch(Object(o.f)(this.canFullScreen())),Object(s.a)(this._store,["screenMode.isFullScreen"],function(e){var t=e.screenMode;i.setFullScreen(t.isFullScreen)}),a.a.onchange=this._onFullScreenChange.bind(this)}return c(e,[{key:"canFullScreen",value:function(){return a.a.enabled||this._checkWebkitFullscreen()}},{key:"_checkWebkitFullscreen",value:function(){var e=this._root.getElementsByTagName("video").item(0);return!!e&&(e.webkitSupportsFullscreen||!1)}},{key:"isFullScreen",value:function(){return a.a.element===this._root}},{key:"setFullScreen",value:function(e){if(this.canFullScreen()&&this.isFullScreen()!==e){var t=this._onFullScreenChange.bind(this);a.a.toggle(this._root,t,t)}}},{key:"_onFullScreenChange",value:function(){this._store.dispatch(Object(o.g)(this.isFullScreen())),this._store.dispatch(Object(u.E)())}}]),e}()},function(e,t,n){var r;/*! BigScreen
 * v2.0.5 - 2015-05-02
 * 
 * Copyright 2015 Brad Dougherty <me@brad.is>; MIT License
 */
!function(i,a,o){"use strict";function s(e){var t=null;if("VIDEO"===e.tagName)t=e;else{var n=e.getElementsByTagName("video");n[0]&&(t=n[0])}return t}function u(e){var t=s(e);if(t&&t.webkitEnterFullscreen){try{t.readyState<t.HAVE_METADATA?(t.addEventListener("loadedmetadata",function e(){t.removeEventListener("loadedmetadata",e,!1),t.webkitEnterFullscreen(),m=!!t.getAttribute("controls")},!1),t.load()):(t.webkitEnterFullscreen(),m=!!t.getAttribute("controls")),h=t}catch(t){return w("not_supported",e)}return!0}return w(void 0===p.request?"not_supported":"not_enabled",e)}function c(){k.element||(_(),d())}function l(){o&&"webkitfullscreenchange"===p.change&&window.addEventListener("resize",c,!1)}function d(){o&&"webkitfullscreenchange"===p.change&&window.removeEventListener("resize",c,!1)}var f=/i(Pad|Phone|Pod)/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,p=function(){var e=a.createElement("video"),t={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},n={};for(var r in t)for(var i=0,o=t[r].length;i<o;i++)if(t[r][i]in e||t[r][i]in a||"on"+t[r][i].toLowerCase()in a){n[r]=t[r][i];break}return n}(),h=null,m=null,y=function(){},v=[],b=!1;navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(b=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var g=function(e){var t=v[v.length-1];t&&(e!==t.element&&e!==h||!t.hasEntered)&&("VIDEO"===e.tagName&&(h=e),1===v.length&&k.onenter(k.element),t.enter.call(t.element,e||t.element),t.hasEntered=!0)},_=function(){!h||m||f||(h.setAttribute("controls","controls"),h.removeAttribute("controls")),h=null,m=null;var e=v.pop();e&&(e.exit.call(e.element),k.element||(v.forEach(function(e){e.exit.call(e.element)}),v=[],k.onexit()))},w=function(e,t){if(v.length>0){var n=v.pop();t=t||n.element,n.error.call(t,e),k.onerror(t,e)}},k={request:function(e,t,n,r){if(e=e||a.body,v.push({element:e,enter:t||y,exit:n||y,error:r||y}),void 0===p.request)return void u(e);if(o&&!1===a[p.enabled])return void u(e);if(!1!==b&&b<32)return void u(e);if(o&&void 0===p.enabled)return p.enabled="webkitFullscreenEnabled",e[p.request](),void setTimeout(function(){a[p.element]?a[p.enabled]=!0:(a[p.enabled]=!1,u(e))},250);try{e[p.request](),setTimeout(function(){a[p.element]||w(o?"not_enabled":"not_allowed",e)},100)}catch(t){w("not_enabled",e)}},exit:function(){d(),a[p.exit]()},toggle:function(e,t,n,r){k.element?k.exit():k.request(e,t,n,r)},videoEnabled:function(e){if(k.enabled)return!0;e=e||a.body;var t=s(e);return!(!t||void 0===t.webkitSupportsFullscreen)&&(t.readyState<t.HAVE_METADATA?"maybe":t.webkitSupportsFullscreen)},onenter:y,onexit:y,onchange:y,onerror:y};try{Object.defineProperties(k,{element:{enumerable:!0,get:function(){return h&&h.webkitDisplayingFullscreen?h:a[p.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"===p.exit&&!o||!(!1!==b&&b<32)&&(a[p.enabled]||!1)}}}),p.change&&a.addEventListener(p.change,function(e){if(k.onchange(k.element),k.element){var t=v[v.length-2];t&&t.element===k.element?_():(g(k.element),l())}else _()},!1),a.addEventListener("webkitbeginfullscreen",function(e){var t=!0;if(v.length>0)for(var n=0,r=v.length;n<r;n++){var i=s(v[n].element);if(i===e.srcElement){t=!1;break}}t&&v.push({element:e.srcElement,enter:y,exit:y,error:y}),k.onchange(e.srcElement),g(e.srcElement)},!0),a.addEventListener("webkitendfullscreen",function(e){k.onchange(e.srcElement),_(e.srcElement)},!0),p.error&&a.addEventListener(p.error,function(e){w("not_allowed")},!1)}catch(e){k.element=null,k.enabled=!1}void 0!==(r=function(){return k}.call(t,n,t,e))&&(e.exports=r)}(0,document,self!==top)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return!!o.a.enabled}n.d(t,"a",function(){return d}),t.c=i,n.d(t,"b",function(){return f});var a=n(187),o=n.n(a),s=n(31),u=n(18),c=n(22),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="externalfullscreenchange",f=function(){function e(t,n){var i=this;r(this,e),this._store=n,this._root=t,this._store.dispatch(Object(s.f)(this.canFullScreen())),Object(u.a)(this._store,["screenMode.isFullScreen"],function(){i._store.dispatch(Object(c.A)())})}return l(e,[{key:"canFullScreen",value:function(){return i()}},{key:"isFullScreen",value:function(){return this._store.getState().screenMode.isFullScreen&&this.canFullScreen()}}]),e}()},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return f});var r,i;!function(e){e.Active="active",e.Inactive="inactive"}(i||(i={}));var a;!function(e){e.Hidden="hidden",e.Panel="panel",e.Overlay="video_overlay",e.Component="component"}(a||(a={}));var o;!function(e){e.Config="config",e.Dashboard="dashboard",e.Viewer="viewer"}(o||(o={}));var s;!function(e){e.Mobile="mobile",e.Web="web"}(s||(s={}));var u;!function(e){e.Testing="Testing",e.HostedTest="Assets Uploaded",e.Approved="Approved",e.Released="Released",e.ReadyForReview="Ready For Review",e.InReview="In Review",e.PendingAction="Pending Action",e.Uploading="Uploading"}(u||(u={}));var c;!function(e){e.Testing="testing",e.HostedTest="hosted_test",e.Approved="approved",e.Released="released",e.ReadyForReview="ready_for_review",e.InReview="in_review",e.PendingAction="pending_action",e.Uploading="uploading"}(c||(c={}));var l,d=(r={},r[u.Testing]=c.Testing,r[u.HostedTest]=c.HostedTest,r[u.Approved]=c.Approved,r[u.Released]=c.Released,r[u.ReadyForReview]=c.ReadyForReview,r[u.InReview]=c.InReview,r[u.PendingAction]=c.PendingAction,r[u.Uploading]=c.Uploading,r);!function(e){e.TwitchExtAuth="twitch-ext-auth",e.TwitchExtBootstrap="twitch-ext-bootstrap",e.TwitchExtContext="twitch-ext-context",e.TwitchExtError="twitch-ext-error",e.TwitchExtLoaded="twitch-ext-loaded",e.TwitchExtLongtask="twitch-ext-longtask",e.TwitchExtNetworkTiming="twitch-ext-network-timing",e.TwitchExtReload="twitch-ext-reload",e.TwitchExtUserAction="twitch-ext-user-action",e.TwitchExtConfirmationRequest="twitch-ext-confirmation-request",e.TwitchExtBeginPurchase="twitch-ext-begin-purchase",e.TwitchExtReloadEntitlements="twitch-ext-reload-entitlements",e.TwitchExtProductPrices="twitch-ext-product-prices",e.TwitchExtVisibilityChanged="twitch-ext-visibility-changed",e.TwitchExtHighlightChanged="twitch-ext-highlight-changed",e.TwitchExtBitsProducts="twitch-ext-bits-products",e.TwitchExtUseBits="twitch-ext-use-bits",e.TwitchExtBitsTransactionComplete="twitch-ext-bits-transaction-complete",e.TwitchExtBitsOnHover="twitch-ext-bits-on-hover",e.TwitchExtPubSubReceived="twitch-ext-pubsub-received",e.TwitchExtPositionChanged="twitch-ext-position-changed",e.TwitchExtPubsubMessage="twitch-ext-pubsub-message",e.TwitchExtPubsubBindFailure="twitch-ext-pubsub-bind-failure",e.TwitchExtPubsubListen="twitch-ext-pubsub-listen",e.TwitchExtPubsubUnlisten="twitch-ext-pubsub-unlisten",e.TwitchExtViewerUpdate="twitch-ext-viewer-update"}(l||(l={}));var f=1024},function(e,t,n){"use strict";function r(){return Object.create(null)}t.a=r},function(e,t,n){"use strict";e.exports=n(265)()?Object.setPrototypeOf:n(266)},function(e,t,n){"use strict";e.exports=n(435)()?Object.assign:n(436)},function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},function(e,t,n){"use strict";function r(e){return{type:a,userInfo:e}}function i(){return{type:o}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="user logged in",o="user not logged in"},function(e,t,n){!function(n,r){e.exports=t=r()}(0,function(){var e=e||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=0;i<t;i+=4){var o=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}}(4294967296*(n||e.random()));n=987654071*o(),r.push(4294967296*o()|0)}return new a.init(r,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,u=i/s;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*o,l=e.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(r,d);var f=r.splice(0,c);n.sigBytes-=l}return new a.init(f,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);return e})},function(e,t,n){var r=n(276),i=n(481),a=i(r);e.exports=a},function(e,t,n){"use strict";function r(e,t,n){if("string"!=typeof t){if(d){var f=l(t);f&&f!==d&&r(e,f,n)}var p=s(t);u&&(p=p.concat(u(t)));for(var h=0;h<p.length;++h){var m=p[h];if(!(i[m]||a[m]||n&&n[m])){var y=c(t,m);try{o(e,m,y)}catch(e){}}}return e}return e}var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,s=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=l&&l(Object);e.exports=r},function(e,t,n){"use strict";function r(e){var t=y.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var i=v.call(e);return r&&(t?e[b]=n:delete e[b]),i}function i(e){return w.call(e)}function a(e){return null==e?void 0===e?S:E:P&&P in Object(e)?g(e):k(e)}function o(e,t){return function(n){return e(t(n))}}function s(e){return null!=e&&"object"==typeof e}function u(e){if(!R(e)||T(e)!=j)return!1;var t=x(e);if(null===t)return!0;var n=M.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&N.call(n)==L}var c=n(489),l="object"==typeof self&&self&&self.Object===Object&&self,d=c.a||l||Function("return this")(),f=d,p=f.Symbol,h=p,m=Object.prototype,y=m.hasOwnProperty,v=m.toString,b=h?h.toStringTag:void 0,g=r,_=Object.prototype,w=_.toString,k=i,E="[object Null]",S="[object Undefined]",P=h?h.toStringTag:void 0,T=a,O=o,C=O(Object.getPrototypeOf,Object),x=C,R=s,j="[object Object]",A=Function.prototype,I=Object.prototype,N=A.toString,M=I.hasOwnProperty,L=N.call(Object);t.a=u},function(e,t,n){"use strict";function r(e){var t=Math.floor(e/1e3),n=Math.floor(t/60);return{hours:Math.floor(n/60),minutes:n%60,seconds:t%60}}function i(e,t){var n=r(1e3*e),i=t("{{count}} second",{count:n.seconds}),a=t("{{count}} minute",{count:n.minutes}),o=t("{{count}} hour",{count:n.hours});return 0===n.hours?0===n.minutes?i:a:0===n.minutes?o:t("{{hoursText}} and {{minutesText}}",{hoursText:o,minutesText:a})}function a(e,t){var n=r(1e3*e),i=t("{{count}} second left",{count:n.seconds}),a=t("{{count}} minute",{count:n.minutes}),o=t("{{count}} hour",{count:n.hours});return 0===n.hours?0===n.minutes?i:t("{{count}} minute left",{count:n.minutes}):0===n.minutes?t("{{count}} hour left",{count:n.hours}):t("{{hoursText}} and {{minutesText}} left",{hoursText:o,minutesText:a})}n.d(t,"a",function(){return o}),t.b=r,t.c=i,t.d=a;var o=36e5},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(!(e instanceof Date))throw new Error("Invalid date object")}function a(e){return isFinite(e)&&Math.round(e)===e}function o(e){var t=s(e);return t.setHours(0,0,0,0),t}function s(e){return i(e),new Date(e.getTime())}function u(e,t){if(!a(e)||e<0||e>11)throw new Error("Invalid month '"+e+"'. Valid values need to be from 0 (Jan) to 11 (Dec)");return c(t)?q[e]:L[e]}function c(e){if(!a(e)||e<0)throw new Error("Invalid year '"+e+"'. Value must be an non-negative integer.");return e%4==0&&e%100!=0||e%400==0}function l(e,t){if(!a(t)||t<0)throw new Error("Minimum age '"+t+"' must be non-negative and an integer");var n=o(e),r=o(new Date);return r.setFullYear(r.getFullYear()-t),n.getTime()<=r.getTime()}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e){return D.a.get(Ee,{})[e]}var g,_=n(0),w=n.n(_),k=n(1),E=n.n(k),S=n(3),P=n(2),T=n.n(P),O=n(6),C=n.n(O),x=n(29),R=n.n(x),j=n(498),A=n.n(j),I=n(4),N=n(8),M=Object.freeze({JANUARY:0,FEBRUARY:1,MARCH:2,APRIL:3,MAY:4,JUNE:5,JULY:6,AUGUST:7,SEPTEMBER:8,OCTOBER:9,NOVEMBER:10,DECEMBER:11}),L=Object.freeze((g={},r(g,M.JANUARY,31),r(g,M.FEBRUARY,28),r(g,M.MARCH,31),r(g,M.APRIL,30),r(g,M.MAY,31),r(g,M.JUNE,30),r(g,M.JULY,31),r(g,M.AUGUST,31),r(g,M.SEPTEMBER,30),r(g,M.OCTOBER,31),r(g,M.NOVEMBER,30),r(g,M.DECEMBER,31),g)),q=Object.freeze(C()({},L,r({},M.FEBRUARY,29))),D=n(21),B=n(14),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F={requiredAge:E.a.number.isRequired,fill:E.a.string,viewBox:E.a.string},V={fill:"#F9F7FC"},H=function(e){return 19===e.requiredAge?w.a.createElement(B.a,U({viewBox:"0 0 98 86"},e),w.a.createElement("path",{d:"M24 8h50v10h12V8h10a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h10v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm18.718 32.407h6.42V65h-7.446V44.272h-5.127v-5.615h1.197c1.562 0 2.779-.431 3.65-1.294.87-.862 1.306-2.148 1.306-3.857v-1.099zm29.614 18.994c-.911 1.058-1.827 1.856-2.747 2.393-.92.537-1.843.806-2.77.806-2.182 0-4.09-1.034-5.726-3.101-1.635-2.067-2.453-4.622-2.453-7.666 0-3.32.984-6.144 2.954-8.472 1.97-2.327 4.419-3.49 7.348-3.49 3.337 0 6.063 1.496 8.18 4.491 2.115 2.995 3.173 7.137 3.173 12.427 0 2.962-.468 5.717-1.404 8.264-.936 2.547-2.409 4.598-4.419 6.153-2.01 1.554-4.423 2.331-7.239 2.331-2.001 0-4.174-.48-6.518-1.44v-7.202c2.132 1.464 3.988 2.197 5.566 2.197 1.71 0 3.068-.643 4.077-1.929 1.01-1.286 1.669-3.206 1.978-5.762zm0-6.933c-.163-1.937-.541-3.443-1.135-4.517-.594-1.074-1.29-1.611-2.088-1.611-.813 0-1.473.476-1.977 1.428-.505.952-.757 2.128-.757 3.528 0 1.383.236 2.494.708 3.332.472.839 1.099 1.258 1.88 1.258.553 0 1.11-.285 1.672-.855.562-.57 1.127-1.424 1.697-2.563z",fillRule:"evenodd",fill:e.fill})):w.a.createElement(B.a,U({viewBox:"0 0 98 86"},e),w.a.createElement("path",{d:"M24 8h50v10h12V8h10a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h10v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm13.638 33.726c2.978-1.237 5.656-1.856 8.032-1.856 3.076 0 5.55.83 7.422 2.49 1.872 1.66 2.807 3.817 2.807 6.47 0 2.083-.52 3.87-1.562 5.359-1.042 1.49-3.027 3.455-5.957 5.896-2.1 1.742-3.414 3.02-3.943 3.833-.529.814-.826 1.782-.891 2.905h12.89V65h-20.36v-3.906c0-3.142.487-5.587 1.464-7.337s3.15-4.04 6.519-6.872c1.595-1.351 2.632-2.364 3.112-3.04.48-.675.72-1.38.72-2.112 0-.96-.374-1.77-1.122-2.429-.75-.659-1.734-.989-2.955-.989-1.79 0-3.849.863-6.176 2.588v-7.177zm32.592-1.319h6.421V65h-7.446V44.272h-5.127v-5.615h1.196c1.563 0 2.78-.431 3.65-1.294.871-.862 1.306-2.148 1.306-3.857v-1.099z",fillRule:"evenodd",fill:e.fill}))};H.propTypes=F,H.defaultProps=V;var z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W={fill:E.a.string},G={fill:"#F9F7FC"},K=function(e){return w.a.createElement(B.a,z({viewBox:"0 0 92 81"},e),w.a.createElement("path",{d:"M0 75.6l3.067-5.4L9.2 59.4l12.267-21.6 12.266-21.6 6.134-10.8L42.933 0h6.134l3.066 5.4 6.134 10.8 12.266 21.6L82.8 59.4l6.133 10.8L92 75.6 89.06 81H3.44L0 75.6zM40 27h12v13l-3 19h-6l-3-19V27zm1 34h10v10H41V61z",fill:e.fill,fillRule:"evenodd"}))};K.propTypes=W,K.defaultProps=G;var Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=T()("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay","js-age-restriction-overlay"),$=T()("player-center-content"),X=T()("pl-age-gate js-age-gate"),J=T()("js-age-gate-submit player-content-button"),Z=T()("player-datepicker--select js-select-day"),ee=T()("player-datepicker--select js-select-month"),te=T()("player-datepicker--select js-select-year"),ne=T()("player-age-gate-failed-once"),re=T()("player-age-gate--fail-icon"),ie=T()("age-gate-locked-out-label"),ae=T()("player-age-gate-warning"),oe=T()("js-age-gate-warning-label"),se=T()("pl-age-gate-locked-out"),ue=T()("player-age-gate--icon"),ce=T()("player-age-gate-notificiation"),le=T()("player-datepicker"),de=T()("player-age-gate-form js-age-gate"),fe=1,pe={handleAgeGatePassed:E.a.func.isRequired,requiredAge:E.a.number.isRequired,channelName:E.a.string.isRequired,t:E.a.func.isRequired},he=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),r=n._getMinimumYear(),i=n._getAgeGateFailureCount(e.channelName);return n.state={monthValue:""+M.JANUARY,dayValue:""+fe,yearValue:r,ageGatesFailedCount:i},n._handleInputMonthChange=n._handleInputMonthChange.bind(n),n._handleInputDayChange=n._handleInputDayChange.bind(n),n._handleInputYearChange=n._handleInputYearChange.bind(n),n._submitAge=n._submitAge.bind(n),n}return h(t,e),Y(t,[{key:"render",value:function(){var e=this._renderAgeGateStatus();return w.a.createElement("div",{className:Q},w.a.createElement("div",{className:$},w.a.createElement("div",{className:X},e)))}},{key:"_getAgeGateFailuresMap",value:function(){var e=D.b.get("age_gates_failed");return R()(e)?e:{}}},{key:"_getAgeGateFailureCount",value:function(e){var t=this._getAgeGateFailuresMap(),n=t[e];return isFinite(n)?Math.max(0,n):0}},{key:"_getSelectedDate",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue);return{month:parseInt(e,10),day:parseInt(t,10),year:parseInt(n,10)}}},{key:"_handleInputMonthChange",value:function(e){var t=Number(e.target.value),n=u(t,Number(this.state.yearValue));this.setState({monthValue:e.target.value}),this.state.dayValue>n&&this.setState({dayValue:""+fe})}},{key:"_handleInputDayChange",value:function(e){this.setState({dayValue:e.target.value})}},{key:"_handleInputYearChange",value:function(e){var t=Number(this.state.monthValue),n=e.target.value,r=u(t,Number(n));this.setState({yearValue:n}),this.state.dayValue>r&&this.setState({dayValue:""+fe})}},{key:"_isOfAgeOrOlder",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue);return l(new Date(n,e,t),this.props.requiredAge)}},{key:"_isValidDate",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.day,r=e.year,i=u(t,r);return n>0&&n<=i}},{key:"_populateMonthDropdown",value:function(){var e=this.props.t;return w.a.createElement("select",{className:ee,name:"monthValue",value:this.state.monthValue,onChange:this._handleInputMonthChange,onBlur:this._handleInputMonthChange},w.a.createElement("option",{className:"age-gate-jan",value:M.JANUARY},e("January")),w.a.createElement("option",{className:"age-gate-feb",value:M.FEBRUARY},e("February")),w.a.createElement("option",{className:"age-gate-mar",value:M.MARCH},e("March")),w.a.createElement("option",{className:"age-gate-apr",value:M.APRIL},e("April")),w.a.createElement("option",{className:"age-gate-may",value:M.MAY},e("May")),w.a.createElement("option",{className:"age-gate-jun",value:M.JUNE},e("June")),w.a.createElement("option",{className:"age-gate-jul",value:M.JULY},e("July")),w.a.createElement("option",{className:"age-gate-aug",value:M.AUGUST},e("August")),w.a.createElement("option",{className:"age-gate-sept",value:M.SEPTEMBER},e("September")),w.a.createElement("option",{className:"age-gate-oct",value:M.OCTOBER},e("October")),w.a.createElement("option",{className:"age-gate-nov",value:M.NOVEMBER},e("November")),w.a.createElement("option",{className:"age-gate-dec",value:M.DECEMBER},e("December")))}},{key:"_populateDayDropdown",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.year,r=u(t,n),i=A()(1,r+1).map(function(e){return w.a.createElement("option",{key:"day."+e,value:e},e)});return w.a.createElement("select",{className:Z,name:"dayValue",value:this.state.dayValue,onChange:this._handleInputDayChange,onBlur:this._handleInputDayChange},i)}},{key:"_populateYearDropdown",value:function(){var e=this._getMinimumYear(),t=e-100,n=A()(e,t+1).map(function(e){return w.a.createElement("option",{key:"year."+e,value:e},e)});return w.a.createElement("select",{className:te,name:"yearValue",value:this.state.yearValue,onChange:this._handleInputYearChange,onBlur:this._handleInputYearChange},n)}},{key:"_setAgeGateFailed",value:function(){var e=this.props.channelName,t=this._getAgeGateFailureCount(e)+1,n=C()(this._getAgeGateFailuresMap(),d({},e,t));D.b.set("age_gates_failed",n),this.setState({ageGatesFailedCount:t})}},{key:"_setAgeGatePassed",value:function(){this.props.handleAgeGatePassed()}},{key:"_submitAge",value:function(e){e.preventDefault(),this._isOfAgeOrOlder()?this._setAgeGatePassed():this._setAgeGateFailed()}},{key:"_renderAgeGateNotification",value:function(){var e=this.props,t=e.t,n=e.requiredAge;return 1===this.state.ageGatesFailedCount?w.a.createElement("div",{className:ne},w.a.createElement("p",null,w.a.createElement(K,{className:re,id:"age-gate-fail-icon"})),w.a.createElement("p",{className:ie},t("Sorry, you must be over the age of {{age}} to view this content.",{age:n}))):this._renderAgeIcon()}},{key:"_renderAgeGateStatus",value:function(){var e=this.props,t=e.t,n=e.requiredAge,r=this._isValidDate(),i=this._populateMonthDropdown(),a=this._populateDayDropdown(),o=this._populateYearDropdown(),s=this._renderAgeGateNotification();return this.state.ageGatesFailedCount>=2?w.a.createElement("div",{className:se},w.a.createElement("p",null,w.a.createElement(K,{className:re,id:"age-gate-fail-icon"})),w.a.createElement("p",{className:ie},t("Sorry, you must be over the age of {{age}} to view this content.",{age:n}))):w.a.createElement("div",{className:de},w.a.createElement("div",{className:ce},s),w.a.createElement("div",{className:le},i,a,o,w.a.createElement(N.a,{className:J,onClick:this._submitAge,disabled:!r},"Submit")))}},{key:"_renderAgeIcon",value:function(){var e=this.props,t=e.t,n=e.requiredAge;return w.a.createElement("div",{className:ae},w.a.createElement("p",null,w.a.createElement(H,{className:ue,requiredAge:n})),w.a.createElement("p",{className:oe},t("You must be {{age}} to view this content. Please enter your date of birth.",{age:n})))}},{key:"_getMinimumYear",value:function(){return(new Date).getFullYear()-14}}]),t}(w.a.Component);he.propTypes=pe;var me=Object(I.c)()(he),ye=n(15),ve=n(20),be=n(44),ge=n(9),_e=n(16),we=n(51);n.d(t,"a",function(){return Se}),t.c=b,n.d(t,"b",function(){return Re});var ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ee="age_gate",Se=Object.freeze({budlight:21,budlightcanada:19}),Pe={playback:E.a.object.isRequired,stream:E.a.object.isRequired,streamMetadata:E.a.object.isRequired,ads:E.a.object.isRequired,mutePlayer:E.a.func.isRequired,contentIsShowing:E.a.func.isRequired,play:E.a.func.isRequired,pause:E.a.func.isRequired,requestAds:E.a.func.isRequired,contentRestricted:E.a.func.isRequired},Te={playback:function(){},streamMetadata:function(){},mutePlayer:function(){},contentIsShowing:function(){},play:function(){},pause:function(){},requestAds:function(){},contentRestricted:function(){}},Oe=function(e){return{playback:e.playback,stream:e.stream,streamMetadata:e.streamMetadata,ads:e.ads}},Ce=function(e){return{mutePlayer:function(t,n){e(Object(ye.r)(t,n))},contentIsShowing:function(){e(Object(ve.A)(be.a))},contentRestricted:function(){e(Object(ve.B)())},play:function(){e(Object(ye.t)())},pause:function(){e(Object(ye.s)())},requestAds:function(t,n){e(Object(_e.q)(t,n))}}},xe=function(e){function t(){m(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showAgeGateOverlay:!1,playerPaused:!1},e.handleAgeGatePassed=e.handleAgeGatePassed.bind(e),e}return v(t,e),ke(t,[{key:"componentDidUpdate",value:function(){var e=this.state.showAgeGateOverlay,t=this.props.playback.isLoading&&!this.state.playerPaused,n=this._shouldShowOverlay();if(n){var r=this._requiredAge(this.props);e||(this.setState({showAgeGateOverlay:!0,requiredAge:r}),this.props.contentIsShowing(),this.props.contentRestricted()),t&&(this.props.mutePlayer(!0,!0),this.props.pause(),this.setState({playerPaused:!0,requiredAge:r}))}else!n&&e&&this.setState({showAgeGateOverlay:!1})}},{key:"_shouldShowOverlay",value:function(){return this._requiredAge()>0&&!b(this._channelName())}},{key:"_requiredAge",value:function(){var e=this._channelName(),t=this.props,n=t.stream,r=t.ads.currentAdProperties,i=void 0;return n.contentType===ge.a&&(i=r.requiredAge),Se[e]||i||0}},{key:"_channelName",value:function(){var e=this.props,t=e.stream,n=e.streamMetadata;return t.contentType===ge.a?t.channel:n.channel.name}},{key:"render",value:function(){if(this.state.showAgeGateOverlay){var e=this._channelName();return w.a.createElement(me,{handleAgeGatePassed:this.handleAgeGatePassed,channelName:e,requiredAge:this.state.requiredAge})}return null}},{key:"handleAgeGatePassed",value:function(){var e=this.props.playback,t=this._channelName(),n=D.a.get(Ee,{});n[t]=!0,D.a.set(Ee,n),this.setState({showAgeGateOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0),e.autoplay&&this.props.requestAds(we.c,_e.k)}}]),t}(w.a.Component);xe.propTypes=Pe,xe.defaultProps=Te;var Re=Object(S.b)(Oe,Ce)(xe)},function(e,t,n){"use strict";function r(e){return{type:i,count:e}}n.d(t,"a",function(){return i}),t.b=r;var i="update viewercount"},function(e,t,n){"use strict";function r(e,t){return a()(e,t)?e:e.concat([t])}t.a=r;var i=n(7),a=n.n(i)},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}e.exports=n},function(e,t){function n(e){return r.test(e)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=n},function(e,t,n){"use strict";function r(){return{type:d}}function i(){return function(e,t){o(t().window,u,c,"2246787049647177590","","","")}}function a(){return function(e,t){o(t().window,s,c,"TWITCH","twitch.tv",l,"")}}function o(e,t,n,r,i,a,o){var s={c1:t,c2:n,c3:r,c4:i,c5:a,c6:o};"COMSCORE"in e?e.COMSCORE.beacon(s):(e._comscore||(e._comscore=[]),e._comscore.push(s))}n.d(t,"a",function(){return d}),t.b=r,t.c=i,t.d=a;var s="1",u="7",c="6745306",l="03",d="reset tag"},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(12),i="set pixels",a=function(e,t){return function(n,a){return Object(r.k)(e,t).then(function(e){e.channel&&e.channel.adProperties&&n({type:i,pixels:e.channel.adProperties.trackingPixels||[],channelId:e.channel.id})})}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a});var r=Object.freeze({VIDEO_PLAY:"video-play",MINUTE_WATCHED:"minute-watched",BUFFER_EMPTY:"buffer-empty",BUFFER_REFILL:"buffer-refill"}),i="video_playback_error",a="n_second_play"},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o});var r=0,i=1,a=2,o=3},function(e,t,n){"use strict";function r(e){return{type:a,playerBackendType:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:o,isWasm:e}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="set player backend type",o="using wasm backend"},function(e,t,n){"use strict";function r(e){var t=o()(e);return t.abs="true"===t.abs,t.suppress="true"===t.suppress,t.broadcast_id=parseInt(t.broadcast_id,10),t.future="true"===t.future,t}function i(e){return{type:s,info:r(e)}}n.d(t,"a",function(){return s}),t.b=i;var a=n(521),o=n.n(a),s="set manifest info"},function(e,t,n){var r=n(88),i=n(87),a=n(131),o=n(71),s=Object.prototype,u=s.hasOwnProperty,c=r(function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&a(t[0],t[1],c)&&(r=1);++n<r;)for(var l=t[n],d=o(l),f=-1,p=d.length;++f<p;){var h=d[f],m=e[h];(void 0===m||i(m,s[h])&&!u.call(e,h))&&(e[h]=l[h])}return e});e.exports=c},function(e,t,n){var r=n(57),i=n(297),a=n(542),o=n(89),s=n(58),u=n(544),c=n(243),l=n(300),d=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=o(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)a(n,t[d]);return n});e.exports=d},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.collection,n=e.playback,r=e.playerType,i=e.stream,a=e.window,o={volume:n.volume,muted:n.muted};i.contentType===_e.a?(o.video=i.videoId,o.collection=t?t.id:void 0,o.time=Z.d(n.currentTime)):i.contentType===ge.a&&(o.channel=i.channel),r===ie.v&&(o.player=ie.v);var s=we.b+"/?"+ke.c(o),u=we.z.height,c=we.z.width,l="width="+c+",height="+u+",toolbar=no,menubar=no,scrollbars=no,location=no,status=no";a.open(s,"_blank",l)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function B(e){var t=e.onMenuTransition,n=e.openClipModerationMenu,r=e.showDeleteClip,i=e.showDeleteAllClips;return z.a.createElement(Ln,{onMenuTransition:t,openClipModerationMenu:n,showDeleteAllClips:i,showDeleteClip:r})}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=n(0),z=n.n(H),W=n(1),G=n.n(W),K=n(7),Y=n.n(K),Q=n(3),$=n(4),X=n(333),J=n.n(X),Z=n(45),ee=n(2),te=n.n(ee),ne=n(8),re=n(155),ie=n(5),ae=n(117),oe=n(156),se=n(25),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ce={playerType:G.a.string.isRequired,canChangePlaybackSpeed:G.a.bool,canPopoutPlayer:G.a.bool,captionsAvailable:G.a.bool,currentSpeed:G.a.number,currentTime:G.a.number,isStaffUser:G.a.bool,showDeleteAllClips:G.a.bool,showDeleteClip:G.a.bool,showReportClip:G.a.bool,isVod:G.a.bool.isRequired,isClip:G.a.bool.isRequired,trackAdvancedClick:G.a.func,onMenuTransition:G.a.func,onPopoutPlayer:G.a.func,onShowCaptionsOptions:G.a.func,selectedQualityName:G.a.string.isRequired,showClipsShortcutOverlay:G.a.func.isRequired,shouldShowQualityMenu:G.a.bool,openClipsModerationModal:G.a.func.isRequired,t:G.a.func.isRequired,vodUrlWithTimestamp:G.a.string,windowObj:G.a.object.isRequired},le={canChangePlaybackSpeed:!1,canPopoutPlayer:!0,captionsAvailable:!1,currentSpeed:1,currentTime:0,isStaffUser:!1,showDeleteAllClips:!1,showDeleteClip:!1,showReportClip:!0,trackAdvancedClick:function(){},onMenuTransition:function(){},onPopoutPlayer:function(){},onShowCaptionsOptions:function(){},shouldShowQualityMenu:!0,vodUrlWithTimestamp:""},de=te()({"pl-menu__item":!0,"pl-menu__item--block":!0}),fe=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),pe=te()({ellipsis:!0,"qa-advanced-button":!0}),he=te()({ellipsis:!0,"qa-report-issue-button":!0}),me=te()({ellipsis:!0,"qa-popout-player-button":!0}),ye=te()({ellipsis:!0,"qa-captions-options-button":!0}),ve=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasRecentlyCopied:!1},e.copyUrlTimeoutId=0,e.handleAdvancedClick=e.handleAdvancedClick.bind(e),e.handlePlaybackSpeedClick=e.handlePlaybackSpeedClick.bind(e),e.handleQualityClick=e.handleQualityClick.bind(e),e.handleReportIssueClick=e.handleReportIssueClick.bind(e),e.handleStaffClick=e.handleStaffClick.bind(e),e.handleUrlCopied=e.handleUrlCopied.bind(e),e.handleClipModerationClick=e.handleClipModerationClick.bind(e),e.handleClipReportClick=e.handleClipReportClick.bind(e),e}return o(t,e),ue(t,[{key:"componentWillUnmount",value:function(){0!==this.copyUrlTimeoutId&&this.props.windowObj.clearTimeout(this.copyUrlTimeoutId)}},{key:"handleClipModerationClick",value:function(){this.props.onMenuTransition(Yn)}},{key:"handleClipReportClick",value:function(){this.props.openClipsModerationModal(ae.d)}},{key:"handleQualityClick",value:function(){this.props.onMenuTransition(Hn)}},{key:"handlePlaybackSpeedClick",value:function(){this.props.onMenuTransition(Gn)}},{key:"handleAdvancedClick",value:function(){this.props.trackAdvancedClick(),this.props.onMenuTransition(zn)}},{key:"handleReportIssueClick",value:function(){this.props.onMenuTransition(Wn)}},{key:"handleStaffClick",value:function(){this.props.onMenuTransition(Kn)}},{key:"handleUrlCopied",value:function(){var e=this;this.setState({hasRecentlyCopied:!0}),this.copyUrlTimeoutId=this.props.windowObj.setTimeout(function(){e.setState({hasRecentlyCopied:!1}),e.copyUrlTimeoutId=0},2e3)}},{key:"renderClipsEmbedMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton();return z.a.createElement("div",{className:"pl-menu__inner"},e,t,z.a.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderClipsViewingMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton(),r=this._renderClipModerationButton(),i=this._renderReportClipButton();return z.a.createElement("div",{className:"pl-menu__inner"},e,t,r,i,z.a.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderClipsWatchMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton();return z.a.createElement("div",{className:"pl-menu__inner"},e,t,z.a.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderStandardMenu",value:function(){var e=this.props.shouldShowQualityMenu,t=this._renderQualityButton(),n=this._renderPlaybackSpeedButton(),r=this._renderCaptionsOptionsButton(),i=this._renderAdvancedMenuButton(),a=this._renderReportIssuesMenuButton(),o=this._renderStaffMenuButton(),s=this._renderPopoutPlayerButton(),u=this._renderCopyVideoUrlButton(),c=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":e});return z.a.createElement("div",{className:"pl-menu__inner"},t,z.a.createElement("div",{className:c},n,r,i,a,o,s,u))}},{key:"render",value:function(){switch(this.props.playerType){case ie.k:return this.renderClipsEmbedMenu();case ie.l:return this.renderClipsViewingMenu();case ie.m:return this.renderClipsWatchMenu();default:return this.renderStandardMenu()}}},{key:"_renderReportClipButton",value:function(){var e=this.props,t=e.showReportClip,n=e.t;return t?z.a.createElement("div",{className:de},z.a.createElement(ne.a,{onClick:this.handleClipReportClick,className:"qa-report-clip"},z.a.createElement("span",null,n("Report Clip")))):null}},{key:"_renderClipsKeyboardShortcutsButton",value:function(){var e=this.props,t=e.showClipsShortcutOverlay,n=e.t;return z.a.createElement("div",{className:de},z.a.createElement(ne.a,{onClick:t,className:"qa-clips-keyboard-shortcuts"},z.a.createElement("span",null,n("View Keyboard Shortcuts"))))}},{key:"_renderClipModerationButton",value:function(){var e=this.props,t=e.showDeleteAllClips,n=e.showDeleteClip;return t||n?z.a.createElement("div",{className:"qa-clip-moderation-button"},z.a.createElement(oe.a,{uuid:se.b,renderValue:"control"},this._renderClipModerationButtonContent(!1)),z.a.createElement(oe.a,{uuid:se.b,renderValue:"variant1"},this._renderClipModerationButtonContent(!0))):null}},{key:"_renderClipModerationButtonContent",value:function(e){var t=this.props.t;return z.a.createElement("div",{className:fe},z.a.createElement(ne.a,{onClick:this.handleClipModerationClick,disabled:e},z.a.createElement("span",null,t("Moderation"))))}},{key:"_renderQualityButton",value:function(){var e=this.props,t=e.selectedQualityName,n=e.shouldShowQualityMenu,r=e.t;return n?z.a.createElement("div",{className:fe},z.a.createElement(ne.a,{onClick:this.handleQualityClick,className:"qa-quality-button"},z.a.createElement("span",null,r("Quality")),z.a.createElement("span",{className:"pl-pill pl-mg-l-05 qa-quality-pill"},t))):null}},{key:"_renderPlaybackSpeedButton",value:function(){var e=this.props,t=e.currentSpeed,n=e.isVod,r=e.isClip,i=e.canChangePlaybackSpeed,a=e.t,o=t+"x";return(n||r)&&i?z.a.createElement("div",{className:fe},z.a.createElement(ne.a,{onClick:this.handlePlaybackSpeedClick,className:"qa-playback-speed-button"},z.a.createElement("span",null,a(re.c)),z.a.createElement("span",{className:"pl-pill pl-mg-l-05 qa-playback-speed-pill"},o))):null}},{key:"_renderCaptionsOptionsButton",value:function(){var e=this.props,t=e.captionsAvailable,n=e.onShowCaptionsOptions,r=e.t;return t?z.a.createElement("div",{className:de},z.a.createElement(ne.a,{className:ye,onClick:n},z.a.createElement("span",null,r("Closed Captions Options")))):null}},{key:"_renderAdvancedMenuButton",value:function(){var e=this.props.t;return z.a.createElement("div",{className:fe},z.a.createElement(ne.a,{className:pe,onClick:this.handleAdvancedClick},z.a.createElement("span",null,e("Advanced"))))}},{key:"_renderReportIssuesMenuButton",value:function(){var e=this.props.t;return z.a.createElement("div",{className:fe},z.a.createElement(ne.a,{className:he,onClick:this.handleReportIssueClick},z.a.createElement("span",null,e("Report Playback Issue"))))}},{key:"_renderStaffMenuButton",value:function(){return this.props.isStaffUser?z.a.createElement("div",{className:fe},z.a.createElement(ne.a,{className:"ellipsis qa-staff-button",onClick:this.handleStaffClick},z.a.createElement("span",null,"Staff"))):null}},{key:"_renderPopoutPlayerButton",value:function(){var e=this.props,t=e.canPopoutPlayer,n=e.onPopoutPlayer,r=e.t;return t?z.a.createElement("div",{className:de},z.a.createElement(ne.a,{className:me,onClick:n},z.a.createElement("span",null,r("Popout Player")))):null}},{key:"_renderCopyUrlButton",value:function(){var e=this.props,t=e.currentTime,n=e.vodUrlWithTimestamp,r=e.t,i=r("Copy Video URL at {{time}}",{time:Object(Z.c)(t)});return this.state.hasRecentlyCopied?z.a.createElement(ne.a,null,z.a.createElement("span",null,r("Copied!"))):z.a.createElement(J.a,{text:n,onSelect:this.handleUrlCopied,className:"qa-copy-to-clipboard-button"},z.a.createElement(ne.a,null,z.a.createElement("span",null,i)))}},{key:"_renderCopyVideoUrlButton",value:function(){var e,t=this.props.isVod,n=this._renderCopyUrlButton(),i=te()((e={},r(e,de,!0),r(e,"pl-menu__item--active",this.state.hasRecentlyCopied),e));return t?z.a.createElement("div",{className:i},n):null}}]),t}(z.a.Component);ve.propTypes=ce,ve.defaultProps=le;var be=Object($.c)()(ve),ge=n(9),_e=n(10),we=n(11),ke=n(96),Ee=n(15),Se=n(99),Pe=n(80),Te=n(305),Oe=n(35),Ce=n(34),xe=n(13),Re=n(214),je=n(30),Ae=function(e){return e.user.loggedInStatus===je.a},Ie=function(e){return e.user.isAdmin||e.user.isStaff},Ne=function(e){var t=e.streamMetadata.channel.name;return!!t&&e.user.name===t},Me=function(e){var t=e.streamMetadata.curator;return!!t&&e.user.name===t.name},Le=function(e){return Ie(e)||Ne(e)},qe=function(e){return Ie(e)||Ne(e)||Me(e)},De=function(e){return Ie(e)||Ae(e)&&!(Ne(e)||Me(e))},Be=n(17),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fe=[Pe.a,Te.a],Ve={availableQualities:G.a.array.isRequired,backendType:G.a.string.isRequired,captionsAvailable:G.a.bool.isRequired,collection:G.a.object.isRequired,currentSpeed:G.a.number.isRequired,currentTime:G.a.number,hideSettingsMenu:G.a.func,isStaffUser:G.a.bool,isVod:G.a.bool.isRequired,isClip:G.a.bool.isRequired,showDeleteAllClips:G.a.bool.isRequired,showDeleteClip:G.a.bool.isRequired,showReportClip:G.a.bool.isRequired,trackAdvancedClick:G.a.func,onMenuTransition:G.a.func,pausePlayback:G.a.func,playback:G.a.object.isRequired,playerType:G.a.string,selectedQuality:G.a.string.isRequired,showClipsShortcutOverlay:G.a.func.isRequired,showCaptionsOptions:G.a.func.isRequired,openClipsModerationModal:G.a.func.isRequired,stream:G.a.object.isRequired,streamUrl:G.a.string,t:G.a.func.isRequired,windowObj:G.a.object.isRequired},He={currentTime:0,isStaffUser:!1,hideSettingsMenu:function(){},trackAdvancedClick:function(){},onMenuTransition:function(){},pausePlayback:function(){},streamUrl:"",playerType:""},ze=function(e){var t=e.backendInfo,n=e.captions,r=e.collection,i=e.env,a=e.playback,o=e.quality,s=e.stream,u=e.streamMetadata,c=e.user,l=e.window;return{availableQualities:o.available,backendType:t.playerBackendType,captionsAvailable:n.available,collection:r,currentSpeed:a.playbackRate,currentTime:a.currentTime,isStaffUser:c.isStaff,showDeleteAllClips:Le(e),showDeleteClip:qe(e),showReportClip:De(e),isVod:s.contentType===_e.a,isClip:s.contentType===Se.a,playback:a,playerType:i.playerType,selectedQuality:o.selected,stream:s,streamUrl:u.url,windowObj:l}},We=function(e){return{trackAdvancedClick:function(){e({type:Be.b,eventName:"player_click",eventProperties:{component:"advanced_menu",component_state:"show"}})},pausePlayback:function(){e(Object(Ee.s)())},hideSettingsMenu:function(){e(Object(Oe.r)(Oe.j))},showCaptionsOptions:function(){e(Object(Ce.l)(!0))},showClipsShortcutOverlay:function(){e(Object(xe.r)(xe.e))},openClipsModerationModal:function(t){e(Object(ae.e)(t))}}},Ge=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.trackAdvancedClick=e.trackAdvancedClick.bind(e),e.showCaptionsOptions=e.showCaptionsOptions.bind(e),e.popoutPlayer=e.popoutPlayer.bind(e),e}return l(t,e),Ue(t,[{key:"trackAdvancedClick",value:function(){this.props.trackAdvancedClick()}},{key:"showCaptionsOptions",value:function(){this.props.hideSettingsMenu(),this.props.showCaptionsOptions()}},{key:"popoutPlayer",value:function(){this.props.pausePlayback(),this.props.hideSettingsMenu(),s({collection:this.props.collection,playback:this.props.playback,stream:this.props.stream,window:this.props.windowObj,playerType:this.props.playerType})}},{key:"render",value:function(){var e=this.props,t=e.availableQualities,n=e.backendType,r=e.captionsAvailable,i=e.currentTime,a=e.currentSpeed,o=e.isStaffUser,s=e.isVod,u=e.isClip,c=e.showDeleteAllClips,l=e.showDeleteClip,d=e.showReportClip,f=e.onMenuTransition,p=e.playerType,h=e.selectedQuality,m=e.streamUrl,y=e.showClipsShortcutOverlay,v=e.t,b=e.openClipsModerationModal,g=e.windowObj,_=Y()(Fe,n)||Y()(ie.c,p),w=-1!==ie.e.indexOf(p),k=p!==ie.h&&!w,E=m+"?t="+Object(Z.d)(i),S=t.length>0&&p!==ie.x,P=Object(Re.a)(t,h,v);return z.a.createElement(be,{playerType:p,canChangePlaybackSpeed:_,canPopoutPlayer:k,captionsAvailable:r,currentTime:i,currentSpeed:a,isStaffUser:o,isVod:s,isClip:u,trackAdvancedClick:this.trackAdvancedClick,onMenuTransition:f,onPopoutPlayer:this.popoutPlayer,onShowCaptionsOptions:this.showCaptionsOptions,selectedQualityName:P,shouldShowQualityMenu:S,vodUrlWithTimestamp:E,showClipsShortcutOverlay:y,openClipsModerationModal:b,showDeleteAllClips:c,showDeleteClip:l,showReportClip:d,windowObj:g})}}]),t}(z.a.Component);Ge.propTypes=Ve,Ge.defaultProps=He;var Ke=Object($.c)()(Object(Q.b)(ze,We)(Ge)),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe={isActive:G.a.bool,selectItem:G.a.object,onSelectItem:G.a.func,displayName:G.a.string},$e={isActive:!1,onSelectItem:function(){}},Xe=te()({ellipsis:!0,"pl-quality-option-button":!0}),Je=function(e){function t(){d(this,t);var e=f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return p(t,e),Ye(t,[{key:"handleClick",value:function(){this.props.onSelectItem(this.props.selectItem)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.displayName,r=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return z.a.createElement("div",{className:r},z.a.createElement(ne.a,{className:Xe,onClick:this.handleClick},z.a.createElement("span",null,n)))}}]),t}(z.a.Component);Je.propTypes=Qe,Je.defaultProps=$e;var Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),et={availableQualities:G.a.arrayOf(G.a.shape({group:G.a.string,name:G.a.string})).isRequired,selectedQuality:G.a.string.isRequired,onMenuTransition:G.a.func,onQualitySelect:G.a.func,t:G.a.func.isRequired},tt={onMenuTransition:function(){},onQualitySelect:function(){}},nt=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),rt=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),it=function(e){function t(){h(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return y(t,e),Ze(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Vn)}},{key:"render",value:function(){var e=this.props.t,t=this._getQualityItems();return z.a.createElement("div",{className:"pl-menu__inner"},z.a.createElement("div",{className:nt},z.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e("Video Quality"))),z.a.createElement("div",{className:rt},t))}},{key:"_getQualityItems",value:function(){var e=this.props,t=e.availableQualities,n=e.selectedQuality,r=e.onQualitySelect,i=e.t;return t.map(function(e){var a=e.group===n,o=Object(Re.a)(t,e.group,i);return z.a.createElement(Je,{isActive:a,key:e.group,displayName:o,selectItem:e,onSelectItem:r})})}}]),t}(z.a.Component);it.propTypes=et,it.defaultProps=tt;var at=Object($.c)()(it),ot=n(52),st=n(21),ut={availableQualities:G.a.array.isRequired,selectedQuality:G.a.string.isRequired,onMenuTransition:G.a.func,handleSelectQuality:G.a.func},ct={onMenuTransition:function(){},handleSelectQuality:function(){}},lt=function(e){var t=e.quality;return{availableQualities:t.available,selectedQuality:t.selected}},dt=function(e){return{handleSelectQuality:function(t){e(Object(ot.n)(t.group)),e(Object(ot.r)(t)),e(Object(Oe.r)(Oe.j)),e(Object(Be.d)("player_click_quality_change")),t.group===ot.k&&st.a.set(ot.l,Date.now())}}},ft=function(e){var t=e.availableQualities,n=e.selectedQuality,r=e.handleSelectQuality,i=e.onMenuTransition;return z.a.createElement(at,{availableQualities:t,selectedQuality:n,onMenuTransition:i,onQualitySelect:r})};ft.propTypes=ut,ft.defaultProps=ct;var pt=Object(Q.b)(lt,dt)(ft),ht=n(48),mt=n.n(ht),yt=n(215),vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bt={html5PlayerEnabled:G.a.bool.isRequired,html5ToggleEnabled:G.a.bool.isRequired,lowLatencyModeEnabled:G.a.bool.isRequired,miniPlayerEnabled:G.a.bool.isRequired,miniPlayerToggleEnabled:G.a.bool.isRequired,trackAdvancedHeaderClick:G.a.func,onHTML5Toggle:G.a.func,onLowLatencyToggle:G.a.func,onMenuTransition:G.a.func,onMiniPlayerToggle:G.a.func,shouldShowLLToggle:G.a.bool.isRequired,t:G.a.func.isRequired,onVideoStatsToggle:G.a.func.isRequired,onAdStatsToggle:G.a.func.isRequired,videoStatsToggleEnabled:G.a.bool.isRequired,adStatsToggleEnabled:G.a.bool.isRequired},gt={trackAdvancedHeaderClick:function(){},onHTML5Toggle:function(){},onMenuTransition:function(){},onMiniPlayerToggle:function(){},onVideoStatsToggle:function(){},onAdStatsToggle:function(){}},_t=te()({ellipsis:!0,"qa-header-button":!0}),wt=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),kt=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Et=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"qa-item":!0}),St=function(e){function t(){v(this,t);var e=b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return g(t,e),vt(t,[{key:"handleMenuTransition",value:function(){this.props.trackAdvancedHeaderClick(),this.props.onMenuTransition(Vn)}},{key:"render",value:function(){var e=this.props,t=e.html5PlayerEnabled,n=e.html5ToggleEnabled,r=e.miniPlayerEnabled,i=e.miniPlayerToggleEnabled,a=e.lowLatencyModeEnabled,o=e.onHTML5Toggle,s=e.onLowLatencyToggle,u=e.onMiniPlayerToggle,c=e.shouldShowLLToggle,l=e.onVideoStatsToggle,d=e.onAdStatsToggle,f=e.videoStatsToggleEnabled,p=e.adStatsToggleEnabled,h=e.t,m=n?z.a.createElement("div",{className:Et},z.a.createElement(yt.a,{className:"qa-html5-toggle",label:"HTML5 Player",onToggle:o,toggledOn:t})):null,y=c?z.a.createElement("div",{className:Et},z.a.createElement(yt.a,{className:"qa-latency-mode-toggle",label:h("Low Latency"),onToggle:s,toggledOn:a})):null,v=i?z.a.createElement("div",{className:Et},z.a.createElement(yt.a,{className:"qa-miniplayer-toggle",label:"Mini Player",onToggle:u,toggledOn:r})):null,b=z.a.createElement("div",{className:Et},z.a.createElement(yt.a,{className:"qa-show-stats-button",label:h("Video Stats"),onToggle:l,toggledOn:f})),g=z.a.createElement("div",{className:Et},z.a.createElement(yt.a,{className:"qa-show-ad-stats-button",label:h("Ad Stats"),onToggle:d,toggledOn:p}));return z.a.createElement("div",{className:"pl-menu__inner"},z.a.createElement("div",{className:wt},z.a.createElement(ne.a,{className:_t,onClick:this.handleMenuTransition},z.a.createElement("span",null,h("Advanced")))),z.a.createElement("div",{className:kt},m,y,v,b,g))}}]),t}(z.a.Component);St.propTypes=bt,St.defaultProps=gt;var Pt=Object($.c)()(St),Tt=n(82),Ot=n(157),Ct=n(118),xt=n(116),Rt=n(304),jt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),At={availableBackends:G.a.array.isRequired,isCursePlayer:G.a.bool.isRequired,isHTML5Player:G.a.bool.isRequired,isLowLatencyStream:G.a.bool.isRequired,isLowLatencyModeEnabled:G.a.bool.isRequired,isMiniPlayerEnabled:G.a.bool.isRequired,isSitePlayer:G.a.bool.isRequired,trackAdvancedHeaderClick:G.a.func,onMenuTransition:G.a.func,toggleHTML5Player:G.a.func.isRequired,toggleLowLatencyMode:G.a.func.isRequired,toggleMiniPlayer:G.a.func.isRequired,displayStats:G.a.func.isRequired,videoStatsToggleEnabled:G.a.bool.isRequired,adStatsToggleEnabled:G.a.bool.isRequired},It={trackAdvancedHeaderClick:function(){},onMenuTransition:function(){},displayStats:function(){}},Nt=function(e){var t=e.backendInfo,n=e.env,r=e.manifestInfo,i=e.settings,a=e.stats,o=t.playerBackendType;return{isCursePlayer:n.playerType===ie.o,isHTML5Player:o===Pe.a,isLowLatencyStream:r.future,isLowLatencyModeEnabled:i.lowLatencyModeEnabled,isMiniPlayerEnabled:i.persistenceEnabled,isSitePlayer:n.playerType===ie.B,displayState:a.displayState,availableBackends:Object(Rt.b)(n.playerType),videoStatsToggleEnabled:a.displayState===Ot.c,adStatsToggleEnabled:a.displayState===Ot.a}},Mt=function(e){return{trackAdvancedHeaderClick:function(){e({type:Be.b,eventName:"player_click",eventProperties:{component:"advanced_menu",component_state:"hide"}})},displayStats:function(t){e(Object(Tt.e)(t))},toggleLowLatencyMode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e(Object(Ee.w)(t)),e(Object(Ct.e)(t)),e({type:Be.b,eventName:"player_click",eventProperties:{component:"latency_mode_toggle",component_state:t?"enable":"disable"}})},toggleMiniPlayer:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?Object(Ct.f)():Object(Ct.d)())},toggleHTML5Player:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?Object(Ee.o)(Pe.a):Object(Ee.o)(xt.a))}}},Lt=function(e){function t(){_(this,t);var e=w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.trackAdvancedHeaderClick=e.trackAdvancedHeaderClick.bind(e),e.toggleLowLatencyMode=e.toggleLowLatencyMode.bind(e),e.toggleMiniPlayer=e.toggleMiniPlayer.bind(e),e.toggleHTML5Player=e.toggleHTML5Player.bind(e),e.onVideoStatsToggle=e.onVideoStatsToggle.bind(e),e.onAdStatsToggle=e.onAdStatsToggle.bind(e),e}return k(t,e),jt(t,[{key:"trackAdvancedHeaderClick",value:function(){this.props.trackAdvancedHeaderClick()}},{key:"onVideoStatsToggle",value:function(){var e=this.props,t=e.videoStatsToggleEnabled;(0,e.displayStats)(t?Ot.b:Ot.c)}},{key:"onAdStatsToggle",value:function(){var e=this.props,t=e.adStatsToggleEnabled;(0,e.displayStats)(t?Ot.b:Ot.a)}},{key:"toggleLowLatencyMode",value:function(){this.props.toggleLowLatencyMode(!this.props.isLowLatencyModeEnabled)}},{key:"toggleMiniPlayer",value:function(){this.props.toggleMiniPlayer(!this.props.isMiniPlayerEnabled)}},{key:"toggleHTML5Player",value:function(){this.props.toggleHTML5Player(!this.props.isHTML5Player)}},{key:"render",value:function(){var e=this.props,t=e.availableBackends,n=e.isCursePlayer,r=e.isHTML5Player,i=e.isLowLatencyStream,a=e.isLowLatencyModeEnabled,o=e.isMiniPlayerEnabled,s=e.isSitePlayer,u=e.onMenuTransition,c=e.videoStatsToggleEnabled,l=e.adStatsToggleEnabled,d=t.some(function(e){return e===Pe.a}),f=t.some(function(e){return e===xt.a}),p=!n&&d&&f,h=Boolean(i)&&Boolean(mt.a.chrome);return z.a.createElement("div",null,z.a.createElement(Pt,{html5PlayerEnabled:r,html5ToggleEnabled:p,shouldShowLLToggle:h,miniPlayerEnabled:o,miniPlayerToggleEnabled:s,trackAdvancedHeaderClick:this.trackAdvancedHeaderClick,onLowLatencyToggle:this.toggleLowLatencyMode,lowLatencyModeEnabled:a,onMenuTransition:u,onMiniPlayerToggle:this.toggleMiniPlayer,onHTML5Toggle:this.toggleHTML5Player,videoStatsToggleEnabled:c,adStatsToggleEnabled:l,onVideoStatsToggle:this.onVideoStatsToggle,onAdStatsToggle:this.onAdStatsToggle}))}}]),t}(z.a.Component);Lt.propTypes=At,Lt.defaultProps=It;var qt,Dt=Object(Q.b)(Nt,Mt)(Lt),Bt=n(151),Ut=n.n(Bt),Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vt={t:G.a.func.isRequired,onReportVideoIssueSubmit:G.a.func.isRequired,onReportAdIssueSubmit:G.a.func.isRequired,onMenuTransition:G.a.func,windowObj:G.a.object.isRequired},Ht={onMenuTransition:function(){}},zt=(qt={},T(qt,"ad-broken","ad-broken"),T(qt,"ad-repeat","ad-repeat"),T(qt,"ad-offensive-inappropriate","ad-offensive-inappropriate"),T(qt,"ad-too-loud","ad-too-loud"),T(qt,"ad-not-relevant","ad-not-relevant"),qt),Wt=te()({"pl-form__input":!0,ellipsis:!0}),Gt=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),Kt=te()({ellipsis:!0,"qa-header-button":!0}),Yt=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Qt=te()({"pl-flex":!0,"pl-flex--horizontalEnd":!0,"pl-pd-r-1":!0,"pl-pd-t-1":!0,"pl-pd-b-1":!0}),$t=te()({"pl-button":!0,"pl-button--hollow":!0,"qa-submit-button":!0}),Xt=function(e){function t(){E(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={value:"",hasRecentlySubmitted:!1},e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleIssueSelected=e.handleIssueSelected.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return P(t,e),Ft(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Vn)}},{key:"handleIssueSelected",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.value;if(""!==n){Ut()(zt,n)?this.props.onReportAdIssueSubmit(n):this.props.onReportVideoIssueSubmit(n),this.setState({hasRecentlySubmitted:!0}),this.props.windowObj.setTimeout(function(){t.setState({hasRecentlySubmitted:!1})},2e3)}}},{key:"render",value:function(){var e=this.props.t,t=this._renderFeedbackForm();return z.a.createElement("div",{className:"pl-menu__inner"},z.a.createElement("div",{className:Gt},z.a.createElement("button",{className:Kt,onClick:this.handleMenuTransition},e("Report Playback Issue"))),z.a.createElement("div",{className:Yt},t))}},{key:"_createSelectElement",value:function(){var e=this.props.t;return z.a.createElement("select",{className:Wt,onBlur:this.handleIssueSelected,defaultValue:""},z.a.createElement("option",{value:"",disabled:!0},e("Select")),z.a.createElement("option",{value:"stutter-both"},e("Audio and video stutter")),z.a.createElement("option",{value:"stutter-video"},e("Video stutters, but audio is fine")),z.a.createElement("option",{value:"black-screen"},e("Video is completely black or doesn't load")),z.a.createElement("option",{value:"av-desync"},e("Audio and video aren't synced")),z.a.createElement("option",{value:"fullscreen-broken"},e("Fullscreen playback doesn't work")),z.a.createElement("option",{value:"ad-broken"},e("Advertisement playback doesn't work.")),z.a.createElement("option",{value:"ad-repeat"},e("Advertisement has played too many times.")),z.a.createElement("option",{value:"ad-offensive-inappropriate"},e("Advertisement is offensive or inappropriate.")),z.a.createElement("option",{value:"ad-too-loud"},e("Advertisement is too loud.")),z.a.createElement("option",{value:"ad-not-relevant"},e("Advertisement is not relevant to my interests.")))}},{key:"_renderFeedbackForm",value:function(){var e=this.props.t,t=this._createSelectElement();return this.state.hasRecentlySubmitted?z.a.createElement("span",null,e("Thanks for your report")):z.a.createElement("form",{onSubmit:this.handleSubmit},z.a.createElement("div",{className:"form__group"},z.a.createElement("p",null,e("Noticed a video playback issue? Let us know!")),t),z.a.createElement("div",{className:Qt},z.a.createElement("button",{type:"submit",className:$t},e("Submit"))))}}]),t}(z.a.Component);Xt.propTypes=Vt,Xt.defaultProps=Ht;var Jt=Object($.c)()(Xt),Zt=n(308),en=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tn={handleVideoIssueReport:G.a.func,handleAdIssueReport:G.a.func,setHideSettingsMenuTimer:G.a.func,hideSettingsMenu:G.a.func,onMenuTransition:G.a.func,windowObj:G.a.object.isRequired},nn={handleVideoIssueReport:function(){},handleAdIssueReport:function(){},setHideSettingsMenuTimer:function(){},hideSettingsMenu:function(){},onMenuTransition:function(){}},rn=function(e){return{windowObj:e.window}},an=function(e){return{handleVideoIssueReport:function(t){e(Object(Ee.y)(t))},handleAdIssueReport:function(t){e(Object(Zt.b)(t))},hideSettingsMenu:function(){e(Object(Oe.r)(Oe.j))}}},on=function(e){function t(){O(this,t);var e=C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleVideoIssueReport=e.handleVideoIssueReport.bind(e),e.handleAdIssueReport=e.handleAdIssueReport.bind(e),e.setHideSettingsMenuTimer=e.setHideSettingsMenuTimer.bind(e),e}return x(t,e),en(t,[{key:"setHideSettingsMenuTimer",value:function(){var e=this;this.props.windowObj.setTimeout(function(){e.props.hideSettingsMenu()},2e3)}},{key:"handleVideoIssueReport",value:function(e){this.props.handleVideoIssueReport(e),this.setHideSettingsMenuTimer()}},{key:"handleAdIssueReport",value:function(e){this.props.handleAdIssueReport(e),this.setHideSettingsMenuTimer()}},{key:"render",value:function(){var e=this.props,t=e.onMenuTransition,n=e.windowObj;return z.a.createElement(Jt,{onMenuTransition:t,onReportVideoIssueSubmit:this.handleVideoIssueReport,onReportAdIssueSubmit:this.handleAdIssueReport,windowObj:n})}}]),t}(z.a.Component);on.propTypes=tn,on.defaultProps=nn;var sn=Object(Q.b)(rn,an)(on),un=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cn={currentSpeed:G.a.number.isRequired,onMenuTransition:G.a.func,selectNewPlaybackRate:G.a.func,tracker:G.a.object},ln={onMenuTransition:function(){},selectNewPlaybackRate:function(){},tracker:{trackEvent:function(){}}},dn=function(e){var t=e.analyticsTracker;return{currentSpeed:e.playback.playbackRate,tracker:t}},fn=function(e){return{selectNewPlaybackRate:function(t){e(Object(Ee.p)(t)),e(Object(Oe.r)(Oe.j))}}},pn=function(e){function t(){R(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectPlaybackRate=e.handleSelectPlaybackRate.bind(e),e}return A(t,e),un(t,[{key:"handleSelectPlaybackRate",value:function(e){var t=this.props,n=t.selectNewPlaybackRate;t.tracker.trackEvent("player_click_playback",{speed:e}),n(e)}},{key:"render",value:function(){var e=this.props,t=e.currentSpeed,n=e.onMenuTransition;return z.a.createElement(re.b,{currentSpeed:t,onMenuTransition:n,onSelectPlaybackSpeed:this.handleSelectPlaybackRate})}}]),t}(z.a.Component);pn.propTypes=cn,pn.defaultProps=ln;var hn=Object(Q.b)(dn,fn)(pn),mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yn={onMenuTransition:G.a.func,onRunLocalPrerollAd:G.a.func,onRunLocalMidrollAd:G.a.func,onRunLocalPostrollAd:G.a.func,t:G.a.func.isRequired},vn={onRunLocalPrerollAd:function(){},onRunLocalMidrollAd:function(){},onRunLocalPostrollAd:function(){},onMenuTransition:function(){}},bn=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),gn=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),_n=te()({"pl-menu__item":!0,"pl-menu__item--block":!0}),wn=function(e){function t(){I(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return M(t,e),mn(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Vn)}},{key:"render",value:function(){var e=this.props.t,t=this._renderLocalAdButtons();return z.a.createElement("div",{className:"pl-menu__inner"},z.a.createElement("div",{className:bn},z.a.createElement(ne.a,{className:"qa-header-button",onClick:this.handleMenuTransition},e("Staff"))),z.a.createElement("div",{className:gn},t))}},{key:"_renderLocalAdButtons",value:function(){var e=this.props,t=e.onRunLocalPrerollAd,n=e.onRunLocalMidrollAd,r=e.onRunLocalPostrollAd,i=z.a.createElement("div",{className:_n},z.a.createElement(ne.a,{className:"ellipsis",onClick:t},z.a.createElement("span",null,"Run Local Preroll Ad"))),a=z.a.createElement("div",{className:_n},z.a.createElement(ne.a,{className:"ellipsis",onClick:n},z.a.createElement("span",null,"Run Local Midroll Ad"))),o=z.a.createElement("div",{className:_n},z.a.createElement(ne.a,{className:"ellipsis",onClick:r},z.a.createElement("span",null,"Run Local Postroll Ad")));return z.a.createElement("div",null,i,a,o)}}]),t}(z.a.Component);wn.propTypes=yn,wn.defaultProps=vn;var kn=Object($.c)()(wn),En=n(16),Sn={onMenuTransition:G.a.func,onRunLocalPrerollAd:G.a.func.isRequired,onRunLocalMidrollAd:G.a.func.isRequired,onRunLocalPostrollAd:G.a.func.isRequired},Pn={onMenuTransition:function(){}},Tn=function(e){return{onRunLocalPrerollAd:function(){e(Object(En.q)(En.j.PREROLL,En.k,!0))},onRunLocalMidrollAd:function(){e(Object(En.q)(En.j.MIDROLL,En.k,!0))},onRunLocalPostrollAd:function(){e(Object(En.q)(En.j.POSTROLL,En.k,!0))}}},On=function(e){var t=e.onMenuTransition,n=e.onRunLocalPrerollAd,r=e.onRunLocalMidrollAd,i=e.onRunLocalPostrollAd;return z.a.createElement(kn,{onMenuTransition:t,onRunLocalPrerollAd:n,onRunLocalMidrollAd:r,onRunLocalPostrollAd:i})};On.propTypes=Sn,On.defaultProps=Pn;var Cn=Object(Q.b)(null,Tn)(On),xn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rn={openClipModerationMenu:G.a.func.isRequired,onMenuTransition:G.a.func.isRequired,showDeleteAllClips:G.a.bool.isRequired,showDeleteClip:G.a.bool.isRequired,t:G.a.func.isRequired},jn={onMenuTransition:function(){}},An=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),In=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Nn=te()({"pl-menu__item":!0,"pl-menu__item--block":!0}),Mn=function(e){function t(){L(this,t);var e=q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleDeleteClicked=e.handleDeleteClicked.bind(e),e.handleDeleteAllClicked=e.handleDeleteAllClicked.bind(e),e}return D(t,e),xn(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Vn)}},{key:"handleDeleteClicked",value:function(){this.props.openClipModerationMenu(ae.c)}},{key:"handleDeleteAllClicked",value:function(){this.props.openClipModerationMenu(ae.b)}},{key:"render",value:function(){var e=this.props,t=e.showDeleteClip,n=e.showDeleteAllClips,r=e.t;return z.a.createElement("div",{className:"pl-menu__inner"},z.a.createElement("div",{className:An},z.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},r("Moderation"))),z.a.createElement("div",{className:In},t&&z.a.createElement("div",{className:Nn},z.a.createElement("button",{className:"qa-delete-button",onClick:this.handleDeleteClicked},r("Delete"))),n&&z.a.createElement("div",{className:Nn},z.a.createElement("button",{className:"qa-delete-all-button",onClick:this.handleDeleteAllClicked},r("Delete All clips from Video")))))}}]),t}(z.a.Component);Mn.propTypes=Rn,Mn.defaultProps=jn;var Ln=Object($.c)()(Mn),qn={onMenuTransition:G.a.func.isRequired,openClipModerationMenu:G.a.func.isRequired,showDeleteClip:G.a.bool.isRequired,showDeleteAllClips:G.a.bool.isRequired},Dn=function(e){return{showDeleteClip:qe(e),showDeleteAllClips:Le(e)}},Bn=function(e){return{openClipModerationMenu:function(t){e(Object(ae.e)(t))}}};B.propTypes=qn;var Un=Object(Q.b)(Dn,Bn)(B);n.d(t,"c",function(){return Vn}),n.d(t,"e",function(){return Hn}),n.d(t,"a",function(){return zn}),n.d(t,"f",function(){return Wn}),n.d(t,"d",function(){return Gn}),n.d(t,"g",function(){return Kn}),n.d(t,"b",function(){return Yn}),n.d(t,"i",function(){return Qn}),n.d(t,"h",function(){return Jn});var Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vn="main menu",Hn="quality menu",zn="advanced menu",Wn="report issues menu",Gn="playback speed menu",Kn="staff menu",Yn="clip moderation menu",Qn=85,$n=[Vn,Hn,zn,Wn,Gn,Kn,Yn],Xn={playerHeight:G.a.number.isRequired},Jn=function(e){function t(){U(this,t);var e=F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentMenu:Vn},e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return V(t,e),Fn(t,[{key:"handleMenuTransition",value:function(e){Y()($n,e)&&this.setState({currentMenu:e})}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-Qn+"px"};return z.a.createElement("div",{className:"pl-menu",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.state.currentMenu){case Hn:return z.a.createElement(pt,{onMenuTransition:this.handleMenuTransition});case zn:return z.a.createElement(Dt,{onMenuTransition:this.handleMenuTransition});case Wn:return z.a.createElement(sn,{onMenuTransition:this.handleMenuTransition});case Gn:return z.a.createElement(hn,{onMenuTransition:this.handleMenuTransition});case Kn:return z.a.createElement(Cn,{onMenuTransition:this.handleMenuTransition});case Yn:return z.a.createElement(Un,{onMenuTransition:this.handleMenuTransition});case Vn:default:return z.a.createElement(Ke,{onMenuTransition:this.handleMenuTransition})}}}]),t}(z.a.Component);Jn.propTypes=Xn},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=o()(e,function(e){return e.group===t});if(void 0===r)return"";var a=r.name,s=r.group,u=r.isDefault;return s===c?n(l):u?i(a)+" ("+n(d)+")":a}function i(e){if(u()(e.toLowerCase(),f)){var t=e.toLowerCase().indexOf(f);return e.slice(0,t).trim()}return e.trim()}t.a=r;var a=n(59),o=n.n(a),s=n(7),u=n.n(s),c="auto",l="Auto",d="Source",f="(source)"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(t){"Enter"===t.key&&e()}}n.d(t,"a",function(){return m});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(4),l=n(2),d=n.n(l),f={label:u.a.string.isRequired,onToggle:u.a.func,t:u.a.func.isRequired,toggledOn:u.a.bool,className:u.a.string},p={onToggle:function(){},toggledOn:!1},h=function(e){var t=e.label,n=e.onToggle,a=e.t,s=e.toggledOn,u=e.className,c="toggle_button_"+Math.random().toString(36).substr(2,10),l=d()(r({"pl-player-menu__toggle-item":!0},u,!!u));return o.a.createElement("div",{className:l},o.a.createElement("div",{className:"pl-toggle__label-wrapper"},o.a.createElement("label",{className:"pl-form__label qa-toggle-label",htmlFor:"toggle_button",role:"button",onClick:n,onKeyUp:i(n),tabIndex:0},a(t))),o.a.createElement("div",{className:"pl-toggle"},o.a.createElement("input",{className:"qa-input-checkbox",type:"checkbox",id:c,checked:s,onChange:n}),o.a.createElement("label",{className:"pl-toggle__button",htmlFor:c})))};h.propTypes=f,h.defaultProps=p;var m=Object(c.c)()(h)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?"animated":"static";return t?{themed:!0,dark:r({},t+"x",e.indexedImages.DARK[i].get(t)),light:r({},t+"x",e.indexedImages.LIGHT[i].get(t))}:{themed:!0,dark:{"1x":e.indexedImages.DARK[i].get(1),"1.5x":e.indexedImages.DARK[i].get(1.5),"2x":e.indexedImages.DARK[i].get(2),"3x":e.indexedImages.DARK[i].get(3),"4x":e.indexedImages.DARK[i].get(4)},light:{"1x":e.indexedImages.LIGHT[i].get(1),"1.5x":e.indexedImages.LIGHT[i].get(1.5),"2x":e.indexedImages.LIGHT[i].get(2),"3x":e.indexedImages.LIGHT[i].get(3),"4x":e.indexedImages.LIGHT[i].get(4)}}}function a(e){var t=e.t("{{bitsCount}} Bits",{bitsCount:e.count.toString()});!e.withText&&e.withNumber&&(t=e.count.toString());var n=void 0;if(e.withImage){var r=e.bitsConfig.indexedActions[s.a];r||(r=Object(s.c)());var a=r.orderedTiers.find(function(t){return t.bits<=e.count});if(a){var u=i(a,null,e.animated).dark,c=Object.keys(u);return n=o.createElement("img",{className:"bits-count--img",alt:"Bits",src:u[c[0]],srcSet:c.map(function(e){return u[e]+" "+e}).join(",")}),o.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},o.createElement("span",null,n," ",e.withText||e.withNumber?t:""))}}return o.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},o.createElement("span",null,t))}var o=n(0),s=n(158),u=n(4),c=n(1),l=n.n(c);n.d(t,"a",function(){return f});var d={bitsConfig:l.a.object.isRequired,count:l.a.number.isRequired,withImage:l.a.bool,withText:l.a.bool,withNumber:l.a.bool,animated:l.a.bool,t:l.a.func.isRequired};a.propTypes=d;var f=Object(u.c)()(a)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(14),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c={viewBox:o.a.string,fill:o.a.string},l=function(e){return i.a.createElement(s.a,u({viewBox:"0 0 30 30"},e),i.a.createElement("path",{d:"M22.447 14.105l-14-7A1 1 0 0 0 7 8v14a.999.999 0 0 0 1.447.894l14-7a1 1 0 0 0 0-1.789",fill:e.fill}))};l.propTypes=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.displayName||e.name||"Component"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=h()(t,Object.keys(g)),s={onAnimationEnd:d.a.func,_transitionToNextComponent:d.a.func,className:d.a.string},u={className:""},l=function(t){function o(){r(this,o);var e=i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments));return e.state={animationClass:""},e}return a(o,t),b(o,[{key:"_animateIn",value:function(e){var t=n.showDuration,r=n.showClass;this.setState({animationClass:r}),Object(f.a)(t).then(e)}},{key:"componentWillAppear",value:function(e){this._animateIn(e)}},{key:"componentDidAppear",value:function(){this.setState({animationClass:""})}},{key:"componentWillEnter",value:function(e){this._animateIn(e)}},{key:"componentDidEnter",value:function(){this.setState({animationClass:""})}},{key:"componentWillLeave",value:function(e){var t=n.hideDuration,r=n.hideClass;this.setState({animationClass:r}),Object(f.a)(t-_).then(e)}},{key:"componentDidLeave",value:function(){this.props.onAnimationEnd&&this.props.onAnimationEnd(),this.props._transitionToNextComponent&&this.props._transitionToNextComponent()}},{key:"render",value:function(){var t=y()(this.props.className,this.state.animationClass);return c.a.createElement(e,v({},this.props,{className:t}))}}]),o}(c.a.Component);return l.propTypes=s,l.defaultProps=u,l.displayName="WrappedAnimatedComponent("+o(e)+")",l}t.a=s;var u=n(0),c=n.n(u),l=n(1),d=n.n(l),f=n(294),p=n(26),h=n.n(p),m=n(2),y=n.n(m),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=Object.freeze({showDuration:0,hideDuration:0,showClass:"",hideClass:""}),_=100},function(e,t,n){"use strict";function r(e){return{type:a,notification:e}}function i(){return{type:o}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="add notification to notification array",o="remove notification from notification arrary"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case l.a:return c()({},e,{generator:t.generator});default:return e}}function i(e){var t=e.streamMetadata,n=Boolean(t.broadcastID),r=!g()(w,t.channel.name),i=t.isEncrypted;return n&&r&!i}function a(e){var t=e.playback,n=e.stream,r=t.hasPlayed,i=n.contentType===f.a&&t.paused;return r&&!i}function o(e){var t=e.stream,n=e.onlineStatus,r=e.env,i=e.backendInfo,a=e.ads,o=t.contentType===f.a&&n!==m.b,s=!g()([f.a,p.a],t.contentType),u=g()(_,r.playerType),c=i.playerBackendType===d.a,l=a.currentAdProperties.requiredAge>0;return!(o||s||c||u||l)}function s(e){return!(e.ads.currentMetadata.contentType!==y.i.NONE)}t.a=r,n.d(t,"b",function(){return S});var u=n(6),c=n.n(u),l=n(313),d=n(154),f=n(9),p=n(10),h=n(30),m=n(23),y=n(16),v=n(5),b=n(7),g=n.n(b),_=Object.freeze([v.v,v.h,v.u,v.f,v.l,v.k,v.y]),w=Object.freeze(["misterrogers","contv","failarmy","asot"]),k=Object.freeze({recordClip:function(){console.error("Clip Generator not available yet")}}),E=Object.freeze({generator:k}),S=function(e){return e.user.loggedInStatus===h.a&&i(e)&&a(e)&&o(e)&&s(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var i=n(18),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="unsub_"+Date.now(),s=function(){function e(){r(this,e),this[o]=[]}return a(e,[{key:"subscribe",value:function(e,t,n){this[o].push(Object(i.a)(e,t,n))}},{key:"destroy",value:function(){this[o].forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";var r=n(30),i=n(253),a=n(121),o=n(96),s=n(223),u=n(162),c=n(163),l=n(5),d=function(e){switch(e){case l.m:return a.q;case l.k:return a.p;case l.l:default:return a.o}};n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y});var f="clip",p=function(e){var t=e.window;return Object(o.b)(t.location.search.slice(1))},h=function(e){return{tab_session_id:Object(i.a)(),content:p(e).tt_content,medium:p(e).tt_medium,logged_in:e.user.loggedInStatus===r.a,login:e.user.name,user_id:e.user.id?parseInt(e.user.id,10):null,received_language:e.lang,vod_type:f,client_time:e.window.Date.now()/1e3,location:d(e.env.playerType),live:!1,time:null}},m=function(e){var t=e.streamMetadata.channel.name,n=void 0,r=void 0,i=Object(u.b)(e,t),a=Object(u.c)(e,t);return i!==c.d&&(n=i===c.b),a!==c.d&&(r=a===c.c),{channel:e.streamMetadata.channel.name||null,channel_id:e.streamMetadata.channel.id?parseInt(e.streamMetadata.channel.id,10):null,game:e.streamMetadata.game||null,partner:r,live:n,player:d(e.env.playerType),vod_id:parseInt(e.streamMetadata.id,10)}},y=function(e){var t=a.t[Object(s.b)(e,e.streamMetadata.slug)];return{source_channel:e.streamMetadata.channel.name||null,source_game:e.streamMetadata.game||null,source_vod_id:parseInt(e.streamMetadata.id,10),source_item_type:a.v,content:t||null,carousel_content:a.s}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.a:var n=a()({},e);return Object.keys(t.recommendationSets).forEach(function(e){n.byCategory[e]=t.recommendationSets[e].map(function(e){return e.slug}),n.allCategories=Object(s.a)(n.allCategories,e)}),n.hasFetched[t.recommendationId]=!0,n;default:return e}}t.a=r,n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var i=n(6),a=n.n(i),o=n(224),s=n(202),u=Object.freeze({byCategory:{},allCategories:[],hasFetched:{}}),c=function(e,t){var n=e.clipRecommendations;if(!n.hasFetched[t])return[];for(var r in o.b){var i=o.b[r];if(n.byCategory[i])return i}},l=function(e,t){var n=e.clipRecommendations,r=e.clipsData;return n.hasFetched[t]?o.b.reduce(function(e,t){var i=n.byCategory[t],a=i.map(function(e){return r.bySlug[e]});return e.concat(a)},[]):[]}},function(e,t,n){"use strict";function r(e,t){return{type:o,recommendationId:e,recommendationSets:t}}function i(){return function(e,t){var n=t().streamMetadata.slug;Object(a.a)(n,s).then(function(t){e(r(n,t.clipSets))}).catch(function(e){console.debug("fetchClipRecommendations error: "+e)})}}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),t.c=i;var a=n(288),o="clip recommendations loaded",s=["similar","channel","game","top"]},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(561),f=n.n(d),p=n(119),h={className:l.a.string,max:l.a.number.isRequired,min:l.a.number.isRequired,value:l.a.number.isRequired},m={className:""},y=function(e){var t=e.className,n=e.max,r=e.min,i=e.value,a=i-r,o=n-r,s=Object(p.a)(a,o)+"%";return u.a.createElement("div",{style:{width:s},className:t})};y.propTypes=h,y.defaultProps=m;var v=n(218),b={className:l.a.string,max:l.a.number.isRequired,min:l.a.number.isRequired,value:l.a.number.isRequired},g={className:""},_=function(e){var t=e.className,n=e.max,r=e.min,i=e.value,a=i-r,o=n-r,s=Object(p.a)(a,o)+"%";return u.a.createElement("div",{style:{left:s},className:t})};_.propTypes=b,_.defaultProps=g;var w=Object(v.a)(_,{showDuration:100,hideDuration:100,showClass:"slider__thumb-transition-in",hideClass:"slider__thumb-transition-out"}),k=n(159),E=n.n(k),S=n(59),P=n.n(S),T=n(2),O=n.n(T),C=n(165),x=n.n(C);n.d(t,"a",function(){return N});var R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j={afterSliderChildren:l.a.oneOfType([l.a.arrayOf(l.a.element),l.a.element]),alwaysShowThumb:l.a.bool,behindSliderChildren:l.a.oneOfType([l.a.arrayOf(l.a.element),l.a.element]),classNames:l.a.shape({slider:l.a.string,sliderLeft:l.a.string,sliderThumb:l.a.string}),dragHandlers:l.a.shape({onStart:l.a.func,onDrag:l.a.func,onStop:l.a.func}),getOptimizedValue:l.a.func,max:l.a.number.isRequired,min:l.a.number.isRequired,onBlur:l.a.func,onClick:l.a.func,onKeyDown:l.a.func,onMouseMove:l.a.func,onMouseOut:l.a.func,sliderTabIndex:l.a.number,windowObj:l.a.object,value:l.a.number,valueOptimizationEnabled:l.a.bool,selectionAreaMaxValue:l.a.number,selectionAreaMinValue:l.a.number},A={value:0,classNames:{},sliderTabIndex:0,valueOptimizationEnabled:!1,getOptimizedValue:function(){return 0},onMouseMove:function(){},onMouseOut:function(){},alwaysShowThumb:!1},I=200,N=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,currentInputMethod:"",currentDragValue:0,touchIdentifier:-1,optimizedValue:0,requestAnimationID:0,isHovering:!1},e.handleTouchStart=e.handleTouchStart.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.handleDocumentTouchMove=e.handleDocumentTouchMove.bind(e),e.handleDocumentTouchEnd=e.handleDocumentTouchEnd.bind(e),e.handleDocumentMouseUp=e.handleDocumentMouseUp.bind(e),e.handleDocumentMouseMove=e.handleDocumentMouseMove.bind(e),e.handleClick=e.handleClick.bind(e),e.handleFocus=e.handleFocus.bind(e),e._sliderRefHandler=e._sliderRefHandler.bind(e),e.updateOptimizedValue=x()(e.updateOptimizedValue.bind(e),I),e}return o(t,e),R(t,[{key:"componentDidMount",value:function(){this.props.valueOptimizationEnabled&&this.updateOptimizedValue()}},{key:"componentWillUnmount",value:function(){this.props.valueOptimizationEnabled&&this.props.windowObj.cancelAnimationFrame(this.state.requestAnimationID),this.removeDocumentHandlers()}},{key:"updateOptimizedValue",value:function(){this.setState({optimizedValue:this.props.getOptimizedValue(),requestAnimationID:this.props.windowObj.requestAnimationFrame(this.updateOptimizedValue)})}},{key:"render",value:function(){var e,t=this.props,n=t.afterSliderChildren,i=t.alwaysShowThumb,a=t.behindSliderChildren,o=t.classNames,s=t.max,c=t.min,l=t.onBlur,d=t.onKeyDown,f=t.sliderTabIndex,p=t.value,h=t.valueOptimizationEnabled,m=0;m=this.state.isDragging?this.state.currentDragValue:h?this.state.optimizedValue:p,m=this._constrainedSliderValue(m);var v=u.a.createElement(y,{className:o.sliderLeft,max:s,min:c,value:m}),b=null;(this.state.isHovering||this.state.isDragging||i)&&(b=u.a.createElement(w,{className:o.sliderThumb,max:s,min:c,onTouchStart:this.handleTouchStart,onMouseDown:this.handleMouseDown,value:m}));var g=O()((e={},r(e,o.slider,!0),r(e,"slider--no-outline","mouse"===this.state.currentInputMethod),e));return u.a.createElement("div",{"aria-valuemax":s,"aria-valuemin":c,"aria-valuenow":m,className:g,onBlur:l,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:d,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,ref:this._sliderRefHandler,role:"slider",tabIndex:f},a,v,n,u.a.createElement(E.a,{component:"div"},b))}},{key:"_constrainedSliderValue",value:function(e){var t=this.props,n=t.selectionAreaMaxValue,r=t.selectionAreaMinValue,i=e;return n&&(i=Math.min(i,n)),r&&(i=Math.max(i,r)),i}},{key:"_sliderRefHandler",value:function(e){this.$slider=e}},{key:"calculateValueAtPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,n=t.max,r=t.min,i=this.$slider.getBoundingClientRect(),a=i.left,o=i.width;if(0===o)return 0;var s=Math.min(1,Math.max(0,(e-a)/o));return this._constrainedSliderValue(s*(n-r)+r)}},{key:"handleFocus",value:function(){this.setState({currentInputMethod:f.a.ask()})}},{key:"handleClick",value:function(e){var t=this.calculateValueAtPosition(e.pageX),n=this.props.onClick;n&&n(t,e)}},{key:"handleMouseMove",value:function(e){this.props.onMouseMove(e),this.setState({isHovering:!0})}},{key:"handleMouseOut",value:function(){this.props.onMouseOut(),this.setState({isHovering:!1})}},{key:"handleMouseDown",value:function(e){this.onDragStart(e),this.addDocumentHandlers(!1)}},{key:"handleTouchStart",value:function(e){var t=e.touches[0];this.setState({touchIdentifier:t.identifier}),this.onDragStart(t),this.addDocumentHandlers(!0)}},{key:"onDragStart",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({isDragging:!0,currentDragValue:t});var n=this.props.dragHandlers.onStart;n&&n(t,e)}},{key:"onDragEvent",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({currentDragValue:t});var n=this.props.dragHandlers.onDrag;n&&n(t,e)}},{key:"onDragEnd",value:function(e){this.setState({isDragging:!1,currentDragValue:0});var t=this.calculateValueAtPosition(e.pageX),n=this.props.dragHandlers.onStop;n&&n(t,e)}},{key:"addDocumentHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slider){var t=this.$slider.ownerDocument;e?(t.addEventListener("touchmove",this.handleDocumentTouchMove),t.addEventListener("touchend",this.handleDocumentTouchEnd),t.addEventListener("touchcancel",this.handleDocumentTouchEnd)):(t.addEventListener("mousemove",this.handleDocumentMouseMove),t.addEventListener("mouseup",this.handleDocumentMouseUp))}}},{key:"removeDocumentHandlers",value:function(){if(this.$slider){var e=this.$slider.ownerDocument;e.removeEventListener("touchmove",this.handleDocumentTouchMove),e.removeEventListener("touchend",this.handleDocumentTouchEnd),e.removeEventListener("touchcancel",this.handleDocumentTouchEnd),e.removeEventListener("mousemove",this.handleDocumentMouseMove),e.removeEventListener("mouseup",this.handleDocumentMouseUp)}}},{key:"handleDocumentTouchMove",value:function(e){var t=this,n=P()(e.touches,function(e){return e.identifier===t.state.touchIdentifier});n&&this.onDragEvent(n)}},{key:"handleDocumentTouchEnd",value:function(e){var t=this,n=P()(e.changedTouches,function(e){return e.identifier===t.state.touchIdentifier});n&&(this.onDragEnd(n),this.removeDocumentHandlers(),this.setState({touchIdentifier:-1}))}},{key:"handleDocumentMouseUp",value:function(e){this.onDragEnd(e),this.removeDocumentHandlers()}},{key:"handleDocumentMouseMove",value:function(e){this.props.onMouseMove(e),this.onDragEvent(e)}}]),t}(u.a.Component);N.propTypes=j,N.defaultProps=A},function(e,t,n){(function(t,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function i(e){F=e}function a(e){V=e}function o(){return void 0!==U?function(){U(u)}:s()}function s(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<B;e+=2){(0,Y[e])(Y[e+1]),Y[e]=void 0,Y[e+1]=void 0}B=0}function c(e,t){var n=this,r=new this.constructor(d);void 0===r[$]&&x(r);var i=n._state;if(i){var a=arguments[i-1];V(function(){return T(i,r,a,n._result)})}else E(n,r,e,t);return r}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return g(n,e),n}function d(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(e){return ee.error=e,ee}}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function y(e,t,n){V(function(e){var r=!1,i=m(n,t,function(n){r||(r=!0,t!==n?g(e,n):w(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function v(e,t){t._state===J?w(e,t._result):t._state===Z?k(e,t._result):E(t,void 0,function(t){return g(e,t)},function(t){return k(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===l?v(e,t):n===ee?(k(e,ee.error),ee.error=null):void 0===n?w(e,t):r(n)?y(e,t,n):w(e,t)}function g(t,n){t===n?k(t,f()):e(n)?b(t,n,h(n)):w(t,n)}function _(e){e._onerror&&e._onerror(e._result),S(e)}function w(e,t){e._state===X&&(e._result=t,e._state=J,0!==e._subscribers.length&&V(S,e))}function k(e,t){e._state===X&&(e._state=Z,e._result=t,V(_,e))}function E(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+J]=n,i[a+Z]=r,0===a&&e._state&&V(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?T(n,r,i,a):i(a);e._subscribers.length=0}}function P(e,t){try{return e(t)}catch(e){return ee.error=e,ee}}function T(e,t,n,i){var a=r(n),o=void 0,s=void 0,u=void 0,c=void 0;if(a){if(o=P(n,i),o===ee?(c=!0,s=o.error,o.error=null):u=!0,t===o)return void k(t,p())}else o=i,u=!0;t._state!==X||(a&&u?g(t,o):c?k(t,s):e===J?w(t,o):e===Z&&k(t,o))}function O(e,t){try{t(function(t){g(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function C(){return te++}function x(e){e[$]=te++,e._state=void 0,e._result=void 0,e._subscribers=[]}function R(){return new Error("Array Methods must be provided an Array")}function j(e){return new ne(this,e).promise}function A(e){var t=this;return new t(D(e)?function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function I(e){var t=this,n=new t(d);return k(n,e),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=re}var q=void 0;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var D=q,B=0,U=void 0,F=void 0,V=function(e,t){Y[B]=e,Y[B+1]=t,2===(B+=2)&&(F?F(u):Q())},H="undefined"!=typeof window?window:void 0,z=H||{},W=z.MutationObserver||z.WebKitMutationObserver,G="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Y=new Array(1e3),Q=void 0;Q=G?function(){return function(){return t.nextTick(u)}}():W?function(){var e=0,t=new W(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():K?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===H?function(){try{var e=Function("return this")().require("vertx");return U=e.runOnLoop||e.runOnContext,o()}catch(e){return s()}}():s();var $=Math.random().toString(36).substring(2),X=void 0,J=1,Z=2,ee={error:null},te=0,ne=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[$]||x(this.promise),D(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):k(this.promise,R())}return e.prototype._enumerate=function(e){for(var t=0;this._state===X&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===l){var i=h(e);if(i===c&&e._state!==X)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===re){var a=new n(d);b(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===X&&(this._remaining--,e===Z?k(r,n):this._result[t]=n),0===this._remaining&&w(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(J,t,e)},function(e){return n._settledAt(Z,t,e)})},e}(),re=function(){function e(t){this[$]=C(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&N(),this instanceof e?O(this,t):M())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return re.prototype.then=c,re.all=j,re.race=A,re.resolve=l,re.reject=I,re._setScheduler=i,re._setAsap=a,re._asap=V,re.polyfill=L,re.Promise=re,re})}).call(t,n(227),n(68))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?h=p.concat(h):y=-1,h.length&&s())}function s(){if(!m){var e=i(o);m=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,m=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,h=[],m=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=o(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=o(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:m(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new y(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&v.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){function n(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}e.exports=n},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(68))},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===a||e===-a){return(e<0?-1:1)*o}return e===e?e:0}var i=n(124),a=1/0,o=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=!n&&a(e),l=!n&&!r&&s(e),f=!n&&!r&&!l&&c(e),p=n||r||l||f,h=p?i(e.length,String):[],m=h.length;for(var y in e)!t&&!d.call(e,y)||p&&("length"==y||l&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||h.push(y);return h}var i=n(344),a=n(102),o=n(24),s=n(103),u=n(126),c=n(127),l=Object.prototype,d=l.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(104),a=n(348),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(70),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=a(r.length-t,0),u=Array(s);++o<s;)u[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(u),i(e,this,c)}}var i=n(353),a=Math.max;e.exports=r},function(e,t,n){var r=n(354),i=n(356),a=i(r);e.exports=a},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(r.Cache||i),n}var i=n(172),a="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=a(t,e);for(var c=-1,l=t.length,d=l-1,f=e;null!=f&&++c<l;){var p=u(t[c]),h=n;if(c!=d){var m=f[p];h=r?r(m,p,f):void 0,void 0===h&&(h=s(m)?m:o(t[c+1])?[]:{})}i(f,p,h),f=f[p]}return e}var i=n(128),a=n(89),o=n(126),s=n(29),u=n(91);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,i)}var i=n(381),a=n(242);e.exports=r},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,d=!1;++r<l;){var f=c(t[r]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++r!=l?d:!!(l=null==e?0:e.length)&&u(l)&&s(f,l)&&(o(e)||a(e))}var i=n(89),a=n(102),o=n(24),s=n(126),u=n(167),c=n(91);e.exports=r},function(e,t,n){function r(e){return o(a(e,void 0,i),e+"")}var i=n(382),a=n(237),o=n(238);e.exports=r},function(e,t,n){function r(e,t,n,r,c,l){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var m=-1,y=!0,v=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++m<f;){var b=e[m],g=t[m];if(r)var _=d?r(g,b,m,t,e,l):r(b,g,m,e,t,l);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!a(t,function(e,t){if(!o(v,t)&&(b===e||c(b,e,n,r,l)))return v.push(t)})){y=!1;break}}else if(b!==g&&!c(b,g,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y}var i=n(140),a=n(395),o=n(141),s=1,u=2;e.exports=r},function(e,t,n){var r=n(38),i=r.Uint8Array;e.exports=i},function(e,t,n){function r(e){return i(e,o,a)}var i=n(247),a=n(177),o=n(53);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return a(e)?r:i(r,n(e))}var i=n(138),a=n(24);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var r=n(70),i=n(38),a=r(i,"Set");e.exports=a},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(29);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(60),i=n(21),a=function(e){var t=void 0;try{t=i.b.get(e),t||(t=Object(r.a)()),i.b.set(e,t)}catch(e){t=null}return t},o=function(){return a("clips_rec_sid")},s=function(){return a("session_storage_unique_id")}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Object.freeze({AE:"United Arab Emirates",AT:"Austria",AU:"Australia",BE:"Belgium",BR:"Brazil",CA:"Canada",CH:"Switzerland",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",ES:"Spain",FI:"Finland",FR:"France",GB:"United Kingdom",HU:"Hungary",IT:"Italy",JP:"Japan",KR:"Korea",MX:"Mexico",NL:"Netherlands",NO:"Norway",NZ:"New Zealand",PL:"Poland",PT:"Portugal",RU:"Russia",SA:"Saudi Arabia",SE:"Sweden",TR:"Turkey",US:"United States"}),i=1050},function(e,t,n){function r(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||i(e,t,n)}var i=n(129),a=n(87);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var i=n(38),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(168)(e))},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(181);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}var i=n(412),a=n(182),o=n(104);e.exports=r},function(e,t,n){function r(e){if(!o(e)||i(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var i=n(56),a=n(182),o=n(46),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=l.call(Object);e.exports=r},function(e,t){function n(e,t){return"__proto__"==t?void 0:e[t]}e.exports=n},function(e,t,n){var r=n(174),i=n(88),a=n(414),o=n(143),s=i(function(e){return a(r(e,1,o,!0))});e.exports=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,r){var i=this,a=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,a)||this,i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=i},function(e,t,n){"use strict";function r(e,t,n){t in e?e[t].push(""+n):e[t]=[""+n]}function i(e){return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return s[e]})}n.d(t,"a",function(){return o}),t.b=i;var a=n(190),o=function(){function e(){this.dict=Object(a.a)()}return e.prototype.append=function(e,t){r(this.dict,e,t)},e.prototype.toString=function(){var e=[],t=this.dict;for(var n in t)for(var r=i(n),a=0,o=t[n];a<o.length;a++)e.push(r+"="+i(o[a]));return e.join("&")},e}(),s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){var n=fe[e];if(!n)throw new Error("Invalid environment - got "+e);if(!t)throw new Error("Invalid prefix - got "+t);window[de]=window[de]||{};var r=window[de];r[e]||(r[e]=new pe(n));var i=r[e];return new he(i,t)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e){if("production"!==e&&"staging"!==e&&"darklaunch"!==e)throw"Invalid Pubsub instance environment";return null===window.__Twitch__pubsubInstances[e]&&(window.__Twitch__pubsubInstances[e]=new xe(e)),window.__Twitch__pubsubInstances[e]}var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(){function e(){r(this,e)}return E(e,[{key:"on",value:function(e,t,n){return this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t,n),this}},{key:"off",value:function(e,t){if(this._events)for(var n=this._events[e]||[],r=this._events[e]=[],i=0;i<n.length;i+=2)n[i]!==t&&(r.push(n[i]),r.push(n[i+1]));return this}},{key:"_trigger",value:function(e){if(this._events)for(var t=this._events[e]||[],n=1;n<t.length;n+=2)t[n-1].apply(t[n],Array.prototype.slice.call(arguments,1));return this}},{key:"count",value:function(e){if(this._events){return(this._events[e]||[]).length/2}return 0}}]),e}(),P=S,T={};T.randomInt=function(e){return Math.floor(Math.random()*e)},T.time={seconds:function(e){return 1e3*e},now:function(){return(new Date).getTime()}},T.urlParams=function(){for(var e={},t=window.location.search.substr(1),n=t.split("&"),r=0;r<n.length;++r){var i=n[r].split("=");e[decodeURIComponent(i[0])]=i.length>1?decodeURIComponent(i[1]):""}return e}(),T.generateString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(T.randomInt(n.length));return t},T.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}};var O=T,C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(){},R=x,j={},A={DEBUG:1,INFO:2,WARNING:3,ERROR:4,CRITICAL:5},I=A.WARNING,N=function(){function e(t){i(this,e),this._opts=t}return C(e,[{key:"debug",value:function(e){I<=A.DEBUG&&this._log("DEBUG: "+e)}},{key:"info",value:function(e){I<=A.INFO&&this._log("INFO: "+e)}},{key:"warning",value:function(e){I<=A.WARNING&&this._log("WARNING: "+e)}},{key:"error",value:function(e){I<=A.ERROR&&this._log("ERROR: "+e)}},{key:"critical",value:function(e){I<=A.CRITICAL&&this._log("CRITICAL: "+e)}},{key:"_log",value:function(e){var t=this._opts.prefix+e;this._opts.logFunc?this._opts.logFunc(t):R(t)}}]),e}(),M={setLogger:function(e){R="function"==typeof e?e:x},setLevel:function(){var e=(O.urlParams.pubsub_log_level||"").toUpperCase();if(e){var t=A[e];if(t)return I=t,function(){}}return function(e){I=e?A[e.toUpperCase()]||A.WARNING:A.WARNING}}(),_getLogger:function(e){return j[e]||(j[e]=new N({prefix:"pubsub.js ["+e+"] "})),j[e]},_noopLogger:new N({prefix:"",logFunc:x})},L=window.console;L&&L.log&&(L.log.apply?M.setLogger(function(){L.log.apply(L,arguments)}):M.setLogger(function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);L.log(e.join(" "))}));var q=M,D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),B=function(){function e(){a(this,e),this._map={},this._size=0}return D(e,[{key:"set",value:function(e,t){this._map.hasOwnProperty(e)||(this._size+=1),this._map[e]=t}},{key:"get",value:function(e){return this._map[e]}},{key:"has",value:function(e){return this._map.hasOwnProperty(e)}},{key:"remove",value:function(e){this._map.hasOwnProperty(e)&&(this._size-=1),delete this._map[e]}},{key:"size",value:function(){return this._size}},{key:"map",value:function(){return this._map}},{key:"values",value:function(){var e=[];for(var t in this._map)this._map.hasOwnProperty(t)&&e.push(this._map[t]);return e}}]),e}(),U=B,F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),V=q._getLogger("IframeClient"),H=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._parentUrl=e.parentUrl,n._pendingResponses=new U,n._listens=new P,window.addEventListener("message",n.receiveMessage.bind(n),!1),n}return u(t,e),F(t,[{key:"connect",value:function(){window.parent.postMessage({twitch_protocol:"pubsub",type:"connect"},this._parentUrl)}},{key:"verify",value:function(){window.parent.postMessage({twitch_protocol:"pubsub",type:"verify"},this._parentUrl),this._verifyTimeout=setTimeout(this._unverified.bind(this),1e3)}},{key:"Listen",value:function(e){V.debug("listening on "+e.topic);var t=this._generateNonce(),n={twitch_protocol:"pubsub",type:"LISTEN",nonce:t,data:{topics:[e.topic],auth_token:e.auth}};this._send(t,n,e)}},{key:"Unlisten",value:function(e){if(V.debug("unlistening on "+e.topic+"("+this._listens.count(e.topic)+" listeners)"),this._listens.count(e.topic)>1)return e.message&&this._listens.off(e.topic,e.message),e.success&&e.success(),void V.debug("now have "+this._listens.count(e.topic)+" listeners");var t=this._generateNonce(),n={twitch_protocol:"pubsub",type:"UNLISTEN",nonce:t,data:{topics:[e.topic]}};this._send(t,n,e)}},{key:"_send",value:function(e,t,n){this._pendingResponses.set(e,{timeout:setTimeout(this._onResponseTimeout.bind(this),3e4,e),topic:n.topic,auth:n.auth,message:t,callbacks:{success:n.success,failure:n.failure,message:n.message}}),window.parent.postMessage(t,this._parentUrl)}},{key:"receiveMessage",value:function(e){if(e.data&&"pubsub"==e.data.twitch_protocol)switch(V.debug("Received message: "+JSON.stringify(e.data)),e.data.type){case"connected":this._trigger("connected");break;case"disconnected":this._trigger("disconnected");break;case"success":this.handleResponse(!0,e.data);break;case"failure":this.handleResponse(!1,e.data);break;case"message":this.handleMessage(e.data.topic,e.data.message);break;case"verify":this._verified()}}},{key:"handleResponse",value:function(e,t){if(this._pendingResponses.has(t.nonce)){var n=this._pendingResponses.get(t.nonce);V.debug("ResponseInfo: "+JSON.stringify(n)),clearTimeout(n.timeout),this._pendingResponses.remove(t.nonce),e?(n.callbacks.message&&("LISTEN"===n.message.type?this._listens.on(n.topic,n.callbacks.message,this):"UNLISTEN"===n.message.type&&this._listens.off(n.topic,n.callbacks.message,this)),n.callbacks.success&&n.callbacks.success()):n.callbacks.failure&&n.callbacks.failure(t.error)}}},{key:"handleMessage",value:function(e,t){V.debug("received '"+t+"' on topic "+e),this._listens._trigger(e,t)}},{key:"_onResponseTimeout",value:function(e){V.debug("response timed out: "+e)}},{key:"_verified",value:function(){V.debug("Verified"),clearTimeout(this._verifyTimeout),this._trigger("verified")}},{key:"_unverified",value:function(){window.removeEventListener("message",this.receiveMessage.bind(this),!1),this._trigger("unverified")}},{key:"_generateNonce",value:function(){return O.generateString(30)}}]),t}(P),z=H,W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),G=1e4,K=q._getLogger("IframeHost"),Y=function(){function e(t){c(this,e),this._driver=t,this._sources=[],this._listeners=[],this._driver.on("connected",this.handleConnected,this),this._driver.on("disconnected",this.handleDisconnected,this),window.addEventListener("message",this.receiveMessage.bind(this),!1),this._orphanedListenerCheckTimer=setInterval(this._checkOrphanedListeners.bind(this),G)}return W(e,[{key:"destroy",value:function(){clearInterval(this._orphanedListenerCheckTimer)}},{key:"receiveMessage",value:function(e){if(e.data&&"pubsub"==e.data.twitch_protocol&&e.source)switch(K.debug("Received message: "+JSON.stringify(e.data)),e.data.type){case"LISTEN":this.handleListen(e.source,e.data.nonce,e.data.data);break;case"UNLISTEN":this.handleUnlisten(e.source,e.data.nonce,e.data.data);break;case"connect":this._sources.push(e.source),this._driver.connect();break;case"verify":e.source.postMessage({twitch_protocol:"pubsub",type:"verify"},"*")}}},{key:"_pushListener",value:function(e,t){for(var n=0;n<this._listeners.length;n++)if(this._listeners[n].source===e&&this._listeners[n].topic===t)return null;var r={source:e,topic:t,message:function(n){e.postMessage({twitch_protocol:"pubsub",type:"message",topic:t,message:n},"*")}};return this._listeners.push(r),r}},{key:"_popListener",value:function(e,t){for(var n=0;n<this._listeners.length;n++)if(this._listeners[n].source===e&&this._listeners[n].topic===t)return this._listeners.splice(n,1)[0];return null}},{key:"_checkOrphanedListeners",value:function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e].source.closed&&this._cleanUpOrphanedListener(this._listeners.splice(e--,1)[0])}},{key:"_cleanUpOrphanedListener",value:function(e){K.debug("Cleaning up orphaned listener for topic: "+e.topic),this._driver.Unlisten({topic:e.topic,success:function(){K.debug("Success when cleaning up orphaned listener for topic: "+e.topic)},failure:function(t){K.debug("Error when cleaning up orphaned listener for topic: "+e.topic+" Error: "+t)},message:e.message})}},{key:"handleListen",value:function(e,t,n){var r=this._pushListener(e,n.topics[0]);if(!r)return void e.postMessage({twitch_protocol:"pubsub",type:"success",nonce:t},"*");this._driver.Listen({topic:r.topic,auth:n.auth_token,success:function(){e.postMessage({twitch_protocol:"pubsub",type:"success",nonce:t},"*")},failure:function(n){e.postMessage({twitch_protocol:"pubsub",type:"failure",nonce:t,error:n},"*")},message:r.message})}},{key:"handleUnlisten",value:function(e,t,n){var r=this._popListener(e,n.topics[0]);if(!r)return void K.debug("Failed to unlisten, could not find listener for topic "+n.topics[0]);this._driver.Unlisten({topic:r.topic,auth:n.auth_token,success:function(){e.postMessage({twitch_protocol:"pubsub",type:"success",nonce:t},"*")},failure:function(n){e.postMessage({twitch_protocol:"pubsub",type:"failure",nonce:t,error:n},"*")},message:r.message})}},{key:"handleConnected",value:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].postMessage({twitch_protocol:"pubsub",type:"connected"},"*")}},{key:"handleDisconnected",value:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].postMessage({twitch_protocol:"pubsub",type:"disconnected"},"*")}}]),e}(),Q=Y,X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),J=q._getLogger("PubsubSocket"),Z=function(e){function t(e){l(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._opts=e,n._addr=e.addr,n._stats=e.stats,n._connectionAttempts=0,n._sentPing=n._receivedPong=!1,n._id="["+O.generateString(10)+"] ",window.addEventListener("beforeunload",n._beforeUnload.bind(n)),n}return f(t,e),X(t,[{key:"connect",value:function(){J.debug(this._id+"connecting to "+this._addr),this._connecting=!0,this._socketConnectTime=O.time.now();try{this._socket=new WebSocket(this._addr),this._socket.onmessage=this._onMessage.bind(this),this._socket.onerror=this._onError.bind(this),this._socket.onclose=this._onClose.bind(this),this._socket.onopen=this._onOpen.bind(this)}catch(e){this._stats.logCounter("socket.error.security_err",1,1),this._trigger("connection_failure")}}},{key:"close",value:function(){J.debug(this._id+"closing"),this._closing=!0,this._clearTimeouts(),this._socket.close()}},{key:"send",value:function(e){J.debug(this._id+"sending "+JSON.stringify(e)),this._isReady()?this._socket.send(JSON.stringify(e)):this._trigger("error","not_ready")}},{key:"_isReady",value:function(){return J.debug(this._id+"_isReady called"),!!this._socket&&this._socket.readyState===WebSocket.OPEN}},{key:"_onMessage",value:function(e){J.debug(this._id+"received message: "+e.data);try{var t=JSON.parse(e.data);switch(t.type){case"RESPONSE":this._trigger("response",t);break;case"MESSAGE":this._trigger("message",t);break;case"PONG":this._receivedPong=!0;break;case"RECONNECT":this._trigger("reconnect")}}catch(e){this._stats.logLine("onMessage JSON Parse error: "+e)}}},{key:"_onError",value:function(e){J.debug(this._id+"error: "+JSON.stringify(e))}},{key:"_onClose",value:function(e){if(J.debug(this._id+"onClose triggered with code "+e.code+"(closing = "+this._closing+", connecting = "+this._connecting+")"),this._clearTimeouts(),this._connecting){var t=Math.pow(2,this._connectionAttempts);t>120&&(t=120),J.debug(this._id+"reconnecting in "+t+" seconds"),this._connectionAttempts+=1,this._nextConnectionAttempt=setTimeout(this.connect.bind(this),1e3*t)}else if(this._closing)this._closed=!0,this._trigger("connection_failure");else{if(this._windowUnloading)return;J.debug(this._id+"unexpected close"),this._stats.logCounter("socket.error.unexpected_closed",1,1),this._stats.logCounter("socket.error.close."+e.code,1,1);var n="pubsub-js-client unexpected_close. code: "+e.code+", reason: "+e.reason+", wasClean: "+e.wasClean;this._stats.logLine(n),this._closed=!0,this._trigger("connection_failure")}}},{key:"_onOpen",value:function(e){J.debug(this._id+" socket opened"),this._connectionAttempts=0,this._connecting=!1,this._socketConnectTime&&this._stats.logTimer("socket.connect",O.time.now()-this._socketConnectTime,.1),this._stats.logCounter("socket.connection_retries."+this._connectionAttempts,1,.1),this._ping(),this._pingInterval=window.setInterval(this._ping.bind(this),24e4),this._trigger("open")}},{key:"_ping",value:function(){J.debug(this._id+"sending PING");try{this._socket.send(JSON.stringify({type:"PING"})),this._sentPing=!0,this._pongTimeout&&clearTimeout(this._pongTimeout),this._pongTimeout=setTimeout(this._pongTimedOut.bind(this),3e4)}catch(e){this._stats.logCounter("socket.error.ping_send_error",1,1),this._stats.logLine("ping error: closed: "+this._closed+", error: "+e),this.close()}}},{key:"_pongTimedOut",value:function(){this._sentPing&&!this._receivedPong&&(J.debug(this._id+"Pong timed out!"),this._stats.logCounter("socket.error.pong_timed_out",1,1),this.close())}},{key:"_clearTimeouts",value:function(){this._sentPing=this._receivedPong=!1,clearTimeout(this._pongTimeout),clearInterval(this._pingInterval),clearTimeout(this._nextConnectionAttempt)}},{key:"_beforeUnload",value:function(){this._windowUnloading=!0}}]),t}(P),ee=Z,te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ne=q._getLogger("WebsocketClient"),re="wss://pubsub-edge.twitch.tv:443/v1",ie="wss://pubsub-edge-darklaunch.twitch.tv:443/v1",ae="ws://localhost:6900/v1",oe=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));switch(n._opts=e,n._env=e.env,n._stats=e.stats,n._env){case"production":n._addr=re;break;case"darklaunch":n._addr=ie;break;case"development":n._addr=ae;break;default:n._addr=re}return window.WebSocket?(n._queuedRequests=[],n._pendingResponses=new U,n._pendingReplayResponses=new U,n._listens=new P,n._replays=new U,n._replaysSize=0,n._firstConnectTime=n._firstListenTime=0,n._connectCalled=n._reconnecting=!1,n._primarySocket=new ee({stats:n._stats,addr:n._addr}),n._bindPrimary(n._primarySocket),n):h(n)}return m(t,e),te(t,[{key:"verify",value:function(){this._trigger("verified")}},{key:"connect",value:function(){window.WebSocket&&(this._connectCalled?this._primarySocket._isReady()&&this._trigger("connected"):(this._connectCalled=!0,this._primarySocket.connect()))}},{key:"_bindPrimary",value:function(e){e.on("open",this._onPrimaryOpen,this),e.on("response",this._onResponse,this),e.on("message",this._onMessage,this),e.on("reconnect",this._onReconnect,this),e.on("connection_failure",this._onConnectionFailure,this)}},{key:"_unbindPrimary",value:function(e){e.off("open",this._onPrimaryOpen,this),e.off("response",this._onResponse,this),e.off("message",this._onMessage,this),e.off("reconnect",this._onReconnect,this),e.off("connection_failure",this._onConnectionFailure,this)}},{key:"_onPrimaryOpen",value:function(){ne.debug("primary open: "+this._primarySocket._id),0===this._firstConnectTime&&(this._firstConnectTime=O.time.now(),this._firstListenTimeout=setTimeout(this._neverListened.bind(this),45e3)),this._connected=!0,this._trigger("connected"),this._flushQueuedRequests()}},{key:"_onResponse",value:function(e){if(ne.debug("primary response: "+JSON.stringify(e)),this._pendingResponses.has(e.nonce)){var t=this._pendingResponses.get(e.nonce);ne.debug("responseInfo: "+JSON.stringify(t)),clearTimeout(t.timeout),this._pendingResponses.remove(e.nonce),""===e.error?("LISTEN"===t.message.type?(0===this._firstListenTime&&(clearTimeout(this._firstListenTimeout),this._firstListenTime=O.time.now(),this._stats.logTimer("time_to_first_listen",this._firstListenTime-this._firstConnectTime,.1)),this._replays.set(e.nonce,{nonce:e.nonce,message:t.callbacks.message,topic:t.topic,auth:t.auth}),t.callbacks.message&&this._listens.on(t.topic,t.callbacks.message,this)):"UNLISTEN"===t.message.type&&(this._replays.remove(e.nonce),t.callbacks.message&&this._listens.off(t.topic,t.callbacks.message,this)),t.callbacks.success&&t.callbacks.success()):t.callbacks.failure&&t.callbacks.failure(e.error)}}},{key:"_onResponseTimeout",value:function(e){if(this._pendingResponses.has(e)){var t=this._pendingResponses.get(e);this._pendingResponses.remove(e),t.callbacks.failure&&t.callbacks.failure("response timeout")}}},{key:"_onMessage",value:function(e){ne.debug("primary message: "+JSON.stringify(e)),this._listens._trigger(e.data.topic,e.data.message)}},{key:"_onConnectionFailure",value:function(){ne.debug("connection failure"),this._trigger("disconnected"),this._notifyWhenOpen=!0,this._onReconnect()}},{key:"_onReconnect",value:function(){ne.debug("reconnecting..."),this._reconnecting=!0,this._backupSocket=new ee({stats:this._stats,addr:this._addr}),this._bindBackup(this._backupSocket),setTimeout(this._backupSocket.connect.bind(this._backupSocket),this._jitteredReconnectDelay())}},{key:"_bindBackup",value:function(e){e.on("open",this._onBackupOpen,this),e.on("response",this._onBackupResponse,this)}},{key:"_unbindBackup",value:function(e){e.off("open",this._onBackupOpen,this),e.off("response",this._onBackupResponse,this)}},{key:"_onBackupOpen",value:function(){ne.debug("Backup socket opened"),this._replays.size()>0?this._replayBackup():(this._swapSockets(),this._notifyWhenOpen&&(ne.debug("triggering connected"),this._notifyWhenOpen=!1,this._trigger("connected")))}},{key:"_replayBackup",value:function(){for(var e=this._replays.values(),t=0;t<e.length;t++){var n={type:"LISTEN",nonce:this._generateNonce(),data:{topics:[e[t].topic],auth_token:e[t].auth}};this._pendingReplayResponses.set(n.nonce,!0),this._backupSocket.send(n)}}},{key:"_onBackupResponse",value:function(e){this._pendingReplayResponses.has(e.nonce)&&""===e.error&&(this._pendingReplayResponses.remove(e.nonce),0===this._pendingReplayResponses.size()&&(this._swapSockets(),this._notifyWhenOpen&&(ne.debug("triggering connected"),this._notifyWhenOpen=!1,this._trigger("connected"))))}},{key:"_swapSockets",value:function(){ne.debug("swapping primary "+this._primarySocket._id+" and backup "+this._backupSocket._id),this._unbindPrimary(this._primarySocket),this._unbindBackup(this._backupSocket),this._bindPrimary(this._backupSocket),this._primarySocket.close(),this._primarySocket=this._backupSocket,this._reconnecting=!1,this._flushQueuedRequests()}},{key:"Listen",value:function(e){if(window.WebSocket){ne.debug("listening on "+e.topic);var t=this._generateNonce(),n={type:"LISTEN",nonce:t,data:{topics:[e.topic],auth_token:e.auth}};this._queuedSend(t,n,e)}}},{key:"Unlisten",value:function(e){if(window.WebSocket){if(ne.debug("unlistening on "+e.topic+"("+this._listens.count(e.topic)+" listeners)"),this._listens.count(e.topic)>1){this._listens.off(e.topic,e.message);for(var t in this._replays.map())if(this._replays.get(t).message===e.message){this._replays.remove(t);break}return e.success&&e.success(),void ne.debug("now have "+this._listens.count(e.topic)+" listeners")}var n=this._generateNonce(),r={type:"UNLISTEN",nonce:n,data:{topics:[e.topic]}};this._queuedSend(n,r,e)}}},{key:"_queuedSend",value:function(e,t,n){this._reconnecting||!1===this._primarySocket._isReady()?(ne.debug("queuing"),this._queuedRequests.push({nonce:e,msg:t,opts:n})):(ne.debug("sending immediately"),this._send(e,t,n))}},{key:"_flushQueuedRequests",value:function(){for(ne.debug("flushing "+this._queuedRequests.length+" listen/unlistens");this._queuedRequests.length>0;){var e=this._queuedRequests.shift();this._send(e.nonce,e.msg,e.opts)}}},{key:"_send",value:function(e,t,n){this._pendingResponses.set(e,{timeout:setTimeout(this._onResponseTimeout.bind(this),3e4,e),topic:n.topic,auth:n.auth,message:t,callbacks:{success:n.success,failure:n.failure,message:n.message}}),this._primarySocket.send(t)}},{key:"_neverListened",value:function(){this._stats.logCounter("first_listen_timeout",1)}},{key:"_generateNonce",value:function(){return O.generateString(30)}},{key:"_jitteredReconnectDelay",value:function(){return O.randomInt(2e3)}}]),t}(P),se=oe,ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ce=500,le=20,de="__Twitch__statsInstances_1",fe={production:{addr:"https://client-event-reporter.twitch.tv"},darklaunch:{addr:"https://client-event-reporter-darklaunch.twitch.tv"}};fe.staging=fe.darklaunch,fe.development=fe.darklaunch,fe.test=fe.darklaunch;var pe=function(){function e(t){if(y(this,e),!t)throw new Error("config is required");this._addr=t.addr,this._resetCombinedStats(),this._recordDelay=ce,this._maxPendingStats=le}return ue(e,[{key:"logCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._combinedStats.counters.push({key:e,count:t,sample_rate:n}),this._record()}},{key:"logTimer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._combinedStats.timers.push({key:e,milliseconds:t,sample_rate:n}),this._record()}},{key:"logLine",value:function(e){this._combinedStats.log_lines.push({log_line:e}),this._record()}},{key:"logGauge",value:function(e){this._combinedStats.gauges.push({key:e}),this._record()}},{key:"_resetCombinedStats",value:function(){this._combinedStats={timers:[],counters:[],log_lines:[],gauges:[]}}},{key:"_record",value:function(){var e=this;this._numPendingStats()>this._maxPendingStats?(this._flushTimeout&&(clearTimeout(this._flushTimeout),this._flushTimeout=null),this._flush()):this._flushTimeout||(this._flushTimeout=setTimeout(function(){e._flushTimeout=null,e._flush()},this._recordDelay))}},{key:"_flush",value:function(){var e=this._combinedStats;this._resetCombinedStats();var t=this._addr+"/v1/stats",n=this._createCorsRequest("POST",t);if(!n)return void console.log("WARNING: Cannot send stats because CORS is unsupported");n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e))}},{key:"_numPendingStats",value:function(){var e=this._combinedStats;return e.timers.length+e.counters.length+e.log_lines.length+e.gauges.length}},{key:"_createCorsRequest",value:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}}]),e}(),he=function(){function e(t,n){if(y(this,e),!t)throw new Error("Missing backend");if(!n)throw new Error("Missing prefix");this._backend=t,this._prefix=n}return ue(e,[{key:"logCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._backend.logCounter(this._prefix+"."+e,t,n)}},{key:"logTimer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._backend.logTimer(this._prefix+"."+e,t,n)}},{key:"logLine",value:function(e){this._backend.logLine(e)}},{key:"logGauge",value:function(e){this._backend.logGauge(e)}},{key:"setPrefix",value:function(e){if(!e)throw new Error("Missing prefix");this._prefix=e}}]),e}(),me={getInstance:v},ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ve="https://pubster.twitch.tv/publish",be="https://pubster-darklaunch.twitch.tv/publish",ge="pubsubtest.unique.",_e="pubsubtest.shared."+O.randomInt(10),we=q._getLogger("PubsubTest"),ke=function(){function e(t){if(b(this,e),!window.$)return void we.debug("PubsubTest could not be enabled. JQuery is undefined.");switch(we.debug("PubsubTest enabled"),this._env=t.env,this._driver=t.driver,this._stats=t.stats,this._env){case"production":this._addr=ve;break;case"darklaunch":this._addr=be;break;default:this._env="production",this._addr=ve}this._statKeys={uniqueSuccess:"test.unique.success",uniqueFailure:"test.unique.failure",sharedSuccess:"test.shared.success",sharedFailure:"test.shared.failure"},this._uniqueKey=ge+O.generateString(20),this._sharedKey=_e,this._listeningUnique=this._listeningShared=!1,this.sendListens()}return ye(e,[{key:"sendListens",value:function(){this._driver.Listen({topic:this._uniqueKey,auth:"",success:this._gotUniqueOk.bind(this),failure:this._gotUniqueFail.bind(this),message:this._gotUniqueMessage.bind(this)}),this._driver.Listen({topic:this._sharedKey,auth:"",success:this._gotSharedOk.bind(this),failure:this._gotSharedFail.bind(this),message:this._gotSharedMessage.bind(this)})}},{key:"_gotUniqueOk",value:function(){this._listeningUnique=!0,this._listeningShared&&this.startTesting()}},{key:"_gotUniqueFail",value:function(e){}},{key:"_gotSharedOk",value:function(){this._listeningShared=!0,this._listeningUnique&&this.startTesting()}},{key:"_gotSharedFail",value:function(e){}},{key:"startTesting",value:function(){we.debug("startTesting"),this._driver.on("connected",this.resumeTesting,this),this._driver.on("disconnected",this.stopTesting,this),this.checkAndSend(),this._publishInterval=window.setInterval(this.checkAndSend.bind(this),6e4)}},{key:"resumeTesting",value:function(){we.debug("resumeTesting"),this.checkAndSend(),this._publishInterval=window.setInterval(this.checkAndSend.bind(this),6e4)}},{key:"stopTesting",value:function(){we.debug("stopTesting"),clearInterval(this._publishInterval),this._receivedUniqueMessage=this._sentUniqueMessage=!1,this._receivedSharedMessage=this._sentSharedMessage=!1}},{key:"checkAndSend",value:function(){we.debug("checkAndSend: unique: sent = "+this._sentUniqueMessage+", received = "+this._receivedUniqueMessage),!this._receivedUniqueMessage&&this._sentUniqueMessage&&(we.debug("unique failure"),this._stats.logCounter(this._statKeys.uniqueFailure,1,1)),!this._receivedSharedMessage&&this._sentSharedMessage&&(we.debug("shared failure"),this._stats.logCounter(this._statKeys.sharedFailure,1,1)),this._receivedUniqueMessage=this._sentUniqueMessage=!1,this._receivedSharedMessage=this._sentSharedMessage=!1,this._expectedMessage=O.generateString(30),$.ajax({type:"POST",url:this._addr,contentType:"application/json",timeout:3e4,data:JSON.stringify({topics:[this._uniqueKey],data:this._expectedMessage}),success:function(){we.debug("unique message sent"),this._sentUniqueMessage=!0}.bind(this)}),this._sentUniqueMessageTime=O.time.now(),Math.random()<1e-4&&($.ajax({type:"POST",url:this._addr,contentType:"application/json",timeout:3e4,data:JSON.stringify({topics:[this._sharedKey],data:this._expectedMessage}),success:function(){we.debug("shared message sent"),this._sentSharedMessage=!0}.bind(this)}),this._sentSharedMessageTime=O.time.now())}},{key:"_gotUniqueMessage",value:function(e){if(we.debug("received unique message: "+e),e===this._expectedMessage){var t=O.time.now()-this._sentUniqueMessageTime;this._receivedUniqueMessage=!0,this._stats.logTimer(this._statKeys.uniqueSuccess,t,.1),this._stats.logCounter(this._statKeys.uniqueSuccess,1,.1)}}},{key:"_gotSharedMessage",value:function(e){if(e===this._expectedMessage){var t=O.time.now()-this._sentSharedMessageTime;this._receivedSharedMessage=!0,this._stats.logTimer(this._statKeys.sharedSuccess,t,.1),this._stats.logCounter(this._statKeys.sharedSuccess,1,.1)}}}]),e}(),Ee=ke,Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pe=q._getLogger("PubsubDriver"),Te=3e4,Oe=/^https?:\/\/([\w-]+\.)*twitch\.(tv|tech)(:\d+)?\/.*$/,Ce=1,xe=function(e){function t(e){g(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._env=O.urlParams.pubsub_environment||e,n._clientReady=!1,n._hasDisconnected=!1,n._queuedRequests=[],n._stats=me.getInstance(n._env,"pubsub-js-client"),n._numDisconnects=0,O.inIframe()&&Oe.test(document.referrer)?(Pe.debug("Driver is in an iframe"),n._client=new z({parentUrl:document.referrer}),n._clientType="iframe-verified"):(Pe.debug("Driver is not in an iframe"),n._client=new se({env:n._env,stats:n._stats}),n._iframeHost=new Q(n._client),n._clientType="ws"),n._stats.setPrefix("pubsub-js-client."+n._clientType),"true"===O.urlParams.force_pubsub_tester?Ce=1:"false"===O.urlParams.force_pubsub_tester&&(Ce=0),Math.random()<Ce&&window.setTimeout(n.runTest.bind(n),Te),n._client.on("unverified",n._clientUnverified,n),n._client.on("verified",n._clientVerified,n),n._client.verify(),n}return w(t,e),Se(t,[{key:"runTest",value:function(){this._tester=new Ee({env:this._env,driver:this,stats:this._stats})}},{key:"connect",value:function(){}},{key:"Listen",value:function(e){this._clientReady?this._client.Listen(e):this._queuedRequests.push({type:"LISTEN",opts:e})}},{key:"Unlisten",value:function(e){this._clientReady?this._client.Unlisten(e):this._queuedRequests.push({type:"UNLISTEN",opts:e})}},{key:"_flushQueuedRequests",value:function(){for(Pe.debug("Flushing "+this._queuedRequests.length+" queued requests");this._queuedRequests.length>0;){var e=this._queuedRequests.shift();switch(e.type){case"LISTEN":this._client.Listen(e.opts);break;case"UNLISTEN":this._client.Unlisten(e.opts)}}}},{key:"_clientConnected",value:function(){Pe.debug("Client connected"),this._client.on("disconnected",this._clientDisconnected,this),this._stats.logCounter("connected",1),this._trigger("connected"),this._hasDisconnected&&this._trigger("reconnected"),this._clientReady=!0,this._flushQueuedRequests()}},{key:"_clientDisconnected",value:function(){Pe.debug("Client disconnected"),this._trigger("disconnected"),this._clientReady=!1,this._numDisconnects+=1,this._hasDisconnected=!0}},{key:"_clientVerified",value:function(){Pe.debug("Client verified (type = "+this._clientType+")"),this._stats.setPrefix("pubsub-js-client."+this._clientType),this._client.on("connected",this._clientConnected,this),this._client.connect(),window.setInterval(this._sendClientTypeGauge.bind(this),6e4)}},{key:"_clientUnverified",value:function(){Pe.debug("Unverified IframeClient"),this._client.off("verified",this._clientVerified,this),this._client.off("unverified",this._clientUnverified,this),this._client=new se({env:this._env,stats:this._stats}),this._clientType="iframe-unverified",this._client.on("unverified",this._clientUnverified,this),this._client.on("verified",this._clientVerified,this),this._client.verify()}},{key:"_sendClientTypeGauge",value:function(){this._stats.logGauge("pubsub-js-client."+this._clientType)}}]),t}(P);window.__Twitch__pubsubInstances=window.__Twitch__pubsubInstances||{production:null,staging:null,darklaunch:null};t.a={getInstance:k}},function(e,t,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,a={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&i(e(t(null),a))===a}},function(e,t,n){"use strict";var r,i=n(267),a=n(55),o=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(a(e),null===t||i(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var i;return r(t,n),i=o.call(e.nullPolyfill,t),i&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,i&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{e=r.set,e.call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:(t={},t.__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(432)},function(e,t,n){"use strict";var r=n(95),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(95),i=Array.prototype.forEach,a=Object.create,o=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=a(null);return i.call(arguments,function(e){r(e)&&o(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=n(441)()?String.prototype.contains:n(442)},function(e,t,n){"use strict";var r=n(146),i=n(147),a=n(443),o=n(463),s=n(464),u=n(75).iterator;e.exports=function(e){return"function"==typeof s(e)[u]?e[u]():r(e)?new a(e):i(e)?new o(e):new a(e)}},function(e,t,n){"use strict";var r,i=n(448),a=n(192),o=n(76),s=n(55),u=n(109),c=n(449),l=n(75),d=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(o(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,a({_next:u(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[l.toStringTag]||"Object")+"]"})},c({_onAdd:u(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void d(this,"__redo__",u("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:u(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:u(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,l.iterator,u(function(){return this}))},function(e,t,n){"use strict";function r(e,t,n){return{x:n.x*e/1e4,y:n.y*t/1e4}}function i(e,t,n){var r=n.aspectWidth/1e4,i=n.aspectHeight/1e4,o=n.zoomPixels||a.a,s=e*r,u=t*i;return{width:Math.floor(s),height:Math.floor(u),zoomScale:s/o}}t.a=r,t.b=i;var a=n(189)},function(e,t){function n(e,t){var n=document.head||document.getElementsByTagName("head")[0];n||t(new Error("No head element to append script"));var r=document.createElement("script");r.onload=function(){t(null),setTimeout(function(){n.removeChild(r)},0)},r.onerror=function(){t(new Error("Unable to load script"))},n.appendChild(r),r.src=e}function r(e,t,n){var r=new XMLHttpRequest;r.open(t.method||"GET",e,!0),t.headers&&Object.keys(t.headers).forEach(function(e){r.setRequestHeader(e,t.headers[e])}),r.onreadystatechange=function(){switch(r.readyState){case i:return void(200<=r.status&&r.status<300?n(null,r.responseText):n(new Error("XHR error: "+r.status+" "+e),null))}},r.send(t.body)}var i=4;t.fetch=function(e,t,i){t.injectScript?n(e,i||function(){}):r(e,t,i||function(){})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return E}),n.d(t,"b",function(){return P});var i=n(27),a=n(72),o=n(479),s=(n.n(o),n(33)),u=n.n(s),c=n(110),l=n.n(c),d=n(277),f=n.n(d),p=n(7),h=n.n(p),m=n(18),y=n(60),v=n(25),b=n(16),g=n(9),_=n(10),w=n(5),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E="inactive",S={ggPM:function(){}},P=function(){function e(t,n){r(this,e),this.player=t,this.store=n;var i=this.store.getState();this._window=u()(i,"window"),this._nSdkInstance=null,this._playheadPositionInterval=null,this._secondsFromStartOfAd=0,this._lastPlayheadPosition=0,this._lastContentType=null,this._isBuffering=!1,this._isPaused=!1,this._subscriptions=[];var a=u()(i,"experiments");this._experiment=a.get(v.h),u()(i,"gdprConsent.vendors.nielsen.consent")?(this.initializeNielsenSDK(),this.initializeEventListeners()):this._subscriptions.push(Object(m.a)(this.store,["gdprConsent.vendors.nielsen.consent"],this._onNielsenGDPRConsentChange.bind(this)))}return k(e,[{key:"initializeEventListeners",value:function(){this.player.addEventListener(i.n,this.onPlaying.bind(this)),this.player.addEventListener(a.AD_START,this.onAdStart.bind(this)),this.player.addEventListener(a.AD_IMPRESSION,this.onAdImpression.bind(this)),this.player.addEventListener(a.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this)),this.player.addEventListener(a.AD_END,this.onAdEnd.bind(this)),this.player.addEventListener(i.k,this.onPause.bind(this)),this.player.addEventListener(i.q,this.onSeeking.bind(this)),this.player.addEventListener(i.p,this.onSeeked.bind(this)),this.player.addEventListener(i.f,this.onEnded.bind(this)),this._subscriptions.push(Object(m.a)(this.store,["playback.isLoading"],this.onBuffering.bind(this))),this._window.addEventListener("beforeunload",this.onBeforeUnload.bind(this))}},{key:"_onNielsenGDPRConsentChange",value:function(){var e=this.store.getState(),t=u()(e,"gdprConsent.vendors.nielsen.consent"),n=null!==this._nSdkInstance,r=t&&!n,i=u()(e,"playback.playing"),a=u()(e,"ads.playback.isAdImpression");r&&(this.initializeNielsenSDK(),this.initializeEventListeners(),i?this.onPlaying():a&&this.onAdImpression())}},{key:"initializeNielsenSDK",value:function(){var e=this.store.getState(),t=Object(y.a)(),n=u()(e,"playerOptions.channel"),r=u()(e,"env.playerType");h()(w.b,r)?this._nSdkInstance=S:this._nSdkInstance="twitchmedia31"===n?this._window.NOLBUNDLE.nlsQ("P34D56F9D-5684-4C83-8EE1-5EA7DE9CF45D",t,{nol_sdkDebug:"debug"}):this._window.NOLBUNDLE.nlsQ("P34D56F9D-5684-4C83-8EE1-5EA7DE9CF45D",t)}},{key:"_getNielsenMetadata",value:function(){var e=this.store.getState(),t=u()(e,"streamMetadata.channel.status"),n=u()(e,"streamMetadata.channel.id"),r=u()(e,"streamMetadata.channelName"),i=u()(e,"streamMetadata.game"),a=u()(e,"streamMetadata.createdAt"),o=u()(e,"streamMetadata.video_id"),s=u()(e,"streamMetadata.name"),c=u()(e,"playback.duration"),l=a.slice(0,-1);if(this._isLive())return{type:"content",assetid:n,isfullepisode:"y",program:r,title:t,length:0,segA:i,segB:"",airdate:l,adloadtype:"2"};if(this._isVOD())return{type:"content",assetid:o,isfullepisode:"y",program:r,title:s,length:c,segA:i,segB:"",airdate:l,adloadtype:"2"};if(this._isAd()){var d=u()(e,"ads.currentMetadata.rollType"),p=u()(e,"ads.details.adWrapperIds"),h=u()(e,"ads.details.adId");return{type:d,assetid:f()(p)||h,title:u()(e,"ads.details.title")}}}},{key:"_emitNielsenExperimentEvent",value:function(e){var t=this,n=e.eventName,r=e.values,i=this.store.getState(),a=u()(i,"streamMetadata.channelName");this._experiment.then(function(e){"active"!==e&&"twitchmedia31"!==a||t._nSdkInstance.ggPM(n,r)})}},{key:"_emitNielsenLoadMetadata",value:function(){var e=this._getNielsenMetadata();this._emitNielsenExperimentEvent({eventName:"loadMetadata",values:e}),this._lastContentType=u()(e,"type")}},{key:"_startPlayheadPositionInterval",value:function(){var e=this,t=this._getPlayheadPosition();this._emitNielsenExperimentEvent({eventName:"setPlayheadPosition",values:t}),this._clearPlayheadPositionInterval(),this._playheadPositionInterval=this._window.setInterval(function(){e._secondsFromStartOfAd+=1;var t=e._getPlayheadPosition();e._emitNielsenExperimentEvent({eventName:"setPlayheadPosition",values:t})},1e3)}},{key:"_emitAdOrContentPlayingEvents",value:function(){var e=this._getNielsenMetadata(),t=u()(e,"type"),n=t!==this._lastContentType,r=this._isAd()&&0===this._getPlayheadPosition();this._isPaused||!n&&!r||this._emitNielsenLoadMetadata(),this._isBuffering||this._startPlayheadPositionInterval()}},{key:"_emitAdStartAndAdImpressionCompleteEvents",value:function(){var e=this._lastPlayheadPosition;this._emitNielsenExperimentEvent({eventName:"stop",values:e}),this._clearPlayheadPositionInterval(),this._resetSecondsFromStartOfAd()}},{key:"_getPlayheadPosition",value:function(){var e=this.store.getState(),t=void 0;return this._isLive()?t=Math.floor(Date.now()/1e3):this._isVOD()?t=e.playback.currentTime:this._isAd()&&(t=this._secondsFromStartOfAd),this._lastPlayheadPosition=t,t}},{key:"onPlaying",value:function(){this._isPaused=!1,this._emitAdOrContentPlayingEvents()}},{key:"onAdStart",value:function(){this._emitAdStartAndAdImpressionCompleteEvents()}},{key:"onAdImpression",value:function(){this._emitAdOrContentPlayingEvents()}},{key:"onAdImpressionComplete",value:function(){this._emitAdStartAndAdImpressionCompleteEvents()}},{key:"onAdEnd",value:function(){this._emitNielsenLoadMetadata(),this._startPlayheadPositionInterval()}},{key:"onPause",value:function(){this._clearPlayheadPositionInterval(),this._isPaused=!0}},{key:"onSeeking",value:function(){this._isVOD()&&this._clearPlayheadPositionInterval()}},{key:"onSeeked",value:function(){this._isVOD()&&this._startPlayheadPositionInterval()}},{key:"onEnded",value:function(){var e=this._lastPlayheadPosition;this._emitNielsenExperimentEvent({eventName:"end",values:e})}},{key:"onBeforeUnload",value:function(){var e=this._lastPlayheadPosition;this._isLive()||this._isVOD()?this._emitNielsenExperimentEvent({eventName:"end",values:e}):this._isAd()&&this._emitNielsenExperimentEvent({eventName:"stop",values:e})}},{key:"onBuffering",value:function(){this.store.getState().playback.isLoading?(this._isBuffering=!0,this._clearPlayheadPositionInterval()):(this._isBuffering=!1,this._startPlayheadPositionInterval())}},{key:"_resetSecondsFromStartOfAd",value:function(){this._secondsFromStartOfAd=0}},{key:"_clearPlayheadPositionInterval",value:function(){this._window.clearInterval(this._playheadPositionInterval)}},{key:"destroy",value:function(){this._window.clearInterval(this._playheadPositionInterval),l()(this._subscriptions,function(e){return e()}),this._window.removeEventListener("beforeunload",this.onBeforeUnload),this.onBeforeUnload=this.onBeforeUnload.bind(this)}},{key:"_isAd",value:function(){var e=this.store.getState(),t=u()(e,"ads.currentMetadata.contentType");return t===b.i.IMA||t===b.i.STITCHED}},{key:"_isLive",value:function(){var e=this.store.getState(),t=u()(e,"stream.contentType");return!this._isAd()&&t===g.a}},{key:"_isVOD",value:function(){var e=this.store.getState(),t=u()(e,"stream.contentType");return!this._isAd()&&t===_.a}}]),e}()},function(e,t,n){function r(e,t){return e&&i(e,t,a)}var i=n(180),a=n(53);e.exports=r},function(e,t,n){e.exports=n(482)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=Array.isArray(t)&&t.length>0;if(!a()(e)||!n)return e;var r=e.indexOf("?"),i=e.slice(0,r),u=r<0?"":e.slice(r+1);if(u.length>0){var c=Object(o.b)(u);return t.forEach(function(e){return delete c[e]}),i+"?"+Object(o.c)(c)}return e}t.a=r;var i=n(123),a=n.n(i),o=n(96),s=Object.freeze(["oauth_token"])},function(e,t,n){"use strict";function r(e,t,n){var r=s()({},n,{oauth_token:t});return fetch(e+"?"+Object(u.stringify)(r),{credentials:"include",headers:{"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"}}).then(function(e){return e.json()})}function i(e,t,n){return r(c.e+"/api/vods/"+e.substring(1)+"/access_token",t,n)}function a(e,t,n){return r(c.e+"/api/channels/"+e.toLowerCase()+"/access_token",t,n)}t.b=i,t.a=a;var o=n(6),s=n.n(o),u=n(39),c=(n.n(u),n(11))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),l=n.n(c),d=n(1),f=n.n(d),p=n(3),h=n(2),m=n.n(h),y=n(8),v=n(4),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=m()("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay"),_=m()("player-center-content"),w=m()("pl-mature-overlay"),k=m()("js-mature-waring-label"),E=m()("player-content-button","js-player-mature-accept","js-mature-accept-label"),S={isBlank:f.a.bool,handleMatureAccepted:f.a.func,t:f.a.func.isRequired},P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),b(t,[{key:"render",value:function(){return l.a.createElement("div",{className:g},l.a.createElement("div",{className:_},l.a.createElement("div",{className:w},this.renderContent())))}},{key:"renderContent",value:function(){return this.props.isBlank?null:l.a.createElement("div",null,l.a.createElement("p",{className:k},this.props.t("The broadcaster indicated that the channel is intended for mature audiences.")),l.a.createElement("p",null,l.a.createElement(y.a,{className:E,id:"mature-link",onClick:this.props.handleMatureAccepted},this.props.t("Start Watching"))))}}]),t}(l.a.Component);P.propTypes=S;var T=Object(v.c)()(P),O=n(21),C=n(7),x=n.n(C),R=n(15),j=n(23),A=n(10),I=n(9),N=n(20),M=n(44),L=n(16),q=n(5),D=n(51),B=n(200);n.d(t,"a",function(){return F}),n.d(t,"b",function(){return G});var U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F="mature",V={contentIsShowing:f.a.func,showMatureOption:f.a.bool,mutePlayer:f.a.func,play:f.a.func,playback:f.a.object,playerType:f.a.string,pause:f.a.func,requestAds:f.a.func,streamMetadata:f.a.object,isMini:f.a.bool,contentRestricted:f.a.func,streamType:f.a.string,onlineStatus:f.a.string},H=function(e){var t=e.env,n=e.playback,r=e.playerOptions,i=e.streamMetadata,a=e.ui,o=e.onlineStatus;return{playback:n,streamType:e.stream.contentType,onlineStatus:o,playerType:t.playerType,showMatureOption:r.showMature,streamMetadata:i,isMini:a.isMini}},z=function(e){return{mutePlayer:function(t,n){e(Object(R.r)(t,n))},contentIsShowing:function(){e(Object(N.A)())},contentRestricted:function(){e(Object(N.B)(M.b))},play:function(){e(Object(R.t)())},pause:function(){e(Object(R.s)())},requestAds:function(t,n){e(Object(L.q)(t,n))}}},W=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showMatureOverlay:!1,playerPaused:!1},e.handleMatureAccepted=e.handleMatureAccepted.bind(e),e}return u(t,e),U(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e),n=this.state.showMatureOverlay;t?(n||(this.setState({showMatureOverlay:!0}),this.props.contentIsShowing(),this.props.contentRestricted()),e.playback.isLoading&&!this.state.playerPaused&&(this.props.mutePlayer(!0,!0),this.props.pause(),this.setState({playerPaused:!0}))):!t&&n&&this.setState({showMatureOverlay:!1})}},{key:"_shouldShowOverlay",value:function(e){var t=e.showMatureOption,n=e.streamMetadata,r=n.channel.mature,i=this.props.showMatureOption;return void 0!==t&&(i=t),r&&!O.a.get(F)&&i&&this.props.playerType!==q.i&&!x()(Object.keys(B.a),n.channel.name)}},{key:"render",value:function(){return this.state.showMatureOverlay?l.a.createElement(T,{isBlank:this.props.isMini,handleMatureAccepted:this.handleMatureAccepted}):null}},{key:"handleMatureAccepted",value:function(){var e=this.props,t=e.playback,n=e.onlineStatus,r=e.streamType;O.a.set(F,!0),this.setState({showMatureOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0);var i=n===j.b,a=r===I.a,o=r===A.a;t.autoplay&&(a&&i||o)&&this.props.requestAds(D.c,L.k)}}]),t}(l.a.Component);W.propTypes=V;var G=Object(p.b)(H,z)(W)},function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,s,u],d=0;c=new Error(t.replace(/%s/g,function(){return l[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n){function i(){v===y&&(v=y.slice())}function a(){return m}function o(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),v.push(e),function(){if(t){t=!1,i();var n=v.indexOf(e);v.splice(n,1)}}}function s(e){if(!Object(d.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,m=h(m,e)}finally{b=!1}for(var t=y=v,n=0;n<t.length;n++){(0,t[n])()}return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,s({type:p.INIT})}function c(){var e,t=o;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[f.a]=function(){return this},e}var l;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,y=[],v=y,b=!1;return s({type:p.INIT}),l={dispatch:s,subscribe:o,getState:a,replaceReducer:u},l[f.a]=c,l}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:p.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+p.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n),u=void 0;try{a(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,a={},o=0;o<s.length;o++){var c=s[o],l=n[c],d=e[c],f=l(d,t);if(void 0===f){var p=i(c,t);throw new Error(p)}a[c]=f,r=r||f!==d}return r?a:e}}function s(e,t){return function(){return t(e.apply(void 0,arguments))}}function u(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var a=n[i],o=e[a];"function"==typeof o&&(r[a]=s(o,t))}return r}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),o=a.dispatch,s=[],u={getState:a.getState,dispatch:function(e){return o(e)}};return s=t.map(function(e){return e(u)}),o=c.apply(void 0,s)(a.dispatch),h({},a,{dispatch:o})}}}var d=n(198),f=n(490),p={INIT:"@@redux/INIT"},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return c})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var o=n(97),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="clip-editing",c=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return a._slug=e,a._streamUrl=n,a}return a(t,e),s(t,[{key:"contentType",get:function(){return u}},{key:"slug",get:function(){return this._slug}},{key:"streamUrl",get:function(){return Promise.resolve(this._streamUrl)}},{key:"castStreamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}(o.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var o=n(97),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="video-source",c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._url=e,n}return a(t,e),s(t,[{key:"contentType",get:function(){return u}},{key:"streamUrl",get:function(){return Promise.resolve(this._url)}},{key:"castStreamUrl",get:function(){return Promise.resolve(this._url)}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}(o.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=a.a.get(e);void 0!==n&&(a.a.remove(e),t.set(void 0,n))}n.d(t,"a",function(){return s}),t.b=i;var a=n(21),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this.get=this.get.bind(this),this.set=this.set.bind(this),this.segmentKeyFromPlayerType=this.segmentKeyFromPlayerType.bind(this),this.storedSegments=this.storedSegments.bind(this);var n={};t.segments.forEach(function(e){e.playerTypes.forEach(function(t){n[t]=e.key})}),this.storageKey=t.storageKey,this.playerTypeToSegmentKey=n}return o(e,[{key:"get",value:function(e){return this.storedSegments()[this.segmentKeyFromPlayerType(e)]}},{key:"set",value:function(e,t){var n=this.storedSegments(),r=this.segmentKeyFromPlayerType(e);try{n[r]=t}catch(e){n={},n[r]=t}a.a.set(this.storageKey,n)}},{key:"segmentKeyFromPlayerType",value:function(e){var t=this.playerTypeToSegmentKey[e];return t||"default"}},{key:"storedSegments",value:function(){return a.a.get(this.storageKey)||{}}}]),e}()},function(e,t,n){"use strict";function r(e){return"https://clips.twitch.tv/api/v2/"+e}function i(e){fetch(r("clips/"+e+"/view"))}function a(e,t){return fetch(r("clips/"+e+"/related-clips-sets?sets="+t.join(",")),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return"error"===e.status?Promise.reject({apiError:!0,status:e.status,message:e.message}):{apiError:!1,clipSets:o(e)}}).catch(function(e){if(!e.response)return{apiError:!0,message:e.message};var t=parseInt(e.response.status,10);return Promise.reject({apiError:!0,status:t,message:e.message})})}function o(e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n].map(function(e){return s(e)}),t},{})}function s(e){return{id:e.id,channel:{channelUrl:e.broadcaster_channel_url,displayName:e.broadcaster_display_name,name:e.broadcaster_login,id:e.broadcaster_id,logo:e.broadcaster_logo},curator:{channelUrl:e.curator_channel_url,displayName:e.curator_display_name,name:e.curator_login,id:e.curator_id,logo:e.curator_logo},game:e.game,url:e.url,title:e.title,thumbnails:e.thumbnails,createdAt:e.created_at,duration:e.duration,embedHtml:e.embed_html,embedUrl:e.embed_url,language:e.language,slug:e.slug,viewCount:e.views,vod:{id:e.vod_id,offset:e.vod_offset,url:e.vod_url,previewImageUrl:e.vod_preview_image_url},segments:e.segments,editUrl:e.edit_url,infoUrl:e.info_url,statusUrl:e.status_url,previewImage:e.preview_image}}t.b=i,t.a=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,r){var i=this,a=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,a)||this,i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=i},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var i=n(508),a=n(204),o=n(509);e.exports=r},function(e,t,n){var r,i;!function(n,a){r=[],void 0!==(i=function(){return n.ns_=a(n.ns_)}.apply(t,r))&&(e.exports=i)}(this,function(e){e=e||{},e.ns_=e;var t={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var r=1;n>r;r++)if(t=arguments[r])for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(parseInt(e));return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},parseBoolean:function(e,t){return t=t||!1,e?"0"!=e&&void 0:t},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,r){t==e&&(n=r)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var r=void 0!==e.__proto__;for(var i in e)e.hasOwnProperty(i)&&(!r||r&&void 0===e.__proto__[i])&&"function"!=typeof e[i]&&t.call(n,e[i],i)}else for(var a=0,o=e.length;o>a;a++)t.call(n,e[a],a)}catch(e){}},regionMatches:function(e,t,n,r,i){if(0>t||0>r||t+i>e.length||r+i>n.length)return!1;for(;--i>=0;){if(e.charAt(t++)!=n.charAt(r++))return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(void 0!==t&&t&&"undefined"!=typeof console&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){return null==e||"object"!=typeof e?e:function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function r(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function i(e,t){var n=new r;return t&&(n.maxDepth=t),n.deepCopy(e)}function a(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,r=0;n>r;r++)if(t[r][0]===e)return t[r][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var r=o[n];if(r.canCopy(e))return this.applyDeepCopier(r,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),++this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},i.DeepCopier=n,i.deepCopiers=o,i.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},i.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var r=0;r<t.length;r++)n.push(e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),i.register({canCopy:function(e){return a(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var r=0;r<t.childNodes.length;r++){var i=e(t.childNodes[r]);n.appendChild(i)}}}),{deepCopy:i}}().deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",r=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(r=n.substring(e,t),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)):r="unknown",r},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,r,i=navigator.userAgent||"",a=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(o=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?o=i.substring(t+4):-1!=(t=i.indexOf("Android"))?o=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?o=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(o=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?o=i.substring(t+8):"Microsoft Internet Explorer"==a?(r=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=r.exec(i)&&(o=parseFloat(RegExp.$1))):"Netscape"==a?(r=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=r.exec(i)&&(o=parseFloat(RegExp.$1))):o=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",o=o.toString(),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,r){n&&n.setItem(e+t,r)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var r=n.key(t);r.substr(0,e.length)===e&&n.removeItem(r)}}})}}(),r=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},i=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},a=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),o=function(){return{PLATFORM:"generic",httpGet:r,httpPost:i,Storage:n,IO:a,getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}}}(),s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};t.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var r=e[n];t[n]=null===r||void 0===r?r:e[n]+""}return t},t.getKeys=function(e,t){var n,r=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(r[r.length]=n);return r},t.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=String(t),t},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,r,i){var a={};if(!(r>=n))return t.cloneObject(e);if(a.start=n,a.end=r,0==e.length)return e.push(a),t.cloneObject(e);var o;for(o=0;o<e.length;o++)if(a.start>=e[o].start&&a.end<=e[o].end)return t.cloneObject(e);var s,u=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&a.start>=e[s].start||a.start>=e[s].start&&a.start<e[s+1].start){e.splice(s+1,0,a),u=!0;break}u||e.splice(0,0,a);var c=[e[0]];for(o=1;o<e.length;o++)c[c.length-1].end+i<e[o].start?c.push(e[o]):c[c.length-1].end<e[o].end&&(c[c.length-1].end=e[o].end);return t.cloneObject(c)};var u=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),c=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),l=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),d={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},f=function(){function e(){function e(){var e,t,n=0;for(e=0;e<m.length;e++)n+=Math.abs(m[e].end-m[e].start);B.setUniquePlaybackInterval(n);var r=0;for(e=0;e<m.length;e++)(t=Math.abs(m[e].end-m[e].start))>r&&(r=t);B.setLongestPlaybackInterval(r);var i=0;for(e=0;e<y.length;e++)i+=Math.abs(y[e].end-y[e].start);B.setAssetUniquePlaybackInterval(i);var a=0;for(e=0;e<y.length;e++)(t=Math.abs(y[e].end-y[e].start))>a&&(a=t);B.setAssetLongestPlaybackInterval(a)}var n,r,i,a,o,u,c,l,f,p,h,m,y,v,b,g,_,w,k,E,S,P,T,O,C,x,R,j,A,I,N,M,L,q,D,B=this,U=d.INTERVAL_MERGE_TOLERANCE;t.extend(this,{getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){U=e},getPlaybackIntervalMergeTolerance:function(){return U},setLabels:function(e){null!=e&&t.extend(I,e)},getLabels:function(){return I},setLabel:function(e,t){var n={};n[e]=t,B.setLabels(n)},getLabel:function(e){return I[e]},getClipNumber:function(){return parseInt(B.getLabel("ns_st_cn"))},setClipNumber:function(e){B.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(B.getLabel("ns_st_pn"))},createLabels:function(e){var n=e||{};n.ns_st_dbt=String(B.getBufferingTime()-P),P=B.getBufferingTime(),n.ns_st_det=String(B.getElapsedTime()-p),p=B.getElapsedTime(),n.ns_st_dupc=String(B.getUniquePlaybackInterval()-b),b=B.getUniquePlaybackInterval(),parseInt(n.ns_st_dupc)<0&&(n.ns_st_dupc="0");var r;r=t.exists(n.ns_st_upc)?parseInt(n.ns_st_upc):B.getUniquePlaybackInterval(),n.ns_st_iupc=String(r-g),g=r,parseInt(n.ns_st_iupc)<0&&(n.ns_st_iupc="0"),n.ns_st_dupa=String(B.getAssetUniquePlaybackInterval()-_),_=B.getAssetUniquePlaybackInterval(),parseInt(n.ns_st_dupa)<0&&(n.ns_st_dupa="0");var a;a=t.exists(n.ns_st_upa)?parseInt(n.ns_st_upa):B.getAssetUniquePlaybackInterval(),n.ns_st_iupa=String(a-w),w=a,parseInt(n.ns_st_iupa)<0&&(n.ns_st_iupa="0"),n.ns_st_dlpc=String(B.getLongestPlaybackInterval()-k),k=B.getLongestPlaybackInterval(),parseInt(n.ns_st_dlpc)<0&&(n.ns_st_dlpc="0"),n.ns_st_dlpa=String(B.getAssetLongestPlaybackInterval()-E),E=B.getAssetLongestPlaybackInterval(),parseInt(n.ns_st_dlpa)<0&&(n.ns_st_dlpa="0");var o;return o=t.exists(n.ns_st_pt)?parseInt(n.ns_st_pt):B.getPlaybackTime(),n.ns_st_ipt=String(o-c),c=o,n.ns_st_dpt=String(B.getPlaybackTime()-u),u=B.getPlaybackTime(),n.ns_st_dpc=String(B.getPauses()-N),N=B.getPauses(),n.ns_st_dskc=String(B.getSeeks()-M),M=B.getSeeks(),n.ns_st_dbc=String(B.getBuffers()-L),L=B.getBuffers(),n.ns_st_dskt=String(B.getSeekingTime()-C),C=B.getSeekingTime(),n.ns_st_dska=String(B.getSeekingAmount()-j),j=B.getSeekingAmount(),t.extend(n,B.getLabels()),B.setSeekingDirection(0),i&&(n.ns_st_spc=String(q),n.ns_st_apc=String(D)),i||t.parseBoolean(n.ns_st_sc)||(n.ns_st_sc="1"),n},getVideoTrack:function(){return B.getLabel("ns_st_vt")},setVideoTrack:function(e){B.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return B.getLabel("ns_st_at")},setAudioTrack:function(e){B.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return B.getLabel("ns_st_tt")},setSubtitleTrack:function(e){B.setLabel("ns_st_tt",String(e))},getCDN:function(){return B.getLabel("ns_st_cdn")},setCDN:function(e){B.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return m},setClipPlaybackIntervals:function(e){m=e},getAssetPlaybackIntervals:function(){return y},getUniquePlaybackInterval:function(){return parseInt(B.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(B.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){B.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){B.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(B.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){B.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(B.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){B.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){B.setLabel("ns_st_pc",String(B.getPauses()+1))},incrementSeeks:function(){B.setLabel("ns_st_skc",String(B.getSeeks()+1))},incrementPlayCounter:function(){B.setLabel("ns_st_sq",String(B.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(B.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(B.getLabel("ns_st_bt"))},setBufferingTime:function(e){B.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(S)){var t=B.getBufferingTime();t+=e-S,B.setBufferingTime(t),S=NaN}},setPlaybackStartPosition:function(e){v=parseInt(e)},getPlaybackStartPosition:function(){return v},addInterval:function(n){isNaN(v)||isNaN(n)||(m=t.addNewPlaybackInterval(m,v,n,U),y=t.addNewPlaybackInterval(y,v,n,U),e(),v=NaN)},getElapsedTime:function(){return parseInt(B.getLabel("ns_st_et"))},setElapsedTime:function(e){B.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(f)){var t=B.getElapsedTime();t+=e-f,B.setElapsedTime(t),f=NaN}},getElapsedTimestamp:function(){return f},setElapsedTimestamp:function(e){f=e},addPlaybackTime:function(e){if(!isNaN(a)){var t=B.getPlaybackTime();t+=e-a,B.setPlaybackTime(t),a=NaN}},getPlaybackTime:function(){return parseInt(B.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(a)||(l+=e-a),l},setPlaybackTimeOffset:function(e){l=e},getPlaybackTimeOffset:function(){return l},setPlaybackTime:function(e){B.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return a},setPlaybackTimestamp:function(e){a=e},setPreviousPlaybackTime:function(e){u=e},setPreviousPlaybackTimestamp:function(e){o=e},getBufferingTimestamp:function(){return S},setBufferingTimestamp:function(e){S=e},getPauses:function(){return parseInt(B.getLabel("ns_st_pc"))},setPauses:function(e){B.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(B.getLabel("ns_st_skc"))},setSeeks:function(e){B.setLabel("ns_st_skc",String(e))},setSeeking:function(e){T=e},isSeeking:function(){return T},setCollectingSeekingTime:function(e){R=e},isCollectingSeekingTime:function(){return R},setClipStarted:function(e){r=e},isClipStarted:function(){return r},setPlaybackStarted:function(e){i=e},isPlaybackStarted:function(){return i},setSeekingTimestamp:function(e){O=e},getSeekingTimestamp:function(){return O},addSeekingTime:function(e){if(!isNaN(O)){var t=B.getSeekingTime();t+=e-O,B.setSeekingTime(t),O=NaN}},getSeekingTime:function(){return parseInt(B.getLabel("ns_st_skt"))},setSeekingTime:function(e){B.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){A=e},getSeekingTimeBeforeEnd:function(){return A},setSeekStartPosition:function(e){x=e},getSeekStartPosition:function(){return x},setSeekingAmount:function(e){B.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(B.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t=B.getSeekingAmount();t+=Math.abs(e-x),B.setSeekingAmount(t);var n;x==e?n=0:x>e?n=-1:e>x&&(n=1),B.setSeekingDirection(n),x=0},getSeekingDirection:function(){return parseInt(B.getLabel("ns_st_skd"))},setSeekingDirection:function(e){B.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){I.ns_st_pt="0",u=0,c=0,I.ns_st_bt="0",P=0,I.ns_st_bc="0",L=0,I.ns_st_pc="0",N=0,I.ns_st_sq="0",I.ns_st_upa="0",_=0,w=0,I.ns_st_et="0",p=0,I.ns_st_lpa="0",E=0,I.ns_st_skt="0",C=0,I.ns_st_ska="0",j=0,I.ns_st_skc="0",M=0},incrementSegmentPlaybackCounter:function(){q++},incrementClipLoadCounter:function(){B.setLabel("ns_st_sc",String(B.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){D++},setPreviousUniquePlaybackInterval:function(e){b=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){g=e},setPreviousLongestPlaybackInterval:function(e){k=e},resetAssetPlaybackCounters:function(){y=[],B.setAssetUniquePlaybackInterval(0),_=0,w=0,B.setAssetLongestPlaybackInterval(0),E=0},setSegmentPlaybackCounter:function(e){q=e},setClipLoadCounter:function(e){B.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){D=e},setLowestPartNumberPlayed:function(e){h=e},getSegmentPlaybackCounter:function(){return q},getClipLoadCounter:function(){return parseInt(B.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return D},getLowestPartNumberPlayed:function(){return h},getBuffers:function(){return parseInt(B.getLabel("ns_st_bc"))},incrementBufferCount:function(){B.setLabel("ns_st_bc",String(B.getBuffers()+1))},getPreviousBufferingTime:function(){return P}}),function(){I={},I.ns_st_pt="0",I.ns_st_bt="0",I.ns_st_bc="0",I.ns_st_pc="0",I.ns_st_sq="0",I.ns_st_cl="0",I.ns_st_pn="1",I.ns_st_tp="1",I.ns_st_skc="0",I.ns_st_et="0",I.ns_st_cn="1",I.ns_st_sc="0",I.ns_st_ska="0",I.ns_st_skd="0",I.ns_st_skt="0",I.ns_st_upc="0",I.ns_st_lpc="0",I.ns_st_upa="0",I.ns_st_lpa="0",I.ns_st_ub="0",I.ns_st_br="0",i=!1,r=!1,n=s.UNKNOWN_VALUE,a=NaN,l=0,u=0,o=NaN,f=NaN,h=0,p=0,c=0,v=NaN,m=[],y=[],b=0,g=0,_=0,w=0,k=0,E=0,S=NaN,P=0,T=!1,O=NaN,R=!1,x=0,A=0,C=0,j=0,N=0,M=0,L=0,q=0,D=0}()}return e.resetClip=function(e,t,n){for(var r=e.getLabels(),i={},a=0;n&&a<n.length;++a)r.hasOwnProperty(n[a])&&(i[n[a]]=r[n[a]]);t.setLabels(i),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),p=function(){function e(){var e,n,r,i,a,o,s,u,c,l=this;t.extend(this,{resetClip:function(){var t=e;e=new f,f.resetClip(t,e)},hashExists:function(e){return null!=o[e]},storeHash:function(e){o[e]={}},removeHash:function(e){delete o[e]},storeClipPlaybackCounters:function(){for(var n in o)if(o.hasOwnProperty(n)&&o[n].clipNumber===e.getClipNumber()){t.extend(o[n],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return o[e]},getClipNumber:function(e){return o[e].clipNumber},getMaxClipNumber:function(){return s},storeClipNumber:function(e,t){o[e].clipNumber=t,t>s&&(s=t)},setLabels:function(e){null!=e&&t.extend(i,e)},getLabels:function(){return i},setLabel:function(e,t){var n={};n[e]=t,l.setLabels(n)},getLabel:function(e){return i[e]},getClip:function(){return e},createLabels:function(n){var r=n||{};return u||(r.ns_st_pb=null!=r.ns_st_pb?r.ns_st_pb:"1"),t.extend(r,l.getLabels()),e.isPlaybackStarted()&&(r.ns_st_ppc=String(c)),r},incrementPlayCounter:function(){l.setLabel("ns_st_sp",String(parseInt(l.getLabel("ns_st_sp"))+1))},incrementPauses:function(){l.setLabel("ns_st_pp",String(l.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(r)){var t=l.getPlaybackTime();t+=e-r,l.setPlaybackTime(t),r=NaN}},addBufferingTime:function(e){if(!isNaN(n)){var t=l.getBufferingTime();t+=e-n,l.setBufferingTime(t),n=NaN}},getBufferingTime:function(){return parseInt(l.getLabel("ns_st_bp"))},setBufferingTime:function(e){l.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(l.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){l.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){r=e},getPlaybackTimestamp:function(){return r},getPauses:function(){return parseInt(l.getLabel("ns_st_pp"))},setPauses:function(e){l.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return a},setPlaylistStarted:function(e){a=e},getPlaybackCounter:function(){return c},incrementPlaybackCounter:function(){c++},setFirstEventSent:function(e){u=e}}),function(){e=new f,i={},i.ns_st_bp="0",i.ns_st_pa="0",i.ns_st_pp="0",i.ns_st_sp="1",i.ns_st_id=String(+new Date),n=NaN,r=NaN,o={},s=0,a=!1,u=!1,c=0}()}return e.resetPlaylist=function(t,n,r){for(var i=t.getClip(),a=t.getLabels(),o={},s=0;r&&s<r.length;s++)a.hasOwnProperty(r[s])&&(o[r[s]]=a[r[s]]);n=new e,n.setLabels(o),f.resetClip(i,n.getClip(),r)},e}(),h=function(){return function(e){function n(n){i=t.extend({},n);var r=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var a=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher){var o=e.getAppCore().getMeasurementDispatcher();o.send(a.HIDDEN,n,r)}else{var s=e.getSSECore().getExports().am,u=s.newApplicationMeasurement(e.getAppCore(),a.HIDDEN,n,r);e.getAppCore().getQueue().offer(u)}}}else r&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(r,n))}var r,i,a=this;t.extend(this,{newEvent:function(e){n(e.eventLabels),e.eventType!=u.HEARTBEAT&&a.incrementEventCounter()},getEventCounter:function(){return r},incrementEventCounter:function(){r++},setEventCounter:function(e){r=e},getMeasurementSnapshot:function(){return i}}),function(){r=1}()}}(),m=function(){return function(e){function n(){o++;var n={},r=t.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(r-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(r-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(r-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(r-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(r-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(r-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(r-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(r-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(r-e.getPlaylist().getClip().getElapsedTimestamp());var i=t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),l=t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());i=t.addNewPlaybackInterval(i,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),l=t.addNewPlaybackInterval(l,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var d,f,p=0;for(d=0;d<i.length;d++)p+=Math.abs(i[d].end-i[d].start);n.ns_st_upc=String(p),n.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var h=0;for(d=0;d<i.length;d++)(f=Math.abs(i[d].end-i[d].start))>h&&(h=f);n.ns_st_lpc=String(h),n.ns_st_dlpc=String(h-e.getPlaylist().getClip().getLongestPlaybackInterval());var m=0;for(d=0;d<l.length;d++)m+=Math.abs(l[d].end-l[d].start);n.ns_st_upa=String(m),n.ns_st_dupa=String(m-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var y=0;for(d=0;d<l.length;d++)(f=Math.abs(l[d].end-l[d].start))>y&&(y=f);n.ns_st_lpa=String(y),n.ns_st_dlpa=String(y-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount());var v=e.getSSECore().createLabels(u.HEARTBEAT,n,r);e.getEventManager().newEvent(v),a=0,s.resume()}function r(){null!=i&&(e.getSSECore().getPlatformAPI().clearTimeout(i),i=null)}var i,a,o,s=this,l=d.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return o},setIntervals:function(e){l=e},getInterval:function(e){var t=0;if(null!=l)for(var n=0;n<l.length;n++){var r=l[n],i=r.playingtime;if(!i||i>e){t=r.interval;break}}return t},resume:function(){r();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(t>0){var o=a>0?a:t;i=e.getSSECore().getPlatformAPI().setTimeout(n,o)}a=0},pause:function(){r();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));a=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t}}),function(){a=0,o=0}()}}(),y=function(){return function(e){function n(){var n={},r=t.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(r)),e.getPlaylist().addPlaybackTime(r),e.getPlaylist().setPlaybackTimestamp(r),e.getPlaylist().getClip().addPlaybackTime(r),e.getPlaylist().getClip().setPlaybackTimestamp(r),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(r),e.getPlaylist().setBufferingTimestamp(r),e.getPlaylist().getClip().addBufferingTime(r),e.getPlaylist().getClip().setBufferingTimestamp(r)),e.getPlaylist().getClip().addElapsedTime(r),e.getPlaylist().getClip().setElapsedTimestamp(r),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));var i=e.getSSECore().createLabels(u.KEEPALIVE,n,r);e.getEventManager().newEvent(i),a.resume()}function r(){null!=i&&(e.getSSECore().getPlatformAPI().clearTimeout(i),i=null)}var i,a=this,o=d.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(a,{resume:function(){r(),i=e.getSSECore().getPlatformAPI().setTimeout(n,o)},pause:function(){r()},setInterval:function(e){o=e},getInterval:function(){return o}})}}(),v=function(){return function(e){var n,r,i,a=this;t.extend(a,{eventTypeToState:function(e){if(i==c.IDLE){if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(i==c.PLAYBACK_NOT_STARTED){if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK;if(e==u.END||e==u.AD_SKIP)return c.IDLE}else if(i==c.PLAYING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.BUFFER)return c.BUFFERING_DURING_PLAYBACK;if(e==u.PAUSE)return c.PAUSED;if(e==u.SEEK_START)return c.SEEKING_DURING_PLAYBACK}else if(i==c.PAUSED){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.BUFFER)return c.BUFFERING_DURING_PAUSE;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_DURING_PAUSE}else if(i==c.BUFFERING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK}else if(i==c.BUFFERING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY||e==u.BUFFER_STOP)return c.PLAYING;if(e==u.PAUSE_ON_BUFFERING)return c.PAUSED_DURING_BUFFERING;if(e==u.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return c.PAUSED}else if(i==c.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.BUFFER_STOP)return c.SEEKING_DURING_PLAYBACK;if(e==u.PAUSE)return c.PAUSED}else if(i==c.BUFFERING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_DURING_PAUSE;if(e==u.BUFFER_STOP||e==u.PAUSE)return c.PAUSED}else if(i==c.SEEKING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PAUSE)return c.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return c.PLAYING;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(i==c.SEEKING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE)return c.PAUSED;if(e==u.BUFFER)return c.BUFFERING_DURING_SEEKING}else if(i==c.SEEKING_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PAUSED}else if(i==c.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PAUSED;if(e==u.BUFFER)return c.BUFFERING_DURING_PAUSE}else if(i==c.PAUSED_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return c.PAUSED;if(e==u.PLAY||e==u.BUFFER_STOP)return c.PLAYING}return null},getCurrentState:function(){return i},newEvent:function(e,t){var o=a.eventTypeToState(e);i!=o&&(r=i,i=o,n=t)},getPreviousState:function(){return r},getLastStateChangeTimestamp:function(){return n}}),function(){i=c.IDLE,r=null,n=NaN}()}}(),b=function(){return function(e){var n=this;t.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(t,n){e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),g=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),_=function(){return function(e){var n=this;t.extend(n,{onEndAndSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),w=function(){return function(e){var n=this;t.extend(n,{onPauseOnBuffering:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t),e.getPlaylist().getClip().setPlaybackTimeOffset(r)},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onEndOrAdSkip:function(n,r){var i=parseInt(r.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPlay:function(t,n){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)}})}}(),k=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),E=function(){return function(e){var n=this;t.extend(n,{onBuffer:function(t,n){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),S=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),P=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),T=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(t):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),O=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){var i=parseInt(r.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(t,n){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(t,n),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)}})}}(),C=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),x=function(){return function(e){var n=this;t.extend(n,{onPause:function(t,n){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),R=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){parseInt(r.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),j=function(){return function(){function e(e){var t=i.getStateMachine().getCurrentState();if(t==c.IDLE||t==c.PLAYBACK_NOT_STARTED||t==c.BUFFERING_BEFORE_PLAYBACK||t==c.SEEKING_BEFORE_PLAYBACK){if(e==u.PLAY)return!0}else if(t==c.PLAYING){if(e==u.END||e==u.AD_SKIP||e==u.SEEK_START||e==u.PAUSE)return!0}else if(t==c.PAUSED||t==c.BUFFERING_DURING_PAUSE||t==c.SEEKING_DURING_PLAYBACK||t==c.SEEKING_DURING_BUFFERING||t==c.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP||e==u.PLAY)return!0}else if(t==c.BUFFERING_DURING_PLAYBACK){if(e==u.PAUSE_ON_BUFFERING||e==u.END||e==u.AD_SKIP||e==u.SEEK_START||e==u.PAUSE||e==u.PLAY)return!0}else if(t==c.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP||e==u.PAUSE||e==u.PLAY)return!0}else if(t==c.PAUSED_DURING_BUFFERING&&(e==u.END||e==u.AD_SKIP||e==u.BUFFER_STOP||e==u.PLAY))return!0;return!1}function n(t,n,r){var o=i.getStateMachine().getCurrentState();t==u.AD_SKIP&&!r.hasOwnProperty("ns_st_ui")&&e(t)?r.ns_st_ui="skip":t==u.SEEK_START&&!r.hasOwnProperty("ns_st_ui")&&e(t)&&(r.ns_st_ui="seek"),o==c.IDLE?t==u.BUFFER?a.onBuffer(n,r):t==u.SEEK_START?a.onSeekStart(n,r):t==u.PLAY&&a.onPlay(n,r):o==c.PLAYBACK_NOT_STARTED?t==u.END||t==u.AD_SKIP?j.onEndOrAdSkip(n,r):t==u.SEEK_START?j.onSeekStart(n,r):t==u.PLAY?j.onPlay(n,r):t==u.BUFFER&&V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==c.PLAYING?t==u.END||t==u.AD_SKIP?I.onEndOrAdSkip(n,r):t==u.BUFFER?I.onBuffer(n,r):t==u.SEEK_START?I.onSeekStart(n,r):t==u.PAUSE&&I.onPause(n,r):o==c.PAUSED?t==u.END||t==u.AD_SKIP?f.onEndOrAdSkip(n,r):t==u.PLAY?f.onPlay(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.SEEK_START&&V.onSeekStartWhenPausedOrBufferingDuringPause(n,r):o==c.BUFFERING_BEFORE_PLAYBACK?t==u.END||t==u.AD_SKIP?N.onEndOrAdSkip(n,r):t==u.BUFFER_STOP?N.onBufferStop(n,r):t==u.SEEK_START?N.onSeekStart(n,r):t==u.PAUSE?N.onPause(n,r):t==u.PLAY&&N.onPlay(n,r):o==c.BUFFERING_DURING_PLAYBACK?t==u.PAUSE_ON_BUFFERING?M.onPauseOnBuffering(n,r):t==u.BUFFER_STOP?M.onBufferStop(n,r):t==u.END||t==u.AD_SKIP?M.onEndOrAdSkip(n,r):t==u.SEEK_START?M.onSeekStart(n,r):t==u.PAUSE?M.onPause(n,r):t==u.PLAY&&M.onPlay(n,r):o==c.BUFFERING_DURING_SEEKING?t==u.END||t==u.AD_SKIP?L.onEndOrAdSkip(n,r):t==u.PAUSE?L.onPause(n,r):t==u.PLAY?L.onPlay(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==c.BUFFERING_DURING_PAUSE?t==u.END||t==u.AD_SKIP?q.onEndAndSkip(n,r):t==u.PAUSE?q.onPause(n,r):t==u.PLAY?q.onPlay(n,r):t==u.SEEK_START?V.onSeekStartWhenPausedOrBufferingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==c.SEEKING_BEFORE_PLAYBACK?t==u.END||t==u.AD_SKIP?B.onEndOrAdSkip(n,r):t==u.PAUSE?B.onPause(n,r):t==u.PLAY?B.onPlay(n,r):t==u.BUFFER&&V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==c.SEEKING_DURING_PLAYBACK?t==u.END||t==u.AD_SKIP?F.onEndOrAdSkip(n,r):t==u.PLAY?F.onPlay(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PAUSE&&V.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):o==c.SEEKING_DURING_BUFFERING?t==u.PAUSE?U.onPause(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PLAY?V.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.END||t==u.AD_SKIP?V.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):o==c.PAUSED_DURING_BUFFERING?t==u.END||t==u.AD_SKIP?D.onEndOrAdSkip(n,r):t==u.BUFFER_STOP?D.onBufferStop(n,r):t==u.SEEK_START?D.onSeekStart(n,r):t==u.PAUSE?D.onPause(n,r):t==u.PLAY&&D.onPlay(n,r):o==c.SEEKING_DURING_PAUSE&&(t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PLAY?V.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.PAUSE?V.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):t==u.END||t==u.AD_SKIP?V.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r)),e(t)&&i.getPlaylist().setFirstEventSent(!0)}function r(e,n){for(var r,i=re.encodeURIComponent||escape,a=[],o=d.LABELS_ORDER,s=e.split("?"),u=s[0],c=s[1],l=c.split("&"),f=0,p=l.length;p>f;f++){var h=l[f].split("="),m=unescape(h[0]),y=unescape(h[1]);m&&(n[m]=y)}for(var v={},b=0,g=o.length;g>b;b++){var _=o[b];if(n.hasOwnProperty(_)){var w=n[_];void 0!==w&&null!=w&&(v[_]=!0,a.push(i(_)+"="+i(n[_])))}}for(var k in n)if(n.hasOwnProperty(k)){if(v[k])continue;var E=n[k];void 0!==E&&null!=E&&a.push(i(k)+"="+i(n[k]))}r=u+"?"+a.join("&"),r=r+(r.indexOf("&c8=")<0?"&c8="+i(ie.title):"")+(r.indexOf("&c7=")<0?"&c7="+i(ie.URL):"")+(r.indexOf("&c9=")<0?"&c9="+i(ie.referrer):"");var S=t.browserAcceptsLargeURLs()?d.URL_LENGTH_LIMIT:d.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>S&&r.indexOf("&")>0){var P=r.substr(0,S-8).lastIndexOf("&");r=(r.substring(0,P)+"&ns_cut="+i(r.substring(P+1))).substr(0,S)}return r}var i,a,f,j,I,N,M,L,q,D,B,U,F,V,H,z,W,G,K,Y,Q,$,X,J,Z=this,ee={},te=d.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ne=d.THROTTLING_DELAY;t.extend(Z,{createLabels:function(e,n,r){var a={};if("undefined"!=typeof document){var o=document;a.c7=o.URL,a.c8=o.title,a.c9=o.referrer}return null!=n&&t.extend(a,n),a.ns_ts=null!=a.ns_ts?a.ns_ts:String(+new Date),a.ns_st_ev=null!=a.ns_st_ev?a.ns_st_ev:u.toString(e),a.ns_st_mp=null!=a.ns_st_mp?a.ns_st_mp:d.DEFAULT_PLAYERNAME,a.ns_st_mv=null!=a.ns_st_mv?a.ns_st_mv:d.STREAMSENSE_VERSION,a.ns_st_ub=null!=a.ns_st_ub?a.ns_st_ub:"0",a.ns_st_br=null!=a.ns_st_br?a.ns_st_br:"0",a.ns_st_pn=null!=a.ns_st_pn?a.ns_st_pn:"1",a.ns_st_tp=null!=a.ns_st_tp?a.ns_st_tp:"1",a.ns_st_it=null!=a.ns_st_it?a.ns_st_it:l.toString(l.SINGLE_CLIP),a.ns_st_sv=null!=a.ns_st_sv?a.ns_st_sv:d.STREAMSENSE_VERSION,a.ns_st_smv=null!=a.ns_st_smv?a.ns_st_smv:d.MODEL_VERSION,a.ns_type=null!=a.ns_type?a.ns_type:"hidden",a.ns_st_ec=null!=a.ns_st_ec?a.ns_st_ec:String(i.getEventManager().getEventCounter()),a.ns_st_po=null!=a.ns_st_po?a.ns_st_po:String(i.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(r)),a.ns_st_ki=null!=a.ns_st_ki?a.ns_st_ki:String(i.getKeepAlive().getInterval()),i.getPlaylist().createLabels(a),i.getPlaylist().getClip().createLabels(a),t.extend(a,Z.getLabels()),t.extend(a,n),{eventType:e,eventLabels:a}},newEvent:function(e,t,r,a){Z.stopDelayedTransitionTimer();var o=i.getStateMachine().getCurrentState(),s=i.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!Z.isThrottlingEnabled()||o!=c.PLAYING&&o!=c.PAUSED||s!=c.PLAYING&&s!=c.PAUSED||a){r.ns_st_po||(i.getStateMachine().getCurrentState()==c.PLAYING&&e==u.BUFFER||i.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&e==u.BUFFER_STOP?r.ns_st_po=String(i.getPlaylist().getClip().getPlaybackTimeOffset()+(t-i.getPlaylist().getClip().getPlaybackTimestamp())):r.ns_st_po=String(i.getPlaylist().getClip().getExpectedPlaybackPosition(t))),n(e,t,r);var l=0;isNaN(i.getStateMachine().getLastStateChangeTimestamp())||(l=t-i.getStateMachine().getLastStateChangeTimestamp()),i.getStateMachine().newEvent(e,t);for(var d=0,f=$.length;f>d;d++)$[d](o,s,r,l)}else Q=i.getPlatformAPI().setTimeout(function(e,n,r){return function(){Z.newEvent(e,t,r,!0)}}(e,0,r),ne)},newPseudoEvent:function(e,t,n){if(e!=u.LOAD&&e!=u.START||i.getStateMachine().getCurrentState()==c.IDLE){e!=u.ERROR||n.ns_st_er||(n.ns_st_er=s.UNKNOWN_VALUE),i.getStateMachine().getCurrentState()!=c.IDLE&&i.getStateMachine().getCurrentState()!=c.PLAYBACK_NOT_STARTED&&i.getStateMachine().getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&(i.getPlaylist().getClip().addElapsedTime(t),i.getPlaylist().getClip().setElapsedTimestamp(t));var r,a,o,l=!0,d=!1;switch(e){case u.BIT_RATE:r="ns_st_br",a="ns_st_pbr",d=!0;break;case u.PLAYBACK_RATE:r="ns_st_rt",a="ns_st_prt",d=!0;break;case u.VOLUME:r="ns_st_vo",a="ns_st_pvo",d=!0;break;case u.WINDOW_STATE:r="ns_st_ws",a="ns_st_pws",d=!0;break;case u.AUDIO:r="ns_st_at",a="ns_st_pat",d=!1;break;case u.VIDEO:r="ns_st_vt",a="ns_st_pvt",d=!1;break;case u.SUBS:r="ns_st_tt",a="ns_st_ptt",d=!1;break;case u.CDN:r="ns_st_cdn",a="ns_st_pcdn",d=!1;break;default:l=!1}if(l&&n.hasOwnProperty(r)&&(d?(Z.getLabels().hasOwnProperty(r)&&(o=Z.getLabels()[r],n[a]=o),Z.setLabel(r,n[r])):(i.getPlaylist().getClip().getLabels().hasOwnProperty(r)&&(o=i.getPlaylist().getClip().getLabels()[r],n[a]=o),i.getPlaylist().getClip().setLabel(r,n[r]))),!l||i.getStateMachine().getCurrentState()==c.PLAYING||i.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK){n.ns_st_po||(n.ns_st_po=String(i.getPlaylist().getClip().getExpectedPlaybackPosition(t))),i.getStateMachine().getCurrentState()!=c.PLAYING&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK||(i.getPlaylist().addPlaybackTime(t),i.getPlaylist().setPlaybackTimestamp(t),i.getPlaylist().getClip().addPlaybackTime(t),i.getPlaylist().getClip().setPlaybackTimestamp(t),i.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),i.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po))),i.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PAUSE&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_SEEKING||(i.getPlaylist().addBufferingTime(t),i.getPlaylist().setBufferingTimestamp(t),i.getPlaylist().getClip().addBufferingTime(t),i.getPlaylist().getClip().setBufferingTimestamp(t));var f=Z.createLabels(e,n,t);i.getEventManager().newEvent(f)}}},getState:function(){return i.getStateMachine().getCurrentState()},addListener:function(e){$.push(e)},removeListener:function(e){$.splice(t.indexOf(e,$),1)},getLabel:function(e){return X[e]},getLabels:function(){return X},setLabel:function(e,t){null==t?delete X[e]:X[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&Z.setLabel(t,e[t])},getPlatformAPI:function(){return i.getAppCore()?i.getAppCore().getPlatformAPI():o},getExports:function(){return ee},isProperlyInitialized:function(){var e=i.getAppCore().getAppContext(),t=i.getAppCore().getSalt(),n=i.getAppCore().getPixelURL();return e&&n&&t},setImplementationType:function(e){i.getStateMachine().getCurrentState()!=c.IDLE||e!=l.SINGLE_CLIP&&e!=l.SEGMENTED&&e!=l.REDUCED||i.getPlaylist().setLabel("ns_st_it",l.toString(e))},setThrottlingDelay:function(e){ne=e},getThrottlingDelay:function(){return ne},isThrottlingEnabled:function(){return Y},setThrottlingEnabled:function(e){Y=e},isLoadingTimeSent:function(){return H},setLoadingTimeSent:function(e){H=e},getLoadTimeOffset:function(){return z},setLoadTimeOffset:function(e){z=e},getInitTimestamp:function(){return W},setPauseOnBufferingInterval:function(e){te=e},getPauseOnBufferingInterval:function(){return te},isPauseOnBufferingEnabled:function(){return G},setPauseOnBufferingEnabled:function(e){G=e},startPausedOnBufferingTimer:function(e,n){Z.stopPausedOnBufferingTimer(),K=Z.getPlatformAPI().setTimeout(function(){var r={},i=t.fixEventTime(r),a=parseInt(n.ns_st_po);r.ns_st_po=String(a+i-e),Z.newEvent(u.PAUSE_ON_BUFFERING,i,r)},te)},stopPausedOnBufferingTimer:function(){null!=K&&(Z.getPlatformAPI().clearTimeout(K),K=null)},stopDelayedTransitionTimer:function(){Q&&(Z.getPlatformAPI().clearTimeout(Q),Q=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var r=e.substring(n+1).split("&"),i=0,a=r.length;a>i;i++){var o=r[i],s=o.split("=");2==s.length?Z.setLabel(s[0],t(s[1])):1==s.length&&Z.setLabel(d.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return J=e},getPixelURL:function(){return J||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?J=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?J=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return i},resetPlaylist:function(e){var t=i.getPlaylist();i.setPlaylist(new p),p.resetPlaylist(t,i.getPlaylist(),e)},resetHeartbeat:function(){i.getHeartbeat().pause(),i.setHeartbeat(new m(i))},resetKeepAlive:function(){i.getKeepAlive().pause(),i.setKeepAlive(new y(i))}});var re,ie;t.isBrowser()?(re=window,ie=document):(re={},ie={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(this,{prepareUrl:r}),function(){i=new A(Z),t.getNamespace().comScore?(ee=t.getNamespace().comScore.exports,i.setAppCore(ee.c())):i.setAppCore(null),i.setKeepAlive(new y(i)),i.setHeartbeat(new m(i)),i.setEventManager(new h(i)),i.setStateMachine(new v),i.setPlaylist(new p),X={},a=new E(i),f=new S(i),j=new T(i),I=new O(i),N=new g(i),M=new w(i),L=new k(i),q=new _(i),D=new P(i),B=new C(i),U=new x(i),F=new R(i),V=new b(i),H=!1,z=0,W=+new Date,G=!0,Y=!1,$=[]}()}}(),A=function(){return function(e){var n,r,i,a,o,s,u=this;t.extend(u,{getAppCore:function(){return n},getSSECore:function(){return e},getEventManager:function(){return r},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return o},getPlaylist:function(){return s},setAppCore:function(e){n=e},setKeepAlive:function(e){o=e},setHeartbeat:function(e){a=e},setEventManager:function(e){r=e},setStateMachine:function(e){i=e},setPlaylist:function(e){s=e}})}}(),I=function(){return function(e,n){function r(e,t){s.notify(u.CUSTOM,e,t)}function i(){a&&o.getSseSM().getStateMachine().getCurrentState()!=c.IDLE&&s.end()}var a,o,s=this,l=d.STANDARD_METADATA_LABELS;t.extend(this,{isProperlyInitialized:function(){return o.isProperlyInitialized()},reset:function(e){var t=o;t.getSseSM().getKeepAlive().pause(),t.getSseSM().getHeartbeat().pause(),o=new j,p.resetPlaylist(t.getSseSM().getPlaylist(),o.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){o.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return o.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){o.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return o.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){o.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,t){s.notify(u.PLAY,e,t)},pause:function(e,t){s.notify(u.PAUSE,e,t)},end:function(e,t){s.notify(u.END,e,t)},bufferStart:function(e,t){s.notify(u.BUFFER,e,t)},bufferStop:function(e,t){s.notify(u.BUFFER_STOP,e,t)},load:function(e,t){s.notify(u.LOAD,e,t)},start:function(e,t){s.notify(u.START,e,t)},seekStart:function(e,t){s.notify(u.SEEK_START,e,t)},skipAd:function(e,t){s.notify(u.AD_SKIP,e,t)},callToAction:function(e,t){s.notify(u.CTA,e,t)},error:function(e,t){s.notify(u.ERROR,e,t)},transferPlayback:function(e,t){s.notify(u.TRANSFER,e,t)},drmFail:function(e,t){s.notify(u.DRM_FAILED,e,t)},drmApprove:function(e,t){s.notify(u.DRM_APPROVED,e,t)},drmDeny:function(e,t){s.notify(u.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_br=String(e),s.notify(u.BIT_RATE,r,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_rt=String(e),s.notify(u.PLAYBACK_RATE,r,t)}},changeVolume:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vo=String(e),s.notify(u.VOLUME,r,t)}},changeWindowState:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_ws=String(e),s.notify(u.WINDOW_STATE,r,t)}},changeAudio:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_at=String(e),s.notify(u.AUDIO,r,t)}},changeVideo:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vt=String(e),s.notify(u.VIDEO,r,t)}},changeSubtitle:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_tt=String(e),s.notify(u.SUBS,r,t)}},changeCDN:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_cdn=String(e),s.notify(u.CDN,r,t)}},notify:function(e){var n,r;if(n="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},r="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,u.toString(e)){n=t.jsonObjectToStringDictionary(n);var i=t.fixEventTime(n);n.ns_st_po||isNaN(r)||(n.ns_st_po=t.getInteger(r,0).toString()),n.ns_st_po&&o.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)),e==u.PLAY||e==u.PAUSE||e==u.BUFFER||e==u.END||e==u.SEEK_START||e==u.AD_SKIP||e==u.BUFFER_STOP?o.newEvent(e,i,n):o.newPseudoEvent(e,i,n)}},getLabels:function(){return o.getLabels()},getState:function(){return o.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){o.setLabels(e)},getLabel:function(e){return o.getLabel(e)},setLabel:function(e,t){o.setLabel(e,t)},getLoadTimeOffset:function(){return o.getLoadTimeOffset()},setLoadTimeOffset:function(e){o.setLoadTimeOffset(e)},setPixelURL:function(e){return o.setPixelURL(e)},getPixelURL:function(){return o.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){o.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return o.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){o.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return o.isThrottlingEnabled()},setThrottlingEnabled:function(e){o.setThrottlingEnabled(e)},setThrottlingDelay:function(e){o.setThrottlingDelay(e)},getThrottlingDelay:function(){return o.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){o.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return o.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,r){if(void 0===r&&(r=!0),e=t.jsonObjectToStringDictionary(e),r&&o.getSseSM().getStateMachine().getCurrentState()!==c.IDLE&&s.end(),o.getSseSM().getStateMachine().getCurrentState()==c.IDLE){var i="",a=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var u=0;u<l.length;u++)e[l[u]]&&(i+=l[u]+":"+e[l[u]]+";");var d=o.getSseSM().getPlaylist(),f=d.getClip();f.isClipStarted()?(d.hashExists(f.getHash())||(d.storeHash(f.getHash()),d.storeClipNumber(f.getHash(),f.getClipNumber())),d.storeClipPlaybackCounters(),a=d.hashExists(i)?d.getClipNumber(i):t.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):d.getMaxClipNumber()+1):a=d.hashExists(i)?d.getClipNumber(i):f.getClipNumber(),d.resetClip(),f=d.getClip(),f.setHash(i),f.setClipNumber(a),f.setLabels(e);var p=d.getStoredClipRegisters(i);return p&&(f.setClipStarted(!0),f.setSegmentPlaybackCounter(p.segmentPlaybackCounter),f.setClipLoadCounter(p.clipLoadCounter),f.setAssetPlaybackCounter(p.assetPlaybackCounter),f.setLowestPartNumberPlayed(p.lowestPartNumberPlayed),f.setSeeking(p.seeking),f.setSeekingTimeBeforeEnd(p.seekingTimeBeforeEnd),f.setSeekStartPosition(p.seekingStartPosition),f.setClipPlaybackIntervals(p.clipPlaybackIntervals),f.setUniquePlaybackInterval(p.uniquePlaybackInterval),f.setLongestPlaybackInterval(p.longestPlaybackInterval),f.setVideoTrack(p.videoTrack),f.setAudioTrack(p.audioTrack),f.setSubtitleTrack(p.subtitleTrack),f.setCDN(p.cdn),f.setPreviousUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousEventIndependentUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousLongestPlaybackInterval(p.longestPlaybackInterval)),f.incrementClipLoadCounter(),f.isClipStarted()&&n&&(d.incrementPlayCounter(),d.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,n){return void 0===n&&(n=!0),e=t.jsonObjectToStringDictionary(e),n&&o.getSseSM().getStateMachine().getCurrentState()!==c.IDLE&&s.end(),o.getSseSM().getStateMachine().getCurrentState()==c.IDLE&&(o.getSseSM().getPlaylist().isPlaylistStarted()&&o.resetPlaylist(),o.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return d.STREAMSENSE_VERSION},addListener:function(e){o.addListener(e)},removeListener:function(e){o.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),o.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return o.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(o.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(o.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){a=e},isExitEndEventEnabled:function(){return a},getPlatformAPI:function(){return o.getPlatformAPI()}}),t.extend(this,{customNotify:r,viewNotify:function(e,t){(e=e||s.getPixelURL())&&viewNotify(e,t)}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",i),window.addEventListener("unload",i)):window.attachEvent&&(window.attachEvent("onbeforeunload",i),window.attachEvent("onunload",i))),function(){o=new j,a=!0,e&&s.setLabels(e),n&&s.setPixelURL(n)}()}}();return function(n){function r(e,t){return E[P]||a(e,t)}function i(){P=-1;for(var t=0;S>=t;t++)if(E.hasOwnProperty(String(t))){P=t;break}return e.StreamSense.activeIndex=P,P}function a(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),E[++S]=new e.StreamSense(n,t),i(),E[S]}function o(){var t=!1,n=P;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var r in E)if(E.hasOwnProperty(r)&&E[r]===arguments[0]){n=r;break}return E.hasOwnProperty(String(n))&&(t=E[n],delete E[n],t.reset(),i()),t}function s(e){return e=e||{},r().setPlaylist(e),r().getPlaylist()}function u(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=String(t)),r().setClip(e,n),r().getClip()}function c(e,t,n){return void 0!==e&&(n=n||null,t=t||{},r().notify(e,t,n))}function l(e){void 0!==e&&r().setLabels(e)}function d(){return r().getLabels()}function f(e){void 0!==e&&r().getPlaylist().setLabels(e)}function p(){return r().getPlaylist().getLabels()}function h(e){void 0!==e&&r().getClip().setLabels(e)}function m(){return r().getClip().getLabels()}function y(e){return r().reset(e||{})}function v(e){return r().getPlaylist().reset(e||{})}function b(e){return r().getClip().reset(e||{})}function g(e){return e=e||{},r().viewNotify(null,e)}function _(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=String(t)),r().customNotify(e,t)}function w(){return r().exportState()}function k(e){r().importState(e)}var E={},S=-1,P=-1;t.extend(n,{activeIndex:P,newInstance:a,new:a,destroyInstance:o,destroy:o,newPlaylist:s,newClip:u,notify:c,setLabels:l,getLabels:d,setPlaylistLabels:f,getPlaylistLabels:p,setClipLabels:h,getClipLabels:m,resetInstance:y,resetPlaylist:v,resetClip:b,viewEvent:g,customEvent:_,exportState:w,importState:k})}(I),I.PlayerEvents=u,I.InternalStates=c,I.ImplementationType=l,I}(),e.StreamingTag=e.StreamingTag||function(){var n=e.StreamSense,r=(e.StreamSense.PlayerEvents,e.StreamSense.InternalStates||null),i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType;return function(){var e={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},o={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function o(e){t.exists(e)||(e={});for(var n in b)b.hasOwnProperty(n)&&!t.exists(e[b[n]])&&("ns_st_ci"==b[n]?e.ns_st_ci="0":e[b[n]]="*null");return e}function s(e){for(var t in b)if(b.hasOwnProperty(t)&&!u(b[t],p,e))return!1;return!0}function u(e,n,r){if(t.exists(e)&&t.exists(n)&&t.exists(r)){var i=n[e],a=r[e];return t.exists(i)&&t.exists(a)&&i===a}return!1}function c(e){f++;var n={ns_st_cn:String(f),ns_st_pn:"1",ns_st_tp:"0"};t.extend(n,e),m.setClip(n),p=e,m.play()}function l(e){f++,e=o(e);var n={ns_st_cn:String(f),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};t.extend(n,e),m.setClip(n),m.play(),h=!1}function d(e,t){e=o(e),g==v.None&&(g=t),h&&g==t&&s(e)?(m.getClip().setLabels(e),m.getState()!=r.PLAYING&&m.play()):c(e),h=!0,g=t}var f=0,p=null,h=!1,m=null,y=!1,v={None:0,AudioContent:1,VideoContent:2},b=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],g=v.None;t.extend(this,{playAdvertisement:function(){if(m){y&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");l({ns_st_ct:"va"})}},playVideoAdvertisement:function(e,n){if(m){var r={ns_st_ct:"va"};n?r.ns_st_ct="va"+n:y&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(r,e),l(r)}},playAudioAdvertisement:function(e,n){if(m){var r={ns_st_ct:"aa"};n?r.ns_st_ct="aa"+n:y&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(r,e),l(r)}},playContentPart:function(e){if(m){y&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&t.extend(n,e),d(n,v.VideoContent)}},playVideoContentPart:function(e,n){if(m){var r={ns_st_ct:"vc"};n?r.ns_st_ct="vc"+n:y&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&t.extend(r,e),d(r,v.VideoContent)}},playAudioContentPart:function(e,n){if(m){var r={ns_st_ct:"ac"};n?r.ns_st_ct="ac"+n:y&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&t.extend(r,e),d(r,v.AudioContent)}},stop:function(){m&&m.pause()}}),function(){if(a)if(t.getNamespace().comScore)m=new n,m.setImplementationType(i.REDUCED);else if(t.exists(e))if(y=t.isTrue(e.debug),t.exists(e.customerC2)&&e.customerC2.length>0){var r=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");m=new n,m.setPixelURL(r+".scorecardresearch.com/p?c1=2"),m.setLabel("c2",e.customerC2),m.setImplementationType(i.REDUCED)}else y&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}()};return s.ContentType=e,s.AdType=o,s}()}(),e})},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){a(this,e),this.interval=n,this.callback=t,this.windowObj=r,this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}return s(e,[{key:"start",value:function(){var e=this;0===this.timerId&&(this.lastStartTimestamp=Date.now(),this.timerId=this.windowObj.setTimeout(function(){return e.timeoutCallback()},this.intervalRemaining))}},{key:"pause",value:function(){if(0!==this.timerId){this.windowObj.clearTimeout(this.timerId);var e=Date.now();this.intervalRemaining=this.intervalRemaining-(e-this.lastStartTimestamp),this.timerId=0}}},{key:"timeoutCallback",value:function(){this.callback()}},{key:"destroy",value:function(){this.windowObj.clearTimeout(this.timerId)}}]),e}(),c=function(e){function t(e,n,i){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return i(t,e),s(t,[{key:"timeoutCallback",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"timeoutCallback",this).call(this),this.restartTimer()}},{key:"_reset",value:function(){this.windowObj.clearTimeout(this.timerId),this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}},{key:"restartTimer",value:function(){this._reset(),this.start()}}]),t}(u)},function(e,t,n){function r(e,t,n){function r(t){var n=b,r=g;return b=g=void 0,S=t,w=e.apply(r,n)}function l(e){return S=e,k=setTimeout(p,t),P?r(e):w}function d(e){var n=e-E,r=e-S,i=t-n;return T?c(i,_-r):i}function f(e){var n=e-E,r=e-S;return void 0===E||n>=t||n<0||T&&r>=_}function p(){var e=a();if(f(e))return h(e);k=setTimeout(p,d(e))}function h(e){return k=void 0,O&&b?r(e):(b=g=void 0,w)}function m(){void 0!==k&&clearTimeout(k),S=0,b=E=g=k=void 0}function y(){return void 0===k?w:h(a())}function v(){var e=a(),n=f(e);if(b=arguments,g=this,E=e,n){if(void 0===k)return l(E);if(T)return k=setTimeout(p,t),r(E)}return void 0===k&&(k=setTimeout(p,t)),w}var b,g,_,w,k,E,S=0,P=!1,T=!1,O=!0;if("function"!=typeof e)throw new TypeError(s);return t=o(t)||0,i(n)&&(P=!!n.leading,T="maxWait"in n,_=T?u(o(n.maxWait)||0,t):_,O="trailing"in n?!!n.trailing:O),v.cancel=m,v.flush=y,v}var i=n(29),a=n(515),o=n(124),s="Expected a function",u=Math.max,c=Math.min;e.exports=r},function(e,t,n){"use strict";function r(e){return new Promise(function(t){return setTimeout(t,e)})}t.a=r},function(e,t,n){"use strict";function r(){return l.a.getFlashPlayerVersion()}function i(e){return l.a.hasFlashPlayerVersion(e)}function a(){return i("1")}function o(){var e="application/x-shockwave-flash",t=navigator.mimeTypes;if(t&&t[e]&&t[e].enabledPlugin){return t[e].enabledPlugin.filename.match(/pepflashplayer|Pepper/gi)?"ppapi":"npapi"}return a()?"unknown":""}function s(e,t,n,r,i,a,o,s,u,c){return l.a.embedSWF(e,t,n,r,i,a,o,s,u,c)}function u(e){return l.a.removeSWF(e)}t.c=r,t.d=i,t.b=o,t.a=s,t.e=u;var c=n(516),l=n.n(c)},function(e,t,n){var r=n(518),i=r("round");e.exports=i},function(e,t,n){function r(e,t,n,I,N,M){var L,q=t&P,D=t&T,B=t&O;if(n&&(L=N?n(e,I,N,M):n(e)),void 0!==L)return L;if(!k(e))return e;var U=g(e);if(U){if(L=y(e),!q)return l(e,L)}else{var F=m(e),V=F==x||F==R;if(_(e))return c(e,q);if(F==j||F==C||V&&!N){if(L=D||V?{}:b(e),!q)return D?f(e,u(L,e)):d(e,s(L,e))}else{if(!A[F])return N?e:{};L=v(e,F,q)}}M||(M=new i);var H=M.get(e);if(H)return H;if(M.set(e,L),E(e))return e.forEach(function(i){L.add(r(i,t,n,i,e,M))}),L;if(w(e))return e.forEach(function(i,a){L.set(a,r(i,t,n,a,e,M))}),L;var z=B?D?h:p:D?keysIn:S,W=U?void 0:z(e);return a(W||e,function(i,a){W&&(a=i,i=e[a]),o(L,a,r(i,t,n,a,e,M))}),L}var i=n(139),a=n(298),o=n(128),s=n(522),u=n(523),c=n(256),l=n(142),d=n(524),f=n(525),p=n(246),h=n(300),m=n(106),y=n(526),v=n(527),b=n(258),g=n(24),_=n(103),w=n(531),k=n(29),E=n(533),S=n(53),P=1,T=2,O=4,C="[object Arguments]",x="[object Function]",R="[object GeneratorFunction]",j="[object Object]",A={};A[C]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[j]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[x]=A["[object WeakMap]"]=!1,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){var r=n(138),i=n(182),a=n(177),o=n(248),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=u},function(e,t,n){function r(e){return i(e,o,a)}var i=n(247),a=n(299),o=n(71);e.exports=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1],n=s()(t,"captions.data.text.length",0);switch(t.type){case c.d:return a()({},e,{showCCModal:t.showCCModal});case c.a:case c.c:case c.e:return a()({},e,t.captions);case c.b:return a()({},e,{data:t.captions.data,available:e.available||n>0});case l.a:return a()({},e,{available:d.available,data:d.data});case c.f:return a()({},e,{style:t.style});default:return e}}n.d(t,"a",function(){return d}),t.b=r;var i=n(32),a=n.n(i),o=n(33),s=n.n(o),u=n(100),c=n(34),l=n(19),d={enabled:!1,available:!1,preset:"white-on-black",data:null,style:u.l["white-on-black"],showCCModal:!1}},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(130);e.exports=r},function(e,t,n){e.exports=n(538)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=E.filter(function(e){return k[e].canPlay()}),n=o(e);return b()(t,n)}function o(e){return _()(y.c,e)?S:e===y.f?P:e===y.h?T:O}var s=n(116),u=n(80),c=n(154),l=n(305),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=Object.freeze({autoplay:!0}),p=Object.freeze({mp4:"video/mp4"}),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments[1];r(this,e),this._store=n,this._options=t,this._src="",this._initVideoTag()}return d(e,[{key:"getBackend",value:function(){return"video tag backend"}},{key:"_initVideoTag",value:function(){this._video=document.createElement("video"),this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=p.mp4}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._src=""}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._src=e,this._video.src=e,this.load()}},{key:"load",value:function(){""!==this._src&&this._video.load()}},{key:"play",value:function(){this._video.play()}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video.currentTime}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this._options.autoplay}},{key:"setAutoplay",value:function(e){this._options.autoplay=e}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(){}},{key:"getQualities",value:function(){return[]}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"setClip",value:function(){}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}},{key:"getNetworkProfile",value:function(){}},{key:"setLiveLowLatencyEnabled",value:function(){}},{key:"getBandwidthEstimate",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}(),m=n(153),y=n(5),v=n(539),b=n.n(v),g=n(7),_=n.n(g);n.d(t,"a",function(){return k}),t.b=a;var w,k=Object.freeze((w={},i(w,s.a,s.b),i(w,c.a,c.b),i(w,u.a,u.b),i(w,l.a,l.b),i(w,m.a,m.b),i(w,"video tag backend",h),w)),E=Object.freeze([u.a,c.a,s.a,l.a,"video tag backend"]),S=Object.freeze([l.a]),P=Object.freeze([c.a,u.a]),T=Object.freeze(["video tag backend"]),O=Object.freeze([c.a,s.a,u.a])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var i=n(5),a=n(27),o=n(161),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="clip backend",c=Object.freeze({autoplay:!0}),l=Object.freeze({mp4:"video/mp4"}),d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,i=arguments[1];r(this,e),this._store=i,this._options=n,this._srcHasBeenSet=null,this._srcReady=new Promise(function(e){t._srcHasBeenSet=e}),this._initVideoTag()}return s(e,[{key:"getBackend",value:function(){return u}},{key:"_initVideoTag",value:function(){var e=this;this._video=document.createElement("video"),this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=l.mp4,this._options.playsinline&&(this._video.setAttribute("webkit-playsinline",""),this._video.setAttribute("playsinline","")),this._video.addEventListener(a.c,function(){e._store.dispatch(Object(o.f)())})}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._events=null,this._src="",this._srcHasBeenSet=null,this._srcReady=null}},{key:"setAutoplay",value:function(e){this._video.autoplay=e}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._video.src=e,this.load(),null!==this._srcHasBeenSet&&this._srcHasBeenSet()}},{key:"load",value:function(){this._video.load(),this.getAutoplay()&&this.play()}},{key:"play",value:function(){var e=this;return this._srcReady.then(function(){return new Promise(function(t){if(e._video.readyState>=3)t(e._video.play());else{var n=function n(){e._video&&e._video.removeEventListener&&e._video.removeEventListener(a.c,n),t(e._video.play())};e._video.addEventListener(a.c,n)}})}).catch(function(t){"NotAllowedError"===t.name&&(e._video.dispatchEvent(new CustomEvent(a.m)),e._video.dispatchEvent(new CustomEvent(a.k)))})}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video?this._video.currentTime:0}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this._video.autoplay}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"setClip",value:function(e){var t=e.quality;this.setQuality(t)}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(e){var t=this._store.getState(),n=t.quality,r=n.available.find(function(t){return t.group===e});if(r)return void this.setSrc(r.source);var a=parseInt(e,10),o=n.available.reverse().find(function(e){return parseInt(e.group,10)>a});if(o)return void this.setSrc(o.source);var s=document.body.clientWidth>500&&this._options.player!==i.k,u=s?n.available.length-1:0,c=n.available[u];c&&this.setSrc(c.source),console.warn("Invalid quality '"+e+"'. Available qualities: "+n.available.map(function(e){return e.group}).join(", "))}},{key:"getQualities",value:function(){return this._store.getState().quality.available}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"getNetworkProfile",value:function(){return[]}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}},{key:"setLiveLowLatencyEnabled",value:function(){}},{key:"getBandwidthEstimate",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),i=n(286),a=n(99),o=n(285),s=[r.a,i.a,a.a,o.a]},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){"use strict";function r(e){return{type:i,issueType:e}}n.d(t,"a",function(){return i}),t.b=r;var i="ACTION_SUBMIT_AD_ISSUE_REPORT"},function(e,t,n){"use strict";function r(e){for(var t=!1,n=0;n<e.children.length;++n){e.children.item(n).className===o&&(t=!0)}return t}function i(e){var t=window.getComputedStyle(e).transform;if(!t||"none"===t)return{left:0,top:0};var n=t.split("(")[1].split(")")[0].split(",");return{left:parseInt(n[4],10),top:parseInt(n[5],10)}}function a(e){for(var t=e,n=0,a=0;!r(t)&&t.offsetParent;){var o=i(t);n+=t.offsetLeft+o.left,a+=t.offsetTop+o.top,t=t.offsetParent}return{left:n,top:a}}t.a=a;var o="player-ui"},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(2),u=n.n(s),c=n(14),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d={muted:o.a.bool.isRequired,fill:o.a.string,viewBox:o.a.string},f=function(e){var t=u()({"player-icon-volumemute":e.muted,"player-icon-volumefull":!e.muted});return e.muted?i.a.createElement(c.a,l({viewBox:"0 0 30 30",className:t},e),i.a.createElement("path",{d:"M16 22a1.002 1.002 0 0 1-1.641.768L8.638 19H7a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h1.638l5.721-3.768A1.002 1.002 0 0 1 16 8v14zm6.414-7l1.293 1.293a1 1 0 0 1-1.414 1.414L21 16.414l-1.293 1.293a.997.997 0 0 1-1.414 0 .999.999 0 0 1 0-1.414L19.586 15l-1.293-1.293a1 1 0 0 1 1.414-1.414L21 13.586l1.293-1.293a1 1 0 0 1 1.414 1.414L22.414 15z",fill:e.fill})):i.a.createElement(c.a,l({viewBox:"0 0 30 30",className:t},e),i.a.createElement("path",{d:"M18 11.024v7.952c1.208-.913 2-2.348 2-3.976 0-1.628-.792-3.062-2-3.976zM18 7v2.04c2.363 1.06 4 3.325 4 5.96 0 2.634-1.637 4.9-4 5.96V23c3.49-1.17 6-4.309 6-8s-2.51-6.83-6-8zm-2 15a1.002 1.002 0 0 1-1.641.768L8.638 19H7a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h1.638l5.721-3.768A1.002 1.002 0 0 1 16 8v14z",fill:e.fill}))};f.propTypes=d},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var r=n(25),i=n(12),a=n(312),o=n(33),s=n.n(o),u=["moments","moments_with_images"],c=function(e){var t=e.getState().stream.videoId;if(t){var n="v"===t.charAt(0)?t.slice(1,t.length):t;return e.getState().experiments.get(r.q).then(function(t){if(u.includes(t))return Object(i.D)(n).then(function(t){try{l(t,e)}catch(e){}})})}},l=function(e,t){e&&e.video&&e.video.moments&&e.video.moments.edges&&t.dispatch(Object(a.b)(e.video.moments.edges))},d=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{children:s()(t,"moments.edges",[]).map(function(t){return e(t.node,!0)}),id:t.id,duration:t.durationMilliseconds/1e3,gameName:s()(t,"details.game.displayName"),label:t.description,momentType:t.type,offset:t.positionMilliseconds/1e3,parentMoment:n,subLabel:t.subDescription,thumbnailUrl:f(t),videoId:t.video.id}},f=function(e){var t=s()(e,"thumbnailURL"),n=s()(e,"details.game.boxArtURL");return t||(n||"https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg")}},function(e,t,n){"use strict";function r(e){return{type:i,videoMomentEdges:e}}n.d(t,"a",function(){return i}),t.b=r;var i="video moments fetched"},function(e,t,n){"use strict";function r(e){return{type:i,generator:e}}n.d(t,"a",function(){return i}),t.b=r;var i="clip generator loaded"},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(14),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c={fill:o.a.string,viewBox:o.a.string},l=function(e){return i.a.createElement(s.a,u({viewBox:"0 0 18 18"},e),i.a.createElement("path",{fill:e.fill,d:"M12.999 2H5.001a1 1 0 1 1 0-2h7.998a1 1 0 0 1 0 2M15 5H3a1 1 0 1 1 0-2h12a1 1 0 0 1 0 2m-3.332 7.521l-4.8 2.4A.599.599 0 0 1 6 14.384v-4.8a.596.596 0 0 1 .868-.535l4.8 2.4a.6.6 0 0 1 0 1.072M17 6.002H1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1"}))};l.propTypes=c},function(e,t,n){function r(e){return"number"==typeof e||a(e)&&i(e)==o}var i=n(56),a=n(46),o="[object Number]";e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.onClick,n=e.isTapToUnmute,i=e.className,a=e.t,s=f()(r({"player-overlay":!0,"pl-overlay--unmute":!0},i,!0)),u=n?"Tap to unmute":"Click to unmute";return o.a.createElement("div",{className:s,onClick:t,onKeyUp:t,role:"button",tabIndex:-1},o.a.createElement("div",{className:"pl-overlay__center-content"},o.a.createElement(p.a,{id:"icon_volumemute",className:"pl-overlay__icon--unmute",muted:!0}),o.a.createElement("p",{className:"pl-overlay__text--unmute"},a(u))))}n.d(t,"a",function(){return y});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(4),l=n(218),d=n(2),f=n.n(d),p=n(310),h={onClick:u.a.func.isRequired,className:u.a.string.isRequired,isTapToUnmute:u.a.bool.isRequired,t:u.a.func.isRequired};i.propTypes=h;var m=Object(c.c)()(i),y=Object(l.a)(m,{showDuration:350,hideDuration:350,showClass:"pl-overlay--transition-in",hideClass:"pl-overlay--transition-out"})},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(l(r.parts[a],t))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(l(r.parts[a],t));h[r.id]={id:r.id,refs:1,parts:o}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],c=a[3],l={css:s,media:u,sourceMap:c};r[o]?r[o].parts.push(l):n.push(r[o]={id:o,parts:[l]})}return n}function a(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=_[_.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=v(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),a(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var c=g++;n=b||(b=s(t)),r=d.bind(null,n,c,!1),i=d.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=p.bind(null,n,t),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function d(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){return document.querySelector(e)},v=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=y.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),b=null,g=0,_=[],w=n(568);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=h[s.id];u.refs--,a.push(u)}if(e){r(i(e,t),t)}for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var k=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){var t=e.t;return c.a.createElement("div",null,c.a.createElement("p",null,t(h)))}function i(e){var t=e.shouldShowOfflineOverlay,n=t?c.a.createElement(y,null):null;return c.a.createElement("div",{className:"pl-overlay pl-overlay--loading"},c.a.createElement("div",{className:"player-center-content"},c.a.createElement("div",{className:"pl-loading-spinner"}),n))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),c=n.n(u),l=n(1),d=n.n(l),f=n(3),p=n(4),h="You seem to be offline. Please wait while we try to reconnect.",m={t:d.a.func.isRequired};r.propTypes=m;var y=Object(p.c)()(r),v={shouldShowOfflineOverlay:d.a.bool},b={shouldShowOfflineOverlay:!1};i.propTypes=v,i.defaultProps=b;var g=n(13),_=n(5),w=n(64),k=n(15);n.d(t,"a",function(){return x});var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S={isCasting:d.a.bool.isRequired,isPaused:d.a.bool.isRequired,isLoading:d.a.bool.isRequired,isAdvertisementScreen:d.a.bool.isRequired,hasPlayed:d.a.bool.isRequired,playStream:d.a.func,windowObj:d.a.object.isRequired},P={playStream:function(){}},T=function(e){var t=e.chromecast,n=e.playback,r=e.screen,i=e.env,a=e.window;return{isCasting:t.castingState===w.b||t.castingState===w.c,isPaused:n.paused,isLoading:n.isLoading,hasPlayed:n.hasPlayed,isClipsEditingPlayer:i.playerType===_.j,isAdvertisementScreen:r[0]===g.c,windowObj:a}},O=function(e){return{playStream:function(){e(Object(k.t)())}}},C=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isUserOffline:!1,wasPausedOnOffline:!1,showLoadingIndicator:!1},e._onOfflineEvent=e._onOfflineEvent.bind(e),e._onOnlineEvent=e._onOnlineEvent.bind(e),e.showLoadingTimerId=null,e}return s(t,e),E(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("offline",this._onOfflineEvent),this.props.windowObj.addEventListener("online",this._onOnlineEvent),this._updateShowLoading(this.props)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("offline",this._onOfflineEvent),this.props.windowObj.removeEventListener("online",this._onOnlineEvent)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateShowLoading(e)}},{key:"_onOfflineEvent",value:function(){this.setState({isUserOffline:!0,wasPausedOnOffline:this.props.isPaused})}},{key:"_onOnlineEvent",value:function(){this.state.wasPausedOnOffline||this.props.playStream(),this.setState({isUserOffline:!1,wasPausedOnOffline:!1})}},{key:"_updateShowLoading",value:function(e){var t=this,n=e.windowObj,r=e.isLoading,i=e.isPaused,a=e.isCasting,o=e.isAdvertisementScreen,s=e.hasPlayed,u=e.isClipsEditingPlayer;r&&!i&&!a&&!o||u&&!s?this.showLoadingTimerId||(this.showLoadingTimerId=n.setTimeout(function(){t.showLoadingTimerId=null,t.setState({showLoadingIndicator:!0})},150)):(this.showLoadingTimerId&&(clearTimeout(this.showLoadingTimerId),this.showLoadingTimerId=null),this.state.showLoadingIndicator&&this.setState({showLoadingIndicator:!1}))}},{key:"render",value:function(){return this.state.showLoadingIndicator?c.a.createElement(i,{shouldShowOfflineOverlay:this.state.isUserOffline}):null}}]),t}(c.a.Component);C.propTypes=S,C.defaultProps=P;var x=Object(f.b)(T,O)(C)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=n(35),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p={children:c.a.node.isRequired,hideUI:c.a.func.isRequired,paused:c.a.bool.isRequired,root:c.a.object.isRequired,showUIWithAutoHide:c.a.func.isRequired},h=function(e){return{paused:e.playback.paused}},m=function(e){return{showUIWithAutoHide:function(){e(Object(d.t)())},hideUI:function(){e(Object(d.l)())}}},y=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showAndAutoHide=e._showAndAutoHide.bind(e),e.hide=e._hide.bind(e),e}return a(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.root.addEventListener("mouseenter",this.showAndAutoHide),this.props.root.addEventListener("mousemove",this.showAndAutoHide),this.props.root.addEventListener("mouseleave",this.hide)}},{key:"componentWillUnmount",value:function(){this.props.root.removeEventListener("mouseenter",this.showAndAutoHide),this.props.root.removeEventListener("mousemove",this.showAndAutoHide),this.props.root.removeEventListener("mouseleave",this.hide)}},{key:"render",value:function(){return s.a.createElement("div",{className:"player-root"},this.props.children)}},{key:"_showAndAutoHide",value:function(){this.props.paused||this.props.showUIWithAutoHide()}},{key:"_hide",value:function(){this.props.paused||this.props.hideUI()}}]),t}(s.a.Component);y.propTypes=p;var v=Object(l.b)(h,m)(y)},function(e,t,n){"use strict";function r(){this.initialDelay=Math.round(6e4*Math.random()),this._remainingDelay=this.initialDelay,this._timeout=null,this._timeoutStart=null,this.totalMinutes=0,this.clockDrift=0,this._events=new a.a}n.d(t,"a",function(){return o}),t.b=r;var i=n(50),a=n.n(i),o="minute";r.EVENT_INTERVAL=6e4,r.MAX_DRIFT=1e4,r.prototype.start=function(){null===this._timeout&&this._scheduleTick()},r.prototype.stop=function(){null!==this._timeout&&(clearTimeout(this._timeout),this._timeout=null,this._tick())},r.prototype.reset=function(){this.stop(),this._remainingDelay=r.EVENT_INTERVAL},r.prototype.on=function(e,t){this._events.on(e,t)},r.prototype.off=function(e,t){this._events.off(e,t)},r.prototype.destroy=function(){clearTimeout(this._timeout),this._events.removeAllListeners()},r.prototype._tick=function(){var e=(new Date).getTime(),t=e-this._timeoutStart;for(this._remainingDelay-=t,this.clockDrift=this._remainingDelay,this._remainingDelay<=-r.MAX_DRIFT&&(this._remainingDelay=0),this._remainingDelay>=r.EVENT_INTERVAL+r.MAX_DRIFT&&(this._remainingDelay=0);this._remainingDelay<=0;)this._remainingDelay+=r.EVENT_INTERVAL,this.totalMinutes+=1,setTimeout(this._events.emit.bind(this._events,o),0)},r.prototype._scheduleTick=function(){this._timeoutStart=(new Date).getTime();var e=this;this._timeout=setTimeout(function(){e._tick(),e._scheduleTick()},this._remainingDelay)},r.prototype.isCurrentlyTracking=function(){return Boolean(this._timeout)}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.split)return e;var n=e.split("?"),r=c(n,2),i=r[0],o=r[1];if(o){var u=Object(a.parse)(o);return i+"?"+Object(a.stringify)(s()({},u,t))}return i+"?"+Object(a.stringify)(t)}function i(e,t,n){return r(e,{tt_medium:t,tt_content:n})}t.c=r,t.b=i,n.d(t,"a",function(){return d});var a=n(39),o=(n.n(a),n(6)),s=n.n(o),u=n(11),c=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="https:"+u.A,d={default:{getGameLink:function(e){return l+"/directory/game/"+encodeURIComponent(e)},getClipsOnGamePageLink:function(e){return d.default.getGameLink(e)+"/clips"},getClipsOnChannelPageLink:function(e){return l+"/"+e+"/clips"},getVodLink:function(e,t){return l+"/videos/"+e+"?t="+t}},android:{getChannelLink:function(e,t){return"intent://stream/"+e+"#Intent;scheme=twitch;package=tv.twitch.android.app;S.browser_fallback_url="+t+";end"}}}},function(e,t,n){"use strict";function r(e){var t=e.onClick,n=e.collectionsSidebarOpen,r=n?null:a.a.createElement(u.a,{className:"player-button player-button-play js-control-play-button",onClick:t},a.a.createElement(c.a,{className:"player-icon-play",id:"icon_play"}));return a.a.createElement("div",{className:"player-overlay player-play-overlay js-paused-overlay"},r)}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(8),c=n(217),l={onClick:s.a.func.isRequired,collectionsSidebarOpen:s.a.bool},d={collectionsSidebarOpen:!1};r.propTypes=l,r.defaultProps=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function J(e){var t=e.collectionItems,n=e.showDivider,r=e.onMouseEnter,i=e.onMouseLeave,a=e.showSidebar,o=e.streamId,s=e.t,u=e.title,c=n?we.a.createElement("div",{className:"collection-divider"}):null,l=s("{{currentPosition}}/{{totalVideos}} video",{currentPosition:vi()(t,{itemId:o})+1,totalVideos:t.length,count:t.length});return we.a.createElement("div",{className:"collection-nav"},we.a.createElement("div",{className:"collection-collapsed__layout",onMouseEnter:r,onMouseLeave:i,onClick:a,onKeyUp:a,tabIndex:0,role:"button"},we.a.createElement("div",{className:wi},we.a.createElement(Me.a,{className:ki,onClick:a},we.a.createElement(bi.a,{id:"icon_open_collection"})),we.a.createElement("div",{className:Ei},we.a.createElement("div",{className:Si},u),we.a.createElement("span",{className:Pi}),we.a.createElement("span",{className:Ti},l)))),c)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ne(e){var t=e.blurAfterClick,n=e.channelName,r=e.isFollowing,i=e.onFollowChannel,a=e.onUnfollowChannel,o=e.hideChannelName,s=e.hideUnfollowText,u=e.t;if(e.isOwnChannel)return null;var c=Ce()("pl-button","pl-button--follow","pl-button--icon",s?"pl-button--icon-only":"","pl-button--status"),l=Ce()("pl-button","pl-button--follow","pl-button--icon"),d=s?null:we.a.createElement("span",{className:"pl-button__text"},u("Unfollow")),f=s?null:we.a.createElement("span",{className:"pl-button__text"},u("Following")),p=we.a.createElement(Me.a,{className:c,onClick:a,blurAfterClick:t||!1},we.a.createElement("span",{className:"pl-button__status pl-button__status--hover"},we.a.createElement("figure",{className:"pl-icon"},we.a.createElement(sa,{id:"icon_unheart",disabled:!0})),d),we.a.createElement("span",{className:"pl-button__status pl-button__status--primary"},we.a.createElement("figure",{className:"pl-icon"},we.a.createElement(sa,{id:"icon_heart",disabled:!1})),f)),h=o?u("Follow"):u("Follow {{channelName}} on Twitch",{channelName:n}),m=we.a.createElement(Me.a,{className:l,onClick:i,blurAfterClick:t||!1},we.a.createElement("figure",{className:"pl-icon"},we.a.createElement(sa,{id:"icon_heart",disabled:!1})),we.a.createElement("span",{className:"pl-button__text"},h));return r?p:m}function re(e){if(!e.isSubscribable||e.isOwnChannel)return null;var t=Ce()("pl-button","pl-button--follow","pl-button--icon","pl-button--success"),n=Ce()("pl-button","pl-button--follow","pl-button--icon"),r=e.t("Subscribe to {{channelName}}",{channelName:e.channelName});e.hideChannelName&&(r=e.t("Subscribe"));var i=we.a.createElement(Me.a,{className:n,onClick:e.onSubscribe},we.a.createElement("figure",{className:"pl-icon"},we.a.createElement(ma,{id:"icon_star",disabled:!1})),we.a.createElement("span",{className:"pl-button__text"},r)),a=we.a.createElement(Me.a,{className:n},we.a.createElement("figure",{className:"pl-icon"},we.a.createElement(ma,{id:"icon_star",disabled:!1})),we.a.createElement("span",{className:"pl-button__text"},e.t("Subscribed"))),o=we.a.createElement(Me.a,{className:t,onClick:e.onSubscribe},we.a.createElement("figure",{className:"pl-icon"},we.a.createElement(ma,{id:"icon_star",disabled:!1})),we.a.createElement("span",{className:"pl-button__text"},e.t("Gift a Sub")));return e.isSubscribed?e.canGiftSub?o:a:i}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function se(e){switch(e){case"highlight":return"Playing highlight";case"archive":return"Playing past broadcast";case"upload":return"Playing uploaded video";case"rerun":return"Rerun of video";case"premiere":return"Premiering video";default:return"Playing pre-recorded video"}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function he(e){var t=e.children,n=e.isAmazonVSEPlayer,r=e.isShowingAd,i=e.playerType;if(n||r)return null;var a=i===ei.D||i===ei.E,o=Ce()({"pl-controls-top":!0,"js-controls-top":!0,"squad-player-type":a});return we.a.createElement("div",{className:o},t)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function be(e,t,n,r){return void 0!==e&&void 0!==t&&""!==t&&0!==e&&!(e===n&&t===r)}function ge(e){var t=e.player,n=e.shouldShowControls,r=e.showBottomControls,i=e.showTopControls,a=i?we.a.createElement(Ro,null,we.a.createElement(Mi,null),we.a.createElement(Oo,null),we.a.createElement(Ha,null),we.a.createElement(bo,null),we.a.createElement(Bo,null)):null,o=r?we.a.createElement(hi,{getCurrentTime:t.getCurrentTime}):null;return n?we.a.createElement("div",null,a,o):null}var _e=n(0),we=n.n(_e),ke=n(1),Ee=n.n(ke),Se=n(3),Pe=n(327),Te=n(328),Oe=n(2),Ce=n.n(Oe),xe=n(6),Re=n.n(xe),je=n(7),Ae=n.n(je),Ie=n(120),Ne=n.n(Ie),Me=n(8),Le=n(213),qe=n(28),De=n(4),Be=n(215),Ue=n(36),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ve={installation:qe.a.isRequired,isLoggedIn:Ee.a.bool.isRequired,showBackButton:Ee.a.bool,onMenuTransition:Ee.a.func,onVisibilityToggle:Ee.a.func,promptLogin:Ee.a.func,showExtensionReportMenu:Ee.a.bool.isRequired,trackEvent:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired,t:Ee.a.func.isRequired},He={onMenuTransition:function(){},showBackButton:!0},ze=Ce()({"pl-menu__section":!0,"pl-menu__item--label":!0,"extension-menu-details__header":!0}),We=Ce()({"pl-menu__item--label":!0,"extension-menu-details__desc":!0}),Ge=Ce()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),Ke=Ce()({"pl-menu__item":!0,"pl-menu__item--block":!0}),Ye=Ce()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),Qe=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),$e=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleViewDetailsClick=e.handleViewDetailsClick.bind(e),e.handleManageAccessClick=e.handleManageAccessClick.bind(e),e.handleReportExtensionClick=e.handleReportExtensionClick.bind(e),e.handleToggleVisibilityClick=e.handleToggleVisibilityClick.bind(e),e}return a(t,e),Fe(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(Ue.d)}},{key:"handleViewDetailsClick",value:function(){var e=this.props.installation.extension,t=e.clientId,n=e.version,r="https://www.twitch.tv/ext/"+t+"-"+n;this.props.windowObj.open(r,"_blank")}},{key:"handleToggleVisibilityClick",value:function(){var e=this.props.installation;this.props.trackEvent("extension_viewer_overlay_settings_toggle",e,{visibility_state:e.playerState.isHidden?"on":"off"}),this.props.onVisibilityToggle(e.id)}},{key:"handleManageAccessClick",value:function(){this.props.onMenuTransition(Ue.e)}},{key:"handleReportExtensionClick",value:function(){var e=this.props,t=e.installation,n=e.isLoggedIn;if(this.props.trackEvent("extension_ui_interaction_client",t,{extension_interaction:"report"}),!n)return void this.props.promptLogin();this.props.onMenuTransition(Ue.g)}},{key:"render",value:function(){var e=this.props,t=e.installation,n=e.onVisibilityToggle,r=e.showExtensionReportMenu,i=e.t,a=this._renderHeader(),o=we.a.createElement("div",{className:Ke},we.a.createElement(Me.a,{onClick:this.handleViewDetailsClick,className:"qa-extension-details-button"},i("View Details"))),s=this._renderManageAccess(),u=r?we.a.createElement("div",{className:Ye},we.a.createElement(Me.a,{onClick:this.handleReportExtensionClick,className:"qa-extension-report-button"},i("Report Extension"))):null,c=n?we.a.createElement("div",{className:Ke},we.a.createElement(Be.a,{label:i("Visible"),onToggle:this.handleToggleVisibilityClick,toggledOn:!t.playerState.isHidden})):null;return we.a.createElement("div",{className:"pl-menu__inner"},a,we.a.createElement("div",{className:Qe},we.a.createElement("div",{className:We},t.extension.summary),o,c,s,u))}},{key:"_renderHeader",value:function(){var e=this.props,t=e.installation;return e.showBackButton?we.a.createElement("div",{className:Ge},we.a.createElement(Me.a,{onClick:this.handleBackButtonClick,className:"qa-extension-back-button"},t.extension.name)):we.a.createElement("div",{className:ze},t.extension.name)}},{key:"_renderManageAccess",value:function(){var e=this.props,t=e.installation,n=e.t,r=t.extension,i=t.playerState,a=r.requestIdentityLink,o=r.token.permissionsState===Ue.k;if(i.token.role===Ue.n||!this.props.isLoggedIn||!a&&!o)return null;var s=Ce()({"pl-pill":!0,"extension-access-granted":i.isUserIdentityLinked,"extension-access-requested":!i.isUserIdentityLinked}),u="Manage Access",c="!";return i.isUserIdentityLinked&&(u="Access",c=n("Granted")),we.a.createElement("div",{className:Ye},we.a.createElement(Me.a,{onClick:this.handleManageAccessClick,className:"qa-extension-manage-access-button"},we.a.createElement("span",null,n(u)),"",we.a.createElement("span",{className:s},c)))}}]),t}(we.a.Component);$e.propTypes=Ve,$e.defaultProps=He;var Xe=Object(De.c)()($e),Je=n(11),Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),et={installation:qe.a.isRequired,onMenuTransition:Ee.a.func,onIdentityToggle:Ee.a.func,trackEvent:Ee.a.func.isRequired,t:Ee.a.func.isRequired},tt={onMenuTransition:function(){},onIdentityToggle:function(){}},nt=Ce()("pl-menu__section","pl-menu__section--with-sep"),rt=Ce()("pl-menu__item","pl-menu__item--block","pl-menu__item--with-caret-left"),it=Ce()("qa-menu-summary-label","pl-menu__item--label"),at=Ce()("pl-menu__item--label","extension-menu__access-list"),ot=Ce()("extension-menu__access-list-header"),st=Ce()("pl-menu__item--label","extension-menu-footer"),ut=Ce()("qa-menu-toggle-access-btn","pl-button","extension-menu-footer__button"),ct=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleIdentityToggleClick=e.handleIdentityToggleClick.bind(e),e}return u(t,e),Ze(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(Ue.b)}},{key:"handleIdentityToggleClick",value:function(){var e=this.props.installation;this.props.onIdentityToggle(e);var t=e.playerState.isUserIdentityLinked?"revoke":"grant";this.props.trackEvent("extension_ui_interaction_client",e,{extension_interaction:t})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.installation,r=Je.A+"/settings/connections",i=we.a.createElement("b",null,n.extension.name),a="Grant Access",o=we.a.createElement(De.b,{i18nKey:"You are granting {{extensionName}} the following access:",extensionName:i});return n.playerState.isUserIdentityLinked&&(a="Revoke Access",o=we.a.createElement(De.b,{i18nKey:"You are revoking the following access for {{extensionName}}:",extensionName:i})),we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:rt},we.a.createElement(Me.a,{onClick:this.handleBackButtonClick,className:"qa-menu-back-btn"},we.a.createElement("span",{className:"qa-menu-back-label"},t(a)))),we.a.createElement("div",{className:nt},we.a.createElement("div",{className:it},we.a.createElement("span",null,o)),we.a.createElement("div",{className:at},we.a.createElement("div",{className:ot},t("Your Twitch User ID")),we.a.createElement("span",null,t("Allows this extension to know your User ID on Twitch.")),we.a.createElement("p",null,we.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"qa-menu-manage-permission-link"},t("Manage Permissions")))),we.a.createElement("div",{className:st},we.a.createElement(Me.a,{onClick:this.handleIdentityToggleClick,className:ut},we.a.createElement("span",{className:"qa-menu-toggle-access-label"},t(a))))))}}]),t}(we.a.Component);ct.propTypes=et,ct.defaultProps=tt;var lt=Object(De.c)()(ct),dt=n(26),ft=n.n(dt),pt=n(12),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mt={t:Ee.a.func.isRequired,channel:Ee.a.string.isRequired,onMenuTransition:Ee.a.func,authenticityToken:Ee.a.string.isRequired,installation:qe.a.isRequired},yt={onMenuTransition:function(){}},vt=Ce()("pl-form__input","extension-report__desc"),bt=Ce()({"extension-menu-footer":!0}),gt=Ce()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),_t=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),wt=Ce()({"pl-mg-b-1":!0,"pl-menu__item":!0,"pl-menu__item--label":!0}),kt=Ce()({"pl-menu__item":!0,"pl-menu__item--label":!0}),Et=["reported_user","authenticity_token","tos_ban","reason","description"],St=function(e){function t(e){l(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={reported_user:e.channel,authenticity_token:e.authenticityToken,tos_ban:"false",reason:"",description:"",sent:!1},n.canSubmit=n.canSubmit.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleBackButtonClick=n.handleBackButtonClick.bind(n),n}return f(t,e),ht(t,[{key:"canSubmit",value:function(){var e=this.state,t=e.sent,n=e.description,r=e.reason,i=n&&r;return!t&&i}},{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(Ue.b)}},{key:"handleInputChange",value:function(e){this.setState(c({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=this,t=[this.state.description,"Extension ID: "+this.props.installation.extension.id,"Extension Name: "+this.props.installation.extension.name,"Extension Version: "+this.props.installation.extension.version].join("\n");return Object(pt.w)(ft()(Re()({},this.state,{description:t}),Et)).then(function(){e.setState({sent:!0})})}},{key:"render",value:function(){var e,t=we.a.createElement("a",{href:"https://www.twitch.tv/p/terms-of-service",target:"_blank",rel:"noopener noreferrer"},this.props.t("terms of service")),n=this.canSubmit(),r=Ce()((e={},c(e,"qa-ext-report-submit-btn",!0),c(e,"pl-button",!0),c(e,"pl-button--hollow",!n),e)),i=we.a.createElement("form",null,we.a.createElement("select",{className:vt,name:"reason",value:this.state.reason,onBlur:this.handleInputChange,onChange:this.handleInputChange},we.a.createElement("option",{value:""},"Select Reason"),we.a.createElement("option",{value:"selfharm"},"Self-Harm"),we.a.createElement("option",{value:"harm"},"Attempts or Threats to Harm"),we.a.createElement("option",{value:"harassment"},"Harassment"),we.a.createElement("option",{value:"hate_speech"},"Hate Speech"),we.a.createElement("option",{value:"impersonation"},"Impersonation"),we.a.createElement("option",{value:"spam"},"Spam, Scams, or Other Malicious Content"),we.a.createElement("option",{value:"porn"},"Porn or Other Sexually Explicit Content"),we.a.createElement("option",{value:"nudity"},"Nudity or Sexual Behavior/Attire"),we.a.createElement("option",{value:"gore"},"Extreme Violence, Gore, or Other Obscene Content"),we.a.createElement("option",{value:"cheating"},"Cheating in Online Game"),we.a.createElement("option",{value:"bits_violation"},"Bits Acceptable Use Policy Violation"),we.a.createElement("option",{value:"other"},"Other Terms of Service Violation")),we.a.createElement("br",null),we.a.createElement("textarea",{className:vt,name:"description",value:this.state.description,rows:2,onChange:this.handleInputChange,placeholder:this.props.t("Description (required)")}),we.a.createElement("div",{className:bt},we.a.createElement(Me.a,{disabled:!n,className:r,onClick:this.handleSubmit},we.a.createElement("span",{className:"qa-ext-report-submit-label"},this.props.t(this.state.sent?"Sent!":"Submit")))));return we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:gt},we.a.createElement(Me.a,{onClick:this.handleBackButtonClick,className:"qa-menu-back-btn"},we.a.createElement("span",{className:"qa-menu-back-label"},this.props.t("Report Extension")))),we.a.createElement("div",{className:_t},we.a.createElement("div",{className:wt},we.a.createElement(De.b,{i18nKey:"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)",tosLink:t})),we.a.createElement("div",{className:kt},i)))}}]),t}(we.a.Component);St.propTypes=mt,St.defaultProps=yt;var Pt=Object(De.c)()(St),Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ot={installation:qe.a.isRequired,onClick:Ee.a.func},Ct={onClick:function(){}},xt=function(e){function t(){p(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return m(t,e),Tt(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.installation)}},{key:"render",value:function(){return we.a.createElement(Me.a,{onClick:this.handleClick,className:"qa-extension-list-button"},we.a.createElement("span",null,this.props.installation.extension.name))}}]),t}(we.a.Component);xt.propTypes=Ot,xt.defaultProps=Ct;var Rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jt={installations:Ee.a.arrayOf(qe.a.isRequired).isRequired,onExtensionClick:Ee.a.func,t:Ee.a.func.isRequired},At={onExtensionClick:function(){}},It=Ce()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),Nt=Ce()({"pl-menu__section":!0,"pl-menu__item--block":!0,"pl-menu__item--label":!0}),Mt=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Lt=function(e){function t(){y(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleExtensionClick=e.handleExtensionClick.bind(e),e}return b(t,e),Rt(t,[{key:"handleExtensionClick",value:function(e){this.props.onExtensionClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.installations,r=t.t,i=n.map(function(t){return we.a.createElement("div",{className:It,key:t.id},we.a.createElement(xt,{onClick:e.handleExtensionClick,installation:t}))});return we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:Nt},we.a.createElement("span",null,r("Active Extensions"))),we.a.createElement("div",{className:Mt},i))}}]),t}(we.a.Component);Lt.propTypes=jt,Lt.defaultProps=At;var qt,Dt,Bt,Ut,Ft=Object(De.c)()(Lt),Vt=n(83),Ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zt=Ce()({"pl-menu__inner":!0,"extension-modal__inner":!0}),Wt=Ce()({"pl-menu__section":!0,"extension-modal__header":!0}),Gt=Ce()((qt={},k(qt,"qa-follow-modal-title-header",!0),k(qt,"pl-menu__item",!0),k(qt,"extension-modal__title",!0),qt)),Kt=Ce()((Dt={},k(Dt,"qa-follow-modal-title-channel",!0),k(Dt,"pl-menu__item--label",!0),k(Dt,"extension-modal__title-channel",!0),Dt)),Yt=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Qt=Ce()({"pl-menu__item--label":!0,"extension-modal__info-text":!0}),$t=Ce()((Bt={},k(Bt,"qa-follow-modal-button-confirm",!0),k(Bt,"pl-button",!0),k(Bt,"extension-modal__button",!0),Bt)),Xt=Ce()((Ut={},k(Ut,"qa-follow-modal-button-cancel",!0),k(Ut,"pl-button",!0),k(Ut,"pl-button--hollow",!0),k(Ut,"extension-modal__button",!0),Ut)),Jt=Ce()({"pl-close-button":!0,"extension-modal__close-button":!0}),Zt=Ee.a.shape({channel:Ee.a.string.isRequired,isFollowing:Ee.a.bool.isRequired}),en={t:Ee.a.func.isRequired,options:Zt.isRequired,onClose:Ee.a.func.isRequired},tn=function(e){function t(){g(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={notifications:!1},e.confirmFollow=e._confirmFollow.bind(e),e.cancelFollow=e._cancelFollow.bind(e),e.onNotificationToggle=e._onNotificationToggle.bind(e),e}return w(t,e),Ht(t,[{key:"render",value:function(){return we.a.createElement("div",{className:zt},this._renderHeader(),we.a.createElement("div",{className:Yt},this._renderButtons()),this._renderNotificationToggle())}},{key:"_renderHeader",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=void 0;r=t?n?"You are already following {{channelName}}":"You are about to follow {{channelName}}":"The channel you are attempting to follow does not exist";var i=void 0;if(t){var a=we.a.createElement("span",{className:Kt},t);i=we.a.createElement(De.b,{i18nKey:r,channelName:a})}else i=we.a.createElement("div",{className:"extension-modal__title-info"},this.props.t(r));return we.a.createElement("div",{className:Wt},we.a.createElement("div",{className:"extension-modal__header-row"},we.a.createElement("div",{className:Gt},i),we.a.createElement(Me.a,{className:Jt,onClick:this.cancelFollow},we.a.createElement(Vt.a,{className:"pl-close-button__svg",id:"pl-icon_close"}))))}},{key:"_renderButtons",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing;return!t||n?we.a.createElement(Me.a,{className:Xt,onClick:this.cancelFollow},this.props.t("Close")):[we.a.createElement(Me.a,{key:"confirm",className:$t,onClick:this.confirmFollow},this.props.t("Follow")),we.a.createElement(Me.a,{key:"cancel",className:Xt,onClick:this.cancelFollow},this.props.t("Cancel"))]}},{key:"_renderNotificationToggle",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=this.state.notifications;return!t||n?null:we.a.createElement("div",{className:Yt},we.a.createElement(Be.a,{className:"qa-notification-toggle",label:"Notifications",onToggle:this.onNotificationToggle,toggledOn:r}),we.a.createElement("div",{className:Qt},this.props.t("Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.")))}},{key:"_confirmFollow",value:function(){this.props.onClose({didFollow:!0,notifications:this.state.notifications})}},{key:"_cancelFollow",value:function(){this.props.onClose({didFollow:!1,notifications:!1})}},{key:"_onNotificationToggle",value:function(){this.setState({notifications:!this.state.notifications})}}]),t}(we.a.Component);tn.propTypes=en;var nn=Object(De.c)()(tn),rn=Ce()({"pl-menu__inner":!0,"extension-modal__inner":!0}),an=Ce()({"pl-menu__section":!0,"extension-modal__header":!0}),on=Ce()({"pl-menu__item":!0,"extension-modal__title":!0}),sn=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),un=Ce()({"pl-button":!0,"pl-button--hollow":!0,"extension-modal__button":!0}),cn=Ce()({"pl-close-button":!0,"extension-modal__close-button":!0}),ln={t:Ee.a.func.isRequired,onClose:Ee.a.func.isRequired},dn=function(e){return we.a.createElement("div",{className:rn},we.a.createElement("div",{className:an},we.a.createElement("div",{className:"extension-modal__header-row"},we.a.createElement("div",{className:on},we.a.createElement("div",{className:"extension-modal__title-info"},e.t("You must be logged in to use this extension feature"))),we.a.createElement(Me.a,{className:cn,onClick:e.onClose},we.a.createElement(Vt.a,{className:"pl-close-button__svg",id:"pl-icon_close"})))),we.a.createElement("div",{className:sn},we.a.createElement(Me.a,{className:un,onClick:e.onClose},e.t("Close"))))};dn.propTypes=ln;var fn,pn,hn,mn,yn=Object(De.c)()(dn),vn=n(216),bn=n(158),gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_n=Ce()({"pl-menu__inner":!0,"extension-modal__inner":!0}),wn=Ce()({"pl-menu__section":!0,"extension-modal__header":!0,"extension-modal__use-bits":!0}),kn=Ce()((fn={},T(fn,"qa-use-bits-modal-title-header",!0),T(fn,"pl-menu__item",!0),T(fn,"extension-modal__title",!0),fn)),En=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Sn=Ce()((pn={},T(pn,"qa-use-bits-modal-button-confirm",!0),T(pn,"pl-button",!0),T(pn,"extension-modal__button",!0),pn)),Pn=Ce()((hn={},T(hn,"qa-use-bits-modal-button-buy",!0),T(hn,"pl-button",!0),T(hn,"pl-button--hollow",!0),T(hn,"extension-modal__button",!0),hn)),Tn=Ce()((mn={},T(mn,"qa-use-bits-modal-button-cancel",!0),T(mn,"pl-button",!0),T(mn,"pl-button--hollow",!0),T(mn,"extension-modal__button",!0),mn)),On=Ce()({"pl-menu__item--label":!0,"extension-modal__info-text":!0}),Cn={t:Ee.a.func.isRequired,onClose:Ee.a.func.isRequired,options:Ee.a.shape({bitsRequired:Ee.a.number.isRequired,extensionItemLabel:Ee.a.string.isRequired,extensionName:Ee.a.string.isRequired}),bitsBalance:Ee.a.number.isRequired,windowObj:Ee.a.object.isRequired},xn=function(e){function t(){E(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.confirmUseBits=e._confirmUseBits.bind(e),e.buyBits=e._buyBits.bind(e),e.cancelUseBits=e._cancelUseBits.bind(e),e}return P(t,e),gn(t,[{key:"render",value:function(){return we.a.createElement("div",{className:_n},this._renderHeader(),we.a.createElement("div",{className:En},this._renderButtons()),we.a.createElement("div",{className:En},this._renderFooter()))}},{key:"_renderHeader",value:function(){var e=this.props.bitsBalance-this.props.options.bitsRequired,t=we.a.createElement(vn.a,{bitsConfig:bn.b,count:e,withText:!1,withNumber:!0,withImage:!0,animated:!1}),n=we.a.createElement("div",null,we.a.createElement("div",{className:"extension-modal__title-use-bits"},we.a.createElement("span",{className:"extension-modal__item-label"},this.props.options.extensionItemLabel),we.a.createElement(vn.a,{bitsConfig:bn.b,count:this.props.options.bitsRequired,withText:!1,withNumber:!0,withImage:!0,animated:!1})),we.a.createElement("div",null,this.props.options.extensionName),we.a.createElement("div",{className:"extension-modal__use-bits-desc"},we.a.createElement(De.b,{i18nKey:"After confirming, your Bits balance will be {{bitsBalance}}",bitsBalance:t})));return we.a.createElement("div",{className:wn},we.a.createElement("div",{className:"extension-modal__header-row"},we.a.createElement("div",{className:kn},n)))}},{key:"_renderButtons",value:function(){return we.a.createElement("div",null,we.a.createElement(Me.a,{className:Sn,onClick:this.confirmUseBits},this.props.t("Confirm")),we.a.createElement(Me.a,{className:Pn,onClick:this.buyBits},this.props.t("Buy Bits")),we.a.createElement(Me.a,{className:Tn,onClick:this.cancelUseBits},this.props.t("Cancel")))}},{key:"_renderFooter",value:function(){var e=we.a.createElement("a",{href:"https://www.twitch.tv/settings/connections",target:"_blank",rel:"noreferrer noopener"},this.props.t("Settings"));return we.a.createElement("div",{className:On},we.a.createElement(De.b,{i18nKey:'By clicking "Confirm", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under {{settingsLinkComponent}}.',extensionName:this.props.options.extensionName,settingsLinkComponent:e}))}},{key:"_cancelUseBits",value:function(){this.props.onClose({didConfirm:!1})}},{key:"_confirmUseBits",value:function(){this.props.onClose({didConfirm:!0})}},{key:"_buyBits",value:function(){this.props.windowObj.open("https://www.twitch.tv/bits")}}]),t}(we.a.Component);xn.propTypes=Cn;var Rn,jn,An,In=Object(De.c)()(xn),Nn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mn=Ce()({"pl-menu__inner":!0,"extension-modal__inner":!0}),Ln=Ce()({"pl-menu__section":!0,"extension-modal__header":!0,"extension-modal__use-bits":!0}),qn=Ce()((Rn={},R(Rn,"qa-use-bits-modal-title-header",!0),R(Rn,"pl-menu__item",!0),R(Rn,"extension-modal__title",!0),Rn)),Dn=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Bn=Ce()((jn={},R(jn,"qa-use-bits-modal-button-buy",!0),R(jn,"pl-button",!0),R(jn,"pl-button--hollow",!0),R(jn,"extension-modal__button",!0),jn)),Un=Ce()((An={},R(An,"qa-use-bits-modal-button-cancel",!0),R(An,"pl-button",!0),R(An,"pl-button--hollow",!0),R(An,"extension-modal__button",!0),An)),Fn={t:Ee.a.func.isRequired,onClose:Ee.a.func.isRequired,options:Ee.a.shape({bitsRequired:Ee.a.number.isRequired,extensionItemLabel:Ee.a.string.isRequired,extensionName:Ee.a.string.isRequired}),bitsBalance:Ee.a.number.isRequired,windowObj:Ee.a.object.isRequired},Vn=function(e){function t(){O(this,t);var e=C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.buyBits=e._buyBits.bind(e),e.cancelUseBits=e._cancelUseBits.bind(e),e}return x(t,e),Nn(t,[{key:"render",value:function(){return we.a.createElement("div",{className:Mn},this._renderHeader(),we.a.createElement("div",{className:Dn},this._renderButtons()))}},{key:"_renderHeader",value:function(){var e=we.a.createElement(vn.a,{bitsConfig:bn.b,count:this.props.options.bitsRequired-this.props.bitsBalance,withText:!1,withNumber:!0,withImage:!0,animated:!1}),t=we.a.createElement("div",null,we.a.createElement("div",{className:"extension-modal__title-use-bits"},we.a.createElement("span",{className:"extension-modal__item-label"},this.props.options.extensionItemLabel),we.a.createElement(vn.a,{bitsConfig:bn.b,count:this.props.options.bitsRequired,withText:!0,withImage:!0,animated:!1})),we.a.createElement("div",null,this.props.options.extensionName),we.a.createElement("div",{className:"extension-modal__use-bits-desc"},we.a.createElement(De.b,{i18nKey:"You need {{bitsRequired}} more Bits to proceed.",bitsRequired:e})));return we.a.createElement("div",{className:Ln},we.a.createElement("div",{className:"extension-modal__header-row"},we.a.createElement("div",{className:qn},t)))}},{key:"_renderButtons",value:function(){return we.a.createElement("div",null,we.a.createElement(Me.a,{className:Bn,onClick:this.buyBits},this.props.t("Buy Bits")),we.a.createElement(Me.a,{className:Un,onClick:this.cancelUseBits},this.props.t("Cancel")))}},{key:"_cancelUseBits",value:function(){this.props.onClose({didConfirm:!1})}},{key:"_buyBits",value:function(){this.props.windowObj.open("https://www.twitch.tv/bits")}}]),t}(we.a.Component);Vn.propTypes=Fn;var Hn,zn,Wn=Object(De.c)()(Vn),Gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kn=Ce()({"pl-menu__section":!0,"extension-modal__header":!0,"extension-modal__use-bits":!0,"extension-modal__title-use-bits":!0}),Yn=Ce()((Hn={},N(Hn,"qa-use-bits-modal-title-header",!0),N(Hn,"pl-menu__item",!0),N(Hn,"extension-modal__title",!0),Hn)),Qn=Ce()({"pl-menu__inner":!0,"extension-modal__inner":!0}),$n=Ce()({"pl-menu__section":!0}),Xn=Ce()((zn={},N(zn,"qa-use-bits-modal-button-cancel",!0),N(zn,"pl-button",!0),N(zn,"extension-modal__button",!0),zn)),Jn={t:Ee.a.func.isRequired,onClose:Ee.a.func.isRequired},Zn=function(e){function t(){j(this,t);var e=A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.cancelUseBits=e._cancelUseBits.bind(e),e}return I(t,e),Gn(t,[{key:"render",value:function(){return we.a.createElement("div",{className:Qn},we.a.createElement("div",{className:Kn},we.a.createElement("div",{className:"extension-modal__header-row"},we.a.createElement("div",{className:Yn},this.props.t("Sorry, something went wrong. Please try again.")))),we.a.createElement("div",{className:$n},this._renderButtons()))}},{key:"_renderButtons",value:function(){return we.a.createElement("div",null,we.a.createElement(Me.a,{className:Xn,onClick:this.cancelUseBits},this.props.t("Cancel")))}},{key:"_cancelUseBits",value:function(){this.props.onClose({didConfirm:!1})}}]),t}(we.a.Component);Zn.propTypes=Jn;var er=Object(De.c)()(Zn),tr={onClose:Ee.a.func.isRequired,options:Ee.a.shape({payload:Ee.a.shape({bitsRequired:Ee.a.number.isRequired,extensionItemLabel:Ee.a.string.isRequired,extensionName:Ee.a.string.isRequired}),error:Ee.a.string}),windowObj:Ee.a.object.isRequired,bitsBalance:Ee.a.number.isRequired},nr=function(e){return{bitsBalance:e.bits.bitsBalance}},rr=function(e){var t=e.onClose,n=e.options,r=e.windowObj,i=e.bitsBalance;return n.error?we.a.createElement(er,{onClose:t}):i>=n.payload.bitsRequired?we.a.createElement(In,{onClose:t,windowObj:r,bitsBalance:i,options:n.payload}):we.a.createElement(Wn,{onClose:t,windowObj:r,bitsBalance:i,options:n.payload})};rr.propTypes=tr;var ir=Object(Se.b)(nr)(rr),ar=n(77),or=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sr={installation:qe.a.isRequired,declineUnreleased:Ee.a.func.isRequired,acceptUnreleased:Ee.a.func.isRequired,t:Ee.a.func.isRequired},ur=function(e){return{declineUnreleased:function(t){e(Object(ar.w)(t))},acceptUnreleased:function(t,n){e(Object(ar.t)(t)),e(Object(ar.C)(n,Ue.b))}}},cr=Ce()({"pl-menu__section":!0,"pl-menu__item--label":!0,"extension-accept-unreleased__header":!0}),lr=Ce()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),dr=Ce()({"pl-menu__item--label":!0,"extension-accept-unreleased__text":!0}),fr=Ce()({"extension-menu-footer":!0,"extension-accept-unreleased__footer":!0}),pr="https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",hr=function(e){function t(){L(this,t);var e=q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleDecline=e.handleDecline.bind(e),e.handleAccept=e.handleAccept.bind(e),e}return D(t,e),or(t,[{key:"handleDecline",value:function(){var e=this.props.installation;this.props.declineUnreleased(e.id)}},{key:"handleAccept",value:function(){var e=this.props.installation;this.props.acceptUnreleased(e.id,e.activationConfig.slot)}},{key:"render",value:function(){var e=this.props.installation,t=this._renderBody(),n=this._renderFooter();return we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:cr},e.extension.name),we.a.createElement("div",{className:lr},t),n)}},{key:"_renderBody",value:function(){var e=this.props,t=e.installation,n=e.t;if(Object(Ue.q)(t))return we.a.createElement("div",{className:dr},n("You've declined to use this test extension. To use it, please refresh this page and select accept."));var r=this._renderMoreLink();return we.a.createElement("div",{className:dr},n("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.")," ",r)}},{key:"_renderMoreLink",value:function(){var e=this.props.t;return we.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:pr},e("Learn More"))}},{key:"_renderFooter",value:function(){var e,t,n,r=this.props,i=r.installation,a=r.t,o=Ce()((e={},M(e,"qa-ext-learn-unreleased",!0),M(e,"pl-button",!0),M(e,"pl-button--hollow",!0),e)),s=Ce()((t={},M(t,"qa-ext-accept-unreleased",!0),M(t,"pl-button",!0),M(t,"extension-accept-unreleased-footer__button",!0),t)),u=Ce()((n={},M(n,"qa-ext-decline-unreleased",!0),M(n,"pl-button",!0),M(n,"pl-button--hollow",!0),M(n,"extension-accept-unreleased-footer__button",!0),n));return Object(Ue.q)(i)?we.a.createElement("div",{className:fr},we.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:pr},we.a.createElement(Me.a,{className:o},a("Learn More")))):we.a.createElement("div",{className:fr},we.a.createElement(Me.a,{className:u,onClick:this.handleDecline},a("Decline")),we.a.createElement(Me.a,{className:s,onClick:this.handleAccept},a("Accept")))}}]),t}(we.a.Component);hr.propTypes=sr;var mr=Object(De.c)()(Object(Se.b)(null,ur)(hr)),yr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vr={closeExtensionMenu:Ee.a.func,handleMenuTransition:Ee.a.func.isRequired,installation:qe.a.isRequired,isLoggedIn:Ee.a.bool.isRequired,modalOptions:Ee.a.object,onIdentityToggle:Ee.a.func.isRequired,onVisibilityToggle:Ee.a.func,playerHeight:Ee.a.number.isRequired,promptLogin:Ee.a.func,showExtensionReportMenu:Ee.a.bool.isRequired,submenu:Ee.a.string,trackEvent:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired},br=function(e){function t(){B(this,t);var e=U(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundHandleExtensionClick=e._handleExtensionClick.bind(e),e._boundOnActionComplete=e._onActionComplete.bind(e),e._boundOnCancelAction=e._onCancelAction.bind(e),e}return F(t,e),yr(t,[{key:"componentDidMount",value:function(){this.props.installation&&!this.props.submenu&&this._boundHandleExtensionClick(this.props.installation)}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-Le.i+"px"};return we.a.createElement("div",{className:"pl-menu extension-modal__main",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.props.submenu){case Ue.b:return we.a.createElement(Xe,{onMenuTransition:this.props.handleMenuTransition,onVisibilityToggle:this.props.onVisibilityToggle,showBackButton:!1,installation:this.props.installation,isLoggedIn:this.props.isLoggedIn,promptLogin:this.props.promptLogin,showExtensionReportMenu:this.props.showExtensionReportMenu,trackEvent:this.props.trackEvent,windowObj:this.props.windowObj});case Ue.e:return we.a.createElement(lt,{onMenuTransition:this.props.handleMenuTransition,onIdentityToggle:this.props.onIdentityToggle,trackEvent:this.props.trackEvent,installation:this.props.installation});case Ue.g:return we.a.createElement(Pt,{onMenuTransition:this.props.handleMenuTransition,channel:void 0,installation:this.props.installation});case Ue.c:return we.a.createElement(nn,{extension:this.props.installation.extension,options:this.props.modalOptions&&this.props.modalOptions.options,onClose:this._boundOnActionComplete});case Ue.f:return we.a.createElement(yn,{onClose:this._boundOnCancelAction});case Ue.d:return we.a.createElement(Ft,{installations:[this.props.installation],onExtensionClick:this._boundHandleExtensionClick});case Ue.i:return we.a.createElement(ir,{options:this.props.modalOptions&&this.props.modalOptions.options,onClose:this._boundOnActionComplete,windowObj:this.props.windowObj});case Ue.h:return we.a.createElement(mr,{installation:this.props.installation});default:return null}}},{key:"_handleExtensionClick",value:function(e){this.props.handleMenuTransition(Ue.b),this.props.trackEvent("extension_setting_click",e)}},{key:"_onActionComplete",value:function(e){var t=this.props.modalOptions.resultCallback;t&&t(e),this.props.closeExtensionMenu&&this.props.closeExtensionMenu()}},{key:"_onCancelAction",value:function(){this.props.modalOptions&&this._boundOnActionComplete(this.props.modalOptions.options.defaultResult)}}]),t}(we.a.Component);br.propTypes=vr;var gr=n(22),_r=n(30),wr=n(309),kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Er=Object.freeze([Ue.d,Ue.b,Ue.e,Ue.g]),Sr={installation:qe.a.isRequired,hoveredExtension:qe.a,menuState:Ee.a.object.isRequired,loginId:Ee.a.number.isRequired,isLoggedIn:Ee.a.bool.isRequired,locale:Ee.a.string.isRequired,playerType:Ee.a.string.isRequired,windowObj:Ee.a.object.isRequired,playerHeight:Ee.a.number.isRequired,promptLogin:Ee.a.func.isRequired,onHover:Ee.a.func.isRequired,onIdentityToggle:Ee.a.func.isRequired,showExtensionReportMenu:Ee.a.bool.isRequired,trackEvent:Ee.a.func.isRequired,closeExtensionMenu:Ee.a.func.isRequired,onMenuTransition:Ee.a.func.isRequired,onVisibilityToggle:Ee.a.func.isRequired,updateCollapseLocation:Ee.a.func.isRequired},Pr=function(e){return{showExtensionReportMenu:Object(Ue.o)(e),extensions:e.extensions.activeInstallations,hoveredExtension:e.extensions.hoveredExtension,menuState:e.extensions.menuState,loginId:e.user.id,isLoggedIn:e.user.loggedInStatus===_r.a,locale:e.lang.langCode,trackEvent:e.analyticsTracker.trackEvent,playerType:e.env.playerType,windowObj:e.window,playerHeight:e.playerDimensions.height}},Tr=function(e){return{onHover:function(t){e(Object(ar.y)(t,!0))},onIdentityToggle:function(t){e(Object(ar.A)(t.id))},onMenuTransition:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.d;e(Object(ar.C)(t,n))},closeExtensionMenu:function(){e(Object(ar.v)())},onVisibilityToggle:function(t,n){e(Object(ar.H)(t,n))},updateCollapseLocation:function(t,n){e(Object(ar.B)(t,n))},promptLogin:function(){e(Object(gr.H)())}}},Or=function(e){function t(){V(this,t);var e=H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundCreateExtensionHoverHandler=e._createHoverHandler.bind(e),e._boundOnClick=e._onClick.bind(e),e._boundHandleMenuTransition=e._handleMenuTransition.bind(e),e._boundHandleWindowBlur=e.handleWindowBlur.bind(e),e._boundHandleMenuInteractionComplete=e._handleMenuInteractionComplete.bind(e),e._boundOnImageLoadFail=e._onImageLoadFail.bind(e),e._boundTrackEvent=e.trackEvent.bind(e),e._boundOnVisibilityToggle=e._onVisibilityToggle.bind(e),e._ref=_e.createRef(),e.collapseLocation=null,e.state={iconUrls:e._getIconUrls(e.props.installation)},e}return z(t,e),kr(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this._boundHandleWindowBlur),this._updateCollapseLocation()}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this._boundHandleWindowBlur)}},{key:"componentDidUpdate",value:function(e){e.installation.extension.id!==this.props.installation.extension.id&&this.setState({iconUrls:this._getIconUrls(this.props.installation)}),this._updateCollapseLocation()}},{key:"handleWindowBlur",value:function(){this.props.installation.activationConfig.slot===this.props.menuState.extensionSlot&&this._closeMenu()}},{key:"handleClickOutside",value:function(){var e=this.props.installation.activationConfig.slot,t=this.props.menuState.modalOptions;e===this.props.menuState.extensionSlot&&(this.props.closeExtensionMenu(),t&&t.resultCallback&&t.resultCallback(t.defaultResult))}},{key:"trackEvent",value:function(e,t,n){var r=t.activationConfig,i=t.extension;this.props.trackEvent(e,Re()(n,{extension_id:i.id,extension_version:i.version,extension_anchor:r.anchor,extension_mode:"viewer",locale:this.props.locale,login_id:this.props.loginId,player_type:this.props.playerType}))}},{key:"render",value:function(){var e=this.props,t=e.installation,n=e.menuState,r=e.isLoggedIn,i=e.playerHeight,a=e.promptLogin,o=e.windowObj,s=e.onIdentityToggle,u=e.showExtensionReportMenu,c=Ce()({"extension-taskbar-card":!0,"extension-taskbar-card__hovered":this._isHovered()}),l=this._isMenuOpen()?_e.createElement(br,{installation:t,submenu:n.menuName,modalOptions:n.modalOptions,isLoggedIn:r,onIdentityToggle:s,onVisibilityToggle:this._boundOnVisibilityToggle,playerHeight:i,promptLogin:a,showExtensionReportMenu:u,trackEvent:this._boundTrackEvent,windowObj:o,handleMenuTransition:this._boundHandleMenuTransition,closeExtensionMenu:this._boundHandleMenuInteractionComplete}):null;return _e.createElement("div",{className:c,onFocus:this._boundCreateExtensionHoverHandler(t),onMouseOver:this._boundCreateExtensionHoverHandler(t),onBlur:this._boundCreateExtensionHoverHandler(null),onMouseOut:this._boundCreateExtensionHoverHandler(null),ref:this._ref},_e.createElement(Me.a,{className:"extension-taskbar-card__inner player-button",onClick:this._boundOnClick},this._renderCardContent(),this._renderHoverTooltip()),l)}},{key:"_renderCardContent",value:function(){var e=this.props.installation,t=this.state.iconUrls,n=e.activationConfig.anchor[0].toUpperCase(),r=""+n+Object(Ue.p)(e);if(!this.state.iconUrls||0===this.state.iconUrls.length)return _e.createElement("div",{className:"extension-taskbar-card__text"},r);var i=t[t.length-1];return _e.createElement("img",{src:i,alt:r,onError:this._boundOnImageLoadFail})}},{key:"_renderHoverTooltip",value:function(){return!this._isHovered()||this._isMenuOpen()?null:_e.createElement("span",{className:"player-tip extension-taskbar-card__tooltip","data-tip":this.props.installation.extension.name})}},{key:"_createHoverHandler",value:function(e){return function(){this.props.onHover(e)}.bind(this)}},{key:"_openMenu",value:function(){var e=this.props,t=e.installation,n=e.onMenuTransition,r=t.activationConfig.slot;Object(Ue.s)(t)||Object(Ue.q)(t)?n(r,Ue.h):n(r,Ue.b),this.trackEvent("extension_viewer_overlay_settings",t,{action:"open"})}},{key:"_closeMenu",value:function(){var e=this.props,t=e.installation,n=e.closeExtensionMenu,r=e.menuState;n(),r.modalOptions&&r.modalOptions.resultCallback&&r.modalOptions.resultCallback(r.modalOptions.defaultResult),this.trackEvent("extension_viewer_overlay_settings",t,{action:"close"})}},{key:"_onClick",value:function(){var e=this.props,t=e.menuState,n=e.installation,r=n.activationConfig.slot;t.extensionSlot===r?this._closeMenu():this._openMenu()}},{key:"_handleMenuInteractionComplete",value:function(){var e=this.props,t=e.installation,n=e.onHover,r=e.closeExtensionMenu;this._isHovered()&&n(null),r(),this.trackEvent("extension_viewer_overlay_settings",t,{action:"close"})}},{key:"_handleMenuTransition",value:function(e){Ae()(Er,e)&&this.props.onMenuTransition(this.props.installation.activationConfig.slot,e)}},{key:"_isHovered",value:function(){var e=this.props,t=e.hoveredExtension,n=e.installation;return Boolean(t)&&n.id===t.id}},{key:"_isMenuOpen",value:function(){var e=this.props,t=e.installation,n=e.menuState,r=t.activationConfig.slot;return Boolean(n.extensionSlot)&&n.extensionSlot===r}},{key:"_onImageLoadFail",value:function(){var e=this.state.iconUrls;e.pop(),this.setState({iconUrls:e})}},{key:"_getIconUrls",value:function(e){var t=[e.extension.iconUrls.square100];return e.extension.iconUrls.square24&&t.push(e.extension.iconUrls.square24),t}},{key:"_onVisibilityToggle",value:function(e){this.props.onVisibilityToggle(e,this.collapseLocation)}},{key:"_updateCollapseLocation",value:function(){var e=this._ref.current,t=Object(wr.a)(e);this.collapseLocation={x:t.left,y:t.top};var n=this.props.installation.playerState.collapseLocation;n&&this.collapseLocation.x===n.x&&this.collapseLocation.y===n.y||this.props.updateCollapseLocation(this.props.installation.id,this.collapseLocation)}}]),t}(_e.Component);Or.propTypes=Sr;var Cr=Ne()(Or),xr=Object(Se.b)(Pr,Tr)(Cr),Rr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jr={installations:Ee.a.arrayOf(qe.a.isRequired).isRequired,isMenuOpen:Ee.a.bool.isRequired,hoveredExtension:qe.a,playerWidth:Ee.a.number.isRequired,shouldShowTaskbar:Ee.a.bool.isRequired},Ar=function(e){return{installations:e.extensions.activeInstallations,isMenuOpen:null!==e.extensions.menuState.extensionSlot,hoveredExtension:e.extensions.hoveredExtension,playerWidth:e.playerDimensions.width,shouldShowTaskbar:Object(Ue.u)(e)&&Object(Ue.v)(e)}},Ir=function(e){function t(){G(this,t);var e=K(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundRenderExtensionCard=e._renderExtensionCard.bind(e),e}return Y(t,e),Rr(t,[{key:"render",value:function(){var e,t=this.props.installations.slice(0),n=this.props.playerWidth<420&&t.length>1,r=Ce()((e={},W(e,"extension-taskbar",!0),W(e,"extension-taskbar__collapsed",n),W(e,"extension-taskbar__collapsed-open",n&&this.props.isMenuOpen),e));if(!this.props.shouldShowTaskbar||t.length<1)return null;t.sort(function(e,t){if(e.activationConfig.anchor!==t.activationConfig.anchor)return e.activationConfig.anchor===Ue.j?-1:1;var n=Object(Ue.p)(e),r=Object(Ue.p)(t);return n<r?-1:n>r?1:0});var i=t.map(this._boundRenderExtensionCard);return _e.createElement("div",{className:r},_e.createElement("div",{className:"extension-taskbar-card-container"},i))}},{key:"_renderExtensionCard",value:function(e){return _e.createElement(xr,{key:e.id,installation:e})}}]),t}(_e.Component);Ir.propTypes=jr;var Nr=Object(Se.b)(Ar)(Ir),Mr=n(48),Lr=n.n(Mr),qr=n(164),Dr=n.n(qr),Br=n(65),Ur=n.n(Br),Fr=n(119),Vr={duration:Ee.a.number,mutedSegments:Ee.a.arrayOf(Ee.a.shape({duration:Ee.a.number,offset:Ee.a.number}))},Hr=function(e){var t=e.duration,n=e.mutedSegments;if(!Ur()(t)||t<=0)return null;if(!Array.isArray(n)||n.length<=0)return null;var r=n.map(function(e){return we.a.createElement("span",{className:"player-slider__muted",style:{width:Object(Fr.a)(e.duration,t)+"%",left:Object(Fr.a)(e.offset,t)+"%"},key:e.offset+"_"+e.duration+"_"+t})});return we.a.createElement("div",{className:"player-slider__muted-segments js-muted-segments-container"},r)};Hr.propTypes=Vr;var zr={start:Ee.a.number.isRequired,end:Ee.a.number.isRequired,max:Ee.a.number.isRequired,min:Ee.a.number.isRequired},Wr=function(e){var t=e.start,n=e.end,r=e.min,i=e.max,a=n-t,o=i-r;return we.a.createElement("div",{style:{width:Object(Fr.a)(a,o)+"%",left:Object(Fr.a)(t,o)+"%"},className:"player-slider__buffer"})};Wr.propTypes=zr;var Gr=n(329),Kr=n(330),Yr=n(225),Qr=n(20),$r=n(15),Xr=n(331),Jr=n(332),Zr=n(306),ei=n(5),ti=n(13),ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ii={buffer:Ee.a.shape({start:Ee.a.number,end:Ee.a.number}),currentTime:Ee.a.number,duration:Ee.a.number,getCurrentTime:Ee.a.func,isSeekableStream:Ee.a.bool.isRequired,isShowingAds:Ee.a.bool.isRequired,mutedSegments:Ee.a.arrayOf(Ee.a.shape({duration:Ee.a.number,offset:Ee.a.number})),seek:Ee.a.func.isRequired,thumbnailPreviews:Ee.a.object,isClipsPlayerType:Ee.a.bool.isRequired,windowObj:Ee.a.object,trackEvent:Ee.a.func.isRequired},ai=function(e){var t=e.env,n=e.playback,r=e.screen,i=e.stream,a=e.timelineMetadata,o=e.window,s=e.analyticsTracker;return{buffer:n.buffer,currentTime:n.currentTime,duration:n.duration,isSeekableStream:Ae()(Zr.a,i.contentType),isShowingAds:r[0]===ti.c,mutedSegments:a.mutedSegments,thumbnailPreviews:a.previews,windowObj:o,trackEvent:s.trackEvent,isClipsPlayerType:Ae()(ei.c,t.playerType)}},oi=function(e){return{seek:function(t){e(Object($r.u)(t)),e(Object(Qr.K)(!0))}}},si={slider:"player-slider js-player-slider",sliderLeft:"player-slider__left",sliderThumb:"player-slider__thumb"},ui=function(e){function t(){Q(this,t);var e=$(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,mouseMoveClientX:0,mouseMoveOnSeekbar:!1,hideThumbnailPreview:!1},e.$seekbar=null,e.handleDragStart=e.handleDragStart.bind(e),e.handleDragStop=e.handleDragStop.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.seekbarRefHandler=e.seekbarRefHandler.bind(e),e.seekToPosition=e.seekToPosition.bind(e),e}return X(t,e),ri(t,[{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.duration,r=e.isSeekableStream,i=e.isShowingAds,a=e.isClipsPlayerType;if(!r||i)return null;var o=this.createSliderComponent(),s={currentTime:t,duration:n};return we.a.createElement("div",{className:"player-seek"},a?we.a.createElement(Kr.a,ni({key:"editing-seekbar-time-display-"+n},s)):we.a.createElement(Gr.a,ni({key:"seekbar-time-display-"+n},s)),o)}},{key:"createSliderComponent",value:function(){var e=this.state,t=e.isDragging,n=e.mouseMoveOnSeekbar,r=this.props,i=r.buffer,a=r.duration,o=r.getCurrentTime,s=r.mutedSegments,u=r.windowObj,c=t?null:we.a.createElement(Wr,{key:"seekbar-buffer-"+a,start:i.start,end:i.end,max:a,min:0}),l=we.a.createElement(Hr,{key:"muted-segments-"+a,duration:a,mutedSegments:s}),d=null;return n&&a>0&&(d=this.createSeekbarPreviews()),we.a.createElement(Yr.a,{classNames:si,max:a,min:0,onClick:this.handleClick,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut,ref:this.seekbarRefHandler,dragHandlers:{onStart:this.handleDragStart,onStop:this.handleDragStop},windowObj:u,getOptimizedValue:o,valueOptimizationEnabled:!0,behindSliderChildren:c,afterSliderChildren:[l,d]})}},{key:"getSeekbarDimensions",value:function(){var e=0,t=0;if(this.$seekbar){var n=this.$seekbar.getBoundingClientRect();e=n.width,t=n.left}return{seekbarWidth:e,seekbarLeftOffset:t}}},{key:"createSeekbarPreviews",value:function(){var e=this.state.mouseMoveClientX,t=this.props,n=t.duration,r=t.thumbnailPreviews,i=t.isClipsPlayerType,a=this.getSeekbarDimensions(),o=a.seekbarWidth,s=a.seekbarLeftOffset,u=Lr.a.msedge||Lr.a.msie;return r.count>0&&!u?we.a.createElement(Xr.a,{key:"thumbnail-previews-"+n,hideThumbnailPreview:this.state.hideThumbnailPreview,duration:n,previews:r,mouseMoveClientX:e,seekbarLeftOffset:s,seekbarWidth:o}):we.a.createElement(Jr.a,{key:"timestamp-previews-"+n,duration:n,mouseMoveClientX:e,seekbarLeftOffset:s,seekbarWidth:o,shouldCleanString:i})}},{key:"seekbarRefHandler",value:function(e){this.$seekbar=Dr.a.findDOMNode(e)}},{key:"handleClick",value:function(e){this.state.isDragging&&this.seekToPosition(e)}},{key:"handleMouseMove",value:function(e){this.setState({mouseMoveOnSeekbar:!0,mouseMoveClientX:e.clientX})}},{key:"handleMouseOut",value:function(){var e=this;this.setState({hideThumbnailPreview:!0});setTimeout(function(){e.state.hideThumbnailPreview&&e.setState({mouseMoveOnSeekbar:!1,mouseMoveClientX:0,hideThumbnailPreview:!1})},750)}},{key:"handleDragStart",value:function(){this.setState({isDragging:!0})}},{key:"handleDragStop",value:function(e){this.setState({isDragging:!1}),this.seekToPosition(e)}},{key:"seekToPosition",value:function(e){this.props.seek(e),this.props.trackEvent("player_click_vod_seek")}}]),t}(we.a.Component);ui.propTypes=ii;var ci=Object(Se.b)(ai,oi)(ui),li=n(66),di={getCurrentTime:Ee.a.func.isRequired,isShowingCollectionSidebar:Ee.a.bool.isRequired,isShowingAd:Ee.a.bool.isRequired},fi=(Ce()("pl-controls-bottom","pl-flex","qa-controls-bottom"),function(e){var t=e.collection,n=e.screen;return{isShowingCollectionSidebar:t.currentView===li.b,isShowingAd:n[0]===ti.c||n[0]===ti.m}}),pi=function(e){var t=e.getCurrentTime,n=e.isShowingCollectionSidebar,r=e.isShowingAd;if(n)return null;var i=Ce()({"pl-controls-bottom":!0,"pl-controls-bottom__advertisement":r,"pl-flex":!0,"qa-controls-bottom":!0});return we.a.createElement("div",{className:i},we.a.createElement(ci,{getCurrentTime:t}),we.a.createElement(Pe.a,null),we.a.createElement(Nr,null),we.a.createElement(Te.a,null))};pi.propTypes=di;var hi=Object(Se.b)(fi)(pi),mi=n(43),yi=n(92),vi=n.n(yi),bi=n(314),gi={collectionItems:Ee.a.array.isRequired,showDivider:Ee.a.bool.isRequired,onMouseEnter:Ee.a.func,onMouseLeave:Ee.a.func,showSidebar:Ee.a.func,streamId:Ee.a.string.isRequired,t:Ee.a.func,title:Ee.a.string.isRequired},_i={showSidebar:function(){},t:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},wi=Ce()("pl-flex","pl-flex--verticalCenter","pl-flex--nowrap"),ki=Ce()("collection-button","pl-flex__item"),Ei=Ce()("collection-collapsed-info","pl-flex","pl-flex--verticalCenter","pl-flex__item"),Si=Ce()("collection-collapsed-info__title","qa-collection-collapsed-title","pl-flex__item"),Pi=Ce()("middot-divider","pl-flex__item"),Ti=Ce()("collection-collapsed-info__number","qa-collection-collapsed-progress","pl-flex__item");J.propTypes=gi,J.defaultProps=_i;var Oi=Object(De.c)()(J),Ci=n(10),xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ri={collectionItems:Ee.a.array.isRequired,shouldShowTopBar:Ee.a.bool.isRequired,showDivider:Ee.a.bool.isRequired,stream:Ee.a.object.isRequired,showSidebar:Ee.a.func,title:Ee.a.string.isRequired,win:Ee.a.object.isRequired},ji={showSidebar:function(){}},Ai=function(e){var t=e.collection,n=e.playerOptions,r=e.ui,i=e.stream,a=e.window,o=e.screenMode,s=e.screen;return{title:t.title,shouldShowTopBar:t.currentView===li.a&&!r.isMini&&s[0]===ti.g,showDivider:n.showInfo||o.isTheatreMode,collectionItems:t.items,stream:i,win:a}},Ii=function(e){return{showSidebar:function(){e(Object(mi.q)())}}},Ni=function(e){function t(){Z(this,t);var e=ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showSidebar=e.showSidebar.bind(e),e.onMouseEnter=e.onMouseEnter.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e._hoverTimeout=0,e}return te(t,e),xi(t,[{key:"onMouseEnter",value:function(){this._hoverTimeout=this.props.win.setTimeout(this.showSidebar,250)}},{key:"onMouseLeave",value:function(){this.props.win.clearTimeout(this._hoverTimeout),this._hoverTimeout=0}},{key:"showSidebar",value:function(){this.props.showSidebar()}},{key:"render",value:function(){var e=this.props,t=e.collectionItems,n=e.shouldShowTopBar,r=e.showDivider,i=e.stream,a=e.title;return n&&i.contentType===Ci.a?we.a.createElement(Oi,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,collectionItems:t,showDivider:r,showSidebar:this.showSidebar,streamId:String(i.videoId).substr(1),title:a}):null}}]),t}(we.a.Component);Ni.propTypes=Ri,Ni.defaultProps=ji;var Mi=Object(Se.b)(Ai,Ii)(Ni),Li={alt:Ee.a.string,classNames:Ee.a.shape({a:Ee.a.string,img:Ee.a.string}),href:Ee.a.string,imgSrc:Ee.a.string,onClick:Ee.a.func,target:Ee.a.string},qi=function(e){var t=e.alt,n=e.classNames,r=e.href,i=e.imgSrc,a=e.onClick,o=e.target;return we.a.createElement("a",{className:n.a,href:r,target:o,onClick:a},we.a.createElement("img",{alt:t,className:n.img,src:i}))};qi.propTypes=Li;var Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi={tags:Ee.a.array,openInNewTab:Ee.a.bool},Ui=function(e){var t=e.tags,n=e.openInNewTab,r=n?{target:"_blank",rel:"noopener"}:{},i=null;return t&&(i=t.map(function(e){return we.a.createElement("div",{className:"pl-streamtags__tag",key:e.id},we.a.createElement("a",Di({href:"https://www.twitch.tv/directory/all/tags/"+e.id},r),we.a.createElement("div",{className:"pl-streamtags__text"},e.localizedName)))})),we.a.createElement("div",{className:"pl-streamtags"},i)};Ui.propTypes=Bi;var Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi={gameName:Ee.a.string,gameUrl:Ee.a.string,lang:Ee.a.object,live:Ee.a.bool,isEmbed:Ee.a.bool,isMobile:Ee.a.bool,name:Ee.a.string,onClick:Ee.a.func,streamUrl:Ee.a.string,streamTags:Ee.a.array,title:Ee.a.string,viewerCount:Ee.a.number,className:Ee.a.string},Hi=Ce()("player-text-link","player-text-link--no-color","qa-game-name"),zi={container:"player-streaminfo__name",a:Ce()("player-text-link","player-text-link--no-color","qa-display-name")},Wi=function(e){var t=e.gameName,n=e.gameUrl,r=e.lang,i=e.live,a=e.name,o=e.streamUrl,s=e.streamTags,u=e.onClick,c=e.title,l=e.viewerCount,d=e.className,f=e.isEmbed,p=e.isMobile,h=Number(l).toLocaleString(r.shortCode),m=f?{target:"_blank",rel:"noopener"}:{},y=we.a.createElement("a",Fi({className:Hi,href:n},m),t),v=we.a.createElement("span",null,h),b=null,g=Ce()({"player-streaminfo__title":!0,"qa-stream-title":!0,"player-streaminfo__title--hide":i&&p});return i&&(b=we.a.createElement("div",{className:"player-streaminfo__viewers"},we.a.createElement(De.b,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:y,viewerCount:v,options:{count:l}}))),we.a.createElement("div",{className:d},we.a.createElement("div",{className:zi.container},we.a.createElement("a",Fi({className:zi.a,href:o},m,{onClick:u}),a)),we.a.createElement("div",{className:g},c),we.a.createElement("div",{className:"player-streaminfo__game"},b),we.a.createElement(Ui,{tags:s,openInNewTab:f}))};Wi.propTypes=Vi;var Gi=Object(De.c)()(Wi),Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yi={gameName:Ee.a.string,gameUrl:Ee.a.string,lang:Ee.a.object,live:Ee.a.bool,isEmbed:Ee.a.bool,playerType:Ee.a.string,title:Ee.a.string,viewerCount:Ee.a.number,className:Ee.a.string,onRemoveStream:Ee.a.func},Qi=Ce()("player-text-link","player-text-link--no-color","qa-game-name"),$i=function(e){var t=e.gameName,n=e.gameUrl,r=e.lang,i=e.live,a=e.playerType,o=e.title,s=e.viewerCount,u=e.className,c=e.isEmbed,l=e.onRemoveStream,d=Number(s).toLocaleString(r.shortCode),f=c?{target:"_blank",rel:"noopener noreferrer"}:{},p=a===ei.x,h=we.a.createElement("a",Ki({className:Qi,href:n},f),t),m=we.a.createElement("span",null,d),y=null,v=null,b=Ce()({"player-streaminfo__name":!0,"player-streaminfo__multiview-secondary":p});return i&&!p&&(y=we.a.createElement("div",{className:"player-streaminfo__viewers"},we.a.createElement(De.b,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:h,viewerCount:m,options:{count:s}}))),p&&(v=we.a.createElement(Me.a,{className:"remove-multiview-button",tabIndex:"-1",onClick:l},we.a.createElement(Vt.a,{id:"icon_remove_stream",viewBox:"-2 8 25 25",className:"remove-multiview-button__svg"}))),we.a.createElement("div",{className:u},we.a.createElement("div",{className:b},o,v),we.a.createElement("div",{className:"player-streaminfo__game"},y))};$i.propTypes=Yi;var Xi=Object(De.c)()($i),Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi={gameName:Ee.a.string,gameUrl:Ee.a.string,lang:Ee.a.object,live:Ee.a.bool,isEmbed:Ee.a.bool,isMobile:Ee.a.bool,streamTags:Ee.a.array,title:Ee.a.string,viewerCount:Ee.a.number,className:Ee.a.string},ea=Ce()("player-text-link","player-text-link--no-color","qa-game-name"),ta=function(e){var t=e.gameName,n=e.gameUrl,r=e.lang,i=e.live,a=e.streamTags,o=e.title,s=e.viewerCount,u=e.className,c=e.isEmbed,l=e.isMobile,d=Number(s).toLocaleString(r.shortCode),f=c?{target:"_blank",rel:"noopener"}:{},p=we.a.createElement("a",Ji({className:ea,href:n},f),t),h=we.a.createElement("span",null,d),m=null,y=Ce()({"player-streaminfo__title":!0,"qa-stream-title":!0,"player-streaminfo__title--hide":i&&l});return i&&(m=we.a.createElement("div",{className:"player-streaminfo__viewers"},we.a.createElement(De.b,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:p,viewerCount:h,options:{count:s}}))),we.a.createElement("div",{className:Ce()(u,"player-streaminfo__squad")},we.a.createElement("div",{className:y},o),we.a.createElement("div",{className:"player-streaminfo__game"},m),we.a.createElement(Ui,{tags:a,openInNewTab:c}))};ta.propTypes=Zi;var na=Object(De.c)()(ta),ra=n(67),ia=n(14),aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa={disabled:Ee.a.bool.isRequired,viewBox:Ee.a.string,fill:Ee.a.string},sa=function(e){return e.disabled?we.a.createElement(ia.a,aa({viewBox:"0 0 16 16"},e),we.a.createElement("path",{d:"M15.055 5.548C14.96 3.798 13.858 2 11.561 2 9.517 2 7.978 4.727 7.978 4.727S6.438 2 4.394 2C2.097 2 .994 3.798.902 5.548h14.153zM3.551 10.869c1.385 1.492 2.96 2.727 3.808 3.347.367.268.87.268 1.237 0 .85-.62 2.423-1.855 3.808-3.347H3.551zm11.52-1.774H.884a.888.888 0 1 1 0-1.773H15.07a.887.887 0 0 1 0 1.773z",fill:e.fill})):we.a.createElement(ia.a,aa({viewBox:"0 0 16 16"},e),we.a.createElement("path",{d:"M8.596 14.216a1.053 1.053 0 0 1-1.238 0C5.633 12.954.882 9.172.882 5.793.882 3.97 1.99 2 4.394 2c2.044 0 3.584 2.727 3.584 2.727S9.516 2 11.56 2c2.405 0 3.512 1.97 3.512 3.793 0 3.379-4.751 7.16-6.477 8.423",fill:e.fill}))};sa.propTypes=oa;var ua={blurAfterClick:Ee.a.bool,channelName:Ee.a.string.isRequired,isOwnChannel:Ee.a.bool.isRequired,isFollowing:Ee.a.bool.isRequired,onFollowChannel:Ee.a.func.isRequired,onUnfollowChannel:Ee.a.func.isRequired,hideChannelName:Ee.a.bool,hideUnfollowText:Ee.a.bool,t:Ee.a.func.isRequired},ca={blurAfterClick:!1,hideChannelName:!1,hideUnfollowText:!1},la=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isFollowing:e.follow.following}};ne.propTypes=ua,ne.defaultProps=ca;var da=Object(Se.b)(la),fa=Object(De.c)()(da(ne)),pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha={viewBox:Ee.a.string,fill:Ee.a.string},ma=function(e){return we.a.createElement(ia.a,pa({viewBox:"0 0 20 20"},e),we.a.createElement("path",{d:"M16.9 8.157a1.745 1.745 0 0 0-1.378-1.146l-2.619-.416-1.336-2.663C11.28 3.357 10.68 3 10.003 3s-1.276.357-1.564.932L7.103 6.595l-2.625.416A1.747 1.747 0 0 0 3.1 8.158a1.758 1.758 0 0 0 .353 1.76l1.865 2.061-.516 2.967a1.74 1.74 0 0 0 .681 1.71 1.77 1.77 0 0 0 1.846.148l2.675-1.383 2.678 1.384a1.731 1.731 0 0 0 1.838-.146 1.746 1.746 0 0 0 .688-1.712l-.519-2.969 1.861-2.064a1.75 1.75 0 0 0 .35-1.757",fillRule:"evenodd"}))};ma.propTypes=ha;var ya={channelName:Ee.a.string.isRequired,isOwnChannel:Ee.a.bool.isRequired,isSubscribed:Ee.a.bool.isRequired,isSubscribable:Ee.a.bool.isRequired,onSubscribe:Ee.a.func.isRequired,canGiftSub:Ee.a.bool,hideChannelName:Ee.a.bool,t:Ee.a.func.isRequired},va={canGiftSub:!1,hideChannelName:!1},ba=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isSubscribed:e.subscriptions.isSubscribed,isSubscribable:e.subscriptions.isSubscribable}};re.propTypes=ya,re.defaultProps=va;var ga=Object(Se.b)(ba),_a=Object(De.c)()(ga(re)),wa={avatarURL:Ee.a.string,onFollowChannel:Ee.a.func.isRequired,onUnfollowChannel:Ee.a.func.isRequired,onSubscribe:Ee.a.func.isRequired},ka=function(e){var t=Ce()({"pl-pinned-panel":!0,"pl-pinned-panel--te":!0});return we.a.createElement("div",{className:t},we.a.createElement("figure",{className:"pl-pinned-panel__avatar"},we.a.createElement("img",{src:e.avatarURL||Je.a,alt:"Avatar",height:30,width:30})),we.a.createElement(fa,{onFollowChannel:e.onFollowChannel,onUnfollowChannel:e.onUnfollowChannel}),we.a.createElement(_a,{onSubscribe:e.onSubscribe}))};ka.propTypes=wa;var Ea=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sa={avatarURL:Ee.a.string,channelName:Ee.a.string.isRequired,channelId:Ee.a.number.isRequired,userId:Ee.a.number.isRequired,isLoggedIn:Ee.a.bool.isRequired,isFollowing:Ee.a.bool.isRequired,didFetchFollow:Ee.a.bool.isRequired,didFetchSubscriptions:Ee.a.bool.isRequired,followChannel:Ee.a.func.isRequired,unfollowChannel:Ee.a.func.isRequired,window:Ee.a.object.isRequired,notificationsEnabled:Ee.a.bool.isRequired,analytics:Ee.a.object.isRequired,targetOrigin:Ee.a.string.isRequired},Pa=function(e){return{avatarURL:e.streamMetadata.channel.logo,channelName:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,userId:e.user.id,isLoggedIn:e.user.loggedInStatus===_r.a,isFollowing:e.follow.following,didFetchSubscriptions:e.subscriptions.didFetch,didFetchFollow:e.follow.fetched,window:e.window,notificationsEnabled:e.follow.notificationsEnabled,analytics:e.analyticsTracker,targetOrigin:e.env.twitchEverywhere.targetOrigin}},Ta=function(e){return{followChannel:function(t,n){e(Object(ra.p)(t,n))},unfollowChannel:function(t,n){e(Object(ra.t)(t,n))}}},Oa=function(e){function t(){ie(this,t);var e=ae(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribe=e.handleSubscribe.bind(e),e}return oe(t,e),Ea(t,[{key:"componentDidMount",value:function(){this.props.analytics.trackEvent(ra.h,{follow_state:this.props.isFollowing,notif_state:this.props.notificationsEnabled,src:ei.F})}},{key:"postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.window.parent.postMessage({eventName:e,namespace:"twitch-everywhere",params:t},this.props.targetOrigin)}},{key:"handleFollowChannel",value:function(){this.props.isLoggedIn?this.props.followChannel(this.props.userId,this.props.channelId):this.postMessage("authentication-required")}},{key:"handleUnfollowChannel",value:function(){this.props.unfollowChannel(this.props.userId,this.props.channelId)}},{key:"handleSubscribe",value:function(){var e=this.props.channelName;this.postMessage("subscribe",{channelName:e})}},{key:"render",value:function(){var e=!this.props.isLoggedIn&&this.props.channelName,t=this.props.didFetchFollow&&this.props.didFetchSubscriptions,n=this.props.channelId===this.props.userId;return e||t&&!n?we.a.createElement(ka,{avatarURL:this.props.avatarURL,onFollowChannel:this.handleFollowChannel,onUnfollowChannel:this.handleUnfollowChannel,onSubscribe:this.handleSubscribe}):null}}]),t}(we.a.Component);Oa.propTypes=Sa;var Ca=Object(Se.b)(Pa,Ta),xa=Ca(Oa),Ra=function(e){var t=e.isViewable,n=e.vodId,r=e.vodTitle;return n&&0!==n.length?t?we.a.createElement("span",null,":",we.a.createElement("a",{href:Je.A+"/videos/"+n,target:"_blank",rel:"noopener noreferrer"},r)):we.a.createElement("span",null,":",r):null};Ra.propTypes={vodId:Ee.a.string,vodTitle:Ee.a.string,isViewable:Ee.a.bool};var ja={container:"player-streaminfo__watchparty",divider:"player-streaminfo__watchparty-divider"},Aa=function(e){var t=e.vodIsViewable,n=e.t,r=e.vodId,i=e.vodTitle,a=e.vodBroadcastType;return we.a.createElement("div",{className:ja.container},n(se(a)),we.a.createElement(Ra,{vodId:r,vodTitle:i,isViewable:t}),we.a.createElement("div",{className:ja.divider}))};Aa.propTypes={t:Ee.a.func,vodId:Ee.a.string,vodTitle:Ee.a.string,vodIsViewable:Ee.a.bool,vodBroadcastType:Ee.a.string};var Ia=Object(De.c)()(Aa),Na=n(16),Ma=n(42),La=n(23),qa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Da={adPlaying:Ee.a.bool,displayName:Ee.a.string,gameName:Ee.a.string,isWatchParty:Ee.a.bool,isVod:Ee.a.bool.isRequired,isOnline:Ee.a.bool,lang:Ee.a.object,logo:Ee.a.string,name:Ee.a.string,pause:Ee.a.func,showInfo:Ee.a.bool,status:Ee.a.string,streamUrl:Ee.a.string,streamTags:Ee.a.array,playerType:Ee.a.string,isEmbed:Ee.a.bool,isMobile:Ee.a.bool,viewerCount:Ee.a.number,vodId:Ee.a.string,vodTitle:Ee.a.string,vodIsViewable:Ee.a.bool,vodBroadcastType:Ee.a.string,removeStream:Ee.a.func,titleOverride:Ee.a.string,logoOverride:Ee.a.string},Ba=function(e){var t=e.ads,n=e.playerOptions,r=e.env,i=e.lang,a=e.onlineStatus,o=e.screenMode,s=e.stream,u=e.streamMetadata,c=e.viewercount,l=e.watchParty,d=e.collection,f=e.multiview;return{adPlaying:t.currentMetadata.contentType!==Na.i.NONE,displayName:u.channel.displayName,gameName:u.game,lang:i,logo:u.channel.logo,name:u.name,showInfo:(n.showInfo||o.isFullScreen||o.isTheatreMode)&&d.currentView!==li.b,status:u.channel.status,streamUrl:u.url,streamTags:u.tags,viewerCount:c,playerType:r.playerType,isEmbed:r.playerType===ei.q||r.playerType===ei.F,isMobile:r.platform===Ma.a,isWatchParty:"watch_party"===u.streamType,isVod:s.contentType===Ci.a,isOnline:a===La.b,vodId:l.vodId,vodTitle:l.title,vodIsViewable:"public"===l.viewable,vodBroadcastType:l.broadcastType,titleOverride:f.titleOverride,logoOverride:f.logoOverride}},Ua=function(e){return{pause:function(){e(Object($r.s)())},removeStream:function(){e(Object(gr.I)())}}},Fa={a:"player-streaminfo__picture",img:"qa-broadcaster-logo"},Va=function(e){function t(){return ue(this,t),ce(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return le(t,e),qa(t,[{key:"render",value:function(){var e=this.props,t=e.adPlaying,n=e.showInfo,r=e.isWatchParty;if(t)return null;var i=this._createTEFollowPanel(),a=this._createLogoComponent(),o=this._createStreamInfoDisplay(),s=r?we.a.createElement(Ia,this.props):null;return n?we.a.createElement("div",{className:"player-streaminfo"},s,a,o,i):null}},{key:"_createTEFollowPanel",value:function(){return this.props.playerType===ei.F?we.a.createElement(xa,null):null}},{key:"_createLogoComponent",value:function(){var e=this.props.playerType,t=e===ei.F,n=Ae()(ei.e,e),r=e===ei.x,i=Ae()(ei.G,e),a=this.props,o=a.logo,s=a.streamUrl,u=a.logoOverride,c=n&&u?u:o;return t||!o||r||i?null:we.a.createElement(qi,{classNames:Fa,imgSrc:c,href:s,onClick:this.props.pause,target:"_blank"})}},{key:"_createStreamInfoDisplay",value:function(){var e=this.props,t=e.displayName,n=e.isOnline,r=e.name,i=e.status,a=e.gameName,o=e.streamUrl,s=e.streamTags,u=e.viewerCount,c=e.playerType,l=e.isEmbed,d=e.isMobile,f=e.isVod,p=e.lang,h=e.removeStream,m=e.titleOverride,y=n,v=f?r:i,b=Je.q+"/"+encodeURIComponent(a),g=c===ei.F,_=c===ei.x,w=this.props.playerType===ei.D,k=this.props.playerType===ei.E,E=Ae()(ei.e,c),S=Ce()({"player-streaminfo__meta-container":!g&&!_&&!w});if(E)return we.a.createElement(Xi,{className:S,live:y,title:m||v,gameName:a,gameUrl:b,playerType:c,viewerCount:u,lang:p,isEmbed:l,onRemoveStream:h});if(w)return we.a.createElement(na,{className:S,live:y,title:v,gameName:a,gameUrl:b,onClick:this.props.pause,playerType:c,streamTags:s,viewerCount:u,lang:p,isEmbed:l,isMobile:d});if(k)return null;var P=we.a.createElement(Gi,{className:S,live:y,name:t,title:v,gameName:a,gameUrl:b,onClick:this.props.pause,playerType:c,streamUrl:o,streamTags:s,viewerCount:u,lang:p,isEmbed:l,isMobile:d});return t?P:null}}]),t}(we.a.PureComponent);Va.propTypes=Da;var Ha=Object(Se.b)(Ba,Ua)(Va),za=n(37),Wa=n(9),Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ka={viewBox:Ee.a.string,fill:Ee.a.string},Ya=function(e){return we.a.createElement(ia.a,Ga({viewBox:"0 0 20 20"},e),we.a.createElement("path",{fill:e.fill,d:"M17.953 4.797c-.004-.404-.25-.766-.626-.917-.12-.05-.247-.073-.373-.073-.264 0-.522.104-.713.3l-1.49 1.526c-.725-.937-1.677-1.684-2.795-2.167-1.745-.754-3.68-.783-5.45-.084-1.766.702-3.154 2.048-3.91 3.795-.753 1.744-.783 3.68-.083 5.446.7 1.767 2.048 3.156 3.794 3.91 1.745.756 3.68.785 5.447.084.563-.222.838-.858.615-1.42-.22-.564-.856-.838-1.42-.615-1.224.485-2.563.464-3.77-.058-1.21-.522-2.143-1.484-2.63-2.707-.483-1.225-.462-2.562.06-3.772.523-1.21 1.484-2.14 2.707-2.626 1.225-.49 2.563-.47 3.773.05.867.375 1.585.983 2.104 1.745L11.3 9.142c-.283.288-.364.718-.206 1.09.155.37.517.608.92.608h.01l4.993-.046c.552-.006.995-.457.99-1.01L17.96 4.79z"}))};Ya.propTypes=Ka;var Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a={viewBox:Ee.a.string,fill:Ee.a.string},Xa=function(e){return we.a.createElement(ia.a,Qa({viewBox:"0 0 20 20"},e),we.a.createElement("path",{fill:e.fill,d:"M10 1c4.9 0 9 4.1 9 9s-4 9-9 9-9-4-9-9 4-9 9-9zm0 1.8c-3.9 0-7.2 3.3-7.2 7.2 0 3.9 3.3 7.2 7.2 7.2 3.9 0 7.2-3.3 7.2-7.2 0-3.9-3.3-7.2-7.2-7.2zm3.668 7.737l-4.8 3.4C8.784 13.98 8.69 14 8.6 14c-.11 0-.22-.03-.316-.09-.177-.107-.284-.3-.284-.51V6.6c0-.208.107-.4.284-.51C8.38 6.03 8.49 6 8.6 6c.09 0 .184.02.268.063l4.8 3.4c.204.102.332.31.332.537 0 .227-.128.435-.332.537z"}))};Xa.propTypes=$a;var Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Za={fill:Ee.a.string,viewBox:Ee.a.string},eo=function(e){return we.a.createElement(ia.a,Ja({viewBox:"0 0 12 12"},e),we.a.createElement("path",{d:"M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0",fill:e.fill}))};eo.propTypes=Za;var to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no={fill:Ee.a.string,viewBox:Ee.a.string},ro=function(e){return we.a.createElement(ia.a,to({viewBox:"0 0 12 12"},e),we.a.createElement("path",{d:"M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0",fill:e.fill}))};ro.propTypes=no;var io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao={fill:Ee.a.string,viewBox:Ee.a.string},oo=function(e){return we.a.createElement(ia.a,io({viewBox:"0 0 20 20"},e),we.a.createElement("path",{fill:e.fill,d:"M7.987 6.599C7.987 5.166 8.685 4 9.997 4c1.311 0 2.009 1.166 2.009 2.599v2.412H7.987V6.599zm7.256 2.412h-1.248V6.599C13.995 4.063 12.411 2 9.997 2S5.998 4.063 5.998 6.599v2.412H4.751c-.415 0-.751.359-.751.8v7.397c0 .442.336.8.751.8h10.492c.414 0 .751-.358.751-.8V9.811c0-.441-.337-.8-.751-.8z"}))};oo.propTypes=ao;var so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo={fill:Ee.a.string,viewBox:Ee.a.string},co=function(e){return we.a.createElement(ia.a,so({viewBox:"0 0 20 20"},e),we.a.createElement("path",{fill:e.fill,d:"M12.005 9.011H7.987V6.599C7.987 5.165 8.684 4 9.996 4c1.123 0 1.785.857 1.954 2.002 0 .554.493 1.003 1.046 1.003s.952-.449.952-1.003C13.718 3.75 12.215 2 9.996 2 7.582 2 5.997 4.063 5.997 6.599v2.412H4.75c-.414 0-.75.357-.75.8v7.387c0 .442.336.799.75.799h10.492c.415 0 .751-.357.751-.799V9.811c0-.443-.336-.8-.751-.8h-3.237z"}))};co.propTypes=uo;var lo={isLocked:Ee.a.bool.isRequired},fo=function(e){var t=null;return t=e.isLocked?we.a.createElement(oo,{className:"player-streamstatus__icon--locked",id:"locked"}):we.a.createElement(co,{className:"player-streamstatus__icon--unlocked",id:"unlocked"}),we.a.createElement("div",{className:"player-streamstatus__icon--lock-background"},we.a.createElement(za.b,{label:"restrictionStatus"},t))};fo.propTypes=lo;var po=n(44),ho=n(101),mo={streamType:Ee.a.string,i18n:Ee.a.object.isRequired,isOnline:Ee.a.bool,inCollection:Ee.a.bool,isRerun:Ee.a.bool,isPremiere:Ee.a.bool,isTheatreMode:Ee.a.bool,showingOfflineRecs:Ee.a.bool,playerType:Ee.a.string,hasSubOnlyLiveRestriction:Ee.a.bool,isPremiumContentRestricted:Ee.a.bool},yo=function(e){var t=e.lang,n=e.onlineStatus,r=e.stream,i=e.collection,a=e.streamMetadata,o=e.screen,s=e.screenMode,u=e.env,c=e.playback;return{streamType:r.contentType,i18n:t,isOnline:n===La.b,inCollection:Boolean(i.id),isRerun:"rerun"===a.streamType,isPremiere:"premiere"===a.streamType,isTheatreMode:s.isTheatreMode,showingOfflineRecs:o[0]===ti.i,playerType:u.playerType,hasSubOnlyLiveRestriction:a.restriction&&a.restriction.type===ho.a,isPremiumContentRestricted:c.contentRestriction===po.c}},vo=function(e){var t=e.streamType,n=e.i18n,r=e.isOnline,i=e.inCollection,a=e.isRerun,o=e.isPremiere,s=e.isTheatreMode,u=e.showingOfflineRecs,c=e.playerType,l=e.hasSubOnlyLiveRestriction,d=e.isPremiumContentRestricted,f=null,p=c===ei.x;if(!i&&!u){var h=Ce()("player-streamstatus__icon","player-streamstatus__icon--live","qa-live-label"),m=Ce()("player-streamstatus__icon","player-streamstatus__icon--offline"),y=Ce()("player-streamstatus__icon","player-streamstatus__icon--rerun"),v=Ce()("player-streamstatus__icon","player-streamstatus__icon--premiere");t===Wa.a&&(f=a&&r?we.a.createElement("span",null,we.a.createElement("span",{className:"player-streamstatus__container"},we.a.createElement(za.b,{label:"watchPartyStatus"},we.a.createElement(Ya,{className:y,id:"icon_rerun"})),we.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Rerun")))):o&&r?we.a.createElement("span",null,we.a.createElement("span",{className:"player-streamstatus__container"},we.a.createElement(za.b,{label:"watchPartyPremiereStatus"},we.a.createElement(Xa,{className:v,id:"icon_premiere"})),we.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Premiere")))):r?we.a.createElement("span",null,we.a.createElement(za.b,{label:"liveStatus"},we.a.createElement(eo,{className:h,id:"icon_live"})),we.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Live"))):we.a.createElement("span",null,we.a.createElement(za.b,{label:"offlineStatus"},we.a.createElement(ro,{className:m,id:"icon_offline"})),we.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Offline"))))}var b=Ce()({"player-streamstatus":!0,"player-streamstatus--theatre":s,"player-streamstatus--multiview-secondary":p,"player-streamstatus__icon-lock":l});return we.a.createElement("div",{className:b},f,l&&we.a.createElement(fo,{isLocked:d}))};vo.propTypes=mo;var bo=Object(Se.b)(yo)(vo),go={avatarURL:Ee.a.string,onFollowChannel:Ee.a.func.isRequired,onUnfollowChannel:Ee.a.func.isRequired,onSubscribeChannel:Ee.a.func.isRequired},_o=function(e){var t=Ce()({"pl-pinned-panel":!0,"pl-pinned-panel--ss":!0});return we.a.createElement("div",{className:t},we.a.createElement("figure",{className:"pl-pinned-panel__avatar"},we.a.createElement("img",{src:e.avatarURL||Je.a,alt:"Avatar",height:30,width:30})),we.a.createElement(fa,{blurAfterClick:!0,onFollowChannel:e.onFollowChannel,onUnfollowChannel:e.onUnfollowChannel,hideChannelName:!0,hideUnfollowText:!0}),we.a.createElement(_a,{onSubscribe:e.onSubscribeChannel,canGiftSub:!0,hideChannelName:!0}))};_o.propTypes=go;var wo=_o,ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Eo={avatarURL:Ee.a.string,channelId:Ee.a.number.isRequired,playerType:Ee.a.string.isRequired,userId:Ee.a.number.isRequired,emitFollowChannel:Ee.a.func.isRequired,emitUnfollowChannel:Ee.a.func.isRequired,emitSubscribeChannel:Ee.a.func.isRequired},So=function(e){return{avatarURL:e.streamMetadata.channel.logo,channelId:e.streamMetadata.channel.id,playerType:e.env.playerType,userId:e.user.id}},Po=function(e){return{emitFollowChannel:function(){e(Object(gr.D)())},emitUnfollowChannel:function(){e(Object(gr.M)())},emitSubscribeChannel:function(){e(Object(gr.J)())}}},To=function(e){function t(){de(this,t);var e=fe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribeChannel=e.handleSubscribeChannel.bind(e),e}return pe(t,e),ko(t,[{key:"handleFollowChannel",value:function(){this.props.emitFollowChannel()}},{key:"handleUnfollowChannel",value:function(){this.props.emitUnfollowChannel()}},{key:"handleSubscribeChannel",value:function(){this.props.emitSubscribeChannel()}},{key:"render",value:function(){var e=this.props.playerType===ei.D||this.props.playerType===ei.E,t=this.props.channelId,n=this.props.userId&&this.props.channelId===this.props.userId;return e&&t&&!n?we.a.createElement(wo,{avatarURL:this.props.avatarURL,onFollowChannel:this.handleFollowChannel,onUnfollowChannel:this.handleUnfollowChannel,onSubscribeChannel:this.handleSubscribeChannel}):null}}]),t}(we.a.Component);To.propTypes=Eo;var Oo=Object(Se.b)(So,Po)(To),Co={children:Ee.a.node.isRequired,isAmazonVSEPlayer:Ee.a.bool.isRequired,isShowingAd:Ee.a.bool.isRequired,playerType:Ee.a.string},xo=function(e){var t=e.env,n=e.screen;return{isAmazonVSEPlayer:t.playerType===ei.h,isShowingAd:n[0]===ti.c||n[0]===ti.m,playerType:t.playerType}};he.propTypes=Co;var Ro=Object(Se.b)(xo)(he),jo=n(156),Ao=n(25),Io=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),No={channelId:Ee.a.number,channelName:Ee.a.string,channelSubscriptionsFetched:Ee.a.func.isRequired,emitFollowChannel:Ee.a.func.isRequired,emitUnfollowChannel:Ee.a.func.isRequired,emitSubscribeChannel:Ee.a.func.isRequired,followInfoFetched:Ee.a.func.isRequired,isEnded:Ee.a.bool.isRequired,isRerun:Ee.a.bool.isRequired,isTheatre:Ee.a.bool.isRequired,subscriptionsProductsFetched:Ee.a.func.isRequired,videoId:Ee.a.string,userId:Ee.a.number},Mo=function(e){function t(){me(this,t);var e=ye(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={gqlErrors:!1},e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribeChannel=e.handleSubscribeChannel.bind(e),e}return ve(t,e),Io(t,[{key:"handleFollowChannel",value:function(){this.props.emitFollowChannel()}},{key:"handleUnfollowChannel",value:function(){this.props.emitUnfollowChannel()}},{key:"handleSubscribeChannel",value:function(){this.props.emitSubscribeChannel()}},{key:"componentDidUpdate",value:function(e){var t=this;be(this.props.userId,this.props.channelName,e.userId,e.channelName)&&Object(pt.i)(this.props.channelName).then(function(e){var n=e.user,r=n.subscriptionProducts,i=n.self;if(r&&i&&(t.props.subscriptionsProductsFetched(r&&r.length>0),t.props.channelSubscriptionsFetched(null!==i.subscriptionBenefit),i.follower)){var a=!!i.follower.followedAt,o=i.follower.notificationSettings&&i.follower.notificationSettings.isEnabled;t.props.followInfoFetched(a,o)}}).catch(function(){t.setState({gqlErrors:!0})})}},{key:"render",value:function(){var e=!!this.props.channelId,t=!!this.props.userId,n=t&&this.props.channelId===this.props.userId,r=null!==this.props.videoId,i=Ce()({"player-social-panel":!0,"player-social-panel-videos":r,"player-social-panel-rerun":this.props.isRerun});return!this.state.gqlErrors&&!r&&this.props.isTheatre&&t&&e&&!n&&!this.props.isEnded&&we.a.createElement(jo.a,{uuid:Ao.p,renderValue:"variant_a"},we.a.createElement("div",{className:i},we.a.createElement(fa,{blurAfterClick:!0,onFollowChannel:this.props.emitFollowChannel,onUnfollowChannel:this.props.emitUnfollowChannel,hideChannelName:!0,hideUnfollowText:!0}),we.a.createElement(_a,{onSubscribe:this.props.emitSubscribeChannel,canGiftSub:!0,hideChannelName:!0})))}}]),t}(we.a.Component);Mo.propTypes=No;var Lo=n(160),qo=function(e){return{channelId:e.streamMetadata.channel.id,channelName:e.streamMetadata.channel.name,isEnded:e.playback.ended,isRerun:"rerun"===e.streamMetadata.streamType,isTheatre:e.screenMode.isTheatreMode&&!e.screenMode.isFullScreen,videoId:e.streamMetadata.videoId,userId:e.user.id}},Do=function(e){return{channelSubscriptionsFetched:function(t){e(Object(Lo.g)({isSubscribed:t}))},emitFollowChannel:function(){e(Object(gr.D)())},emitUnfollowChannel:function(){e(Object(gr.M)())},emitSubscribeChannel:function(){e(Object(gr.J)())},followInfoFetched:function(t,n){e(Object(ra.q)({following:t,notificationsEnabled:n}))},subscriptionsProductsFetched:function(t){e(Object(Lo.j)({isSubscribable:t}))}}},Bo=Object(Se.b)(qo,Do)(Mo);n.d(t,"a",function(){return Ho});var Uo={player:Ee.a.object,shouldShowControls:Ee.a.bool.isRequired,showBottomControls:Ee.a.bool,showTopControls:Ee.a.bool},Fo={player:{getCurrentTime:function(){}},showBottomControls:!1,showTopControls:!1},Vo=function(e){return{shouldShowControls:e.ui.shouldShowControls}},Ho=Object(Se.b)(Vo)(ge);ge.propTypes=Uo,ge.defaultProps=Fo},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return P});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=n(35),f=n(2),p=n.n(f),h=n(48),m=n.n(h),y=n(23),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=m.a.msie||m.a.msedge,g=b?"invisible":"pl-hover-transition-out",_="hover-display",w={children:c.a.node.isRequired,onHoverElement:c.a.func.isRequired,onHoverOffElement:c.a.func.isRequired,showUI:c.a.bool.isRequired,isOffline:c.a.bool},k=function(e){var t=e.onlineStatus,n=e.ui;return{isOffline:t===y.a,showUI:n.showUI}},E=function(e){return{onHoverElement:function(){e(Object(d.n)())},onHoverOffElement:function(){e(Object(d.m)())}}},S=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={classes:p()(_)},e}return a(t,e),v(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.isOffline,n=e.showUI;this.props.showUI&&!n?this.setState({classes:p()(_,g)}):(!this.props.showUI&&n||t)&&this.setState({classes:p()(_,"pl-hover-transition-in")})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onHoverElement,r=e.onHoverOffElement;return s.a.createElement("div",{onMouseEnter:n,onMouseLeave:r,className:this.state.classes},t)}}]),t}(s.a.Component);S.propTypes=w;var P=Object(l.b)(k,E)(S)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return!e.hasPlayed&&t.hasPlayed&&t.isPlaying}n.d(t,"a",function(){return T});var s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(159),f=n.n(d),p=n(7),h=n.n(p),m=n(3),y=n(15),v=n(17),b=n(316),g=n(13),_=n(42),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k={unmutePlayer:l.a.func.isRequired,isMobileWeb:l.a.bool.isRequired,isPlaying:l.a.bool.isRequired,hasPlayed:l.a.bool.isRequired,isAutoMuted:l.a.bool.isRequired,setTimeout:l.a.func.isRequired,clearTimeout:l.a.func.isRequired,trackOverlayClick:l.a.func.isRequired,pushUnmuteScreen:l.a.func.isRequired,popScreen:l.a.func.isRequired,screenStack:l.a.arrayOf(l.a.string).isRequired},E=function(e){var t=e.env,n=e.playback,r=e.window,i=e.screen;return{isMobileWeb:t.platform===_.a,isPlaying:n.playing,hasPlayed:n.hasPlayed,isAutoMuted:n.automatedMute,setTimeout:r.setTimeout,clearTimeout:r.clearTimeout,screenStack:i}},S=function(e){return{unmutePlayer:function(){e(Object(y.r)(!1))},trackOverlayClick:function(){e(Object(v.d)("player_click",{component:"unmute_overlay"}))},pushUnmuteScreen:function(){e(Object(g.r)(g.o))},popScreen:function(){e(Object(g.q)())}}},P=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hideTimeoutId:0},e.handleClick=e.handleClick.bind(e),e.startTimeout=e.startTimeout.bind(e),e.cancelTimeout=e.cancelTimeout.bind(e),e.timeoutHandler=e.timeoutHandler.bind(e),e}return a(t,e),w(t,[{key:"componentDidMount",value:function(){this.props.isAutoMuted&&this.props.isPlaying&&this.props.hasPlayed&&!h()(this.props.screenStack,g.o)&&this.props.pushUnmuteScreen()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isAutoMuted&&e.isPlaying||e.screenStack[0]!==g.o||this.props.popScreen(),e.isAutoMuted&&o(this.props,e)&&!h()(e.screenStack,g.o)&&this.props.pushUnmuteScreen(),this.props.screenStack[0]===g.o&&e.screenStack[0]!==g.o&&this.cancelTimeout(),this.props.screenStack[0]!==g.o&&e.screenStack[0]===g.o&&this.startTimeout()}},{key:"render",value:function(){var e=u.a.createElement(b.a,{onClick:this.handleClick,isTapToUnmute:this.props.isMobileWeb}),t=this.props.screenStack[0]===g.o?e:null;return u.a.createElement(f.a,{component:"div"},t)}},{key:"timeoutHandler",value:function(){var e=this.props,t=e.screenStack,n=e.popScreen;t[0]===g.o&&n()}},{key:"startTimeout",value:function(){var e=this.props,t=e.setTimeout;(0,e.clearTimeout)(this.state.hideTimeoutId);var n=t(this.timeoutHandler,5e3);this.setState({hideTimeoutId:n})}},{key:"cancelTimeout",value:function(){(0,this.props.clearTimeout)(this.state.hideTimeoutId),this.setState({hideTimeoutId:0})}},{key:"handleClick",value:function(){var e=this.props,t=e.unmutePlayer,n=e.trackOverlayClick;t(),n()}}]),t}(u.a.Component);P.propTypes=k;var T=Object(m.b)(E,S)(P)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=n(0),T=n.n(P),O=n(1),C=n.n(O),x=n(7),R=n.n(x),j=n(3),A=n(8),I=n(37),N=function(){return T.a.createElement("svg",{viewBox:"0 0 30 30",id:"icon_replay"},T.a.createElement("path",{d:"M10.308 15.688c0-2.792 2.329-5.063 5.192-5.063V14l5.77-4.5L15.5 5v3.375c-4.135 0-7.5 3.28-7.5 7.313C8 19.718 11.365 23 15.5 23s7.5-3.28 7.5-7.313h-2.308c0 2.792-2.329 5.063-5.192 5.063s-5.192-2.27-5.192-5.063z",fillRule:"evenodd"}))},M=n(217),L=n(14),q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D={fill:C.a.string,viewBox:C.a.string},B=function(e){return T.a.createElement(L.a,q({viewBox:"0 0 30 30"},e),T.a.createElement("path",{d:"M13 7h-3a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1m7 0h-3a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1",fill:e.fill}))};B.propTypes=D;var U=n(2),F=n.n(U),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H={paused:C.a.bool.isRequired,showReplay:C.a.bool.isRequired,onPlay:C.a.func.isRequired,onPause:C.a.func.isRequired},z=F()({"player-button":!0,"qa-pause-play-button":!0}),W=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),V(t,[{key:"render",value:function(){var e=this.props,t=e.paused,n=e.onPlay,r=e.onPause,i=t?n:r;return T.a.createElement(A.a,{className:z,onClick:i,tabIndex:"-1"},this.getIcon())}},{key:"getIcon",value:function(){var e=this.props,t=e.paused;return e.showReplay?T.a.createElement("span",{className:"player-tip--aleft"},T.a.createElement(N,null)):t?T.a.createElement(I.a,{label:"Play",labelClass:"player-tip--aleft"},T.a.createElement(M.a,{id:"icon_play"})):T.a.createElement(I.a,{label:"Pause",labelClass:"player-tip--aleft"},T.a.createElement(B,{id:"icon_pause"}))}}]),t}(P.Component);W.propTypes=H;var G=n(15),K=n(17),Y=n(5),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$={pause:C.a.func.isRequired,play:C.a.func.isRequired,trackPlayPause:C.a.func.isRequired,unmutePlayer:C.a.func.isRequired,paused:C.a.bool.isRequired,showReplay:C.a.bool.isRequired,isMobileWeb:C.a.bool.isRequired},X=function(e){var t=e.playback,n=e.env;return{paused:t.paused,showReplay:R()(Y.c,n.playerType)&&t.paused&&t.ended,isMobileWeb:n.isMobileLocation}},J=function(e){return{play:function(){e(Object(G.t)())},pause:function(){e(Object(G.s)())},trackPlayPause:function(){e(Object(K.d)("player_click_playpause"))},unmutePlayer:function(){e(Object(G.r)(!1))}}},Z=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onPauseHandler=e.onPauseHandler.bind(e),e.onPlayHandler=e.onPlayHandler.bind(e),e}return u(t,e),Q(t,[{key:"render",value:function(){var e=this.props,t=e.paused,n=e.showReplay;return T.a.createElement(W,{onPause:this.onPauseHandler,onPlay:this.onPlayHandler,paused:t,showReplay:n})}},{key:"onPlayHandler",value:function(){var e=this.props,t=e.play,n=e.trackPlayPause;t(),n()}},{key:"onPauseHandler",value:function(){var e=this.props,t=e.pause,n=e.trackPlayPause,r=e.unmutePlayer,i=e.isMobileWeb;t(),n(),i&&r()}}]),t}(T.a.Component);Z.propTypes=$;var ee=Object(j.b)(X,J)(Z),te=n(4),ne=n(225),re=n(11),ie=n(44),ae=n(310),oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),se={muted:C.a.bool,mutePlayer:C.a.func,changeVolume:C.a.func,volume:C.a.number,trackVolumeButtonClick:C.a.func,isPlayingSound:C.a.bool,t:C.a.func},ue=function(e){return{muted:e.playback.muted,volume:e.playback.volume,isPlayingSound:Object(ie.i)(e)}},ce=function(e){return{mutePlayer:function(t){e(Object(G.r)(t,!1))},changeVolume:function(t){e(Object(G.q)(t))},trackVolumeButtonClick:function(t){var n=t?"mute":"unmute";e(Object(K.d)("player_click",{component:"volume_button",component_state:n}))}}},le={slider:"player-volume__slider player-slider",sliderLeft:"player-slider__left",sliderThumb:"player-volume__slider-thumb"},de=F()("pl-flex","pl-flex__item--grow","player-volume"),fe=function(e){function t(){c(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleIconClick=e.handleIconClick.bind(e),e.handleSliderChange=e.handleSliderChange.bind(e),e}return d(t,e),oe(t,[{key:"render",value:function(){var e=this.props,t=e.muted,n=e.volume,r=t?0:n,i=this.getVolumeIcon();return T.a.createElement("div",{className:de},T.a.createElement("button",{type:"button",className:"player-button player-button--volume qa-control-volume",onClick:this.handleIconClick},i),T.a.createElement("div",{className:"player-volume__slider-container"},T.a.createElement(ne.a,{classNames:le,alwaysShowThumb:!0,max:1,min:0,value:r,skipAnimation:!0,dragHandlers:{onDrag:this.handleSliderChange,onStop:this.handleSliderChange},onClick:this.handleSliderChange})))}},{key:"handleSliderChange",value:function(e){var t=this.props,n=t.changeVolume,r=t.mutePlayer;n(e),r(!1)}},{key:"handleIconClick",value:function(){var e=this.props,t=e.volume,n=e.changeVolume,r=e.mutePlayer,i=e.trackVolumeButtonClick;e.isPlayingSound?(r(!0),i(!0)):(r(!1),i(!1),0===t&&n(re.C))}},{key:"getVolumeIcon",value:function(){var e=this.props,t=e.t,n=e.isPlayingSound,r=T.a.createElement("span",{className:"unmute-button"},T.a.createElement("span",{className:"player-tip","data-tip":t("Unmute")}),T.a.createElement(ae.a,{id:"icon_volumemute",muted:!0})),i=T.a.createElement("span",{className:"mute-button"},T.a.createElement("span",{className:"player-tip","data-tip":t("Mute")}),T.a.createElement(ae.a,{id:"icon_volumefull",muted:!1}));return n?i:r}}]),t}(T.a.Component);fe.propTypes=se;var pe,he=Object(te.c)()(Object(j.b)(ue,ce)(fe)),me=n(120),ye=n.n(me),ve=n(565),be=n.n(ve),ge=(n(566),n(199)),_e={GlyphArrLeft:"GlyphArrLeft",GlyphArrRight:"GlyphArrRight;"},we=(pe={},f(pe,_e.GlyphArrRight,{path:P.createElement("path",{d:"M7.463 5.054a.714.714 0 0 0-.463.66v8.572c0 .289.183.55.463.66.28.11.603.05.817-.155l4.5-4.286A.696.696 0 0 0 13 10a.7.7 0 0 0-.22-.505L8.28 5.21a.777.777 0 0 0-.817-.155"}),width:20,height:20}),f(pe,_e.GlyphArrLeft,{path:P.createElement("path",{d:"M12.537 14.946a.714.714 0 0 0 .463-.66V5.714a.715.715 0 0 0-.463-.66.777.777 0 0 0-.817.155l-4.5 4.286A.696.696 0 0 0 7 10a.7.7 0 0 0 .22.505l4.5 4.286a.777.777 0 0 0 .817.155"}),width:20,height:20}),pe),ke={asset:C.a.oneOf([_e.GlyphArrRight,_e.GlyphArrLeft]),height:C.a.number,width:C.a.number,fill:C.a.bool},Ee=function(e){var t={width:e.fill?"100%":(e.width||20)+"px",height:e.fill?"100%":(e.height||20)+"px"};return P.createElement("figure",{className:"pl-flex"},P.createElement("svg",{width:e.fill?"100%":(e.width||20)+"px",height:e.fill?"100%":(e.height||20)+"px",version:"1.1",viewBox:"0 0 "+we[e.asset].width+" "+we[e.asset].height,x:"0px",y:"0px",style:t},we[e.asset].path))};Ee.propTypes=ke,Ee.displayName="GlyphArrow";var Se={active:C.a.bool.isRequired,currentTime:C.a.number.isRequired,index:C.a.number.isRequired,marker:C.a.object.isRequired,t:C.a.func.isRequired,trackEvent:C.a.func.isRequired,onSubClick:C.a.func.isRequired,onVideoMarkerClick:C.a.func.isRequired},Pe=F()({"video-markers-row__info-wrapper":!0,"pl-flex":!0,"pl-flex--horizontalCenter":!0,"pl-flex--column":!0,"pl-flex__item--grow":!0,"pl-pd-l-1":!0,"pl-pd-t-05":!0,"pl-pd-b-05":!0}),Te=F()({"video-markers-row__image-wrapper":!0,"pl-flex__item--noGrow":!0,"pl-flex__item--noShrink":!0,"video-markers-balloon-pl-relative":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),Oe=F()({"video-markers-row__image-play-overlay":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),Ce=function(e){function t(){e.marker.children&&e.marker.children.length>0?e.onSubClick(e.marker):e.onVideoMarkerClick(e.marker.offset),e.trackEvent("player_video_marker_balloon_item_click",{index:e.index,content_id:e.marker.id,content_type:e.marker.momentType})}var n=void 0;e.marker.children&&e.marker.children.length>0&&(n=T.a.createElement("div",{className:"pl-flex pl-flex--inline pl-flex--verticalCenter pl-flex__item--noShrink"},T.a.createElement("span",{className:"video-markers-balloon__item-pill pl-pill pl-pill--purple"},e.marker.children.length),T.a.createElement(Ee,{asset:_e.GlyphArrRight})));var r=F()({"video-markers-balloon__item":!0,"video-markers-balloon__item-active":e.active,"pl-flex":!0,"pl-flex--nowrap":!0});return T.a.createElement("div",{className:r},T.a.createElement("div",{className:"video-markers-balloon__item-interactable"},T.a.createElement("div",{className:"pl-flex pl-pd-05 pl-flex--nowrap",onClick:t,onKeyPress:t,role:"button",tabIndex:e.index},T.a.createElement("div",{className:Te},T.a.createElement("figure",null,T.a.createElement("img",{src:e.marker.thumbnailUrl,alt:e.marker.label})),T.a.createElement("div",{className:Oe},T.a.createElement("figure",{className:"video-markers-balloon__play"},T.a.createElement(M.a,null)))),T.a.createElement("div",{className:Pe},T.a.createElement("p",{className:"video-markers-balloon-c-text ellipsis"},e.marker.label),T.a.createElement("p",{className:"video-markers-balloon-c-text-alt-2"},e.marker.parentMoment?e.marker.subLabel:xe(e))),n)))},xe=function(e){if(e.active){var t=Re(e.currentTime,e.marker.offset,e.marker.duration);return Object(ge.d)(t,e.t)}return Object(ge.c)(e.marker.duration,e.t)},Re=function(e,t,n){return t+n-e};Ce.propTypes=Se;var je=Object(te.c)()(Ce),Ae={header:C.a.string,onNavigateBackClick:C.a.func.isRequired,showingChildren:C.a.bool.isRequired,t:C.a.func.isRequired},Ie=function(e){return e.showingChildren?T.a.createElement("div",{className:"pl-flex__item--noShrink pl-pd-05 pl-flex--inline pl-flex--verticalCenter",onClick:e.onNavigateBackClick,onKeyPress:e.onNavigateBackClick,role:"button",tabIndex:-1},T.a.createElement("div",{className:"pl-flex pl-flex--inline pl-flex--verticalCenter"},T.a.createElement(Ee,{asset:_e.GlyphArrLeft})),T.a.createElement("p",null,e.header&&""!==e.header?e.header:e.t("Chapter Select"))):T.a.createElement("div",{className:"pl-flex__item--noShrink pl-pd-05"},T.a.createElement("p",{className:"video-markers-balloon-c-text-alt-2"},e.t("Chapter Select")))};Ie.propTypes=Ae;var Ne=Object(te.c)()(Ie),Me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Le={currentTime:C.a.number.isRequired,header:C.a.string,markers:C.a.array.isRequired,onSubClick:C.a.func.isRequired,onVideoMarkerClick:C.a.func.isRequired,playerHeight:C.a.number.isRequired,trackEvent:C.a.func.isRequired},qe=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNavigateBackClick=n.onNavigateBackClick.bind(n),n.handleScrollbarRootRef=n.handleScrollbarRootRef.bind(n),n}return m(t,e),Me(t,[{key:"componentDidMount",value:function(){this.props.trackEvent("player_video_markers_balloon_load"),this.scrollbarRootRef&&(this.simplebarRef=new be.a(this.scrollbarRootRef))}},{key:"componentDidUpdate",value:function(){!this.simplebarRef&&this.scrollbarRootRef&&(this.simplebarRef=new be.a(this.scrollbarRootRef))}},{key:"componentWillUnmount",value:function(){this.scrollbarRootRef&&delete this.simplebarRef}},{key:"render",value:function(){var e=this,t=this.props.markers.reduce(function(e,t){return e&&t.parentMoment},!0);return T.a.createElement("div",{className:"video-markers-balloon__tail-wrapper",style:{height:Be(this.props.playerHeight,this.props.markers.length)}},T.a.createElement("div",{className:"video-markers-balloon__tail"},T.a.createElement("div",{className:"video-markers-balloon__tail-symbol"})),T.a.createElement("div",{className:"video-markers-balloon__contents pl-flex pl-flex--column pl-flex--nowrap"},T.a.createElement(Ne,{header:this.props.header,showingChildren:t,onNavigateBackClick:this.onNavigateBackClick}),T.a.createElement("div",{className:"pl-flex pl-flex-column pl-flex--nowrap pl-flex--fullHeight video-markers-balloon-pl-relative"},T.a.createElement("div",{className:"video-markers-balloon__contents-scrollable-area",ref:this.handleScrollbarRootRef},T.a.createElement("div",{className:"video-markers-balloon__contents-scrollable-content"},T.a.createElement("div",{className:"video-markers-balloon__content-container pl-flex--fullHeight pl-pd-b-1"},this.props.markers.map(function(t,n,r){return T.a.createElement(je,{key:t.label+"-"+t.offset+"-"+t.duration,active:De(t,r[n+1],e.props.currentTime),currentTime:e.props.currentTime,index:n,marker:t,trackEvent:e.props.trackEvent,onVideoMarkerClick:e.props.onVideoMarkerClick,onSubClick:e.props.onSubClick})})))))))}},{key:"onNavigateBackClick",value:function(){this.props.onSubClick(null)}},{key:"handleScrollbarRootRef",value:function(e){this.scrollbarRootRef=e}}]),t}(T.a.Component),De=function(e,t,n){return t?n>=e.offset&&n<t.offset:n>=e.offset},Be=function(e,t){var n=e/2;return n>67*t&&(n=67*t),n<134&&(n=134),n+28+"px"};qe.propTypes=Le;var Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fe={currentTime:C.a.number.isRequired,markers:C.a.array.isRequired,onVideoMarkerClick:C.a.func.isRequired,playerHeight:C.a.number.isRequired,trackEvent:C.a.func.isRequired},Ve=function(e){function t(e){y(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedMarker:null},n.handleVideoMarkerClick=n.handleVideoMarkerClick.bind(n),n.handleSubClick=n.handleSubClick.bind(n),n.renderMarkersList=n.renderMarkersList.bind(n),n}return b(t,e),Ue(t,[{key:"render",value:function(){return T.a.createElement("div",{className:"video-markers-balloon__menu"},this.renderMarkersList())}},{key:"renderMarkersList",value:function(){return this.state.selectedMarker?T.a.createElement(qe,{currentTime:this.props.currentTime,onVideoMarkerClick:this.handleVideoMarkerClick,onSubClick:this.handleSubClick,markers:this.state.selectedMarker.children||[],playerHeight:this.props.playerHeight,trackEvent:this.props.trackEvent,header:this.state.selectedMarker.gameName}):T.a.createElement(qe,{currentTime:this.props.currentTime,onVideoMarkerClick:this.handleVideoMarkerClick,onSubClick:this.handleSubClick,markers:this.props.markers,playerHeight:this.props.playerHeight,trackEvent:this.props.trackEvent})}},{key:"handleVideoMarkerClick",value:function(e){this.props.onVideoMarkerClick(e)}},{key:"handleSubClick",value:function(e){this.setState({selectedMarker:e})}}]),t}(T.a.Component);Ve.propTypes=Fe;var He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze={viewBox:C.a.string,fill:C.a.string},We=function(e){return T.a.createElement(L.a,He({viewBox:"0 0 30 30"},e),T.a.createElement("path",{d:"M2 11V9a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm0-6V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm0 12v-2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm15 0H8a1 1 0 1 1 0-2h9a1 1 0 1 1 0 2zm0-6H8a1 1 0 1 1 0-2h9a1 1 0 1 1 0 2zm0-6H8a1 1 0 1 1 0-2h9a1 1 0 1 1 0 2z",fill:e.fill}))};We.propTypes=ze;var Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(569);var Ke={currentTime:C.a.number.isRequired,markers:C.a.array.isRequired,playerHeight:C.a.number.isRequired,seekToTime:C.a.func.isRequired,trackEvent:C.a.func.isRequired},Ye=function(e){function t(){g(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggleBalloonVisibility=e.toggleBalloonVisibility.bind(e),e.handleVideoMarkerClick=e.handleVideoMarkerClick.bind(e),e.handleBalloonButtonClick=e.handleBalloonButtonClick.bind(e),e.state={visible:!1},e}return w(t,e),Ge(t,[{key:"render",value:function(){var e=this.props.markers.length>0,t=void 0;return this.state.visible&&(t=T.a.createElement(Ve,{currentTime:this.props.currentTime,onVideoMarkerClick:this.handleVideoMarkerClick,markers:this.props.markers,playerHeight:this.props.playerHeight,trackEvent:this.props.trackEvent})),e?T.a.createElement("div",{className:"player-button video-markers-balloon__button-wrapper pl-mg-t-05 pl-mg-l-05"},t,T.a.createElement(A.a,{onClick:this.handleBalloonButtonClick,tabIndex:"-1",className:"player-button"},T.a.createElement(I.a,{label:"Chapter Select",labelClass:"player-tip--aleft"},T.a.createElement(We,{id:"icon_list"})))):null}},{key:"handleClickOutside",value:function(){this.hideBalloon()}},{key:"handleVideoMarkerClick",value:function(e){this.props.seekToTime(e),this.hideBalloon()}},{key:"handleBalloonButtonClick",value:function(){this.toggleBalloonVisibility(),this.props.trackEvent("player_video_marker_balloon_click",{visible:this.state.visible})}},{key:"hideBalloon",value:function(){this.setState({visible:!1})}},{key:"toggleBalloonVisibility",value:function(){this.setState(function(e){return{visible:!e.visible}})}}]),t}(T.a.Component);Ye.propTypes=Ke;var Qe=ye()(Ye),$e=n(311),Xe={currentTime:C.a.number.isRequired,playerHeight:C.a.number.isRequired,seekToTime:C.a.func.isRequired,trackEvent:C.a.func.isRequired,videoMomentEdges:C.a.array.isRequired},Je=function(e){var t=e.playback,n=e.playerDimensions,r=e.vod;return{currentTime:t.currentTime,playerHeight:n.height,videoMomentEdges:r.videoMomentEdges}},Ze=function(e){return{seekToTime:function(t){e(Object(G.u)(t))},trackEvent:function(t,n){e(Object(K.d)(t,n))}}},et=function(e){return T.a.createElement(Qe,{currentTime:e.currentTime,markers:tt(e.videoMomentEdges),playerHeight:e.playerHeight,seekToTime:e.seekToTime,trackEvent:e.trackEvent})},tt=function(e){return(e||[]).map(function(e){return Object($e.b)(e.node)})};et.propTypes=Xe;var nt=Object(j.b)(Je,Ze)(et),rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),it=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1},n}return S(t,e),rt(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?null:T.a.createElement(nt,null)}}]),t}(T.a.Component);n.d(t,"a",function(){return at});var at=function(){return T.a.createElement("div",{className:"player-buttons-left"},T.a.createElement(it,null),T.a.createElement(ee,null),T.a.createElement(he,null))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){var t=e.captionsEnabled,n=e.onDisableCaptions,r=e.onEnableCaptions;return t?L.a.createElement(de.a,{className:Le,onClick:n,tabIndex:"-1"},L.a.createElement(fe.a,{label:"Captions"},L.a.createElement(Ne,{id:"icon_cc_on",enabled:!0}))):L.a.createElement(de.a,{className:Le,onClick:r,tabIndex:"-1"},L.a.createElement(fe.a,{label:"Captions"},L.a.createElement(Ne,{id:"icon_cc_off",enabled:!1})))}function p(e){var t=e.captionsAvailable,n=e.captionsEnabled,r=e.onEnableCaptions,i=e.onDisableCaptions;return t?L.a.createElement(f,{captionsEnabled:n,onEnableCaptions:r,onDisableCaptions:i}):null}function h(e){var t=e.hasAltShortcut,n=e.onClip,r=e.t,i=e.disabled,a=void 0!==i&&i,o=t?"Clip (Alt+X)":"Clip",s=null;return a&&(o="",s=L.a.createElement("div",{className:"pl-menu clips-disabled__notification"},r("Clips is under maintenance and will be back in a few hours."))),L.a.createElement("div",{className:"clips-disabled__hover"},s,L.a.createElement(de.a,{className:"player-button pl-clips-button",onClick:n,disabled:a},L.a.createElement(fe.a,{label:o},L.a.createElement(He,{id:"icon_clips"}))))}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e){var t=e.castingState,n=e.onClick;return t!==nt.d&&X()(nt.e,t)?L.a.createElement(de.a,{className:"player-button",onClick:n},L.a.createElement(fe.a,{label:"Chromecast"},L.a.createElement(st,{castingState:t}))):null}function g(e){var t=e.castingState,n=e.playerType,r=e.stopCast,i=e.startCast;if(n===ke.u)return null;var a=void 0;return a=t===nt.a?i:t===nt.b?r:function(){},L.a.createElement(b,{castingState:t,onClick:a})}function _(e){var t=e.canTheatreMode,n=e.isTheatreMode,r=e.enableTheatreMode,i=e.disableTheatreMode,a=e.isFullScreen;return!t||a?null:n?L.a.createElement(kt,{onClick:i}):L.a.createElement(gt,{onClick:r})}function w(e){var t=e.canFullScreen,n=e.hasBranding,r=e.isFullScreen,i=e.onFullScreen,a=e.onUnFullScreen,o=ee()({"player-button":!0,"qa-fullscreen-button":!0,"pl-button__fullscreen--cannot-fullscreen":!t,"pl-mg-r-1":!n,"pl-button__fullscreen--tooltip-left":!n});return r?L.a.createElement(de.a,{className:o,onClick:a,disabled:!t,tabIndex:"-1"},L.a.createElement(fe.a,{label:"Exit Fullscreen"},L.a.createElement(Rt,{id:"icon_unfullscreen",enabled:!0}))):L.a.createElement(de.a,{className:o,onClick:i,disabled:!t,tabIndex:"-1"},L.a.createElement(fe.a,{label:"Fullscreen"},L.a.createElement(Rt,{id:"icon_fullscreen",enabled:!1})))}function k(e){var t=e.canFullScreen,n=e.hasBranding,r=e.isFullScreen,i=e.onFullScreen,a=e.onUnFullScreen;return L.a.createElement(w,{canFullScreen:t,hasBranding:n,isFullScreen:r,onFullScreen:i,onUnFullScreen:a})}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e){var t=e.children,n=e.onClose;return L.a.createElement("div",{className:gn},L.a.createElement("button",{type:"button",className:_n,onClick:n},L.a.createElement(vn.a,{className:"pl-close-button__svg",id:"#pl-icon_close"})),t)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e){var t=e.isHighlighted,n=e.multiviewEnabled,r=e.onHoverMessage,i=e.onMultiview,a=ee()({"player-button":!0,"player-button--highlighted":t,"qa-multiview-button":!0}),o=r||"Toggle Command Center";return n?L.a.createElement(de.a,{className:a,onClick:i,tabIndex:"-1"},L.a.createElement(fe.a,{label:o,labelClass:"player-tip--multiview"},L.a.createElement(Un,{viewBox:"-2 -2 24 24",id:"icon_multiview"}))):null}function N(e){var t=e.isHighlighted,n=e.multiviewEnabled,r=e.onHoverMessage,i=e.onMultiview;return L.a.createElement(I,{isHighlighted:t,multiviewEnabled:n,onHoverMessage:r,onMultiview:i})}var M=n(0),L=n.n(M),q=n(1),D=n.n(q),B=n(3),U=n(219),F=n(35),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H={i18n:D.a.object.isRequired,windowObj:D.a.object.isRequired,notifications:D.a.arrayOf(D.a.func).isRequired,removeCurrentNotification:D.a.func,currentMenu:D.a.string.isRequired},z=function(e){var t=e.notifications,n=e.lang,r=e.ui,i=e.window;return{notifications:t,i18n:n,currentMenu:r.showSettings,windowObj:i}},W=function(e){return{removeCurrentNotification:function(){e(Object(U.d)())}}},G=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return a(t,e),V(t,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.currentMenu,r=n!==F.j;if(!t.length||r)return null;var i=t[0];return L.a.createElement(i,{onClose:this.handleClose,showNotification:!r})}},{key:"handleClose",value:function(){this.props.removeCurrentNotification()}}]),t}(L.a.Component);G.propTypes=H;var K=Object(B.b)(z,W)(G),Y=n(120),Q=n.n(Y),$=n(7),X=n.n($),J=n(4),Z=n(2),ee=n.n(Z),te={bannerLabel:D.a.string.isRequired,showBanner:D.a.bool.isRequired},ne=ee()({"pl-settings-container":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),re=function(e){var t=e.bannerLabel,n=e.showBanner,r=ee()({"pl-pill":!0,"pl-settings-banner--animateIn":n,"pl-settings-banner--animateOut":!n,"qa-settings-banner-span":!0});return L.a.createElement("div",{className:ne},L.a.createElement("span",{className:r},t))};re.propTypes=te;var ie=n(214),ae=n(155),oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),se={availableQualities:D.a.array.isRequired,currentQuality:D.a.string.isRequired,playbackRate:D.a.number.isRequired,t:D.a.func.isRequired,windowObj:D.a.object.isRequired},ue=function(e){var t=e.playback,n=e.quality,r=e.window;return{availableQualities:n.available,currentQuality:n.current,playbackRate:t.playbackRate,windowObj:r}},ce=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={canRenderBanner:!1,lastQuality:"",hasChangedQuality:!1},e.bannerHideTimeout=0,e}return u(t,e),oe(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentQuality!==this.state.lastQuality&&this._onQualityPropChange(e),this.state.hasChangedQuality||e.currentQuality!==this.state.lastQuality||1!==e.playbackRate&&this._isValidPlaybackSpeed(e.playbackRate)?this.setState({canRenderBanner:!0}):this.setState({canRenderBanner:!1})}},{key:"componentWillUnmount",value:function(){0!==this.bannerHideTimeout&&this.props.windowObj.clearTimeout(this.bannerHideTimeout)}},{key:"clearBannerHideTimeout",value:function(){this.props.windowObj.clearTimeout(this.bannerHideTimeout),this.bannerHideTimeout=0}},{key:"showBannerForQuality",value:function(e){this.setState({lastQuality:e,hasChangedQuality:!0})}},{key:"hideBannerForQuality",value:function(){this.setState({hasChangedQuality:!1}),this.bannerHideTimeout=0}},{key:"_onQualityPropChange",value:function(e){var t=this;0!==this.bannerHideTimeout&&this.clearBannerHideTimeout(),this.showBannerForQuality(e.currentQuality),this.bannerHideTimeout=e.windowObj.setTimeout(function(){t.hideBannerForQuality()},5e3)}},{key:"render",value:function(){var e=this.props.playbackRate,t=this.state,n=t.canRenderBanner,r=t.hasChangedQuality,i=r||1!==e&&this._isValidPlaybackSpeed(e),a=this._getBannerLabel();return n?L.a.createElement(re,{bannerLabel:a,showBanner:i}):null}},{key:"_getBannerLabel",value:function(){var e=this.props,t=e.playbackRate,n=e.availableQualities,r=e.currentQuality,i=e.t;return this.state.hasChangedQuality?Object(ie.a)(n,r,i):1!==t&&this._isValidPlaybackSpeed(t)?t+"x":""}},{key:"_isValidPlaybackSpeed",value:function(e){return X()(ae.a,e)}}]),t}(L.a.Component);ce.propTypes=se;var le=Object(J.c)()(Object(B.b)(ue)(ce)),de=n(8),fe=n(37),pe=n(14),he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me={fill:D.a.string,viewBox:D.a.string},ye=function(e){return L.a.createElement(pe.a,he({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M14.97 18.395a3.37 3.37 0 1 1-.001-6.739 3.37 3.37 0 0 1 .002 6.738m7.3-4.915a48.16 48.16 0 0 0-.926-.127c-.037-.005-.071-.03-.081-.065a6.553 6.553 0 0 0-.615-1.48.09.09 0 0 1 .007-.1c.19-.247.377-.497.558-.74a.844.844 0 0 0-.083-1.091L20.12 8.863a.842.842 0 0 0-1.09-.081 47.8 47.8 0 0 0-.741.557.092.092 0 0 1-.1.01 6.415 6.415 0 0 0-1.481-.614.09.09 0 0 1-.064-.078c-.04-.308-.084-.63-.13-.93a.856.856 0 0 0-.828-.729h-1.43a.856.856 0 0 0-.83.728c-.044.3-.088.615-.128.925-.005.036-.03.07-.064.08a6.53 6.53 0 0 0-1.481.615.091.091 0 0 1-.1-.008 53.22 53.22 0 0 0-.74-.558.843.843 0 0 0-1.091.083L8.81 9.875a.843.843 0 0 0-.082 1.091c.18.244.369.494.558.74.023.03.026.07.009.1a6.504 6.504 0 0 0-.614 1.481.09.09 0 0 1-.077.064c-.308.04-.604.083-.905.128a.833.833 0 0 0-.7.83v1.43c0 .412.294.768.7.83.3.044.604.088.912.128.037.006.064.03.073.065.142.515.348 1.013.612 1.48a.09.09 0 0 1-.01.1c-.19.246-.377.495-.558.74a.843.843 0 0 0 .082 1.09l1.01 1.012a.844.844 0 0 0 1.092.082c.245-.18.493-.367.74-.558a.09.09 0 0 1 .1-.008c.466.264.964.47 1.48.614.035.01.06.04.065.076.04.31.084.607.129.907a.833.833 0 0 0 .829.703h1.43a.833.833 0 0 0 .829-.703c.045-.3.089-.604.129-.913a.088.088 0 0 1 .064-.073 6.544 6.544 0 0 0 1.48-.613.09.09 0 0 1 .1.01c.248.19.497.377.742.559a.84.84 0 0 0 1.089-.084l1.012-1.01a.844.844 0 0 0 .082-1.091 49.49 49.49 0 0 0-.558-.74.088.088 0 0 1-.008-.1c.264-.467.47-.965.613-1.48a.09.09 0 0 1 .077-.065c.308-.04.633-.083.934-.128a.858.858 0 0 0 .729-.83V14.31a.859.859 0 0 0-.73-.83",fill:e.fill}))};ye.propTypes=me;var ve={onClick:D.a.func,showSpinningAnimation:D.a.bool.isRequired},be={onClick:function(){}},ge=function(e){var t=e.onClick,n=e.showSpinningAnimation,r=ee()({"qa-settings-button":!0,"player-button--settings":!0,"player-button":!0}),i=ee()({"pl-settings-icon":!0,"pl-settings-icon--spin":n});return L.a.createElement(de.a,{onClick:t,className:r},L.a.createElement(fe.a,{label:"Settings",iconClass:i},L.a.createElement(ye,{id:"icon_settings"})))};ge.propTypes=ve,ge.defaultProps=be;var _e=n(213),we=n(52),ke=n(5),Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Se={isAutoQuality:D.a.bool.isRequired,isEnded:D.a.bool.isRequired,isPaused:D.a.bool.isRequired,isSettingsShown:D.a.bool.isRequired,isClipsPlayerType:D.a.bool.isRequired,onShowSettings:D.a.func,playerHeight:D.a.number.isRequired,qualitiesAvailable:D.a.bool.isRequired,qualityIsChanging:D.a.bool.isRequired,trackEvent:D.a.func.isRequired,windowObj:D.a.object.isRequired},Pe={showSettings:function(){}},Te=function(e){var t=e.analyticsTracker,n=e.quality,r=e.playback,i=e.playerDimensions,a=e.ui,o=e.window,s=e.env;return{isAutoQuality:n.selected===we.i,isEnded:r.ended,isPaused:r.paused,isSettingsShown:a.showSettings===F.k,isClipsPlayerType:X()(ke.c,s.playerType),playerHeight:i.height,qualitiesAvailable:n.available.length>0,qualityIsChanging:n.selected!==n.current,trackEvent:t.trackEvent,windowObj:o}},Oe=function(e){return{onShowSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.j;e(Object(F.r)(t))}}},Ce=function(e){function t(){c(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSettingsButtonClick=e.handleSettingsButtonClick.bind(e),e.handleWindowBlur=e.handleWindowBlur.bind(e),e}return d(t,e),Ee(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this.handleWindowBlur)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this.handleWindowBlur)}},{key:"handleWindowBlur",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(F.j)}},{key:"handleClickOutside",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(F.j)}},{key:"handleSettingsButtonClick",value:function(){var e=this.props.isSettingsShown?F.j:F.k;this.props.onShowSettings(e),this.props.trackEvent("player_click_options")}},{key:"render",value:function(){var e=this.props,t=e.isAutoQuality,n=e.isEnded,r=e.isPaused,i=e.isSettingsShown,a=e.playerHeight,o=e.qualitiesAvailable,s=e.qualityIsChanging,u=e.isClipsPlayerType,c=i?L.a.createElement(_e.h,{playerHeight:a}):null,l=!t&&o&&s&&!u,d=!n&&!r,f=l&&d;return L.a.createElement("div",{className:"pl-flex"},L.a.createElement(le,null),L.a.createElement(ge,{onClick:this.handleSettingsButtonClick,showSpinningAnimation:f}),c)}}]),t}(L.a.Component);Ce.propTypes=Se,Ce.defaultProps=Pe;var xe=Object(B.b)(Te,Oe)(Q()(Ce)),Re=n(34),je=n(17),Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie={enabled:D.a.bool.isRequired,fill:D.a.string,viewBox:D.a.string},Ne=function(e){return e.enabled?L.a.createElement(pe.a,Ae({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M18.613 16.5c.645 0 .869-.276.981-.484a.691.691 0 0 1 .97-.282.772.772 0 0 1 .268 1.023c-.305.567-.939 1.243-2.219 1.243C17.172 18 16 16.654 16 15s1.172-3 2.613-3c1.024 0 1.891.573 2.319 1.533.166.375.015.821-.341.997a.698.698 0 0 1-.948-.359 1.072 1.072 0 0 0-1.03-.671c-.655 0-1.189.673-1.189 1.5s.534 1.5 1.189 1.5m-7 0c.645 0 .869-.276.981-.484a.691.691 0 0 1 .97-.282.772.772 0 0 1 .268 1.023c-.305.567-.939 1.243-2.219 1.243C10.172 18 9 16.654 9 15s1.172-3 2.613-3c1.024 0 1.891.573 2.319 1.533.166.375.015.821-.341.997a.698.698 0 0 1-.948-.359 1.072 1.072 0 0 0-1.03-.671c-.656 0-1.189.673-1.189 1.5s.533 1.5 1.189 1.5M23 7H7c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.102 0 2-.897 2-2V9c0-1.103-.898-2-2-2",fill:e.fill})):L.a.createElement(pe.a,Ae({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M7 21h16V9H7v12zM23 7c1.103 0 2 .897 2 2v12c0 1.103-.897 2-2 2H7c-1.103 0-2-.897-2-2V9c0-1.103.897-2 2-2h16zm-4.387 11c1.28 0 1.914-.676 2.218-1.243a.772.772 0 0 0-.266-1.023.692.692 0 0 0-.97.282c-.112.208-.337.484-.982.484-.655 0-1.189-.673-1.189-1.5 0-.828.534-1.5 1.19-1.5.471 0 .836.237 1.03.67.168.375.591.536.947.36.355-.176.508-.623.341-.998-.428-.96-1.295-1.532-2.319-1.532C17.171 12 16 13.345 16 15c0 1.654 1.171 3 2.613 3zm-7 0c1.28 0 1.914-.676 2.22-1.243a.772.772 0 0 0-.268-1.023.692.692 0 0 0-.97.282c-.113.208-.337.484-.982.484-.656 0-1.189-.673-1.189-1.5 0-.828.533-1.5 1.19-1.5.471 0 .837.237 1.03.67.168.375.591.536.947.36.355-.176.508-.623.341-.998-.428-.96-1.295-1.532-2.319-1.532C10.173 12 9 13.345 9 15c0 1.654 1.172 3 2.613 3z",fill:e.fill,fillRule:"evenodd"}))};Ne.propTypes=Ie;var Me={captionsEnabled:D.a.bool.isRequired,onDisableCaptions:D.a.func.isRequired,onEnableCaptions:D.a.func.isRequired},Le=ee()({"player-button":!0});f.propTypes=Me;var qe={captionsAvailable:D.a.bool.isRequired,captionsEnabled:D.a.bool.isRequired,onEnableCaptions:D.a.func.isRequired,onDisableCaptions:D.a.func.isRequired},De=function(e){var t=e.captions;return{captionsAvailable:t.available,captionsEnabled:t.enabled}},Be=function(e){return{onEnableCaptions:function(){e(Object(Re.j)(!0)),e(Object(je.d)("player_click_cc"))},onDisableCaptions:function(){e(Object(Re.j)(!1)),e(Object(je.d)("player_click_cc"))}}};p.propTypes=qe;var Ue=Object(B.b)(De,Be)(p),Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve={fill:D.a.string,viewBox:D.a.string},He=function(e){return L.a.createElement(pe.a,Fe({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M23 9.84l-.28-1.98a1.002 1.002 0 0 0-1.131-.852l-2.475.351 1.906 2.76L23 9.84zm-5.03.7l-1.905-2.76-2.97.42 1.904 2.76 2.971-.42zm-5.73.84l-1.904-2.76-2.474.35a1 1 0 0 0-.852 1.13l.28 1.98 4.95-.7zM23 14v8.083c0 .552-.447.918-1 .918H8c-.552 0-1-.366-1-.918v-8.084h5l-2 3h3l2-3h3l-2 3h3l2-3h2V14z",fill:e.fill}))};He.propTypes=Ve;var ze={hasAltShortcut:D.a.bool.isRequired,onClip:D.a.func.isRequired,t:D.a.func.isRequired,disabled:D.a.bool};h.propTypes=ze;var We=Object(J.c)()(h),Ge=n(220),Ke=n(156),Ye=n(25),Qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$e={clipGenerator:D.a.shape({recordClip:D.a.func.isRequired}).isRequired,userCanClip:D.a.bool.isRequired,isSitePlayer:D.a.bool.isRequired,trackClipRecord:D.a.func.isRequired},Xe=function(e){return{clipGenerator:e.clips.generator,isSitePlayer:e.env.playerType===ke.B,userCanClip:Object(Ge.b)(e)}},Je=function(e){return{trackClipRecord:function(){e(Object(je.d)("player_click_clip"))}}},Ze=function(e){function t(){m(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClip=e.onClip.bind(e),e.renderClipButton=e.renderClipButton.bind(e),e}return v(t,e),Qe(t,[{key:"onClip",value:function(){this.props.clipGenerator.recordClip(),this.props.trackClipRecord()}},{key:"renderClipButton",value:function(e){return L.a.createElement(We,{onClip:this.onClip,hasAltShortcut:this.props.isSitePlayer,disabled:e})}},{key:"render",value:function(){return this.props.userCanClip?L.a.createElement("div",null,L.a.createElement(Ke.a,{uuid:Ye.b,renderValue:"control"},this.renderClipButton(!1)),L.a.createElement(Ke.a,{uuid:Ye.b,renderValue:"variant1"},this.renderClipButton(!0))):null}}]),t}(L.a.Component);Ze.propTypes=$e;var et=Object(B.b)(Xe,Je)(Ze),tt=n(115),nt=n(64),rt=n(6),it=n.n(rt),at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot={castingState:D.a.string,fill:D.a.string,viewBox:D.a.string},st=function(e){var t=it()({},e,{className:ee()({"chromecast-icon":!0,"chromecast--available":e.castingState===nt.a,"chromecast--connected":e.castingState===nt.b,"chromecast--connecting":e.castingState===nt.c})});return L.a.createElement(pe.a,at({viewBox:"0 0 30 30"},t),L.a.createElement("path",{d:"M15,22c0-0.7-0.1-1.4-0.2-2H22V10H8v3.2C7.4,13.1,6.7,13,6,13V8h18v14H15z",fill:e.fill}),L.a.createElement("path",{className:"chromecast-connected",d:"M10,13.9V12h10v6h-5.9C13.2,16.2,11.8,14.8,10,13.9z",fill:e.fill}),L.a.createElement("path",{className:"chromecast-connecting-A",d:"M13,22h-1c0-3.3-2.7-6-6-6v-1C9.9,15,13,18.1,13,22z",fill:e.fill}),L.a.createElement("path",{className:"chromecast-connecting-B",d:"M10,22H9c0-1.7-1.3-3-3-3v-1C8.2,18,10,19.8,10,22z",fill:e.fill}),L.a.createElement("path",{className:"chromecast-connecting-C",d:"M7,22H6v-1C6.6,21,7,21.4,7,22z",fill:e.fill}))};st.propTypes=ot;var ut={castingState:D.a.string.isRequired,onClick:D.a.func.isRequired};b.propTypes=ut;var ct={castingState:D.a.string.isRequired,playerType:D.a.string.isRequired,startCast:D.a.func,stopCast:D.a.func},lt={startCast:function(){},stopCast:function(){}},dt=function(e){var t=e.chromecast,n=e.env;return{castingState:t.castingState,playerType:n.playerType}},ft=function(e){return{startCast:function(){e(Object(tt.g)())},stopCast:function(){e(Object(tt.h)())}}};g.propTypes=ct,g.defaultProps=lt;var pt=Object(B.b)(dt,ft)(g),ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt={enabled:D.a.bool.isRequired,fill:D.a.string,viewBox:D.a.string},yt=function(e){return e.enabled?L.a.createElement(pe.a,ht({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M23 8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h16zm-4 12h3V10h-3v10zM8 20h9V10H8v10z",fill:e.fill,fillRule:"nonzero"})):L.a.createElement(pe.a,ht({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M23 8h-3a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1m-6 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1",fill:e.fill,fillRule:"nonzero"}))};yt.propTypes=mt;var vt={onClick:D.a.func.isRequired},bt=ee()({"player-button":!0,"qa-theatre-mode-button":!0}),gt=function(e){var t=e.onClick;return L.a.createElement(de.a,{className:bt,onClick:t,tabIndex:"-1"},L.a.createElement(fe.a,{label:"Theatre Mode",labelClass:"player-tip--theater-mode"},L.a.createElement(yt,{id:"icon_theatre",enabled:!0})))};gt.propTypes=vt;var _t={onClick:D.a.func.isRequired},wt=ee()({"player-button":!0,"qa-theatre-mode-button":!0}),kt=function(e){var t=e.onClick;return L.a.createElement(de.a,{className:wt,onClick:t,tabIndex:"-1"},L.a.createElement(fe.a,{label:"Exit Theatre Mode",labelClass:"player-tip--theater-mode"},L.a.createElement(yt,{id:"icon_theatre_deactivate",enabled:!1})))};kt.propTypes=_t;var Et=n(31),St={canTheatreMode:D.a.bool.isRequired,disableTheatreMode:D.a.func.isRequired,enableTheatreMode:D.a.func.isRequired,isFullScreen:D.a.bool.isRequired,isTheatreMode:D.a.bool.isRequired},Pt=function(e){var t=e.screenMode;return{canTheatreMode:t.canTheatreMode,isFullScreen:t.isFullScreen,isTheatreMode:t.isTheatreMode}},Tt=function(e){return{enableTheatreMode:function(){e(Object(Et.h)(!0)),e(Object(je.d)("player_click_theater"))},disableTheatreMode:function(){e(Object(Et.h)(!1)),e(Object(je.d)("player_click_theater"))}}};_.propTypes=St;var Ot=Object(B.b)(Pt,Tt)(_),Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt={enabled:D.a.bool.isRequired,viewBox:D.a.string},Rt=function(e){return e.enabled?L.a.createElement(pe.a,Ct({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M20.414 18l1.293-1.293A1 1 0 0 0 21 15h-5a1 1 0 0 0-1 1v5a1.002 1.002 0 0 0 1.707.707L18 20.414l2.293 2.293a.997.997 0 0 0 1.414 0l1-1a.999.999 0 0 0 0-1.414L20.414 18zM15 9v5a1 1 0 0 1-1 1H9a1 1 0 0 1-.707-1.707L9.586 12 7.293 9.707a.999.999 0 0 1 0-1.414l1-1a.997.997 0 0 1 1.414 0L12 9.586l1.293-1.293A1 1 0 0 1 15 9z"})):L.a.createElement(pe.a,Ct({viewBox:"0 0 30 30"},e),L.a.createElement("path",{d:"M12.414 10l1.293-1.293A1 1 0 0 0 13 7H8a1 1 0 0 0-1 1v5a1.002 1.002 0 0 0 1.707.707L10 12.414l2.293 2.293a.997.997 0 0 0 1.414 0l1-1a.999.999 0 0 0 0-1.414L12.414 10zM23 17v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-.707-1.707L17.586 20l-2.293-2.293a.999.999 0 0 1 0-1.414l1-1a.997.997 0 0 1 1.414 0L20 17.586l1.293-1.293A1 1 0 0 1 23 17z"}))};Rt.propTypes=xt;var jt={canFullScreen:D.a.bool.isRequired,hasBranding:D.a.bool.isRequired,isFullScreen:D.a.bool.isRequired,onFullScreen:D.a.func.isRequired,onUnFullScreen:D.a.func.isRequired};w.propTypes=jt;var At={canFullScreen:D.a.bool.isRequired,hasBranding:D.a.bool.isRequired,isFullScreen:D.a.bool.isRequired,onFullScreen:D.a.func.isRequired,onUnFullScreen:D.a.func.isRequired},It=function(e){var t=e.screenMode,n=e.playerOptions;return{canFullScreen:t.canFullScreen,hasBranding:n.branding,isFullScreen:t.isFullScreen}},Nt=function(e){return{onFullScreen:function(){e(Object(Et.g)(!0)),e(Object(je.d)("player_click_fullscreen"))},onUnFullScreen:function(){e(Object(Et.g)(!1)),e(Object(je.d)("player_click_fullscreen"))}}};k.propTypes=At;var Mt=Object(B.b)(It,Nt)(k),Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt=Object.freeze({fill:D.a.string,viewBox:D.a.string}),Dt=function(e){return L.a.createElement(pe.a,Lt({viewBox:"0 0 63 30"},e),L.a.createElement("path",{d:"M55,19 L52,19 L52,13 L49,13 L49,19 L46,19 L46,8 L49,8 L49,10 L53,10 L55,12 L55,19 L55,19 Z M45,13 L41,13 L41,16 L45,16 L45,19 L40,19 L38,17 L38,12 L40,10 L45,10 L45,13 L45,13 Z M37,13 L34,13 L34,16 L37,16 L37,19 L33,19 L31,17 L31,8 L34,8 L34,10 L37,10 L37,13 L37,13 Z M27,8 L30,8 L30,9 L27,9 L27,8 Z M27,10 L30,10 L30,19 L27,19 L27,10 Z M26,17 L24,19 L15,19 L15,10 L18,10 L18,16 L19,16 L19,10 L22,10 L22,16 L23,16 L23,10 L26,10 L26,17 L26,17 Z M14,13 L11,13 L11,16 L14,16 L14,19 L10,19 L8,17 L8,8 L11,8 L11,10 L14,10 L14,13 L14,13 Z M53.5,9 L50,9 L50,7 L45.5,7 L43,9 L39.5,9 L38,10.5 L38,9 L35,9 L35,7 L26,7 L26,9 L15,9 L12,7 L7,7 L7,17.5 L9.5,20.125 L14,23 L18,23 L18,22.25 L19.5,23 L25.5,23 L26.5,21.5 L27,23 L31,23 L31,21.5 L32.5,23 L37,23 L37.25,21.5 L38.5,23 L43.5,23 L45,21.5 L45,23 L47.5,23 L49,21.5 L49,23 L52.5,23 L56,19.5 L56,11.5 L53.5,9 L53.5,9 Z",fill:e.fill}))};Dt.propTypes=qt;var Bt={onClick:D.a.func.isRequired,buttonLabel:D.a.string.isRequired},Ut={onClick:function(){},buttonLabel:""},Ft=ee()("player-button","player-button--twitch","qa-watch-twitch-button"),Vt=function(e){var t=e.onClick,n=e.buttonLabel;return L.a.createElement(de.a,{className:Ft,onClick:t},L.a.createElement(fe.a,{label:n,labelClass:"player-tip--aright"},L.a.createElement(Dt,{id:"icon_twitch"})))};Vt.propTypes=Bt,Vt.defaultProps=Ut;var Ht=n(15),zt=n(12),Wt=n(11),Gt=n(45),Kt=n(9),Yt=n(10),Qt=n(112),$t=n(99),Xt=n(121),Jt=n(322),Zt=n(42),en=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tn={currentTime:D.a.number.isRequired,streamType:D.a.string,channelName:D.a.string.isRequired,videoId:D.a.string,metadataUrl:D.a.string,windowObj:D.a.object.isRequired,showBranding:D.a.bool.isRequired,pausePlayer:D.a.func.isRequired,t:D.a.func.isRequired,isMobile:D.a.bool.isRequired},nn={streamType:Qt.a,videoId:""},rn=function(e){var t=e.env,n=e.playback,r=e.stream,i=e.streamMetadata,a=e.window,o=e.playerOptions;return{currentTime:n.currentTime,streamType:r.contentType,channelName:i.channel.name,videoId:i.videoId,metadataUrl:i.url,windowObj:a,showBranding:o.branding,isMobile:t.platform===Zt.a}},an=function(e){return{pausePlayer:function(){e(Object(Ht.s)())}}},on=function(e){function t(){E(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.getButtonLabel=e.getButtonLabel.bind(e),e}return P(t,e),en(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=function(n){return e[n]!==t.props[n]};return n("streamType")||n("channelName")||n("videoId")||n("showBranding")||n("pausePlayer")}},{key:"render",value:function(){return this.props.showBranding?L.a.createElement(Vt,{onClick:this.handleClick,buttonLabel:this.getButtonLabel()}):null}},{key:"getButtonLabel",value:function(){var e=this.props,t=e.streamType,n=e.t;return n(t===$t.a?"View clip page":"Watch on Twitch")}},{key:"handleClick",value:function(){var e=this.props,t=e.isMobile,n=e.streamType,r=e.windowObj,i=e.pausePlayer,a="";switch(n){case Kt.a:a=this._getLiveURL();break;case Yt.a:a=this._getVODURL();break;case $t.a:a=this._getClipURL();break;case Qt.a:a=t?Wt.x:Wt.A}r.open(a,"_blank"),i()}},{key:"_getClipURL",value:function(){var e=this.props.metadataUrl;return Object(Jt.b)(e,Xt.p,Xt.w)}},{key:"_getVODURL",value:function(){var e=this.props,t=e.channelName,n=e.videoId,r=e.currentTime,i=e.isMobile,a=Object(Gt.d)(Math.round(r));return Object(zt.E)({channel:t,video:n,params:{t:a},isMobile:i})}},{key:"_getLiveURL",value:function(){return Object(zt.d)({channel:this.props.channelName,params:null,isMobile:this.props.isMobile})}}]),t}(L.a.Component);on.propTypes=tn,on.defaultProps=nn;var sn=Object(J.c)()(Object(B.b)(rn,an)(on)),un=function(){return L.a.createElement("svg",{viewBox:"0 0 30 30"},L.a.createElement("path",{d:"M12 11v2h-2v8h10v-8h-2v-2h4v12H8V11h4zm2-1h-2l3-3 3 3h-2v6h-2v-6z",fillRule:"evenodd"}))},cn=n(13),ln={t:D.a.func.isRequired,showSharing:D.a.func.isRequired},dn=function(e){return{showSharing:function(){e(Object(cn.r)(cn.d))}}},fn=function(e){var t=e.showSharing,n=e.t;return L.a.createElement(de.a,{className:"player-button",onClick:t},L.a.createElement("span",null,L.a.createElement("span",{className:"player-tip player-tip--aright","data-tip":n("Share")}),L.a.createElement(un,null)))};fn.propTypes=ln;var pn=Object(J.c)()(Object(B.b)(null,dn)(fn)),hn=n(48),mn=n.n(hn),yn=n(21),vn=n(83),bn={onClose:D.a.func,children:D.a.node},gn=ee()({"pl-notif":!0,"pl-notif--with-triangle":!1}),_n=ee()({"pl-close-button":!0,"pl-notice__close":!0});T.propTypes=bn;var wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kn=ee()({"pl-notif__text":!0}),En=ee()({"pl-notif__content":!0}),Sn={t:D.a.func.isRequired,onClose:D.a.func.isRequired},Pn=function(e){function t(){O(this,t);var e=C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return x(t,e),wn(t,[{key:"render",value:function(){var e=this.props.t;return L.a.createElement(T,{onClose:this.handleClose},L.a.createElement("div",{className:En},L.a.createElement("p",{className:kn},e("Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode"))))}},{key:"handleClose",value:function(){var e;(e=this.props).onClose.apply(e,arguments)}}]),t}(L.a.Component);Pn.propTypes=Sn;var Tn=Object(J.c)()(Pn),On=n(20),Cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xn=604e6,Rn="lowLatencySeenThisWeekTimestamp",jn="lowLatencyMaxSeenCount",An={clearBufferEmpties:D.a.func,displayLowLatencyNotification:D.a.func,isLive:D.a.bool.isRequired,isLowLatencyMode:D.a.bool.isRequired,lowLatencyModeEnabled:D.a.bool.isRequired},In={clearBufferEmpties:function(){},displayLowLatencyNotification:function(){},isLive:!1,isLowLatencyMode:!1,lowLatencyModeEnabled:!1},Nn=function(e){var t=e.manifestInfo,n=e.playback,r=e.settings,i=e.stream;return{currentBufferEmpties:n.bufferEmpties,isLive:i.contentType===Kt.a,isLowLatencyMode:t.future,lowLatencyModeEnabled:r.lowLatencyModeEnabled}},Mn=function(e){return{displayLowLatencyNotification:function(){e(Object(U.c)(Tn))},clearBufferEmpties:function(){e(Object(On.y)())}}},Ln=function(e){function t(){R(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showPopup:!1},yn.a.get(Rn)||yn.a.set(Rn,(new Date).getTime()-xn),yn.a.get(jn)||yn.a.set(jn,0),e._previousBufferTimestamp=(new Date).getTime(),e}return A(t,e),Cn(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.isLowLatencyMode&&e.lowLatencyModeEnabled&&mn.a.chrome&&e.isLive){var t=this._shouldShowPopup(e),n=this.state.showPopup;t&&!n&&(this.setState({showPopup:!0}),this.props.displayLowLatencyNotification())}}},{key:"_shouldShowPopup",value:function(e){var t=e.currentBufferEmpties;return this._capturedMaxBufferEmpties({currentBufferEmpties:t})&&!this._seenOnceThisWeek()&&!this._seenMaxTimes()}},{key:"_capturedMaxBufferEmpties",value:function(e){var t=e.currentBufferEmpties,n=(new Date).getTime(),r=n-this._previousBufferTimestamp;return 2===t&&r<6e5||(r>6e5||t>=2?(this.props.clearBufferEmpties(),this._previousBufferTimestamp=n,!1):void 0)}},{key:"_seenOnceThisWeek",value:function(){return!((new Date).getTime()-yn.a.get(Rn)>=xn&&(yn.a.set(Rn,(new Date).getTime()),1))}},{key:"_seenMaxTimes",value:function(){var e=yn.a.get(jn);return this._seenOnceThisWeek()&&e<4?(yn.a.set(jn,e+1),!1):e>=4||void 0}},{key:"render",value:function(){return null}}]),t}(L.a.Component);Ln.propTypes=An,Ln.defaultProps=In;var qn=Object(B.b)(Nn,Mn)(Ln),Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bn={fill:D.a.string,viewBox:D.a.string},Un=function(e){return L.a.createElement(pe.a,Dn({viewBox:"0 0 30 30"},e),L.a.createElement("path",{fill:e.fill,d:"M2,11 L8,11 C8.55228475,11 9,11.4477153 9,12 L9,16 C9,16.5522847 8.55228475,17 8,17 L2,17 C1.44771525,17 1,16.5522847 1,16 L1,12 C1,11.4477153 1.44771525,11 2,11 Z M12,11 L18,11 C18.5522847,11 19,11.4477153 19,12 L19,16 C19,16.5522847 18.5522847,17 18,17 L12,17 C11.4477153,17 11,16.5522847 11,16 L11,12 C11,11.4477153 11.4477153,11 12,11 Z M7,3 L13,3 C13.5522847,3 14,3.44771525 14,4 L14,8 C14,8.55228475 13.5522847,9 13,9 L7,9 C6.44771525,9 6,8.55228475 6,8 L6,4 C6,3.44771525 6.44771525,3 7,3 Z"}))};Un.propTypes=Bn;var Fn={isHighlighted:D.a.bool.isRequired,multiviewEnabled:D.a.bool.isRequired,onHoverMessage:D.a.string,onMultiview:D.a.func.isRequired};I.propTypes=Fn;var Vn=n(22),Hn={isHighlighted:D.a.bool.isRequired,multiviewEnabled:D.a.bool.isRequired,onHoverMessage:D.a.string,onMultiview:D.a.func.isRequired},zn=function(e){var t=e.multiview;return{isHighlighted:Boolean(t.isFTUE),multiviewEnabled:Boolean(t.enabled),onHoverMessage:t.buttonText}},Wn=function(e){return{onMultiview:function(){e(Object(Vn.z)()),e(Object(je.d)("player_click_multiview"))}}};N.propTypes=Hn;var Gn=Object(B.b)(zn,Wn)(N);n.d(t,"a",function(){return $n});var Kn={shouldShowMultiviewButton:D.a.bool.isRequired,shouldShowFullscreenButton:D.a.bool.isRequired,shouldShowShareButton:D.a.bool.isRequired,shouldShowSettingsButton:D.a.bool.isRequired,shouldShowTheatreButton:D.a.bool.isRequired},Yn=function(e){var t=e.env;return{shouldShowMultiviewButton:ke.B===t.playerType||ke.w===t.playerType,shouldShowFullscreenButton:ke.x!==t.playerType,shouldShowShareButton:ke.k===t.playerType,shouldShowSettingsButton:ke.j!==t.playerType,shouldShowTheatreButton:!ke.e.includes(t.playerType)}},Qn=function(e){var t=e.shouldShowMultiviewButton,n=e.shouldShowFullscreenButton,r=e.shouldShowSettingsButton,i=e.shouldShowShareButton,a=e.shouldShowTheatreButton;return L.a.createElement("div",{className:"player-buttons-right"},L.a.createElement(K,null),L.a.createElement(qn,null),r&&L.a.createElement(xe,null),L.a.createElement(Ue,null),L.a.createElement("div",{className:"player-menu"},L.a.createElement(et,null)),i&&L.a.createElement(pn,null),L.a.createElement(pt,null),t&&L.a.createElement(Gn,null),a&&L.a.createElement(Ot,null),n&&L.a.createElement(Mt,null),L.a.createElement(sn,null))};Qn.propTypes=Kn;var $n=Object(B.b)(Yn)(Qn)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(45),u={currentTime:o.a.number,duration:o.a.number},c=function(e){var t=e.currentTime,n=e.duration,r=s.c(t),a=s.c(n);return i.a.createElement("div",{className:"player-seek__time-container"},i.a.createElement("span",{className:"player-seek__time"},r),i.a.createElement("span",{className:"player-seek__time player-seek__time--total"},a))};c.propTypes=u},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(45),u={currentTime:o.a.number,duration:o.a.number},c=function(e){var t=e.currentTime,n=e.duration,r=s.c(n-t,!0);return i.a.createElement("div",{className:"player-seek__time-container"},i.a.createElement("span",{className:"player-seek__time player-seek__time--total"},r))};c.propTypes=u},function(e,t,n){"use strict";function r(e,t,n){var r=e-.5*t,i=Math.max(0,Math.min(r,n-t));return isNaN(i)?0:i}function i(e){var t=e.hideThumbnailPreview,n=e.duration,r=e.seekbarWidth,i=e.seekbarLeftOffset,o=e.previews,u=e.mouseMoveClientX,c=u-i,l=n*(c/r),d=a(o,l,n);return s.a.createElement(h,{popupLeftOffset:c,popupObject:d,popupWidth:m,seekbarWidth:r,hideThumbnailPreview:t})}function a(e,t,n){var r=Math.floor(e.count*(t/n)),i=r%(e.hq.cols*e.hq.rows),a=m/e.hq.width;return{thumbOver:{url:e.hq.URLs[Math.floor(r/(e.hq.cols*e.hq.rows))],height:e.hq.height*a,width:e.hq.width*a,sheetWidth:e.hq.width*e.hq.cols*a,x:i%e.hq.cols*e.hq.width*a,y:Math.floor(i/e.hq.cols)*e.hq.height*a},thumbUnder:{url:e.lq.URLs[0],height:e.hq.height*a,width:e.hq.width*a,sheetWidth:e.hq.width*e.lq.cols*a,x:r%e.lq.cols*e.hq.width*a,y:Math.floor(r/e.lq.cols)*e.hq.height*a},title:"",info:"",timestamp:l.c(t,!1),width:m}}var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(45),d=n(2),f=n.n(d),p={popupLeftOffset:c.a.number,popupObject:c.a.object,popupWidth:c.a.number,seekbarWidth:c.a.number,hideThumbnailPreview:c.a.bool},h=function(e){var t=e.popupLeftOffset,n=e.popupObject,i=e.popupWidth,a=e.seekbarWidth,o=e.hideThumbnailPreview,u=f()({"seekbar__popup--fadein":!o,"seekbar__popup--fadeout":o});return s.a.createElement("div",{className:u},s.a.createElement("div",{className:"player-slider__popup-container",style:{width:n.width,left:r(t,i,a)}},s.a.createElement("div",{className:"popup-thumb-wrapper",style:{width:n.thumbOver.width,height:n.thumbOver.height,maxHeight:n.thumbOver.height}},s.a.createElement("div",{className:"popup-marker-thumbunder",style:{height:n.thumbUnder.height,width:n.thumbUnder.width,backgroundSize:n.thumbUnder.sheetWidth+"px",backgroundImage:"url("+n.thumbUnder.url+")",backgroundPosition:"-"+n.thumbUnder.x+"px -"+n.thumbUnder.y+"px"}}),s.a.createElement("div",{className:"popup-marker-thumbover",style:{height:n.thumbOver.height,width:n.thumbOver.width,backgroundSize:n.thumbOver.sheetWidth+"px",backgroundImage:"url("+n.thumbOver.url+")",backgroundPosition:"-"+n.thumbOver.x+"px -"+n.thumbOver.y+"px"}})),s.a.createElement("div",{className:"popup-info-wrapper"},s.a.createElement("span",{className:"popup-title"},n.title),s.a.createElement("span",{className:"popup-info",dangerouslySetInnerHTML:{__html:n.info}})),s.a.createElement("span",{className:"popup-timestamp"},n.timestamp)),s.a.createElement("div",{className:"popup-arrow",style:{left:r(t,20,a)}}))};h.propTypes=p,t.a=i;var m=148,y={hideThumbnailPreview:c.a.bool,duration:c.a.number,previews:c.a.object,mouseMoveClientX:c.a.number,seekbarLeftOffset:c.a.number,seekbarWidth:c.a.number},v={duration:0,seekbarLeftOffset:0,seekbarWidth:0};i.propTypes=y,i.defaultProps=v},function(e,t,n){"use strict";function r(e,t,n){var r=e-.5*t;return Math.max(0,Math.min(r,n-t))}n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(45),c={duration:s.a.number,mouseMoveClientX:s.a.number,seekbarLeftOffset:s.a.number,seekbarWidth:s.a.number,shouldCleanString:s.a.bool.isRequired},l={duration:0,seekbarLeftOffset:0,seekbarWidth:0},d=function(e){var t=e.duration,n=e.mouseMoveClientX,i=e.seekbarLeftOffset,o=e.seekbarWidth,s=e.shouldCleanString,c=n-i,l=Math.min(Math.max(0,t*(c/o)),t);return a.a.createElement("div",null,a.a.createElement("div",{className:"player-slider__popup-container pl-flex--verticalCenter",style:{left:r(c,20,o),width:20}},a.a.createElement("span",{className:"popup-timestamp-wrapper"},a.a.createElement("span",{className:"popup-timestamp"},u.c(l,s)))),a.a.createElement("div",{className:"popup-arrow",style:{left:r(c,20,o)}}))};d.propTypes=c,d.defaultProps=l},function(e,t,n){"use strict";var r=n(545),i=r.CopyToClipboard;i.CopyToClipboard=i,e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.captionsText,n=e.captionsStyle,r=t.map(function(e,t){return d.a.createElement("div",{className:E,key:t+"-"+e},e)}),a=i(n),o=a.containerStyles,s=a.textStyles,u=a.windowStyles;return d.a.createElement("div",{className:"player-captions-container",style:o},d.a.createElement("div",{style:u,className:"player-captions-window"},d.a.createElement("div",{className:"player-captions",style:s},r)))}function i(e){var t=a(e),n=o(e),r=s(e),i=v()({},e,t,m.h[e.font],m.d[e.edge],m.m[e.verticalPosition],m.j[e.fontUnderline],m.g[e.fontItalic],m.e[e.fontBold],m.a[e.alignment],{backgroundColor:n});return{textStyles:g()(i,S),containerStyles:w()(i,S),windowStyles:r}}function a(e){var t=e.fontColorName,n=void 0===t?"white":t,r=e.fontOpacity,i=void 0===r?"solid":r;return{color:m.c(m.f[n].fontColorValue,m.k[i].opacityValue),animation:m.k[i].animation}}function o(e){var t=e.backgroundOpacity,n=void 0===t?"solid":t,r=e.backgroundColorName,i=void 0===r?"black":r;return m.c(m.b[i].backgroundColorValue,m.k[n].opacityValue)}function s(e){var t=e.windowColorName,n=void 0===t?"transparent":t,r=e.windowOpacity,i=void 0===r?"solid":r;return{backgroundColor:m.c(m.b[n].backgroundColorValue,m.k[i].opacityValue)}}function u(e){var t=e.enabled,n=e.captionsData,i=e.captionsStyle,a=e.isMiniPlayer,o=e.isShowingAd;if(!t||!n||a||o)return null;var s=c(n);return d.a.createElement(r,{captionsText:s,captionsStyle:i})}function c(e){var t=e.text;return(t&&t.length>0?t.trim():"")?String(t).split(O):[]}var l=n(0),d=n.n(l),f=n(1),p=n.n(f),h=n(3),m=n(100),y=n(32),v=n.n(y),b=n(212),g=n.n(b),_=n(26),w=n.n(_),k={captionsText:p.a.array.isRequired,captionsStyle:p.a.shape({fontSize:p.a.number,font:p.a.string,fontOpacity:p.a.string,alignment:p.a.string,edge:p.a.string,verticalPosition:p.a.string,backgroundColorName:p.a.string,backgroundOpacity:p.a.string,windowColorName:p.a.string,windowOpacity:p.a.string,fontUnderline:p.a.string,fontBold:p.a.string,fontItalic:p.a.string}).isRequired},E="player-captions-row",S=Object.freeze(["top","bottom","textAlign","fontSize"]);r.propTypes=k;var P=n(13);n.d(t,"a",function(){return x});var T={isShowingAd:p.a.bool,isMiniPlayer:p.a.bool,enabled:p.a.bool.isRequired,captionsData:p.a.object,captionsStyle:p.a.shape({fontSize:p.a.number,font:p.a.string,fontOpacity:p.a.string,alignment:p.a.string,edge:p.a.string,verticalPosition:p.a.string,backgroundColorName:p.a.string,backgroundOpacity:p.a.string,windowColorName:p.a.string,windowOpacity:p.a.string,fontUnderline:p.a.string,fontBold:p.a.string,fontItalic:p.a.string}).isRequired},O=/\r?\n|\r/g,C=function(e){var t=e.captions,n=e.ui,r=e.screen;return{enabled:t.enabled,captionsData:t.data,captionsStyle:t.style,isMiniPlayer:n.isMini,isShowingAd:r[0]===P.c||r[0]===P.m}};u.propTypes=T;var x=Object(h.b)(C)(u)},function(e,t,n){"use strict";function r(e){var t=e.showOverlay,n=e.play,r=e.collectionsSidebarOpen;return t?a.a.createElement(l.a,{onClick:n,collectionsSidebarOpen:r}):null}n.d(t,"a",function(){return g});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=n(15),l=n(323),d=n(10),f=n(64),p=n(13),h=n(23),m=n(66),y={showOverlay:s.a.bool.isRequired,play:s.a.func.isRequired,collectionsSidebarOpen:s.a.bool.isRequired},v=function(e){var t=e.chromecast,n=e.collection,r=e.error,i=e.playback,a=e.onlineStatus,o=e.screen,s=e.stream,u=e.ui,c=i.paused,l=u.isMini,y=r.hasError,v=a===h.a,b=s.contentType===d.a&&i.ended,g=t.castingState===f.c||t.castingState===f.b,_=o[0]===p.i||o[0]===p.j||o[0]===p.c;return{collectionsSidebarOpen:n.currentView===m.b,showOverlay:(c||b)&&!g&&!l&&!_&&!y&&!v}},b=function(e){return{play:function(){e(Object(c.t)())}}};r.propTypes=y;var g=Object(u.b)(v,b)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=Ps.a._detect(e||window.navigator.userAgent),n=t.name,r=t.version,i=t.osname,a=t.osversion;return{browser_version:u(r),browser_family:String(n).toLowerCase(),os_name:i,os_version:a}}function s(e){var t=Os.exec(e)||Cs.exec(e)||xs.exec(e)||[],n=Ts(t,5);return{major:n[1],minor:n[2],patch:n[3],metadata:n[4]}}function u(e){var t=s(e),n=t.major,r=t.minor;return r?parseInt(n,10)+"."+parseInt(r,10):n+".0"}function c(){try{return window.self!==window.top}catch(e){return!0}}function l(){return Twitch.notScript?c()&&!Object(js.b)()?ls.q:ls.z:ls.B}function d(e,t){function n(e){return e.split(".").slice(-2).join(".")}function r(){var e=void 0;try{document.domain=ys.m,e=window.parent.location,e.host||(e=window.location)}catch(t){e=window.location}return e}function i(){try{return document.domain=ys.m,window.parent.document.referrer}catch(e){return window.document.referrer}}function a(t){var n=e.getState(),r=n.env,i=r.platform;return r.playerType===ls.o?Is:t&&t.platform&&Ms.includes(t.platform)?t.platform:i}function s(){var t=ks.c(),r=t.major+","+t.minor+","+t.release,a=i(),s=Object(bs.a)(a),u=_s.a(!1),c=_s.a(!0),d=l()===ls.q?null:Ns,f=o(),p=f.browser_family,h=f.browser_version,m=f.os_name,y=f.os_version;return{app_version:Rs,flash_version:r,referrer_url:a,referrer_host:s.host,referrer_domain:n(s.host),browser:e.getState().window.navigator.appVersion||"",browser_family:p,browser_version:h,os_name:m,os_version:y,user_agent:e.getState().window.navigator.userAgent||"",device_id:u,distinct_id:u,session_device_id:c,client_app:d}}function u(e){var t=e.referrer,r=e.referrer_url,i="",a={};if("string"==typeof t&&0!==t.length?i=t:"string"==typeof r&&0!==r.length&&(i=r),""!==i){var o=Object(bs.a)(i);a.referrer_host=o.host,a.referrer_domain=n(o.host)}return a}var c=this,d=[],f=void 0;c.trackEvents=function(i){var o=e.getState(),s=o.window,c=o.playback,l=o.ui,p=o.tracking,h=o.manifestInfo,m=o.analytics,y=o.env,v=o.settings,b=o.streamMetadata,g=s.Date.now()/1e3;Promise.all(d).then(function(e){var o=Wo.a.apply(null,e),s=r(),d=y.playerType,_=i.map(function(e){var t=Wo()({},f,o,e.properties,p,u(p),{platform:a(p),play_session_id:m.playSessionId,url:Object(gs.a)(s.href),host:s.host,domain:n(s.host),latency_mode_toggle:v.lowLatencyModeEnabled,low_latency:h.future,muted:c.muted,volume:c.volume,hidden:l.hidden,player:l.isMini?ls.C:d,encrypted:b.isEncrypted});return t.time||(t.time=g),{event:e.event,properties:t}});t.debug&&_.forEach(function(e){var t=e.event,n=e.properties;console.log("track event:",t,n)}),m.trackingClients.forEach(function(e){e.trackEvents(_)})})},c.trackEvent=function(e,t){c.trackEvents([{event:e,properties:t}])},c.clipsTrackEvent=function(t,n){var r=e.getState();c.trackEvent(t,Jo()({},Object(Es.b)(r),Object(Es.c)(r),n))},c.setProperty=function(e,t){var n={};n[e]=t,c.setProperties(n)},c.setProperties=function(e){var t=Promise.resolve(e).then(null,function(e){return console.warn("failed to resolve properties promise",e),{}});d.push(t)},function(){var n=[];n.push(new is({url:vs}));var r=e.getState().env.playerType;Vo()(Ls,r)&&n.push(new hs(e)),e.dispatch(Object(ms.j)(n)),f=s(),c.setProperties(t.tracking),c.setProperties({channel:t.channel,vod:t.video,vod_id:t.video}),c.setProperty("benchmark_session_id",t.benchmarkId||ws.a()),c.setProperty("mse_support","undefined"!=typeof MediaSource)}()}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){function n(n,r,a){a.unshift(r),(r!==zs.f||n!==e||t.getEnded())&&(o===n?i(a):c.push(a))}function r(){c.forEach(function(e){i(e)}),c=[]}function i(e){var t=e[0],n=[zs.j],r=!1;Vo()(n,t)&&(r=eu()(d,t),d[t]=!0),r||(t===zs.f&&(d=[]),u.emit.apply(u,e))}function a(e,t){e.pause(),o=t,r(),e.getDuration()!==t.getDuration()&&u.emit(zs.e),e.getCurrentTime()!==t.getCurrentTime()&&u.emit(zs.s),e.getBuffered()!==t.getBuffered()&&u.emit(Ks.a),e.getQuality()!==t.getQuality()&&u.emit(Ks.A),t.play()}var o,s=this,u=new Us.a,c=[],l=[e,t],d={};s.destroy=function(){e.destroy(),t.destroy()},s.addEventListener=function(e,t){u.on(e,t)},s.removeEventListener=function(e,t){u.off(e,t)},s.getNetworkProfile=function(){return o.getNetworkProfile()},s.getError=function(){return o.getError()},s.getSrc=function(){return o.getSrc()},s.absAvailable=function(){return o.absAvailable()},s.setSrc=function(e){l.forEach(function(t){t.setSrc(e)})},s.getNetworkState=function(){return o.getNetworkState()},s.getBuffered=function(){return o.getBuffered()},s.load=function(){o.load()},s.getReadyState=function(){return o.getReadyState()},s.getSeeking=function(){return o.getSeeking()},s.getStats=function(){return o.getStats()},s.getCurrentTime=function(){return o.getCurrentTime()},s.setCurrentTime=function(e){l.forEach(function(t){return t.setCurrentTime(e)})},s.getDuration=function(){return o.getDuration()},s.getPaused=function(){return o.getPaused()},s.getPlaybackRate=function(){return o.getPlaybackRate()},s.setPlaybackRate=function(e){l.forEach(function(t){return t.setPlaybackRate(e)})},s.getPlayed=function(){return o.getPlayed()},s.getEnded=function(){return o.getEnded()},s.getAutoplay=function(){return o.getAutoplay()},s.setAutoplay=function(e){l.forEach(function(t){return t.setAutoplay(e)})},s.setLoop=function(e){l.forEach(function(t){t.setLoop(e)})},s.play=function(){o.play()},s.pause=function(){o.pause()},s.getControls=function(){return o.getControls()},s.setControls=function(e){l.forEach(function(t){t.setControls(e)})},s.getVolume=function(){return o.getVolume()},s.setVolume=function(e){l.forEach(function(t){t.setVolume(e)})},s.getMuted=function(){return o.getMuted()},s.setMuted=function(e){l.forEach(function(t){t.setMuted(e)})},s.getQuality=function(){return o.getQuality()},s.setQuality=function(e){l.forEach(function(t){t.setQuality(e)})},s.getQualities=function(){return o.getQualities()},s.setChannel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d={},l.forEach(function(n){n.setChannel(e,t)})},s.setClip=function(e){d={},l.forEach(function(t){t.setClip(e)})},s.elapsedTime=function(){return o.elapsedTime()},s.getBackend=function(){return o.getBackend()},s.setVideo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d={},l.forEach(function(n){n.setVideo(e,t)})},s.getVideoInfo=function(){return o.getVideoInfo()},s.getBandwidthEstimate=function(){return o.getBandwidthEstimate()},s.getCaption=function(){return o.getCaption()},s.setLiveLowLatencyEnabled=function(e){l.forEach(function(t){t.setLiveLowLatencyEnabled(e)})},s.setLiveMaxLatency=function(e){l.forEach(function(t){t.setLiveMaxLatency(e)})},s.setAutoMaxVideoSize=function(e,t){l.forEach(function(n){n.setAutoMaxVideoSize(e,t)})},function(){o=e.getReadyState()>=e.HAVE_CURRENT_DATA&&!e.getEnded()?e:t,e.addEventListener(zs.c,function(){a(t,e)}),e.addEventListener(zs.f,function(){o===e&&a(e,t)}),l.forEach(function(e){ys.d.forEach(function(t){e.addEventListener(t,function(){var r=Array.prototype.slice.call(arguments);n(e,t,r)})})})}()}function h(e){return{type:uu,backend:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su,t=arguments[1];switch(t.type){case lu.f:return Jo()({},e,{clickThrough:t.URL});case lu.c:return t.currentMetadata.contentType===lu.i.STITCHED?Jo()({},e,{currentMetadata:t.currentMetadata}):Jo()({},e,{currentMetadata:t.currentMetadata,clickThrough:Su.clickThrough});case lu.a:return Jo()({},e,{imaScriptLoaded:t.imaScriptLoaded});case lu.h:return Jo()({},e,{vodMidrollArchiveSetting:t.setting});case Eu.a:return Jo()({},e,{vodMidrollArchiveSetting:_u,currentAdProperties:lu.l,currentSubscriptionBenefit:null,currentSubscriptionProducts:[]});case lu.b:return Jo()({},e,{details:t.values});case lu.d:var n=t.playback.isAdImpression;return yu()({},e,{playback:{isAdImpression:n}});case lu.g:return yu()({},e,{details:{remainingAdTime:t.remainingAdTime}});case lu.e:return Jo()({},e,{currentAdProperties:t.currentAdProperties,currentSubscriptionBenefit:t.currentSubscriptionBenefit,currentSubscriptionProducts:t.currentSubscriptionProducts});default:return e}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={ad_session_id:e.adSessionId,roll_type:e.adType,time_break:e.duration,twitch_correlator:e.twitchCorrelator};return e.adWhitelist&&(n.ads_opt_in=e.adWhitelist),n=_(n,e),null!==t&&(n.ad_system=t.adSystem,n.ad_id=t.adId,n.creative_id=t.creativeId,n.title=t.title,n.duration=t.duration,t.adPodInfo&&(n=b(n,t.adPodInfo)),"object"===xu(t.adWrapperIds)&&t.adWrapperIds.length>0&&(n.wrapper_ad_id=t.adWrapperIds[0]),"object"===xu(t.adWrapperSystems)&&t.adWrapperSystems.length>0&&(n.wrapper_ad_system=t.adWrapperSystems[0]),"object"===xu(t.adWrapperCreativeIds)&&t.adWrapperCreativeIds.length>0&&(n.wrapper_creative_id=t.adWrapperCreativeIds[0])),n}function b(e,t){var n=e;return n.ad_position=t.adPosition,n.max_duration=t.maxDuration,n.pod_index=t.podIndex,n.total_ads=t.totalAds,n}function g(e){var t=e.store,n=e.provider,r=void 0===n?"":n,i=e.eventName,a=void 0===i?"":i,o=e.data,s=void 0===o?{}:o,u=e.adServer,c=void 0===u?"":u,l=t.getState(),d=l.analyticsTracker,f=l.stream,p=l.streamMetadata,h=l.user,m=s;r&&Jo()(m,{provider:r}),c&&Jo()(m,{ad_server:c}),Jo()(m,{logged_in:h.loggedInStatus===Cu.a}),f instanceof iu.b&&Jo()(m,{vod_id:f.videoId,vod_type:p.type}),d.trackEvent(a,m)}function _(e,t){var n=e;return t.amzniid&&(n.amzniid=t.amzniid),t.amznbid&&(n.amznbid=t.amznbid),t.qsParams&&(n.qsParams=t.qsParams),n}function w(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script"),i=n;i=i||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var a=[],o={adsManager:e,ids:t,imaSDK:!0,events:[]},s={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"},u=void 0,c=void 0;if(google&&google.ima&&e){u="_moatApi"+Math.floor(1e8*Math.random());for(var l in google.ima.AdEvent.Type){var d=function(t){if(o.sendEvent){for(t=a.length-1;0<=t;t--)e.removeEventListener(a[t].type,a[t].func);o.sendEvent(o.events)}else o.events.push({type:s[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[l],d),a.push({type:google.ima.AdEvent.Type[l],func:d})}}var f=void 0;u=void 0!==u?u:"";try{c=i.ownerDocument,f=c.defaultView||c.parentWindow}catch(e){c=document,f=window}f[u]=o,r.type="text/javascript",i&&i.appendChild(r);try{r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+u}catch(e){}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){var t="unknown";return e&&e.channel&&(t=e.channel),e&&e.game&&(t=t+" + "+e.game),t}function S(e){return{zMoatChannel:e.channel,zMoatChannelID:e.channelId,zMoatGame:e.game}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t,n){e.analyticsTracker.trackEvent("video_ad_request_declined",Jo()({ad_session_id:t.adSessionId,roll_type:t.adType,time_break:t.duration,provider:"ima",twitch_correlator:t.twitchCorrelator},n))}function C(e){return{reason_short_vod:e.adType===du.c&&e.contentType===iu.a&&e.vod.duration>=0&&e.vod.duration<Du,reason_vod_creator:e.adType===du.c&&e.contentType===iu.a&&e.login===e.channel,reason_turbo:Boolean(e.hasTurbo),reason_ratelimit:e.adType===du.c&&e.requestTime-e.lastAdDisplay<qu,reason_channelsub:Boolean(e.hasChanSub)&&e.hasAdFreeSubscription,reason_channeladfree:e.adType===du.c&&!e.prerollsEnabled||e.adType===du.b&&!e.postrollsEnabled,reason_frontpage:e.playerType===ls.t,reason_creative_player:e.playerType===ls.n,reason_onboarding:e.playerType===ls.y,reason_facebook:e.playerType===ls.r,reason_highlighter:e.playerType===ls.u,reason_dashboard:e.playerType===ls.p,reason_animated_thumbnails:e.playerType===ls.i,reason_squad_secondary:e.playerType===ls.E,reason_amazon_product_page:e.playerType===ls.g,reason_mobile_web_upsell:Boolean(e.isMobileLocation)&&e.platform===Mu.a,reason_raid:e.adType===du.c&&e.raid,reason_vod_midroll:e.contentType===iu.a&&e.vod.type===wu.Archive&&e.adType===du.a&&e.requestType===al&&e.vodMidrollArchiveSetting!==gu,reason_vod_ads_disabled:e.contentType===iu.a&&!1===e.vodAdsEnabled,reason_embed_promo:e.contentType===iu.a&&e.playerType===ls.q&&e.embedPromo}}function x(e,t){var n=Nu()(e,function(e,t){return e||t},!1);return t.forced&&(n=!1),n}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",window.setTimeout(t,2e3)})}function I(e){e.google&&Ku(),$u||($u=!0,A().then(Ku,Yu))}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="https://d2v02itv0y9u9t.cloudfront.net/dist/0.0.5/v6s.js",window.setTimeout(t,2e3)})}function L(e){e.AmazonVideoAds&&ac(),uc||(uc=!0,M().then(ac,oc))}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=V(e,t,n,r);return{type:Oc,adsManager:i}}function V(e,t,n,r){switch(t.getBackend()){case bc.a:return new Bu(n,new Tc(t,n));case gc.a:case Vs.a:return new Bu(n,new mc(e,t,n,r));default:return kc}}function H(e){var t=ss()(e,jc);return{type:Rc,params:t}}function z(e,t){var n={player_backend:e};return Fc()(t,function(e,t){if(0===t.indexOf(zc)){var r=t.substring(zc.length);n[r]=e}}),n.p=Math.floor(9999999*Math.random()),{type:Vc,params:n}}function W(e){return{type:Hc,hostOverride:e}}function G(e,t,n){function r(r){var x=t.getState(),R=x.window;t.dispatch(Object(el.w)("web_backend_init",R.performance.now()));var j=document.createElement("div");if(j.className="player-video",!e)return void console.error("root element unavailable for video tag to attach to");e.appendChild(j);var A=t.getState(),I=A.env;t.dispatch(H({need_https:r===Vs.a,platform:I.platform,player_type:I.playerType,player_backend:r}));var N=r;t.dispatch(z(N,n));var M=Jc.a[r]||tu.b,L=Wo()({lastAdDisplay:nu.a.get("lastAdDisplay",0)},n),q=new M(L,t);t.dispatch(h(q)),t.dispatch(Object(cu.c)(q.getBackend())),q.attach(j),ee=Xs;var B=ee.init();t.dispatch(Object(Ac.e)(B)),Z=new p(ee,q),D(j,Z),q.addEventListener(zs.i,f),ee.addEventListener(zs.i,f),q.addEventListener(zs.e,c),q.addEventListener(Ks.a,m),q.addEventListener(Ks.p,y),q.addEventListener(Ks.H,b),q.addEventListener(Ks.G,g),q.addEventListener(Ks.L,v),q.addEventListener(Ks.q,C),q.addEventListener(zs.f,T),ee.addEventListener(zs.f,O),q.addEventListener(zs.n,_),ee.addEventListener(zs.n,_),q.addEventListener(zs.l,w),q.addEventListener(zs.s,E),ee.addEventListener(zs.s,E),q.addEventListener(zs.o,S);var U=t.getState().window.navigator.userAgent.toLowerCase(),F=U.indexOf("safari")>-1&&-1===U.indexOf("chrome"),V=U.indexOf("windows")>-1&&U.indexOf("edge")>-1;(F||V)&&r!==Vs.a&&q.addEventListener(zs.s,function(){t.dispatch(Object(Nc.K)(!1))}),q.addEventListener(Ks.v,u),q.addEventListener(zs.p,P),q.addEventListener(zs.q,l),q.addEventListener(zs.u,l),q.addEventListener(zs.u,d),q.addEventListener(zs.k,k),q.addEventListener(Ks.w,$._loadVideoAPI),q.addEventListener(zs.j,$._loadVideoAPI),q.addEventListener(zs.m,o),q.addEventListener(zs.b,s),q.addEventListener(Ks.y,i),q.addEventListener(Ks.V,a);var G=t.getState(),K=G.playback;q.setVolume(K.volume),q.setMuted(K.muted),W(),$._propagateBackendMutliEvents()}function i(){t.dispatch(Object(Nc.B)(Mc.c))}function a(){t.dispatch(Object(Dc.r)(Dc.p)),t.dispatch(Object(Nc.B)(Mc.e))}function o(){t.getState().playback.muted?(t.dispatch(Object(Cc.d)("playback_blocked")),t.dispatch(Object(us.i)())):(Z.setMuted(!0),t.dispatch(Object(Nc.E)(!0,!0)),Z.play())}function s(){t.dispatch(Object(Nc.E)(!0,!0))}function u(e){t.dispatch(Object(hu.g)(e))}function c(){t.dispatch(Object(Nc.P)(t.getState().backend.getDuration()))}function l(){t.dispatch(Object(Nc.K)(!0)),t.dispatch(Object(Nc.Q)(zs.u))}function d(){$.getSeeking()||t.dispatch(Object(Nc.C)())}function f(){te=!0,t.dispatch({type:su.e,captions:{data:null,available:!1}}),t.dispatch(Object(Lc.s)($.getQualities()));var e=t.getState(),n=e.quality,r=e.stream,i=e.streamMetadata,a=e.playback,o=n.available.filter(function(e){return!Vo()(r.restrictedBitrates,e.group)});if(o.length>0&&!o.some(function(e){return e.group===n.selected})&&t.dispatch(Object(Lc.n)(o[0].group,o[0].bandwidth)),t.dispatch(Object(Nc.P)(t.getState().backend.getDuration())),Vo()(Zc.a,r.contentType)&&a.startTimeSet&&$.setCurrentTime(a.startTime),!a.playing||r.contentType!==ru.a&&r.contentType!==iu.a||R(),r.contentType===ru.a){var s=Z.getVideoInfo().broadcast_id;t.dispatch(Object(Ic.b)(!0)),i.broadcastID!==s&&(t.dispatch(Object(qc.i)(s)),t.dispatch(Object(qc.e)()))}}function m(e){t.dispatch(Object(Nc.N)(e.start,e.end))}function y(e){t.dispatch(Object(lu.q)(du.a,e.duration,!1,0,al))}function v(e){var n=e[fu];fetch(n,{method:"GET"}),t.dispatch(Object(Nc.M)(e))}function b(e){if(e.hasOwnProperty(Vs.c)&&Yc()(e[Vs.c])){var n=e[Vs.c];try{t.dispatch(Object(lu.r)(n))}catch(e){console.warn("Failed to decode click-through URL: ",n)}}t.dispatch(Object(lu.v)({contentType:lu.i.STITCHED,rollType:lu.j.MIDROLL}))}function g(){var e=t.getState(),n=e.playback.timedMetadata[pu];fetch(n,{method:"GET"}),t.dispatch(Object(lu.m)())}function _(){t.dispatch(Object($s.c)()),t.dispatch(Object(Nc.K)(!1)),t.dispatch(Object(Nc.Q)(zs.n))}function w(){t.dispatch(Object(Nc.Q)(zs.l))}function k(){t.getState().ads.currentMetadata.contentType!==lu.i.IMA&&t.dispatch(Object(Nc.Q)(zs.k))}function E(){var e=$.getCurrentTime();t.dispatch(Object(Nc.O)(e))}function S(){t.dispatch(Object(Nc.D)(Z.getPlaybackRate()))}function P(){var e=$.getCurrentTime();t.dispatch(Object(Nc.F)(e))}function T(){t.dispatch(Object(Nc.Q)(zs.f));var e=t.getState(),n=e.stream,r=e.playback;n.contentType===ru.a&&r.hasPlayed&&t.dispatch(Object(lu.q)(du.b,lu.k))}function O(){t.dispatch(Object(Nc.Q)(zs.f)),t.getState().stream.contentType===iu.a&&Z.setCurrentTime(ee.getCurrentTime())}function C(){t.dispatch(Object(Ic.b)(!1))}function x(){var e=t.getState(),n=e.playerOptions;n.force_preroll?Y(du.c,n.force_preroll):n.force_midroll?Y(du.a,n.force_midroll):n.force_preroll_id?Y(du.c,lu.k,n.force_preroll_id):n.force_midroll_id?Y(du.a,lu.k,n.force_midroll_id):t.dispatch(Object(lu.q)(du.c,lu.k))}function R(){if(t.getState().adsManager!==kc)x();else var e=Object(ou.a)(t,["adsManager"],function(t){t.adsManager!==kc&&(e(),x())})}function j(){return Object(ou.a)(t,["playback.autoplay"],function(e){var t=e.playback;$.setAutoplay(t.autoplay)})}function A(){return Object(ou.a)(t,["stream"],function(e){var t=e.stream;$._updateStream(t)})}function I(){return Object(ou.a)(t,["viewercount"],function(){X.emit(Ks.U)})}function N(){return Object(ou.a)(t,["onlineStatus"],function(e){e.onlineStatus===Xc.b?X.emit(Ks.r):X.emit(Ks.q)})}function M(){return Object(ou.a)(t,["playback.contentShowing"],function(e){e.playback.contentShowing&&X.emit(Ks.g)})}function L(){return Object(ou.a)(t,["quality.selected"],function(e){var t=e.quality;$._setBackendQuality(t.selected)})}function q(){return B(t.getState()),Object(ou.a)(t,["adsManager"],B)}function D(e,r){t.dispatch(F(e,r,t,n)),J.push(q())}function B(e){var n=e.adsManager;n.addEventListener(Ru.AD_END,function(){nu.a.set("lastAdDisplay",(new Date).getTime()),Z.getEnded()&&t.dispatch(Object(Nc.Q)(zs.f))}),n.addEventListener(Ru.AD_START,function(){t.dispatch(Object(Nc.Q)(zs.n))}),n.addEventListener(Ru.AD_ERROR,function(){Z.getEnded()&&t.dispatch(Object(Nc.Q)(zs.f))}),$c()(Ru,function(e){n.addEventListener(e,function(t){X.emit(e,t)})})}function U(){if(Z){var e=Z.getStats();t.dispatch(Object(hu.g)(e)),X.emit(Ks.F)}}function V(){var e=t.getState(),n=e.window;$._statsLoop||($._statsLoop=n.setInterval(U,hu.d),J.push(function(){n.clearInterval($.statsLoop),$._statsLoop=null}))}function W(){Z.addEventListener(Ru.AD_START,function(){t.dispatch(Object(Dc.r)(Dc.c))}),Z.addEventListener(Ru.AD_END,function(){nu.a.set("lastAdDisplay",(new Date).getTime()),t.dispatch(Object(Dc.q)())}),ee.addEventListener(Ks.c,function(e){t.dispatch(Object(Ac.e)(e));var n=Yc()(ee.getDevice())?ee.getDevice():"Chromecast";t.dispatch(Object(Ac.f)(n))}),J.push(j()),J.push(A()),J.push(I()),J.push(N()),J.push(M()),J.push(L()),Z.addEventListener(Ks.b,function(){t.dispatch(Object(su.i)(Z.getCaption()))}),Z.addEventListener(Ks.A,function(e){var n=e.quality,r=e.isAuto;t.dispatch(Object(Lc.q)(n,r)),t.dispatch(Object(ms.f)()),t.dispatch(Object(Lc.s)($.getQualities()))}),Z.addEventListener(Ks.o,function(e){t.dispatch(Object(xc.b)(e)),t.dispatch(Object(Nc.K)(!0)),$._initQuality()})}function G(){var e=t.getState(),n=e.quality;$._setBackendQuality(n.selected)}function K(){function e(){function n(){a=!1}function r(){if(a){var e=Date.now()-i,o=t.getState().manifestInfo.serving_id;t.dispatch(Object(Cc.d)("quality_change_complete",{time_to_stable_quality:e,serving_id:o})),Z.removeEventListener(Ks.E,r),Z.removeEventListener(Ks.A,n)}else a=!0}Z.removeEventListener(zs.n,e);var i=Date.now(),a=!1;Z.addEventListener(Ks.E,r),Z.addEventListener(Ks.A,n)}Z.addEventListener(zs.n,e)}function Y(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=parseInt(n,10)||lu.k;t.dispatch(Object(lu.q)(e,i,!0,r))}function Q(e,t){try{t=Gc()(t,{enumerable:!0}),Object.defineProperty($,e,t)}catch(e){}}var $=this,X=new Us.a;t.dispatch(Object(cs.N)(X));var J=[],Z=void 0,ee=void 0,te=!1;$._loadVideoAPI=function(){t.dispatch(Object(Tu.z)($))},$._propagateBackendMutliEvents=function(){[{event:zs.e},{event:Ks.w},{event:zs.j},{event:zs.i},{event:zs.l},{event:zs.k},{event:zs.u},{event:zs.n},{event:zs.f},{event:zs.q},{event:zs.s},{event:zs.c},{event:Ks.E},{event:Ks.a},{event:Ks.C},{event:zs.p},{event:Ks.H},{event:Ks.G},{event:zs.t,getPayload:function(){return{volume:$.getVolume(),muted:$.getMuted()}}}].forEach(function(e){Z.addEventListener(e.event,function(t){e.getPayload?X.emit(e.event,e.getPayload()):X.emit(e.event,t)})})},$._setABS=function(){var e=n.abs,r=!nu.a.get(Lc.h,!1),i=t.getState().quality.selected===Lc.i;$.absAvailable()&&(r||e)?(t.dispatch(Object(Lc.n)(Lc.i)),t.dispatch(Object(Lc.r)(Lc.j)),nu.a.set(Lc.h,!0)):!$.absAvailable()&&i&&t.dispatch(Object(Lc.n)(Lc.g,Lc.f)),t.dispatch(Object(Lc.o)($.absAvailable()))},$.absAvailable=function(){return Z.absAvailable()},$._initQuality=function(){$._setABS(),G()},$.destroy=function(){Z.destroy(),J.forEach(function(e){return e()}),Fs.g.unregisterPlayer($),X.removeAllListeners()},$._updateStream=function(e){if(te=!1,e.contentType===ru.a)Z.setChannel(e.channel,e),K();else if(e.contentType===iu.a)Z.setVideo(e.videoId,e),K();else if(e.contentType===au.a){var n=t.getState(),r=n.quality;Z.setClip({quality:r.selected})}else e.streamUrl.then(function(e){Z.setSrc(e)})},$.addEventListener=function(e,t){X.on(e,t)},$.removeEventListener=function(e,t){X.off(e,t)},$.getNetworkProfile=function(){return t.getState().backend.getNetworkProfile()},$.getError=function(){return Z.getError()},$.getSrc=function(){},$.setSrc=function(){},$.getNetworkState=function(){return Z.getNetworkState()},$.getBuffered=function(){return Z.getBuffered()},$.load=function(){Z.load()},$.getReadyState=function(){return Z.getReadyState()},$.getSeeking=function(){return Z.getSeeking()},$.getCurrentTime=function(){return Z.getCurrentTime()},$.setCurrentTime=function(e){t.dispatch(Object(Nc.G)()),Z.setCurrentTime(e)},$.getDuration=function(){return Z.getDuration()},$.getPaused=function(){var e=t.getState(),n=e.ads,r=e.adsManager;return n.currentMetadata.contentType===lu.i.IMA?r.paused:Z.getPaused()},$.isPaused=$.getPaused,$.getPlaybackRate=function(){return Z.getPlaybackRate()},$.setPlaybackRate=function(e){Z.setPlaybackRate(e)},$.getPlayed=function(){return Z.getPlayed()},$.getEnded=function(){return Z.getEnded()},$.getAutoplay=function(){return t.getState().playback.autoplay},$.setAutoplay=function(e){Z.setAutoplay(e)},$.setLoop=function(e){Z.setLoop(e)},$.play=function(){var e=t.getState(),n=e.playback,r=e.ads,i=e.stream;n.hasPlayed||n.playing||!te||i.contentType!==iu.a&&i.contentType!==ru.a||R(),Z.getNetworkState===Z.NETWORK_EMPTY?Z.load():r.currentMetadata.contentType===lu.i.IMA?(t.dispatch(Object(lu.p)()),t.dispatch(Object(Nc.Q)(zs.l))):(i.contentType===iu.a&&$.getEnded()&&$.setCurrentTime(0),Z.play()),t.dispatch(Object(Cc.d)("video_pause",{action:"play",in_ad:t.getState().ads.currentMetadata.contentType!==lu.i.NONE}))},$.pause=function(){t.dispatch(Object(Nc.Q)(zs.k)),t.getState().ads.currentMetadata.contentType===lu.i.IMA?t.dispatch(Object(lu.o)()):Z.pause(),t.dispatch(Object(Cc.d)("video_pause",{action:"pause",in_ad:t.getState().ads.currentMetadata.contentType!==lu.i.NONE}))},$.automatedPause=function(){Z.pause()},$.getControls=function(){return!0},$.setControls=function(){},$.getVolume=function(){return t.getState().playback.volume},$.setVolume=function(e){var n=parseFloat(e),r=t.getState(),i=r.ads,a=r.adsManager,o=r.playerOptions,s=i.currentMetadata.contentType===lu.i.IMA?a:Z;s&&s.setVolume?(t.dispatch(Object(Nc.R)(n)),s.setVolume(n),!0===o.persistUserPreferences&&nu.a.set("volume",n)):console.error("Volume controller not available, unable to set volume.")},$.getMuted=function(){return t.getState().playback.muted},$.setMuted=function(e,n){var r=t.getState(),i=r.ads,a=r.adsManager,o=r.playerOptions,s=r.env,u=i.currentMetadata.contentType===lu.i.IMA?a:Z;u&&u.setMuted?(t.dispatch(Object(Nc.E)(e)),u.setMuted(e),!0!==o.persistUserPreferences||n||nl.set(s.playerType,e)):console.error("Volume controller not available, unable to set muted.")},$.getTheatre=function(){return t.getState().screenMode.isTheatreMode},$.setTheatre=function(e){t.dispatch(Object(Bc.h)(e))},$._setBackendQuality=function(e){Z.setQuality(e)},$.getQualities=function(){return Z.getQualities()},$.getChannel=function(){return t.getState().streamMetadata.channelName},$.getVideo=function(){return t.getState().streamMetadata.videoId},$.getSessionInfo=function(){var e=t.getState(),n=e.analytics;return{broadcastId:e.manifestInfo.broadcast_id,playSessionId:n.playSessionId}},$.startCast=function(){ee.load()},$.stopCast=function(){ee.stop()},$.getFullscreen=function(){return t.getState().screenMode.isFullScreen},$.setFullscreen=function(e){t.dispatch(Object(Bc.g)(e))},$.getFullscreenEnabled=function(){return t.getState().screenMode.canFullScreen},$.getStatsEnabled=function(){return t.getState().stats.enabled},$.setStatsEnabled=function(){console.warn("setStatsEnabled has been deprecated.")},$.getStats=function(){return t.getState().stats.videoStats},$.getPlaybackStats=$.getStats,$.getVideoInfo=function(){return Z.getVideoInfo()},$.getBandwidthEstimate=function(){return Z.getBandwidthEstimate()},$.getBackend=function(){return Z.getBackend()},$.submitVideoIssueReport=function(e){var n={issue:e};n=Wo()(n,$.getVideoInfo()),t.dispatch(Object(Cc.d)("vid_issue_report",n))},$.setBackend=function(e){nu.a.usesCache()&&(nu.a.set("backend",e),t.getState().window.document.location.reload())},$.getVersion=function(){return t.getState().backend.getVersion()},$.getViewerCount=function(){return t.getState().viewercount},$.getCaption=function(){return Z.getCaption()},$.getEventEmitter=function(){return X},$.setLiveLowLatencyEnabled=function(e){return Z.setLiveLowLatencyEnabled(e)},$.setLiveMaxLatency=function(e){return Z.setLiveMaxLatency(e)},$.setAutoMaxVideoSize=function(e,t){return Z.setAutoMaxVideoSize(e,t)},$.trackMiniPlayerAction=function(e,n){t.dispatch(Object(Cc.d)(Ho.f,{action:e,reason:n}))},Q("error",{get:$.getError}),Q("src",{get:$.getSrc,set:$.setSrc}),Q("networkState",{get:$.getNetworkState}),Q("buffered",{get:$.getBuffered}),Q("readyState",{get:$.getReadyState}),Q("seeking",{get:$.getSeeking}),Q("currentTime",{get:$.getCurrentTime,set:$.setCurrentTime}),Q("duration",{get:$.getDuration}),Q("paused",{get:$.getPaused}),Q("playbackRate",{get:$.getPlaybackRate,set:$.setPlaybackRate}),Q("played",{get:$.getPlayed}),Q("ended",{get:$.getEnded}),Q("autoplay",{get:$.getAutoplay}),Q("loop",{set:$.setLoop}),Q("controls",{get:$.getControls,set:$.setControls}),Q("volume",{get:$.getVolume,set:$.setVolume}),Q("muted",{get:$.getMuted,set:$.setMuted}),Q("quality",{get:$.getQuality,set:$.setQuality}),Q("qualities",{get:$.getQualities}),Q("channel",{get:$.getChannel,set:$.setChannel}),Q("video",{get:$.getVideo,set:$.setVideo}),Q("stats",{get:$.getStats}),Q("statsEnabled",{get:$.getStatsEnabled,set:$.setStatsEnabled}),Q("fullscreen",{get:$.getFullscreen,set:$.setFullscreen}),Q("fullscreenEnabled",{get:$.getFullscreenEnabled}),Q("theatre",{get:$.getTheatre,set:$.setTheatre}),Q("viewers",{get:$.getViewerCount}),function(){var e=Object(Jc.b)(t.getState().env.playerType),i=tu.a;e.length<1?(t.dispatch(Object($s.d)(Qs.a.CODES.RENDERER_NOT_AVAILABLE)),t.dispatch(Object(Cc.d)(Ou.n,{playback_error_code:6e3,playback_error_msg:"no_backend_supported"}))):i=Vo()(e,n.backend)?n.backend:e[0],r(i),Fs.g.registerPlayer($),Fs.g.listenForContext(),V()}()}function K(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var n in t){var r=Object.getOwnPropertyDescriptor(t,n);r.get&&(r.get=r.get.bind(t)),r.set&&(r.set=r.set.bind(t)),"function"==typeof r.value&&(r.value=r.value.bind(t)),Object.defineProperty(e,n,r)}}),e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e){return{type:Sl,properties:e}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e){var t=e.which||e.keyCode||e.charCode;return e.key?e.key:Dl[t]}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e){return null==e?"":""+e}function ie(e,t,n){e.forEach(function(e){t[e]&&(n[e]=t[e])})}function ae(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=e[o]}return i()?{}:{obj:e,k:r(a.shift())}}function oe(e,t,n){var r=ae(e,t,Object);r.obj[r.k]=n}function se(e,t,n,r){var i=ae(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}function ue(e,t){var n=ae(e,t),r=n.obj,i=n.k;if(r)return r[i]}function ce(e,t,n){for(var r in t)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):ce(e[r],t[r],n):e[r]=t[r];return e}function le(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function de(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return Jl[e]}):e}function fe(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):fe(e,t))}function ye(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):ye(e,t))}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(){var e={};return cd.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:ld[t.fc]}})}),e}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):Pe(e,t))}function xe(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}function Re(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):Re(e,t))}function Ne(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function Me(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}function Le(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):Le(e,t))}function Ue(){}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t,n){}function He(e){var t=e.replace(/-[a-zA-Z]{2}$/,function(e){return e.toUpperCase()}),n=e.replace(/-[a-zA-Z]{2}$/,"");return Vo()(jd,t)||(t=Ad[n]||n),new Promise(function(e,r){Od.changeLanguage(t,function(i,a){i?r(i):e(new Nd(n,t,a))})})}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function et(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function it(e){var t=e.installation,n=e.trackingProperties,r=t.playerState.isHighlighted;return Fl.a.createElement(ef,{anchorClassName:Ef,collapseTarget:t.playerState.collapseLocation,height:e.height,width:e.width,isHidden:t.playerState.isHidden,isHighlighted:r,x:0,y:0},Fl.a.createElement(gf,{iframeClass:Sf,key:t.id,installation:t,isLoggedIn:e.isLoggedIn,isHighlighted:r,isVisible:e.isVisible,language:e.language,locale:e.locale,loginId:e.loginId,onDoubleClick:e.onDoubleClick,onBeginPurchase:e.onBeginPurchase,onIdentityLinked:e.onIdentityLinked,onMinimize:e.onMinimize,onModalRequested:e.onModalRequested,onModalNotification:e.onModalNotification,tracker:e.tracker,trackingProperties:n}))}function at(){return function(e,t){var n=t(),r=n.user;return n.bits.retrievingBitsBalance?Promise.reject():r.loggedInStatus===Cu.a?(e(st()),Object(Hs.j)(r.id).then(function(t){return e(ot(t.balance))}).catch(function(){return e(ut())})):Promise.reject(e(ot(null)))}}function ot(e){return{type:Of,bitsBalance:e}}function st(){return{type:Cf}}function ut(){return{type:xf}}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function dt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ft(e){var t=e.close;return Fl.a.createElement("button",{className:"close-popup-button__button","data-test-close-popup-button-close":!0,onClick:t},Fl.a.createElement("figure",{className:"close-popup-button__close-icon"},Fl.a.createElement("svg",{width:"16px",height:"16px",version:"1.1",viewBox:"0 0 16 16",x:"0px",y:"0px"},Fl.a.createElement("path",{d:"\n                            M8 6.586L3.757 2.343 2.343 3.757 6.586\n                            8l-4.243 4.243 1.414 1.414L8 9.414l4.243 4.243\n                            1.414-1.414L9.414\n                            8l4.243-4.243-1.414-1.414\n                        "}))))}function pt(e){var t=e.cancel,n=e.confirm,r=e.isLinked,i=e.isLoggedIn,a=e.productPayload,o=e.t;if(!i)return Fl.a.createElement("div",{className:"extension-confirmation__wrapper"},Fl.a.createElement("div",{className:" extension-confirmation__section extension-confirmation__section--first extension-confirmation__section--no-bottom "},Fl.a.createElement(ft,{close:t})),Fl.a.createElement("div",{"data-test-extensions-confirmation-logged-out":!0,className:"extension-confirmation__section"},Fl.a.createElement("h4",null,o("You must be logged in to use this extension feature."))),Fl.a.createElement("div",{className:"extension-confirmation__section extension-confirmation__section--no-bottom"},Fl.a.createElement("button",{onClick:t,className:"extension-confirmation__cancel","data-test-extension-confirmation-cancel":!0},o("Close"))));var s=null;if(!r){s=Fl.a.createElement("div",{className:"extension-confirmation__section extension-confirmation__section--no-bottom"},Fl.a.createElement("p",{"data-test-extensions-confirmation-link-notice":!0,className:"extension-confirmation__link-notice"},Fl.a.createElement(Wl.b,{i18nKey:'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under',extensionName:a.extensionName})," ",Fl.a.createElement("a",{href:"https://twitch.tv/settings/connections"},o("Settings")),"."))}var u="extension-confirmation__section "+(r?"":"extension-confirmation__section--no-bottom");return Fl.a.createElement("div",{className:"extension-confirmation__wrapper"},Fl.a.createElement("div",{className:" extension-confirmation__section extension-confirmation__section--first extension-confirmation__section--no-bottom "},Fl.a.createElement(ft,{close:t}),Fl.a.createElement("h4",{className:"extension-confirmation__popup-title"},o("In-Extension Purchase"))),Fl.a.createElement("div",{className:"extension-confirmation__section"},Fl.a.createElement("div",null,Fl.a.createElement("h5",{className:"extension-confirmation__product-title"},Fl.a.createElement("span",{className:"extension-confirmation__display-price"},a.displayPrice),a.title),Fl.a.createElement("p",{className:"extension-confirmation__extension-name"},Fl.a.createElement(Wl.b,{i18nKey:"{{extensionName}} Extension",extensionName:a.extensionName}))),Fl.a.createElement("p",{className:"extension-confirmation__description"},a.description)),Fl.a.createElement("div",{className:u},Fl.a.createElement("button",{onClick:n,className:"extension-confirmation__purchase","data-test-extension-confirmation-purchase":!0},o("Buy")),Fl.a.createElement("button",{onClick:t,className:"extension-confirmation__cancel","data-test-extension-confirmation-cancel":!0},o("Cancel"))),s)}function ht(e){function t(){r(),u()}function n(){r()}var r=e.clearPurchaseIntent,i=e.isLinked,a=e.isLoggedIn,o=e.purchaseIntent;if(!o)return null;var s=o.payload,u=o.makePurchase;return Fl.a.createElement(Wl.a,{i18n:Od},Fl.a.createElement(Bf,{cancel:n,confirm:t,isLinked:i,isLoggedIn:a,productPayload:s}))}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function bt(e){return e.displayName||e.name||"Component"}function gt(e){var t=function(t){function n(){mt(this,n);var e=yt(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.enableNotifications=e.enableNotifications.bind(e),e.disableNotifications=e.disableNotifications.bind(e),e.promptUserLogin=e.promptUserLogin.bind(e),e}return vt(n,t),Gf(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.showFollowNotification&&!this.props.showFollowNotification&&this._logInteraction(zf.h)}},{key:"_invokeIfLoggedIn",value:function(e){var t=this.props,n=t.user,r=t.channel;n.loggedIn?e(n.id,r.id):this.promptUserLogin()}},{key:"_logInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.analytics,i=n.relationship,a=n.playerType;r.trackEvent(e,Jo()(t,{follow_state:i.following,notif_state:i.notificationsEnabled,src:a}))}},{key:"enableNotifications",value:function(){var e=this,t=this.props,n=t.enableNotifications,r=t.emitEnableNotifications,i=t.relationship,a=i.following?zf.j:zf.f;this.checkToUseTwilightForApi().then(function(t){t?r():e._invokeIfLoggedIn(n)}),this._logInteraction(zf.g,{action:a})}},{key:"disableNotifications",value:function(){var e=this,t=this.props,n=t.disableNotifications,r=t.emitDisableNotifications;this.checkToUseTwilightForApi().then(function(t){t?r():e._invokeIfLoggedIn(n)}),this._logInteraction(zf.g,{action:zf.i})}},{key:"checkToUseTwilightForApi",value:function(){var e=this.props,t=e.playerType,n=e.experiments;return t===ls.B?n.get(dc.n).then(function(e){return e===$f}):Promise.resolve(!1)}},{key:"promptUserLogin",value:function(){var e=this.props,t=e.win,n=e.playerType,r=e.promptLoginModal,i=e.channel;n===ls.B?r(i.name):t.open(ys.c,"_blank")}},{key:"render",value:function(){var t=this.props,n=t.channel,r=t.showFollowNotification,i=t.relationship,a=t.withInfo;return r?Fl.a.createElement(e,{channelName:n.name,disable:this.disableNotifications,enable:this.enableNotifications,notificationsEnabled:i.notificationsEnabled,withInfo:a}):null}}]),n}(Fl.a.Component);return t.propTypes=Kf,t.defaultProps=Yf,t.displayName="WrappedFollowPanel("+bt(e)+")",Object(zl.b)(Qf,Xf)(t)}function _t(e){var t=e.className,n=e.notificationsEnabled,r=e.enable,i=e.disable,a=e.t,o=Bd()("pl-button","pl-button--icon","pl-button--status",t),s=Bd()("pl-button",t),u=Fl.a.createElement(Jf.a,{className:o,onClick:i,blurAfterClick:!0},Fl.a.createElement("span",null,Fl.a.createElement("figure",null,Fl.a.createElement(tp,{id:"icon_pl-followcheck"})),a("Notifications"))),c=Fl.a.createElement(Jf.a,{className:s,onClick:r,blurAfterClick:!0},Fl.a.createElement("span",null,a("Turn On Notifications")));return n?u:c}function wt(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,a=e.t,o=e.withInfo,s=Bd()({"pl-pinned-panel":!0,"pl-pinned-panel--animate":!0,"pl-pinned-panel--with-info":o});return Fl.a.createElement("div",{className:s},Fl.a.createElement("h2",{className:"pl-pinned-panel__title"},a("Follow and get notified when {{channelName}} is live",{channelName:t})),Fl.a.createElement(rp,{enable:n,disable:r,notificationsEnabled:i}))}function kt(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,a=e.t;return Fl.a.createElement("div",{className:lp},Fl.a.createElement("h2",{className:"pl-pinned-panel__title"},a("Live Broadcast has ended")),Fl.a.createElement("p",{className:"pl-pinned-panel__subtext"},a("Get notified when {{channelName}} goes live next",{channelName:t})),Fl.a.createElement(rp,{className:dp,enable:n,disable:r,notificationsEnabled:i}))}function Et(e){var t=e.playerType;if(e.streamType===Wf.b)return null;switch(t){case ls.z:case ls.B:case ls.q:return Fl.a.createElement(sp,null);case ls.A:return Fl.a.createElement(pp,null);default:return null}}function St(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,a=e.t;return Fl.a.createElement("div",null,Fl.a.createElement("p",{className:"pl-pinned-panel__subtext"},a("Get notified when {{channelName}} goes live next",{channelName:t})),Fl.a.createElement(rp,{className:gp,enable:n,disable:r,notificationsEnabled:i}))}function Pt(e){var t=e.t,n=e.hideFollowPanel,r=e.streamType,i=n?null:Fl.a.createElement(wp,null),a=Fl.a.createElement("div",{className:Sp},Fl.a.createElement("h2",{className:"pl-pinned-panel__title"},t("Live Broadcast has ended")),i);return r===Wf.b?a:null}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function At(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function It(e){var t=e.t;return Fl.a.createElement("div",{className:rh},Fl.a.createElement("div",{className:"player-center-content"},Fl.a.createElement("p",null,t("This collection is empty."))))}function Nt(e){var t=e.errorMessage,n=e.errorCode,r=e.t;return Fl.a.createElement("div",{className:"pl-error"},Fl.a.createElement("div",{className:"player-center-content"},Fl.a.createElement("p",null,r(t)+" ("+r("Error")+" #"+n+")")))}function Mt(e){var t=e.hasError,n=e.errorCode,r=e.errorMessage;return t?Fl.a.createElement(lh,{errorCode:n,errorMessage:r}):null}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ut(e){var t=e.thumbnailURL,n=e.onSelect,r=e.featuredCollection,i=Fl.a.createElement("span",null,Fl.a.createElement("figure",{className:"pl-card__smallicon"},Fl.a.createElement(kh.a,{id:"icon_open_collection"})),Fl.a.createElement("span",null,r.title));return Fl.a.createElement(gh,{className:"pl-rec__item",thumbnailURL:t,info:i,onSelect:n,selectItem:r,hasThumbZoom:!0,hasBorder:!0})}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rm;return function(t,n){var r=n().streamMetadata.channel.name;if(n().recommendations.status!==Yh||""===r)return Promise.resolve();var i=Math.floor(Math.random()*em);return t({type:Kh,status:Qh}),new Promise(function(e){n().window.setTimeout(e,i)}).then(function(){return n().experiments.get(dc.i)}).then(function(e){return"yes"===e?Qt(n().stream.videoId):Promise.reject()}).catch(function(){return Yt(r,Xh+1)}).then(function(r){var i=n(),a=i.resumeWatch,o=i.streamMetadata,s=r.filter(function(e){return e.broadcast_id!==o.broadcastID}).sort(function(e,t){var n=Xt(e,a.times),r=Xt(t,a.times);return!n&&r?-1:n&&!r?1:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}).map($t);t(Jt(s,e))})}}function Yt(e,t){var n={limit:t,broadcast_type:"archive"};return Object(Hs.s)("channels/"+e+"/videos?"+Object(Zo.stringify)(n)).then(function(e){return e.videos.map(function(e){return Jo()(e,{recommendationType:nm})})})}function Qt(e){return Object(Hs.s)("videos/similar/"+e).then(function(e){var t=e.similar_videos;return 0===t.length?Promise.reject():t.map(function(e){return Jo()(e,{recommendationType:tm})})})}function $t(e){return{recommendationType:e.recommendationType,creationDate:e.created_at,thumbnailURL:e.thumbnails.length>0?e.thumbnails[0].url:"",title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}}function Xt(e,t){if(!t.hasOwnProperty(e._id))return!1;var n=t[e._id];if(0===n)return!0;var r=Math.max(Jh,Zh*e.length);return e.length>Jh&&n>r}function Jt(e,t){return{type:zh,recommendationsType:t,videos:e}}function Zt(){return{type:Wh}}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function on(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function gn(e){var t=e.statName,n=e.value,r=e.t,i=e.key;return Fl.a.createElement("li",{className:"pl-stat",key:i},Fl.a.createElement("div",{className:"pl-stat__name"},Fl.a.createElement("span",null,r(t)+":")),Fl.a.createElement("div",{className:"pl-stat__value"},Fl.a.createElement("span",null,n)))}function _n(e){var t=e.stats,n=e.isLive,r=e.onClose,i=e.t,a=null,o=null,s=null,u=null;if(n){var c=t.hlsLatencyBroadcaster,l=t.latencyMode;a=Fl.a.createElement(Xm,{statName:"Latency To Broadcaster",value:i("{{time}} sec.",{time:c.toFixed(2)})}),o=Fl.a.createElement(Xm,{statName:"Latency Mode",value:i(l)})}return t.fps&&(s=Fl.a.createElement(Xm,{statName:"FPS",value:t.fps})),""!==t.codecs&&(u=Fl.a.createElement(Xm,{statName:"Codecs",value:t.codecs})),Fl.a.createElement("ul",{className:"pl-stats-list js-playback-stats"},Fl.a.createElement(Jf.a,{className:Zm,onClick:r},Fl.a.createElement(Hd,{id:"icon_close"})),Fl.a.createElement(Xm,{statName:"Video Resolution",value:t.videoResolution}),Fl.a.createElement(Xm,{statName:"Display Resolution",value:t.displayResolution}),s,Fl.a.createElement(Xm,{statName:"Skipped Frames",value:t.skippedFrames}),Fl.a.createElement(Xm,{statName:"Buffer Size",value:i("{{time}} sec.",{time:t.bufferSize.toFixed(2)})}),a,o,Fl.a.createElement(Xm,{statName:"Playback Rate",value:t.playbackRate+" Kbps"}),Fl.a.createElement(Xm,{statName:"Memory Usage",value:t.memoryUsage}),Fl.a.createElement(Xm,{statName:"Backend Version",value:t.backendVersion}),u)}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function En(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Tn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Rn(e){var t=e.playback,n=e.stream,r=e.onlineStatus,i=e.ads,a=i.currentMetadata.contentType!==lu.i.NONE,o=r===Xc.a,s=t.autoplay,u=t.ended,c=t.hasPlayed,l=t.paused,d=n.contentType,f=!s&&!c&&l&&!o||d===Ay.a,p=d===ru.a&&!a&&o&&u;return f?Ly:p?My:qy}function jn(e){return e?e.replace("{width}x{height}","1280x720").replace("-320x240","-1280x720"):""}function An(e){var t=e.clickThroughUrl;return Fl.a.createElement("div",{className:"pl-overlay"},Fl.a.createElement("a",{className:"pl-overlay__clickthrough",target:"_blank",rel:"noopener noreferrer",href:t}))}function In(e){var t=e.label,n=e.t,r=e.channelName;return Fl.a.createElement("div",{style:zy,className:"player-ad-notice"},Fl.a.createElement("p",null,n(t,{channelName:r})))}function Nn(e){var t=e.t,n=e.remainingAdTime,r=e.totalAds,i=e.adPosition,a=String(Ky(n)),o=Qy(Yy(n)),s="";return n>0&&(s=r>1?t("Ad {{adPosition}} of {{totalAds}} : ({{minutes}}:{{seconds}})",{adPosition:i,totalAds:r,minutes:a,seconds:o}):a+":"+o),Fl.a.createElement("div",{className:"pl-ad-countdown"},s)}function Mn(e){var t=e.clickThroughUrl,n=e.isPartner,r=e.displayName,i=e.isShowingAd,a=e.isStitchedAd,o=e.rollType,s=e.streamType,u=e.remainingAdTime,c=e.adPosition,l=e.totalAds;if(!i)return null;var d="This Ad supports Twitch.",f=null;a&&"string"==typeof t&&""!==t&&(f=Fl.a.createElement(An,{clickThroughUrl:t}));var p=s===ru.a;return Vo()(Jy,r.toLowerCase())||(d=Ln(n,p,o)),a?Fl.a.createElement("div",null,f,Fl.a.createElement(Wy,{label:d,channelName:r})):Fl.a.createElement("div",null,f,Fl.a.createElement(Wy,{label:d,channelName:r}),Fl.a.createElement(Xy.a,{uuid:dc.a,renderValue:"test"},Fl.a.createElement($y,{remainingAdTime:u,adPosition:c,totalAds:l})))}function Ln(e,t,n){var r="This Ad supports Twitch.";return n===lu.j.PREROLL?(r="This Ad supports Twitch.",e&&(r="This Ad supports {{channelName}}.")):n===lu.j.MIDROLL?t?(r="{{channelName}} will be back shortly. This Ad supports Twitch.",e&&(r="{{channelName}} will be back shortly. This Ad supports them.")):(r="This video will be back shortly. This Ad supports Twitch.",e&&(r="This video will be back shortly. This Ad supports {{channelName}}.")):n===lu.j.POSTROLL&&(t?(r="Thanks for watching the stream! This Ad supports Twitch.",e&&(r="Thanks for watching the stream! This Ad supports {{channelName}}.")):(r="This Ad supports Twitch.",e&&(r="This Ad supports {{channelName}}."))),r}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e){return"string"==typeof e&&e.indexOf("trans")>-1}function Bn(e){return function(t){"Enter"===t.key&&e()}}function Un(e){var t=e.onSelect,n=e.selectedValue,r=iv.map(function(e){function r(){t(e)}var i=Bn(r),a=Bd()(qn({"cc-preset-square":!0,"cc-transparent-bg":Dn(e),"cc-preset-square--selected":e===n},"cc-preset-square--"+e,!!e));return Fl.a.createElement("div",{className:a,onClick:r,onKeyUp:i,tabIndex:-1,role:"button",key:"cc-preset-"+e},"Aa")});return Fl.a.createElement("div",{className:"cc-panel-menu-frame cc-panel-menu-frame__presets"},r)}function Fn(e){var t=e.onSelect,n=e.selectedValue;return Fl.a.createElement(Un,{onSelect:t,selectedValue:n})}function Vn(e){function t(e){a(e.target.value)}var n=e.className,r=e.currentValue,i=e.id,a=e.onSelect,o=e.options,s=e.t,u=o.map(function(e){var t=e.value,n=e.text;return Fl.a.createElement("option",{key:"option."+t+"."+n,value:t},s(n))});return Fl.a.createElement("select",{className:n,onChange:t,onBlur:t,value:r,id:i},u)}function Hn(e){var t=e.t,n=e.currentFont,r=e.onSelect;return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"fontLabel"},t("Font")),Fl.a.createElement(fv,{currentValue:n,id:"fontLabel",onSelect:r,options:wv}))}function zn(e){var t=e.currentAlignment,n=e.onSelect,r=e.t;return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"ccAlignment"},r("Alignment")),Fl.a.createElement(fv,{id:"ccAlignment",currentValue:t,onSelect:n,options:Ov}))}function Wn(e){var t=e.currentPosition,n=e.onSelect,r=e.t;return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"verticalPosition"},r("Position")),Fl.a.createElement(fv,{currentValue:t,id:"verticalPosition",onSelect:n,options:Av}))}function Gn(e){var t=e.currentOpacity,n=e.onSelect,r=e.t;return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"fontOpacity"},r("Opacity")),Fl.a.createElement(fv,{currentValue:t,id:"fontOpacity",onSelect:n,options:Bv}))}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yn(e){var t=e.onSelect,n=e.currentColor,r=e.colors,i=e.t,a=r.map(function(e){function r(){t(e)}function i(e){"Enter"===e.key&&r()}var a,o="transparent"===e?Fl.a.createElement("hr",{className:"cc-no-color"}):null,s=Bd()((a={"cc-color-palette__square":!0},Kn(a,"cc-color-palette__square-"+e,!0),Kn(a,"cc-color-palette__square-selected",e===n),a));return Fl.a.createElement("div",{className:"cc-color-palette__container",key:"color-palette."+e},o,Fl.a.createElement("div",{role:"button",className:s,onClick:r,onKeyUp:i,tabIndex:-1}))});return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"colorPalette"},i("Color")),Fl.a.createElement("div",{id:"colorPalette",className:"cc-color-palette"},a))}function Qn(e){var t=e.increaseSize,n=e.decreaseSize,r=e.t;return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"sizePalette"},r("Size")),Fl.a.createElement(Jf.a,{className:"cc-font-size cc-font-size--increment",id:"sizePalette",onClick:t},"A",Fl.a.createElement("span",{className:"player-tip","data-tip":r("Increase Size")})),Fl.a.createElement(Jf.a,{className:"cc-font-size cc-font-size--decrement",id:"sizePalette",onClick:n},"A",Fl.a.createElement("span",{className:"player-tip","data-tip":r("Decrease Size")})))}function $n(e){function t(e){h($v,e)}function n(e){h(Yv,e)}function r(e){h(Kv,e)}function i(e){h(Qv,e)}function a(e){h(Xv,e)}function o(){d<nv.i.max&&h(Jv,d+nv.i.increment)}function s(){d>nv.i.min&&h(Jv,d+nv.i.decrement)}var u=e.currentAlignment,c=e.currentColor,l=e.currentFont,d=e.currentFontSize,f=e.currentPosition,p=e.currentOpacity,h=e.selectFontChange;return Fl.a.createElement("div",{className:"cc-panel-menu-frame"},Fl.a.createElement(kv,{currentFont:l,onSelect:r}),Fl.a.createElement(Cv,{currentAlignment:u,onSelect:i}),Fl.a.createElement(Vv,{currentColor:c,onSelect:n,colors:Gv}),Fl.a.createElement(Iv,{currentPosition:f,onSelect:t}),Fl.a.createElement(Uv,{currentOpacity:p,onSelect:a}),Fl.a.createElement(zv,{increaseSize:o,decreaseSize:s}))}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e){var t=e.currentAlignment,n=e.currentColor,r=e.currentFont,i=e.currentFontSize,a=e.currentPosition,o=e.currentOpacity,s=e.selectFontChange;return Fl.a.createElement($n,{currentAlignment:t,currentColor:n,currentFont:r,currentFontSize:i,currentPosition:a,currentOpacity:o,selectFontChange:s})}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){var n;return ib[e]&&void 0!==t?Bd()((n={"pl-cc-button":!0,"cc-style-palette__square":!0},Zn(n,"cc-style-palette__square--"+e,!0),Zn(n,"pl-cc-button--selected",t),n)):"cc-style-palette__square"}function tr(e){var t=e.t,n=e.selectTextStyle,r=cy()(ib,function(t,r){function i(){var t=e[o]?"none":r;n(s,t)}var a=t.text,o=t.enabledPropName,s=t.styleMapName,u=ob(i),c=er(r,e[o]);return Fl.a.createElement("div",{className:"cc-style-palette__container",key:"text-style-palette."+r},Fl.a.createElement("div",{role:"button",tabIndex:-1,htmlFor:"style-"+r,className:c,onClick:i,onKeyUp:u},a))});return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("div",null,t("Style")),Fl.a.createElement("div",{className:"cc-style-palette"},r))}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e,t){var n;return db[e]&&db[t]?Bd()((n={"pl-cc-button":!0,"cc-edge-palette__square":!0},nr(n,"cc-edge-palette__square--"+e,!0),nr(n,"pl-cc-button--selected",e===t),n)):"cc-edge-palette__square"}function ir(e){var t=e.currentTextEffect,n=e.selectTextEffect,r=e.t,i=Object.keys(db).map(function(e){function r(){n(e)}var i=rr(e,t),a=pb(r),o=e===lb?Fl.a.createElement("hr",{className:"cc-edge-disabled"}):null;return Fl.a.createElement("div",{className:"cc-edge-palette__container",key:"cc-text-effect-palette."+e},o,Fl.a.createElement("div",{role:"button",tabIndex:-1,htmlFor:"edge-effect-"+e,className:i,onClick:r,onKeyUp:a},cb))});return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("div",null,r("Effect")),Fl.a.createElement("div",{className:"cc-edge-palette"},i))}function ar(e){var t=e.boldText,n=e.italicText,r=e.underlineText,i=e.selectTextEffect,a=e.selectTextStyle,o=e.currentTextEffect;return Fl.a.createElement("div",{className:"cc-panel-menu-frame"},Fl.a.createElement(ub,{boldText:t,italicText:n,underlineText:r,selectTextStyle:a}),Fl.a.createElement(hb,{currentTextEffect:o,selectTextEffect:i}))}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e){var t=e.boldText,n=e.italicText,r=e.underlineText,i=e.currentTextEffect,a=e.selectTextEffect,o=e.selectTextStyle;return Fl.a.createElement(ar,{boldText:t,italicText:n,underlineText:r,currentTextEffect:i,selectTextStyle:o,selectTextEffect:a})}function ur(e){var t=e.onSelect,n=e.currentOpacity,r=e.t;return Fl.a.createElement("div",{className:"cc-customize-field"},Fl.a.createElement("label",{htmlFor:"bgOpacity"},r("Opacity")),Fl.a.createElement(fv,{currentValue:n,id:"bgOpacity",onSelect:t,options:Eb}))}function cr(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return Fl.a.createElement("div",{className:"cc-panel-menu-frame"},Fl.a.createElement(Sb,{currentOpacity:i,onSelect:r}),Fl.a.createElement(Vv,{currentColor:t,onSelect:n,colors:Tb}))}function lr(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return Fl.a.createElement(cr,{currentColor:t,currentOpacity:i,selectColor:n,selectOpacity:r})}function dr(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return Fl.a.createElement(cr,{currentColor:t,currentOpacity:i,selectColor:n,selectOpacity:r})}function fr(e){return function(t){"Enter"===t.key&&e()}}function pr(e){var t=e.currentPanel,n=e.selectPanel,r=e.t,i=Mb.map(function(e,i){function a(){n(e)}var o=Bd()({"player-tabs__item":!0,"player-tabs__item--active":t===e});return Fl.a.createElement("li",{key:e+"__"+i,className:o},Fl.a.createElement("a",{onClick:a,onKeyUp:fr(a),role:"button",tabIndex:0},r(e)))});return Fl.a.createElement("ul",{className:"player-tabs clearfix"},i)}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _r(e){var t=e.deviceName,n=e.t;return Fl.a.createElement("div",{className:"player-overlay pl-chromecast-overlay"},Fl.a.createElement("div",{className:"player-center-content"},Fl.a.createElement("div",null,n("Playing on {{deviceName}}",{deviceName:t}))))}function wr(e){var t=e.deviceName;return e.castingState!==Ys.b?null:Fl.a.createElement(rg,{deviceName:t})}function kr(e){var t=e.channelName,n=e.subscribeUrl,r=e.t;return Fl.a.createElement("div",{className:"pl-subscribe-overlay pl-subscribe-overlay--wall pl-product-overlay"},Fl.a.createElement("div",{className:"player-center-content player-product"},Fl.a.createElement("p",null,r(cg,{channelName:t})),Fl.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase_button"},r("Subscribe"))))}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Tr(e){var t=e.t;return Fl.a.createElement("div",{className:"pl-storm-warning"},Fl.a.createElement("div",{className:"player-center-content"},Fl.a.createElement("div",{className:"pl-loading-spinner"}),Fl.a.createElement("p",null,Fl.a.createElement("span",{className:"broadcast-down-label"},t("The broadcast is down.")),Fl.a.createElement("br",null),Fl.a.createElement("span",{className:"broadcast-reload-label"},t("The player will automatically reload when the broadcast is back.")))))}function Or(e){return e.shouldRenderStormWarning?Fl.a.createElement(kg,null):null}function Cr(e,t,n,r){function i(e){var t=nu.b.get("leaveData");if(t)return t[e]}function a(e,t){var n=nu.b.get("leaveData");n||(n={}),n[e]=t,nu.b.set("leaveData",n)}function o(){if(p){var e=i(p);if(e){var t=(new Date).getTime()/1e3;e.time+ys.v.refreshTimeout<t||n.dispatch(Object(Cc.d)("page_reload",{storm_detected:e.stormDetected,leave_dialog:e.stormDialog,refresh_warning:e.stormWarning}))}}}function s(){if(!p)return!1;if(!e.getEnded())return!1;if(!h||h<r.leaveDialogViewerThreshold)return!1;var t=(new Date).getTime()/1e3;return!(!m||m+ys.v.sinceEnded<t)}function u(){p=e.getChannel(),h=null,m=null,o()}function c(){h=n.getState().viewercount,m=(new Date).getTime()/1e3,s()&&r.refreshWarningEnabled&&d()}function l(e){var t=s(),i=t&&r.leaveDialogEnabled;if(a(p,{time:(new Date).getTime()/1e3,stormDetected:t,stormDialog:i,stormWarning:n.getState().screen===Dc.n}),i)return f(e)}function d(){n.dispatch(Object(Dc.r)(Dc.n)),setTimeout(function(){n.dispatch(Object(Dc.q)())},1e3*ys.v.warningDuration)}function f(e){return n.dispatch(Object(Cc.d)("page_leave_attempt",{viewers:h})),setTimeout(function(){setTimeout(function(){n.dispatch(Object(Cc.d)("page_leave_cancel",{viewers:h}))},1e3)},1),e.returnValue=ys.v.text,ys.v.text}var p,h,m;this.destroy=function(){window.removeEventListener("beforeunload",l)},function(){e.addEventListener(zs.j,u),e.addEventListener(zs.f,c),window.addEventListener("beforeunload",l),e.getChannel()&&u()}()}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ar(e,t){return!e.hasPlayed&&!e.isPlaying&&t.isPlaying}function Ir(e){var t=e.channelName,n=e.subscribeUrl,r=e.onClose,i=e.t;return Fl.a.createElement("div",{className:"player-overlay player-overlay--wall pl-product-overlay"},Fl.a.createElement("div",{className:"player-product-overlay__close js-player-product-close"},Fl.a.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:r},Fl.a.createElement(Up.a,{id:"icon_close_md"}))),Fl.a.createElement("div",{className:"player-center-content player-product"},Fl.a.createElement("p",null,i(qg,{channelName:t})),Fl.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase_button"},i("Subscribe"))))}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function qr(e){var t=e.handleDoubleClick;return Fl.a.createElement("div",{className:"player-overlay pl-overlay__fullscreen",onDoubleClick:t})}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Hr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Kr(e){var t=e.t;return Fl.a.createElement("div",{className:"pl-overlay pl-overlay--wall"},Fl.a.createElement("div",{className:"player-center-content"},Fl.a.createElement("p",null,t("Command Center view: Watch with All-Access Pass"))))}function Yr(e){var t=e.channelName,n=e.logoUrl,r=e.previewUrl,i=e.onGetAccess,a=e.t,o={backgroundImage:"url("+r+")"};return Fl.a.createElement("div",{className:"pl-overlay pl-overlay--wall"},r&&Fl.a.createElement("div",{className:"pl-overlay--preview",style:o}),Fl.a.createElement("div",{className:"player-center-content"},Fl.a.createElement("div",{className:"player-restriction__container"},Fl.a.createElement("div",{className:"player-restriction__header"},Fl.a.createElement("img",{className:"player-restriction__logo-end",src:E_,alt:"GivePLZ"}),Fl.a.createElement("img",{className:"player-restriction__logo",src:n||ys.a,alt:t}),Fl.a.createElement("img",{className:"player-restriction__logo-end",src:S_,alt:"TakeNRG"})),Fl.a.createElement("p",{className:"player-restriction__description"},a("{{channelName}} is live streaming for subscribers.",{channelName:t})),Fl.a.createElement("p",{className:"player-restriction__upsell"},a("Subscribe now to watch and support the stream.")),Fl.a.createElement(Jf.a,{className:"player-restriction__button",onClick:i},a("Get Access")))))}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Xr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ei(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ri(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function si(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function li(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function di(e,t,n,r,i){if(!t)return n.getState().window.console.error("Root element not found, unable to load player UI"),Object.freeze({destroy:function(){}});var a=document.createElement("div");return a.classList.add("player-ui"),t.appendChild(a),Hl.a.render(Fl.a.createElement(zl.a,{store:n},Fl.a.createElement(Wl.a,{i18n:Md},Fl.a.createElement(tw,{player:e,root:t,options:i,clipGenerator:r}))),a),Object.freeze({destroy:function(){Hl.a.unmountComponentAtNode(a)}})}function fi(e){return function(t){t({type:sw,pubsubVodInfo:pi(e)})}}function pi(e){return{watchPartyId:e.wp_id,vodId:e.vod_id,title:e.title,viewable:e.viewable,broadcastType:e.broadcast_type,incrementViewCountURL:e.increment_url}}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e){return"video-playback-by-id."+e}function yi(e){return"broadcast-settings-update."+e}function vi(e){return"ad-property-refresh."+e}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gi(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_w,t=arguments[1];switch(t.type){case Rc:return Jo()({},e,{params:t.params});case Pl.b:return Jo()({},e,{params:Jo()({},e.params,{player_type:t.playerType})});default:return e}}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments[1];switch(t.type){case Oc:return t.adsManager;default:return e}}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ww,t=arguments[1];switch(t.type){case ms.b:return Wo()({},e,{videoPlayCount:e.videoPlayCount+1});case ms.a:return Wo()({},e,{qualityChangeCount:e.qualityChangeCount+1});case ms.d:return Wo()({},e,{qualityChangeCount:0});case ms.e:return Wo()({},e,{trackingClients:t.clients});case ms.c:return Wo()({},e,{playSessionId:t.playSessionId,playSessionStartTime:t.playSessionStartTime});default:return e}}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ew,t=arguments[1];switch(t.type){case Cc.a:return t.tracker;default:return e}}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tu.b,t=arguments[1];switch(t.type){case uu:return t.backend;default:return e}}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sw,t=arguments[1];switch(t.type){case cu.a:return Jo()({},e,{playerBackendType:t.playerBackendType});case cu.b:return Jo()({},e,{isWasm:t.isWasm});default:return e}}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pw,t=arguments[1];switch(t.type){case Of:return Jo()({},e,{bitsBalance:t.bitsBalance,retrievingBitsBalance:!1});case Cf:return Jo()({},e,{retrievingBitsBalance:!0});case xf:return Jo()({},e,{retrievingBitsBalance:!1});default:return e}}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aw,t=arguments[1];switch(t.type){case Rw.a:var n=Jo()({},e);return Object.keys(t.recommendationSets).forEach(function(e){t.recommendationSets[e].forEach(function(e){n.bySlug[e.slug]=e,n.allSlugs=Object(jw.a)(n.allSlugs,e.slug)})}),n;default:return e}}function Ci(e){return{type:Iw,clipsEditing:e}}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lw,t=arguments[1];switch(t.type){case Iw:var n=ss()(t.clipsEditing,Mw()(Lw));return Gc()({},n,e);default:return e}}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fw;switch(arguments[1].type){case Eu.a:case Bw.a:return e.streamingTag.stop(),{streamingTag:new Dw.a.StreamingTag({customerC2:Uw})};default:return e}}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vw,t=arguments[1];switch(t.type){case $s.b:return{hasError:!0,code:t.code};case $s.a:return Vw;default:return e}}function Ai(e){return{type:Hw,experiments:e}}function Ii(e){return Ai(Object(dc.v)(e))}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ww,t=arguments[1];switch(t.type){case Hw:return t.experiments;default:return e}}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gw,t=arguments[1];switch(t.type){case zf.e:return Jo()({},e,{showFollowNotification:t.show});case zf.c:return Jo()({},e,{fetched:!0},ss()(t.followInfo,Object.keys(Gw)));case zf.b:return Jo()({},e,{following:t.isFollowing});case zf.a:return Jo()({},e,{notificationsEnabled:t.isFollowingNotifications});case Eu.a:return Gw;default:return e}}function Li(){return{type:Kw}}function qi(){return{type:Yw}}function Di(e){return{type:Qw,consent:e}}function Bi(e){return{type:$w,consent:e}}function Ui(e){return{type:Xw,consent:e}}function Fi(e){return{type:Jw,consent:e}}function Vi(e){return{type:Zw,hasUserSavedGDPRConsent:e}}function Hi(e){return{type:ek,hasUserSavedGDPRConsent:e}}function zi(e){return{type:tk,hasUserSavedGDPRConsent:e}}function Wi(e){return{type:nk,hasUserSavedGDPRConsent:e}}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rk,t=arguments[1],n=t.consent,r=t.hasUserSavedGDPRConsent;switch(t.type){case Qw:return yu()({},e,{vendors:{amazon:{consent:n}}});case $w:return yu()({},e,{vendors:{comscore:{consent:n}}});case Xw:return yu()({},e,{vendors:{google:{consent:n}}});case Jw:return yu()({},e,{vendors:{nielsen:{consent:n}}});case Zw:return yu()({},e,{vendors:{amazon:{hasUserSavedGDPRConsent:r}}});case ek:return yu()({},e,{vendors:{comscore:{hasUserSavedGDPRConsent:r}}});case tk:return yu()({},e,{vendors:{google:{hasUserSavedGDPRConsent:r}}});case nk:return yu()({},e,{vendors:{nielsen:{hasUserSavedGDPRConsent:r}}});case Kw:return ik;case Yw:return rk;default:return e}}function Ki(e){return{type:ak,lang:e}}function Yi(e){return function(t,n){return n().lang.shortCode===e?Promise.resolve():He(e).then(Ki).then(t)}}function Qi(e,t){return Yi($i()||Array.isArray(e.languages)&&e.languages[0]||e.language||e.userLanguage||t)}function $i(){var e=qs.cookie.get("language",null);if(!e)return null;try{Number(1).toLocaleString(e)}catch(e){return null}return e}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld,t=arguments[1];switch(t.type){case ak:return t.lang;default:return e}}function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ok,t=arguments[1];switch(t.type){case Eu.a:return ok;case xc.a:return Jo()({},e,ss()(t.info,Object.keys(ok)),{stream_time:parseFloat(t.info.stream_time,10)||0});default:return e}}function Zi(e){return{type:sk,value:e}}function ea(e){return{type:uk,value:e}}function ta(e){return{type:ck,value:e}}function na(e){return{type:lk,value:e}}function ra(e){return{type:dk,value:e}}function ia(e){return{type:fk,value:e}}function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pk,t=arguments[1];switch(t.type){case sk:return Jo()({},e,{enabled:Boolean(t.value)});case uk:return Jo()({},e,{parentChannelLogin:t.value});case ck:return Jo()({},e,{titleOverride:t.value});case lk:return Jo()({},e,{logoOverride:t.value});case dk:return Jo()({},e,{isFTUE:t.value});case fk:return Jo()({},e,{buttonText:t.value});default:return e}}function oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gk,t=arguments[1];switch(t.type){case bk.a:return mk()(t.notification,e);case bk.b:return vk()(e,1);default:return e}}function sa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case qc.a:return"live"===t.streamMetadata.type||e;case Ic.a:return t.online;default:return e}}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_k,t=arguments[1],n=void 0,r=void 0;switch(t.type){case el.b:return n=e.timedMilestones.slice(),n.push(t.milestone),Jo()({},e,{timedMilestones:n});case el.d:return Jo()({},e,{timeHidden:e.timeHidden+t.timeSpentHidden});case el.a:return r=e.otherMetrics.slice(),r.push(t.metric),Jo()({},e,{otherMetrics:r});case el.c:return Jo()({},e,{timedMilestones:[t.milestone],initTime:t.milestone.time});default:return e}}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wk,t=arguments[1];switch(t.type){case ow.a:var n=t.pixels.sort(function(e,t){return e.timeOffsetSeconds-t.timeOffsetSeconds});return n=n.map(function(e){return yu()({},e,{channelId:t.channelId})}),Wo()({},{pixels:n});case Eu.a:return{pixels:[]};default:return e}}function la(e){return{type:kk,playerDimensions:e}}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ek,t=arguments[1];switch(t.type){case kk:return Jo()({},e,t.playerDimensions);default:return e}}function fa(e){var t=ss()(e,["branding","collection","channel","channelId","force_preroll","force_midroll","force_preroll_id","force_midroll_id","gdprConsent","nSecondPlayPeriods","showInfo","showMature","showtheatre","tt_content","tt_medium","video","persistUserPreferences"]);return{type:Sk,playerOptions:t}}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pk,t=arguments[1];switch(t.type){case Sk:return yu()({},e,t.playerOptions);default:return e}}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tk,t=arguments[1];switch(t.type){case Lc.a:return Jo()({},e,{selected:t.quality,bitrate:t.bitrate});case Lc.c:return Jo()({},e,{current:t.quality});case Lc.d:return Jo()({},e,{available:t.qualities});case Lc.b:return Jo()({},e,{absAvailable:t.absAvailable});default:return e}}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ok,t=arguments[1];switch(t.type){case zh:return Jo()({},e,{type:t.recommendationsType,videos:t.videos,status:$h,numVideosVisible:t.videos.length>0?e.numVideosVisible:0});case Kh:return Jo()({},e,{status:t.status});case Gh:return Jo()({},e,{numVideosVisible:t.numVids});case Wh:case Eu.a:return Jo()({},Ok);default:return e}}function ya(){return{type:xk,times:nu.a.get(qk,{}),watch:nu.a.get(Dk,{}),streamTimes:nu.a.get(Bk,{}),lastTimeStamp:0,userId:null,isSeeked:!1}}function va(e){return{type:Lk,isSeeked:e}}function ba(e,t,n,r){var i={video_id:t,position:Math.floor(n),type:r};return Object(Hs.x)(e,i)}function ga(e){return e?Object(Hs.p)(e):Promise.reject()}function _a(e){return{type:Ck,resumeTimes:e}}function wa(e,t,n){return t-e>n}function ka(e,t,n){return 0===t&&0!==e||Math.abs(e-t)>n}function Ea(e,t){return function(n,r){var i=r(),a=i.resumeWatch,o=i.window,s=i.analytics;a.userId&&wa(s.playSessionStartTime,o.Date.now(),a.initUpdateOffset)&&ka(t,a.lastTimeStamp,a.updateInterval)&&(ba(a.userId,e,t,iu.a),n({type:Nk,lastTimeStamp:Math.floor(t)}))}}function Sa(e,t){return function(n,r){var i=r(),a=i.resumeWatch,o=i.window,s=i.analytics;a.userId&&wa(s.playSessionStartTime,o.Date.now(),a.initUpdateOffset)&&ka(t,a.lastTimeStamp,a.updateInterval)&&(ba(a.userId,e,t,ru.a),n({type:Nk,lastTimeStamp:Math.floor(t)}))}}function Pa(e,t){return function(n,r){r().resumeWatch.userId?n(Ea(e,t)):(n({type:jk,videoID:e,time:t}),xa(r()))}}function Ta(e){return function(t,n){n().resumeWatch.userId?t(Ea(e,0)):(t({type:Rk,videoID:e}),xa(n()))}}function Oa(e,t){return function(n,r){r().resumeWatch.userId?n(Sa(e,t)):(n({type:Ik,broadcastID:e,time:t}),xa(r()))}}function Ca(e){return function(t,n){n().resumeWatch.userId?t(Sa(e,0)):(t({type:Ak,broadcastID:e}),xa(n()))}}function xa(e){nu.a.set(qk,e.resumeWatch.times),nu.a.set(Dk,e.resumeWatch.watch),nu.a.set(Bk,e.resumeWatch.streamTimes)}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wk,t=arguments[1];switch(t.type){case xk:return Jo()({},e,ss()(t,Object.keys(Wk)));case Mk:return Jo()({},e,{userId:t.userId});case Uk.a:return Jo()({},e,{userId:t.userInfo.id});case Ck:return Jo()({},e,t.resumeTimes.reduce(function(e,t){var n=t.video_id,r=t.position,i=t.type;return i===iu.a&&(e.times[n]=r,e.watch[n]=!0),i===ru.a&&(e.streamTimes[n]=r),e},{times:{},watch:{},streamTimes:{}}));case jk:return yu()({},e,{times:Ra({},t.videoID,t.time),watch:Ra({},t.videoID,!0)});case Rk:return Jo()({},e,{times:pl()(e.times,t.videoID),watch:pl()(e.watch,t.videoID)});case Ik:return yu()({},e,{streamTimes:Ra({},t.broadcastID,t.time)});case Ak:return Jo()({},e,{streamTimes:pl()(e.streamTimes,t.broadcastID)});case Nk:return Jo()({},e,{lastTimeStamp:t.lastTimeStamp});case Lk:return Jo()({},e,{isSeeked:t.isSeeked});case Eu.a:return Jo()({},e,Aa(t.stream),{isSeeked:!1,lastTimeStamp:0});default:return e}}function Aa(e){var t={updateInterval:Wk.updateInterval,initUpdateOffset:Wk.initUpdateOffset};return e instanceof iu.b?(t.updateInterval=Fk,t.initUpdateOffset=Hk):e instanceof ru.b&&(t.updateInterval=Vk,t.initUpdateOffset=Math.ceil(Math.random()*zk)),t}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[Dc.g],t=arguments[1];switch(t.type){case lu.c:switch(t.currentMetadata.contentType){case lu.i.IMA:return e[0]!==Dc.c?[Dc.c].concat(e):e;case lu.i.STITCHED:return e[0]!==Dc.m?[Dc.m].concat(e):e;case lu.i.NONE:return Kk()(e,Dc.c,Dc.m);default:return e}case Dc.b:return[t.screen].concat(e);case Dc.a:return 1===e.length?[Dc.g]:e.slice(1);case Eu.a:return Vo()([Dc.i,Dc.j,Dc.p,Dc.f],e[0])?e.slice(1):e;case $s.b:return Vo()([Dc.h,Dc.p,Dc.l],e[0])?e:[Dc.h].concat(e);case $s.a:return e[0]===Dc.h?e.slice(1):e;default:return e}}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yk,t=arguments[1];switch(t.type){case Bc.b:return Jo()({},e,{isFullScreen:t.isFullScreen});case Bc.d:return e.canFullScreen?Jo()({},e,{isFullScreen:!e.isFullScreen}):e;case Bc.a:return Jo()({},e,{canFullScreen:t.canFullScreen});case Sk:return Jo()({},e,{canTheatreMode:t.playerOptions.showtheatre});case Bc.c:return Jo()({},e,{isTheatreMode:t.isTheatreMode});case Bc.e:return e.canTheatreMode?Jo()({},e,{isTheatreMode:!e.isTheatreMode}):e;default:return e}}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qk,t=arguments[1];switch(t.type){case qd.a:return Jo()({},e,ss()(t.settings,$k));case qd.b:return Jo()({},e,{lowLatencyModeEnabled:Boolean(t.enable)});case qd.c:return Jo()({},e,{persistenceEnabled:Boolean(t.value)});default:return e}}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ay.b,t=arguments[1];switch(t.type){case Eu.a:return t.stream;default:return e}}function qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jk,t=arguments[1];switch(t.type){case Xk.d:return Jo()({},e,t.subscriptions);case Xk.b:return Jo()({},e,{didFetch:!0},t.subscriptions);case Eu.a:return Jk;case Xk.c:return Jo()({},e,{isSubscribed:t.isSubscribed});case Xk.a:return Jo()({},e,{isSubscribable:t.isSubscribable});default:return e}}function Da(e){return{type:Zk,mutedSegments:e}}function Ba(e){return{type:eE,previews:e}}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tE,t=arguments[1];switch(t.type){case Zk:return Jo()({},e,{mutedSegments:t.mutedSegments});case eE:return Jo()({},e,{previews:t.previews});case Eu.a:return tE;default:return e}}function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case Sl:return Jo()({},e,ss()(t.properties,nE));default:return e}}function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rE,t=arguments[1];switch(t.type){case ul.d:return Jo()({},e,{isMini:Boolean(t.value)});case ul.g:return Jo()({},e,{showSettings:t.value,showExtensionsSubmenu:t.extensionsSubmenu});case ul.e:return Jo()({},e,{showUI:t.showUI});case ul.c:return Jo()({},e,{onUIElement:!0});case ul.b:return Jo()({},e,{onUIElement:!1});case ul.i:return Jo()({},e,{hidden:t.hidden});case ul.f:return Jo()({},e,{shouldShowControls:t.showPlayerControls});default:return e}}function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iE,t=arguments[1];switch(t.type){case Vc:return Jo()({},e,{params:t.params});case Hc:return Jo()({},e,{hostOverride:t.hostOverride});default:return e}}function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case qc.a:return t.streamMetadata.viewers||e;case aw.a:return t.count;default:return e}}function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oE,t=arguments[1];switch(t.type){case Eu.a:return Jo()({},e,{videoMomentEdges:[]});case aE.a:return Jo()({},e,{videoMomentEdges:t.videoMomentEdges});default:return e}}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sE,t=arguments[1];switch(t.type){case sw:return Jo()({},e,t.pubsubVodInfo);default:return e}}function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments[1];switch(t.type){case uE.a:return t.window;default:return e}}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dE;return function(t){return function(t){var n=e;return function(e){switch(e.type){case Cc.a:n=e.tracker;break;case Cc.b:n.trackEvent(e.eventName,e.eventProperties)}t(e)}}}}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hE;return function(t){return function(t){var n=e;return function(e){switch(e.type){case us.e:n=e.embedHost;break;case us.a:n._sendAdCompanionEvent(e.event,e.data);break;case us.b:n._emitWheelEvent(e.data);break;case us.c:n._sendFirstPartyAnalyticEvent(e.event,e.data);break;case us.d:n._sendPlaybackBlockedEvent();break;case cs.r:n._sendTransitionToCollectionEvent({vodId:e.vodId,collectionId:e.collectionId});break;case cs.s:n._sendTransitionToRecommendedVodEvent({vodId:e.vodId});break;case hu.c:n._sendStatsUpdateEvent();break;case cs.l:n._sendReadyEvent();break;case Nc.l:n._sendSeekedEvent(e.currentTime);break;case Nc.n:case Nc.i:n._sendPlaybackEvent(e.type);break;case su.b:n._sendCaptionsEvent(e.captions.data.text)}t(e)}}}}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bE;return function(t){return function(n){var r=e;return function(e){var i=t.getState(),a=i.screenMode;switch(e.type){case cs.t:r=e.emitter;break;case cs.k:r.emit(Ks.s);break;case cs.r:r.emit(Ks.N,{vodId:e.vodId,collectionId:e.collectionId});break;case cs.j:r.emit(dw.a);break;case cs.g:r.emit(fw.a);break;case cs.s:r.emit(Ks.O,{vodId:e.vodId});break;case qd.c:r.emit(Ks.t);break;case Bc.c:if(a.isTheatreMode===e.isTheatreMode)break;r.emit(Ks.K,!a.isFullScreen&&e.isTheatreMode);break;case Bc.e:r.emit(Ks.K,!a.isFullScreen&&!a.isTheatreMode);break;case zf.d:r.emit(Ks.z,{channelDisplayName:e.channelName});break;case cs.b:r.emit(zs.l);break;case cs.c:r.emit(zs.n);break;case cs.a:r.emit(zs.k);break;case cs.l:r.emit(Ks.x);break;case cs.q:r.emit(zs.m);break;case cs.p:r.emit(e.event,e.data);break;case vE.a:r.emit(Ks.e,e.moderationType);break;case cs.h:r.emit(Ks.k);break;case cs.i:r.emit(Ks.l);break;case cs.o:r.emit(Ks.P);break;case cs.e:r.emit(Ks.i);break;case cs.d:r.emit(Ks.h);break;case cs.f:r.emit(Ks.j,t.getState().stream.channel);break;case cs.m:r.emit(Ks.B,t.getState().stream.channel);break;case cs.n:r.emit(Ks.J);break;case Nc.d:r.emit(Ks.f,e.restriction);break;case $s.b:r.emit(Ks.u)}n(e)}}}}function eo(){return function(e){return function(e){return function(t){switch(t.type){case Nc.h:Fs.g.postContext({isPaused:!0});break;case Nc.i:Fs.g.postContext({isPaused:!1})}e(t)}}}}function to(){return function(e){return function(t){var n=0;return function(r){switch(r.type){case ul.i:if(r.hidden)n=e.getState().window.performance.now();else{var i=e.getState().window.performance.now();e.dispatch(Object(el.y)(i-n))}}t(r)}}}}function no(){return function(e){return function(t){var n=void 0,r=e.getState(),i=r.window,a=function(){var t=e.getState(),n=t.env,r=t.onlineStatus,i=t.playback,a=t.ui,o=n.playerType===ls.u,s=a.onUIElement,u=i.paused,c=r===Xc.a;o||s||u||c||e.dispatch(Object(ul.q)(!1))},o=function(){i.clearTimeout(n)},s=function(e){o(),n=i.setTimeout(a,e)},u=function(){e.dispatch(Object(ul.m)()),e.dispatch(Object(ul.q)(!1))},c=function(){var t=e.getState(),n=t.ui,r=t.collection,i=r.currentView===Nl.b;n.isMini||i||e.dispatch(Object(ul.q)(!0))},l=function(){var t=e.getState(),n=t.screenMode,r=t.window;if(n.isFullScreen){var i=r.document.getElementsByClassName("player-root")[0];i&&i.classList.add("player-root--cursor_hidden")}},d=function(){var t=e.getState(),n=t.window,r=n.document.getElementsByClassName("player-root")[0];r&&r.classList.remove("player-root--cursor_hidden")};return e.dispatch(Object(ul.t)()),s(ys.u),function(n){switch(n.type){case ul.d:n.value&&(u(),o());break;case Nc.h:c();break;case ul.a:e.getState().env.playerType!==ls.u&&(u(),l()),o();break;case Ac.a:Vo()(["connected","connecting"],n.castingState)?e.dispatch(Object(ul.q)(!0)):s(ys.s);break;case Lc.c:n.isAuto||(c(),s(ys.s));break;case Nc.m:case Nc.n:case Bc.c:case ul.h:case Bc.e:c(),s(ys.s);break;case ul.e:n.showUI?d():l()}t(n)}}}}function ro(){return function(e){return function(e){var t=void 0,n=new Promise(function(e){t=e});return function(r){switch(r.type){case Tu.b:t(r.video);break;case Tu.h:n.then(function(e){return e.play()});break;case Tu.g:n.then(function(e){return e.pause()});break;case Tu.a:n.then(function(e){return e.automatedPause()});break;case Tu.f:n.then(function(e){return e.setMuted(r.muted,r.automated)});break;case Tu.e:n.then(function(e){return e.setVolume(r.volume)});break;case Tu.i:n.then(function(e){return e.submitVideoIssueReport(r.issueType)});break;case Tu.c:n.then(function(e){return e.setBackend(r.backendType)});break;case Tu.d:n.then(function(e){return e.setPlaybackRate(r.playbackRate)});break;case Tu.j:n.then(function(e){return e.setCurrentTime(r.seekTime)});break;case Tu.l:n.then(function(e){return e.setLiveLowLatencyEnabled(r.enable)});break;case Tu.m:n.then(function(e){return e.setLiveMaxLatency(r.time)});break;case Tu.k:n.then(function(e){return e.setAutoMaxVideoSize(r.width,r.height)});break;case Ac.c:n.then(function(e){return e.startCast()});break;case Ac.d:n.then(function(e){return e.stopCast()})}e(r)}}}}function io(){return function(e){return function(e){var t=void 0,n=new Promise(function(e){t=e});return function(r){switch(r.type){case PE.c:t(r.tracker);break;case PE.a:n.then(function(e){return e.trackAppReady(Date.now())});break;case PE.b:n.then(function(e){return e.trackVideoPlaybackStarted(Date.now())})}e(r)}}}}function ao(){return function(e){return function(e){return function(t){switch(t.type){case qd.b:t.enable?nu.a.set("lowLatencyModeEnabled",!0):nu.a.set("lowLatencyModeEnabled",!1)}e(t)}}}}function oo(){return function(e){return function(t){return function(n){switch(n.type){case kk:var r=e.getState(),i=r.captions,a=r.env;if(Vo()(ls.b,a.playerType)){var o=n.playerDimensions.height,s=n.playerDimensions.width;if(o<=TE||s<=OE){var u=Math.min(o,s),c=Math.round(u*CE),l=Wo()({},i.style,{fontSize:c});e.dispatch({type:su.f,style:l})}}}t(n)}}}}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(vw.e)(xE,e,Object(vw.d)(Object(vw.a)(gw,ro()),Object(vw.a)(gw,SE()),Object(vw.a)(gw,Za()),Object(vw.a)(gw,eo()),Object(vw.a)(gw,Xa()),Object(vw.a)(gw,Qa()),Object(vw.a)(gw,io()),Object(vw.a)(gw,no()),Object(vw.a)(gw,to()),Object(vw.a)(gw,ao()),Object(vw.a)(gw,oo()),(window.devToolsExtension,function(e){return e})))}function uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(/\/\/(www|player|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e))return jE;if(t[NE])return"https://clips-"+t[NE]+".twitch.tv";if(/\/\/betaplayer\.twitch\.tv/.test(e))return IE;var n=qs.cookie.get(ME);return n||AE}function lo(e){var t=LE[e];return t||"500"}function fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e){return"string"!=typeof e?"":e.trim().toLowerCase()}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(e){return Object(Hs.C)(e).then(function(e){return bo(e.muted_segments)})}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null===e?[]:e.length<=1?e:go(e)?_o(e.slice(0).sort(function(e,t){return e.offset-t.offset})):Promise.reject(new Error("Muted segments not formatted correctly"))}function go(e){var t=!0;return e.forEach(function(e){e.hasOwnProperty("offset")&&e.hasOwnProperty("duration")&&dl()(e.offset)&&dl()(e.duration)||(t=!1)}),t}function _o(e){return e.reduce(function(e,t){var n=e[e.length-1],r=n.offset+n.duration,i=t.offset+t.duration;return r<t.offset?e.push(t):r<i&&(n.duration=i-n.offset),e},[e[0]])}function wo(e){return Object(Hs.C)(e).then(function(e){return fetch(e.seek_previews_url).then(function(e){return e.json()}).then(function(t){return ko(t,e.seek_previews_url)})})}function ko(e,t){if(null===e)return Promise.reject(new Error("Raw preview data not available"));var n=Object(bs.a)(t),r=n.protocol+"://"+n.host+n.directory,i={};e.forEach(function(e,t){i[e.quality]=t});var a=i[$E],o=i[XE];return{count:e[a].count,lq:{width:e[a].width,height:e[a].height,rows:e[a].rows,cols:e[a].cols,URLs:e[a].images.map(function(e){return""+r+e})},hq:{width:e[o].width,height:e[o].height,rows:e[o].rows,cols:e[o].cols,URLs:e[o].images.map(function(e){return""+r+e})}}}function Eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Co(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ao(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Yc()(e)?hl.b(e):e;if(n=No(n,window.location.href),Mo(n,t),!Object(js.b)()){var r=[ls.o,ls.B,ls.t,ls.h,ls.s,ls.y];Vo()(gS,n.player)||(n=ss()(n,ys.p)),n.branding=!Vo()(r,n.player)}if(n.backend=Lo(n),n.allowfullscreen=!1!==n.allowfullscreen,n=Gc()(n,{time:n.t}),n.time=hl.a(n.time),n=Gc()(n,{volume:nu.a.get("volume"),muted:nl.get(n.player),backend:nu.a.get("backend"),player:n.player===ls.v?ls.v:l()}),n=Gc()(n,{showInfo:n.channelInfo},{showInfo:!0,branding:!0,volume:.5,muted:!1,persistUserPreferences:!0,controls:!0,autoplay:!0,playsinline:!0,quality:"medium",time:null,leaveDialogEnabled:ys.v.enabled,leaveDialogViewerThreshold:ys.v.viewerThreshold,refreshWarningEnabled:ys.v.enabled,lang:ys.l,showtheatre:!1,abs:!1,origin:"",tt_content:"",tt_medium:""}),n.tracking=Gc()({},n.tracking,n.trackingProperties),n.nSecondPlayPeriods&&(Array.isArray(n.nSecondPlayPeriods)&&!n.nSecondPlayPeriods.some(function(e){return"number"!=typeof e})||delete n.nSecondPlayPeriods),"string"==typeof n.multiview)try{n.multiview=JSON.parse(n.multiview)}catch(e){}return n}function No(e,t){return 0!==t.indexOf("https://clips.twitch.tv/embed")?e:Jo()({},e,{player:ls.k})}function Mo(e,t){var n=Object(bs.a)(t.getState().window.location.href);n.queryKey.hasOwnProperty("force_preroll")&&(e.usher_force_preroll=!0,e.force_preroll=n.queryKey.force_preroll),n.queryKey.hasOwnProperty("force_midroll")&&(e.usher_force_midroll=!0,e.force_midroll=n.queryKey.force_midroll),n.queryKey.hasOwnProperty("force_preroll_id")&&(e.force_preroll_id=n.queryKey.force_preroll_id),n.queryKey.hasOwnProperty("force_midroll_id")&&(e.force_midroll_id=n.queryKey.force_midroll_id)}function Lo(e){if(e.flash)return bc.a;if(e.hls)return gc.a;var t=Vs.b.canPlay(),n=gc.b.canPlay();return e.html5&&t?Vs.a:e.html5&&n?gc.a:void 0}function qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){function n(e){var t=e.getState(),n=t.window,i=r(n.document),a=i.hidden,o=i.visibilityChange,s=function(){return e.dispatch(Object(ul.o)(n.document[a]))},u=function(){return n.document.removeEventListener(o,s)};n.document.addEventListener(o,s),S.push({destroy:u})}function r(e){var t=void 0,n=void 0;return void 0!==e.hidden?(t="hidden",n="visibilitychange"):void 0!==e.msHidden?(t="msHidden",n="msvisibilitychange"):void 0!==e.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),{hidden:t,visibilityChange:n}}function i(e){return Vo()([ls.l,ls.m,ls.k],e.player)?s.setClip(e.clip):ls.j===e.player?Promise.resolve(!0):e.customerId&&e.contentId?s._setContent(e.customerId,e.contentId):e.stream&&e.channelId?s._setLiveToVod(e.stream,e.channelId):e.channelId?Object(Hs.t)("channels/"+e.channelId).then(function(e){return s.setChannel(e.name)}):e.channel?s.setChannel(e.channel):e.collection?Promise.resolve(u.dispatch(Object(cl.r)(e.collection,e.video,e.time,!0))):e.video&&e.time?s.setVideo(e.video,Ds.a(e.time)):e.video?s.setVideo(e.video):Promise.resolve(!1)}function a(e){m.setVolume(e.volume),m.setMuted(e.muted),e.debug&&ys.d.forEach(function(e){Vo()(ys.k,e)||m.addEventListener(e,function(t){t?console.log("video event: ",e,t):console.log("video event: ",e)})}),m.addEventListener(zs.g,function(e){console.error("video error:",m.getError()||e)})}var o=performance.now(),s=this,u=so(),c=Io(t,u),l=void 0,f=void 0,p=void 0,h=void 0,m=void 0,y=void 0,v=void 0,b=void 0,g=void 0,_=void 0,w=void 0,k=void 0,E=void 0,S=[];s.store=u,s._setLiveToVod=function(e,t){var n=function(e){var n=u.getState(),r=n.user,i=function(){var e=u.getState(),n=e.user;u.dispatch(Object(zf.o)(n.id,t))};if(u.dispatch(Eu.h()),u.dispatch(Object(qc.f)(e)),r.loggedInStatus!==Cu.b)i();else var a=Object(ou.a)(u,["user.loggedInStatus"],function(e){var t=e.user;a(),t.loggedInStatus===Cu.a&&i()})};return Object(Hs.t)("content?stream_id="+e+"&channel_id="+t).then(function(t){if(t.stream&&t.stream._id.toString()===e)return s.setChannel(t.channel.name);if(t.videos.length>0){var r=t.videos.find(function(e){return"archive"===e.broadcast_type}),i=t.videos.find(function(e){return"highlight"===e.broadcast_type});if(r)return s.setVideo(r._id);if(i)return s.setVideo(i._id)}n(t.channel.name)}).catch(function(){return Object(Hs.t)("channels/"+t).then(function(e){n(e.name)})})},s._setContent=function(e,t){var n=Eu.i({contentType:Eu.e,customerId:e,contentId:t});return Promise.resolve(u.dispatch(n))},s.setChannel=function(e){var t=Eu.i({contentType:Eu.b,contentId:e});return u.dispatch(t),u.dispatch(Object(cl.l)()),Promise.resolve()},s.setClip=function(e){var t=Eu.i({contentType:Eu.c,contentId:e});return u.dispatch(t),u.dispatch(Object(cl.l)()),Promise.resolve(!0)},s.setPlaybackRate=function(e){u.dispatch(Object(Tu.p)(e))},s.setPlayerType=function(e){return u.dispatch(Object(Pl.e)(e)),e===ls.w&&(u.dispatch(Object(Tf.x)(u.getState().multiview.parentChannelLogin)),u.dispatch(Object(Tf.G)(u.getState().multiview.parentChannelLogin))),Promise.resolve(!0)},s.setVideo=function(e,t){if("string"==typeof e){var n="v"!==e.charAt(0)?"v"+e:e,r=Eu.i({contentType:Eu.f,contentId:n});return u.dispatch(r),u.dispatch(Object(cl.l)()),u.dispatch(Object(Nc.L)(t)),Promise.resolve()}},s.setCollection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return u.dispatch(Object(cl.r)(e,t,n)),Promise.resolve()},s.setLanguage=function(e){u.dispatch(Yi(e))},s.setMiniPlayerMode=function(e){u.dispatch(Object(ul.p)(e))},s.updateEditingOffsets=function(e){var t=e[0],n=t.startOffset,r=t.endOffset;u.dispatch(Ci({startOffset:n,endOffset:r}))},s.setEditClipStream=function(e){var t=e.videoUrl,n=e.slug,r=u.getState(),i=r.env,a=r.stream;i.playerType===ls.j&&t&&a.streamUrl!==t&&u.dispatch(Eu.i({contentType:Eu.d,contentId:n,contentSourceUrl:t}))},s.setFollowing=function(e){u.dispatch(Object(zf.l)(e))},s.setNotificationsDisabled=function(e){u.dispatch(Object(zf.k)(!e))},s.setSubscribable=function(e){u.dispatch(Object(Xk.e)(e))},s.setSubscribed=function(e){u.dispatch(Object(Xk.f)(e))},s.updateClipsEditing=function(e){var t=e.isPostEdit;u.getState().env.playerType===ls.j&&u.dispatch(Ci({isPostEdit:t}))},s.recordClip=function(){b&&Object(xw.b)(u.getState())&&b.recordClip()},s.isPlaying=function(){var e=u.getState(),t=e.stream,n=e.onlineStatus,r=t.contentType===iu.a,i=n===Xc.b;return!m.getPaused()&&!m.getEnded()&&(i||r)&&m.getReadyState()>Gs.a},s.setTrackingProperties=function(e){u.dispatch(Q(e))},s.setGDPRConsent=function(e){e?u.dispatch(Li):u.dispatch(qi)},s.setAmazonGDPRConsent=function(e){u.dispatch(Di(e))},s.setComscoreGDPRConsent=function(e){u.dispatch(Bi(e))},s.setNielsenGDPRConsent=function(e){u.dispatch(Fi(e))},s.setGoogleGDPRConsent=function(e){u.dispatch(Ui(e))},s.setHasUserSavedAmazonGDPRConsent=function(e){u.dispatch(Vi(e))},s.setHasUserSavedComscoreGDPRConsent=function(e){u.dispatch(Hi(e))},s.setHasUserSavedGoogleGDPRConsent=function(e){u.dispatch(zi(e))},s.setHasUserSavedNielsenGDPRConsent=function(e){u.dispatch(Wi(e))},s.getFullscreen=function(){return u.getState().screenMode.isFullScreen},s.setQuality=function(e){u.dispatch(Object(Lc.n)(e))},s.getQuality=function(){return u.getState().quality.current},s.showPlayerControls=function(e){u.dispatch(Object(ul.s)(e))},s.setMultiview=function(e){u.dispatch(Zi(e)),u.dispatch(ea(e&&e.parentChannelLogin)),u.dispatch(ta(e&&e.titleOverride)),u.dispatch(na(e&&e.logoOverride)),u.dispatch(ra(e&&e.isFTUE)),u.dispatch(ia(e&&e.buttonText))},s.addEventListener=function(e,t){m&&m.addEventListener&&m.addEventListener(e,t)},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=void 0;if(!(r="string"==typeof e||e instanceof String?document.getElementById(e):e))return void console.error("Root element not found, unable to initialize player.");if(t.multiview&&(u.dispatch(Zi(!0)),u.dispatch(ea(t.multiview.parentChannelLogin)),u.dispatch(ta(t.multiview.titleOverride)),u.dispatch(na(t.multiview.logoOverride)),u.dispatch(ra(t.multiview.isFTUE)),u.dispatch(ia(t.multiview.buttonText))),u.dispatch(Object(uE.b)(window)),u.dispatch(Object(el.x)("web_player_init",o)),u.dispatch(fa(t)),Object(Hs.A)(t),t.debug&&t.verbose&&u.subscribe(function(){console.debug("state change: %o",u.getState())}),t.force_manifest_node&&u.dispatch(W(t.force_manifest_node)),u.dispatch(Ii({login:qs.cookie.get("login")||null,deviceID:_s.a(!1),userAgent:u.getState().window.navigator.userAgent})),u.dispatch(Qi(u.getState().window.navigator,t.lang)),u.dispatch(Object(Pl.d)({deviceId:_s.a(!1)})),u.dispatch(Object(Pl.e)(t.player)),u.dispatch(Q(t.tracking)),t.gdpr){var c=t.gdpr,P=c.amazon,T=c.comscore,O=c.google,C=c.nielsen,x=c.hasUserSavedAmazonConsent,R=c.hasUserSavedComscoreConsent,j=c.hasUserSavedGoogleConsent,A=c.hasUserSavedNielsenConsent;u.dispatch(Di(P)),u.dispatch(Bi(T)),u.dispatch(Ui(O)),u.dispatch(Fi(C)),u.dispatch(Vi(x)),u.dispatch(Hi(R)),u.dispatch(zi(j)),u.dispatch(Wi(A))}S.push(new lw(u,t)),S.push(new iS(u)),S.push(new oS(u)),S.push(new ku(u)),S.push(new kS(u)),l=new d(u,t),u.dispatch(Object(Cc.c)(l)),u.dispatch(Object(Lc.m)()),Vo()(ls.c,u.getState().env.playerType)&&(f=new bS(u),u.dispatch(Object(PE.d)(f))),p=t.allowfullscreen?t.externalfullscreen&&Object(fw.c)()?new fw.b(r,u):new dw.b(r,u):new yw(r,u),g=new ZE(u),_=new FE(u);var I=u.getState(),N=I.window;u.dispatch(Object(el.w)(el.u,N.performance.now())),m=new G(r,u,t),u.dispatch(Object(el.w)(el.t,N.performance.now())),w=new zE(u),w.observe(r),k=new KE(u),t.player===ls.F&&(S.push(new QE(u)),t.targetOrigin||console.error("Missing targetOrigin option"),u.dispatch(Object(Pl.f)({targetOrigin:t.targetOrigin}))),K(s,m),v=new jl(s,u,{origin:t.origin}),y=new Ho.a(m,l,u,t),u.dispatch(Object(Nc.J)(t.autoplay)),a(t),S.push(new Bl(m,r,u,t)),t.controls&&(b=new qE(u),u.dispatch(Object(DE.b)(b)),u.dispatch(Object(el.w)(el.s,N.performance.now())),h=di(m,r,u,b,t),u.dispatch(Object(el.w)(el.r,N.performance.now()))),E=new pS(m,u),i(t).then(function(){u.dispatch(Q({content:t.tt_content,medium:t.tt_medium})),u.dispatch(Object(cs.G)())}),u.dispatch(ya()),m.addEventListener(zs.i,function(){u.dispatch(Object(Bc.f)(p.canFullScreen()))}),n(u)}(c),s.destroy=function(){E.destroy(),h&&h.destroy(),m.destroy(),y.destroy(),v.destroy(),S.forEach(function(e){return e.destroy()}),g.destroy(),_.destroy(),w.destroy(),k.destroy()}}function Bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var Uo,Fo=(n(228),n(7)),Vo=n.n(Fo),Ho=n(86),zo=n(32),Wo=n.n(zo),Go=n(1),Ko=n.n(Go),Yo=n(178),Qo=n(293),$o=n.n(Qo),Xo=n(6),Jo=n.n(Xo),Zo=n(39),es=n(294),ts=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ns=1e3,rs=Object.freeze({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},mode:"no-cors"}),is=function(){function e(t){var n=this;r(this,e),this._trackingURL=t.url,this._eventQueue=[],this._processEvents=$o()(function(){var e=n._encode(n._eventQueue.slice());return n._eventQueue=[],n._send(e)},ns)}return ts(e,[{key:"trackEvent",value:function(e,t){this._scheduleEvents([{event:e,properties:t}]),this._processEvents()}},{key:"trackEvents",value:function(e){e.length>0&&this._scheduleEvents(e),this._processEvents()}},{key:"_encode",value:function(e){return Object(Zo.stringify)({data:Object(Yo.a)(JSON.stringify(e))})}},{key:"_scheduleEvents",value:function(e){this._eventQueue=this._eventQueue.concat(e)}},{key:"_send",value:function(e){var t=this;return function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(3!==i)return fetch(t._trackingURL,Jo()({},rs,{body:e})).catch(function(e){return Object(es.a)(5e3).then(function(){return n(r,i+1)})})}(e)}}]),e}(),as=n(207),os=n(26),ss=n.n(os),us=n(79),cs=n(22),ls=n(5),ds=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fs=Object.freeze((Uo={},a(Uo,as.a,["time","device_id","play_session_id","customer_id","content_id","seconds_after_play"]),a(Uo,as.b.MINUTE_WATCHED,["time","device_id","play_session_id","customer_id","content_id","seconds_offset"]),a(Uo,as.b.VIDEO_PLAY,["time","device_id","play_session_id","customer_id","content_id","time_since_load_start","seconds_offset"]),a(Uo,as.b.BUFFER_EMPTY,["time","device_id","play_session_id","customer_id","content_id","buffer_empty_count"]),a(Uo,as.c,["time","device_id","play_session_id","customer_id","content_id","reason","code"]),Uo)),ps=Object.freeze(Object.keys(fs)),hs=function(){function e(t){i(this,e),this._store=t}return ds(e,[{key:"trackEvents",value:function(e){var t=this;e.reduce(function(e,t){var n=t.event,r=t.properties;return Vo()(ps,n)&&e.push({name:n,properties:ss()(r,fs[n])}),e},[]).forEach(function(e){var n=t._store.getState().env.playerType;Vo()(ls.b,n)?t._store.dispatch(Object(us.h)(e)):t._store.dispatch(Object(cs.B)(e))})}}]),e}(),ms=n(114),ys=n(11),vs="//video-edge-622fb1.sjc02.hls.ttvnw.net/v1/segment/CuEpl1wsBHGuUbn9nPfUiYFf1GNTw7qGH_HGLvJWYHdstWC6aqhfZW7HTdFcNjAVEB0dlAB6E5RfCBY4XsDSbMYp0y9zrexui2miVwCvDUbedNr5sDjyI6pv3-q44Lgz4XQNFzq4HduLaN1o91bM6h726tZ7hMNZ8jlfRQH1VGQmboikaSucF-l9YLdFb3atbqZGXtavuorHeHEBQsgCwxGr1vOnY8rIpN5fUrYEqhj0lQAUrMxSmnHlEjrSwJ5GetkGKigkZY1p7B-vua0ZKoZEV6n_HPhgWCGHW-YGoh6SzMror-X6KLPJUGeCkD6hliWaDZZDocAniigVVcUz51N7Tv2K9ykyZ9V-lJkSDZcDzTok3S3w4vJMwOY2o_1kO39IImR5NrntpGCBzRpJAAtP8ygRAB2MdQMh2Kqi8Zh9XrcARPwLdXadoKFL-sKNYXff_hSdkUaKgWFpmgqlCzJtX-5kSL81uvMzPC1xFMdp30fs8KJgiYO59qHePhB9dd-KSuou4c3rQJ1ZAzuJHBwXNKFfcjc5dRX4hHlzOW_T2_hEPemVpKq2exyRnCvkftfHWjWFTE6YECIXHyaoBjZRINo6hbsVKCDv9RgU509JrSCIIXCf_RQiIbgxk5y8gZ8kdWFKTC9b7mZ0lJVyRb_oCX0a_yVmw_YIrzCOwmcqH8Bg9G2UuEZAgDiXL2wrkoOC_sGNEOMKC7VG7csUIbAH2gl2B6ixVjbhz3GkOT7IRAVEaTgsamihgiaD4K9tsYA.ts",bs=n(54),gs=n(278),_s=n(111),ws=n(60),ks=n(295),Es=n(222),Ss=n(48),Ps=n.n(Ss),Ts=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Os=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/,Cs=/^(\d+)\.(\d+)[+|-]?(.*)?$/,xs=/^(\d+)$/,Rs="9.18.0",js=n(144),As=Ko.a.shape({trackEvent:Ko.a.func.isRequired}),Is="desktop",Ns="ember",Ms=["web","desktop"],Ls=[ls.h,ls.f,ls.B,ls.t],qs=n(93),Ds=n(45),Bs=n(50),Us=n.n(Bs),Fs=n(73),Vs=n(80),Hs=n(12),zs=n(27),Ws=n(208),Gs=n(152),Ks=n(41),Ys=n(64),Qs=n(62),$s=n(63),Xs={},Js=Object.freeze({group:"auto",name:"Auto"});!function(){function e(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"}).then(function(){return!!window.chrome&&(!(!chrome.cast||!chrome.cast.isAvailable)||new Promise(function(e){window.__onGCastApiAvailable=function(t){e(t)};var t=5,n=setInterval(function(){var r=!(!chrome.cast||!chrome.cast.isAvailable);(r||t<=0)&&(e(r),clearInterval(n)),t--},1e3)}))})}function t(e){if(e){var t=new chrome.cast.SessionRequest(ys.g),n=new chrome.cast.ApiConfig(t,r,a,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);chrome.cast.initialize(n)}}function n(){E=!1,d()}function r(e){b=e,b.addUpdateListener(i),_&&C?u():w&&C&&c(),b.addMessageListener("urn:x-cast:com.twitch.custom",function(e,t){var n=JSON.parse(t);n.qualities&&(x=n.qualities,y.emit(zs.c),y.emit(zs.i))})}function i(){switch(b.status){case chrome.cast.SessionStatus.CONNECTED:var e=b.receiver;v.volume!==e.volume.level&&(v.volume=e.volume.level,y.emit(zs.t)),v.muted!==e.volume.muted&&(v.muted=e.volume.muted,y.emit(zs.t));break;case chrome.cast.SessionStatus.STOPPED:o(null),b.removeUpdateListener(i),b=null,S=!1,d()}}function a(e){E=e===chrome.cast.ReceiverAvailability.AVAILABLE,d()}function o(e){g&&g.removeUpdateListener(s),g=e,S=!1,g&&(g.addUpdateListener(s),k&&(g.seek(k),k=null)),d()}function s(){v.currentTime!==g.currentTime&&(v.currentTime=g.currentTime,y.emit(zs.s)),v.volume!==g.volume.level&&(v.volume=g.volume.level,y.emit(zs.t)),v.muted!==g.volume.muted&&(v.muted=g.volume.muted,y.emit(zs.t)),v.playbackRate!==g.playbackRate&&(v.playbackRate=g.playbackRate,y.emit(zs.o));var e=g.playerState;v.playerState!==g.playerState&&(e===chrome.cast.media.PlayerState.PLAYING?y.emit(zs.n):e===chrome.cast.media.PlayerState.PAUSED?y.emit(zs.k):e===chrome.cast.media.PlayerState.BUFFERING||e===chrome.cast.media.PlayerState.IDLE&&y.emit(zs.f),v.playerState=g.playerState)}function u(){S=!0,d(),Object(Hs.a)(_).then(function(e){var t=new chrome.cast.media.MediaInfo(C,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.LIVE;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.display_name,n.images=[new chrome.cast.Image(e.logo)],t.metadata=n,t.customData={channel:_,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,b.loadMedia(r,o)},function(e){b.stop(),l(e)})}function c(){S=!0,d(),Object(Hs.C)(w).then(function(e){var t=new chrome.cast.media.MediaInfo(C,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.OTHER;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.title,n.images=[new chrome.cast.Image(e.preview)],t.metadata=n,t.customData={vod_id:w,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,b.loadMedia(r,o)},function(e){b.stop(),l(e)})}function l(){R&&R.dispatch(Object($s.d)(Qs.a.CODES.ABORTED))}function d(){var e=P,t=T;g?(P=Ws.c,T=Gs.c):S?(P=Ws.c,T=Gs.d):E?(P=Ws.b,T=Gs.d):(P=Ws.a,T=Gs.d),P!==e&&P===Ws.c&&y.emit(zs.j),T!==t&&(T===Gs.c?y.emit(zs.i):T===Gs.d&&y.emit(zs.f)),y.emit(Ks.c,p())}function p(){return T===Gs.d?P===Ws.a?Ys.d:P===Ws.b?Ys.a:Ys.c:Ys.b}function h(e){l(e)}var m=Xs,y=new Us.a,v={},b=void 0,g=void 0,_=void 0,w=void 0,k=void 0,E=void 0,S=void 0,P=void 0,T=void 0,O=!1,C=null,x=[],R=void 0;m.init=function(r){return y.removeAllListeners(),O?p():(O=!0,R=r,n(),e().then(t),p())},m.destroy=function(){},m.addEventListener=function(e,t){y.on(e,t)},m.removeEventListener=function(e,t){y.off(e,t)},m.getNetworkProfile=function(){return[]},m.getError=function(){},m.getSrc=function(){},m.setSrc=function(){},m.setAutoplay=function(){},m.getNetworkState=function(){return P},m.load=function(){chrome.cast.requestSession(r,h)},m.getBuffered=function(){return{length:0}},m.getReadyState=function(){return T},m.getSeeking=function(){},m.getCurrentTime=function(){return g?g.currentTime:v.currentTime||0},m.setCurrentTime=function(e){window.chrome&&window.chrome.cast&&(k=new chrome.cast.media.SeekRequest,k.currentTime=e,g&&(g.seek(k),k=null))},m.getDuration=function(){},m.getPaused=function(){if(g)return g.playerState===chrome.cast.media.PlayerState.PAUSED},m.getPlaybackRate=function(){return 1},m.setPlaybackRate=function(){},m.getPlayed=function(){},m.getEnded=function(){},m.getAutoplay=function(){},m.setLoop=function(){},m.play=function(){if(g){var e=new chrome.cast.media.PlayRequest;g.play(e)}else m.load()},m.pause=function(){if(g){var e=new chrome.cast.media.PauseRequest;g.pause(e)}},m.getControls=function(){},m.setControls=function(){},m.elapsedTime=function(){},m.getVolume=function(){if(g)return g.volume.level},m.setVolume=function(e){if(g){var t=new chrome.cast.Volume(e,null),n=new chrome.cast.media.VolumeRequest(t);g.setVolume(n)}},m.getMuted=function(){return g?g.volume.muted:b?b.receiver.volume.muted:void 0},m.setMuted=function(e){if(g){var t=new chrome.cast.Volume(null,e),n=new chrome.cast.media.VolumeRequest(t);g.setVolume(n)}},m.getQuality=function(){return"auto"},m.setQuality=function(e){b&&(b.sendMessage("urn:x-cast:com.twitch.custom",{quality:e}),y.emit(Ks.A,e))},m.getQualities=function(){var e=function(e){return Object.assign({},e,{bandwidth:e.bitrate})};return[Js].concat(f(x)).map(e)},m.getChannel=function(){return _},m.setChannel=function(e,t){_=e,w=null,t.streamUrl.then(function(e){C=e,b&&_&&C&&u()})},m.setClip=function(){},m.getVideo=function(){return w},m.setVideo=function(e,t){w=e,_=null,t.streamUrl.then(function(e){C=e,b&&w&&C&&c()})},m.getStats=function(){return{}},m.getVideoInfo=function(){return{}},m.getCaption=function(){},m.getBackend=function(){return"chromecast"},m.stop=function(){b&&b.stop()},m.getDevice=function(){if(b&&b.receiver)return b.receiver.friendlyName},m.absAvailable=function(){},m.setLiveLowLatencyEnabled=function(){},m.setLiveMaxLatency=function(){},m.setAutoMaxVideoSize=function(){},m.getBandwidthEstimate=function(){}}();var Zs=n(151),eu=n.n(Zs),tu=n(153),nu=n(21),ru=n(9),iu=n(10),au=n(99),ou=n(18),su=n(34),uu="set backend",cu=n(209),lu=n(16),du=n(51),fu="X-TV-TWITCH-AD-TRACKING-START",pu="X-TV-TWITCH-AD-TRACKING-COMPLETE",hu=n(82),mu=n(40),yu=n.n(mu),vu=n(292),bu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gu="broadcaster",_u="inserted",wu={Archive:"archive",PastPremiere:"past_premiere"},ku=function(){function e(t){m(this,e),this._store=t,this._unsubs=[],this._timer=null,this._initSubscribes()}return bu(e,[{key:"_initSubscribes",value:function(){this._unsubs.push(Object(ou.a)(this._store,["ads.currentMetadata.contentType"],this.onContentTypeChange.bind(this))),this._unsubs.push(Object(ou.a)(this._store,["ads.currentAdProperties","streamMetadata"],this.onMidrollSettingsChange.bind(this))),this._unsubs.push(Object(ou.a)(this._store,["playback.paused","playback.playing"],this.onPlaybackStateChange.bind(this))),this.onMidrollSettingsChange(this._store.getState())}},{key:"onContentTypeChange",value:function(e){if(e.ads.currentMetadata.contentType===lu.i.NONE){var t=this._store.getState().streamMetadata;this._timer&&this._showMidrollForType(t.type)&&this._store.getState().ads.vodMidrollArchiveSetting===_u&&this._timer.start()}else this._timer&&this._timer.pause()}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;if(t.playing){var n=this._store.getState().streamMetadata,r=this._store.getState().ads;this._timer&&this._showMidrollForType(n.type)&&r.currentMetadata.contentType===lu.i.NONE&&r.vodMidrollArchiveSetting===_u&&this._timer.start()}t.paused&&this._timer&&this._timer.pause()}},{key:"onMidrollSettingsChange",value:function(e){var t=e.ads,n=e.streamMetadata,r=n.type;this._showMidrollForType(r)?(this.createTimer(t),this.onPlaybackStateChange(this._store.getState())):this._timer&&(this._timer.destroy(),this._timer=null)}},{key:"createTimer",value:function(e){var t=this,n=e.currentAdProperties,r=n.hasVodAdsEnabled,i=n.vodArchiveMidrolls,a=n.vodArchiveMidrollsFrequency,o=n.vodArchiveMidrollsBreakLength;r&&(this._store.dispatch(Object(lu.x)(i)),i===_u&&(this._timer&&this._timer.destroy(),this._timer=new vu.a(function(){t._store.dispatch(Object(lu.q)(du.a,parseInt(o,10),!1,0,"TIMER_AD"))},6e4*parseInt(a,10),window)))}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()}),this._timer&&this._timer.destroy()}},{key:"_showMidrollForType",value:function(e){return e===wu.Archive||e===wu.PastPremiere}}]),e}(),Eu=n(19),Su={currentMetadata:{contentType:lu.i.NONE,rollType:lu.j.NONE},clickThrough:"",imaScriptLoaded:!1,vodMidrollArchiveSetting:_u,playback:{isAdImpression:!1},currentSubscriptionBenefit:null,currentSubscriptionProducts:[],currentAdProperties:lu.l,details:{remainingAdTime:0,adPodInfo:{adPosition:0,totalAds:0}}},Pu=function(e){return e.ads.currentMetadata.contentType!==lu.i.NONE},Tu=n(15),Ou=n(81),Cu=n(30),xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru=n(72),ju=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Au=function(){function e(t,n){k(this,e),this._adContainer=t,this._moatTracking=w,this._google=n.getState().window.google}return ju(e,[{key:"trackAd",value:function(e,t){var n=E(t),r={partnerCode:"twitchvpaid2756206246",viewMode:this._google.ima.ViewMode.NORMAL,slicer1:"www.twitch.tv",slicer2:n},i=Wo()(r,S(t));try{this._moatTracking(e,i,this._adContainer)}catch(e){console.error("Moat tracking failed: ",e)}}}]),e}(),Iu=n(98),Nu=n.n(Iu),Mu=n(42),Lu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qu=3e5,Du=60,Bu=function(){function e(t,n){T(this,e),this._store=t,this._adManager=n,this._streamRollTypes={}}return Lu(e,[{key:"destroy",value:function(){this._adManager.destroy()}},{key:"requestAds",value:function(e){if(!this._streamRollTypes.hasOwnProperty(e.channel)){var t;this._streamRollTypes[e.channel]=(t={},P(t,du.c,!1),P(t,du.a,!1),P(t,du.b,!1),t)}var n=C(e);x(n,e)?O(this._store.getState(),e,n):(this._adManager.requestAds(e),this._streamRollTypes[e.channel][e.adType]=!0)}},{key:"addEventListener",value:function(e,t){this._adManager.addEventListener(e,t)}},{key:"pause",value:function(){this._adManager.pause()}},{key:"play",value:function(){this._adManager.play()}},{key:"setVolume",value:function(e){this._adManager.setVolume(e)}},{key:"setMuted",value:function(e){this._adManager.setMuted(e)}},{key:"paused",get:function(){return this._adManager.paused}},{key:"sdk",get:function(){return this._adManager.sdk}}]),e}(),Uu=(n(536),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Fu=3036,Vu="DFP",Hu=function(){function e(t,n,r,i){var a=this;R(this,e),this._store=r,this._preloadPrerollBidsPromise=null,this._options=i,this._unsubs=[];try{var o=this._store.getState(),s=o.env,u=o.window;s.platform===Mu.a?this._apstag=new zu:u.apstag?(this._apstag=u.apstag,this._apstag.init({pubID:t,videoAdServer:n},function(){a._apstag=u.apstag})):this._apstag=new zu}catch(e){this._apstag=new zu;var c={reason:e.message};g({store:this._store,eventName:Ou.c,data:c})}this._unsubFromCurrentAdPropertiesChanged=Object(ou.a)(this._store,["ads.currentAdProperties"],this._onCurrentAdPropertiesChange.bind(this))}return Uu(e,[{key:"destroy",value:function(){this._unsubFromCurrentAdPropertiesChanged()}},{key:"preloadPrerollBids",value:function(){var e=this;return this._preloadPrerollBidsPromise=this._getAdsRequestContextForPreroll().then(function(t){return e._willDeclineAds(t)?[]:e._fetchVideoBids(["twitch-preroll"],t,500)}),this._preloadPrerollBidsPromise}},{key:"fetchBids",value:function(e){switch(e.adType){case lu.j.PREROLL:return this._fetchPrerollBids(e);case lu.j.MIDROLL:return this._fetchMidrollBids(e,1e3);case lu.j.POSTROLL:return this._fetchPostrollBids(e,1e3);default:return Promise.resolve([])}}},{key:"getAdRequestContextWithAmazonBids",value:function(e,t){var n=t;return e&&e[0]&&(n.amzniid=e[0].amzniid,n.amznbid=e[0].amznbid,n.qsParams=e[0].qsParams),n}},{key:"_fetchPrerollBids",value:function(e){if(!this._preloadPrerollBidsPromise)return this._fetchVideoBids(["twitch-preroll"],e,500);var t=this._preloadPrerollBidsPromise;return this._preloadPrerollBidsPromise=null,t}},{key:"_fetchMidrollBids",value:function(e,t){var n=Array.apply(null,new Array(1)).map(function(e,t){return"twitch-midroll-"+(t+1).toString()});return this._fetchVideoBids(n,e,t)}},{key:"_fetchPostrollBids",value:function(e,t){return this._fetchVideoBids(["twitch-postroll"],e,t)}},{key:"_fetchVideoBids",value:function(e,t,n){var r=this;if(!this._shouldRequestBids(t))return Promise.resolve([]);var i={slot_ids:e.join(",")};this._initAndSendAdSpadeEvent(Ou.a,t,i);var a=this._createSlotsFromSlotIds(e,n);return new Promise(function(n){var o=r._store.getState().window.Date,s=o.now();r._apstag.fetchBids(a,function(a){var u=o.now()-s;i.aax_latency=u;var c=a.filter(function(t){return"video"===t.mediaType&&Vo()(e,t.slotID)});r._options.debug&&console.log("aax fetchBids: ",c),c.length>0?(i.amzniid=c.map(function(e){return e.amzniid}).join(","),i.amznbid=c.map(function(e){return e.amznbid}).join(","),i.qsParams=c.map(function(e){return e.qsParams}).join(","),r._initAndSendAdSpadeEvent(Ou.d,t,i),n(c)):(i.reason="0 bids returned",r._initAndSendAdSpadeEvent(Ou.b,t,i),n([]))})})}},{key:"_createSlotsFromSlotIds",value:function(e,t){return{slots:e.map(function(e){return{mediaType:"video",slotID:e}}),timeout:t}}},{key:"_onCurrentAdPropertiesChange",value:function(){this._unsubFromCurrentAdPropertiesChanged();var e=this._store.getState().stream.contentType;e!==iu.a&&e!==ru.a||this.preloadPrerollBids()}},{key:"_getAdsRequestContextForPreroll",value:function(){var e=!1;return this._options&&this._options.hasOwnProperty("force_preroll")&&(e=!0),Object(lu.n)(lu.j.PREROLL,lu.k,this._store.getState(),e)}},{key:"_willDeclineAds",value:function(e){return x(C(e),e)}},{key:"_initAndSendAdSpadeEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v(t);g({eventName:e,store:this._store,data:Object.assign({},r,n)})}},{key:"_shouldRequestBids",value:function(e){return"VAES"!==e.adServer&&(!e.isFromEEA||e.amazonConsent)}}]),e}(),zu=function(){function e(){R(this,e)}return Uu(e,[{key:"init",value:function(){}},{key:"debug",value:function(){}},{key:"fetchBids",value:function(e,t){t([])}}]),e}(),Wu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gu=function(){function e(){j(this,e)}return Wu(e,[{key:"getVastXmlResponse",value:function(e){var t="https://dfp-creative-service.twitch.tv/?creative_id="+e;return this._httpsGet(t).then(function(e){return e&&e.vast_xml_response?e.vast_xml_response:Promise.reject(new Error("Invalid response from dfp-creative-service "+e))})}},{key:"_httpsGet",value:function(e){var t=this._convertHttpToHttps(e);return fetch(t).then(function(e){return e.json()})}},{key:"_convertHttpToHttps",value:function(e){return e.replace(/^http:\/\//i,"https://")}}]),e}(),Ku=null,Yu=null,Qu=new Promise(function(e,t){Ku=e,Yu=t}),$u=!1,Xu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ju=[{width:300,height:250},{width:300,height:60}],Zu=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};N(this,e),this._videoContainer=t,this._backend=n,this._hooks=i,this._store=r,this._unsubs=[],this._paused=!1,this._contentPauseRequested=!1,this._currentAdsManager=nc,this._imaLoaded=Qu.then(function(){var e=a._store.getState(),t=e.window,n=e.env;a._aaxManager=new Hu(Fu,Vu,a._store,o),t.google&&n.platform!==Mu.a&&(a._unsubs.push(Object(ou.a)(a._store,["playerDimensions"],a._resizeAd.bind(a))),a._configureVpaidMode(),a.initializeAdDisplayContainer(),a._moat=new Au(a._adContainer,a._store),a._setupAdsLoader())}).catch(function(e){return r.getState().analyticsTracker.trackEvent(Ou.k,{reason:"ima load failed"}),Promise.reject(e)})}return Xu(e,[{key:"loadSDK",value:function(){I(this._store.getState().window)}},{key:"initializeAdDisplayContainer",value:function(){var e=this._store.getState(),t=e.window,n=t.google;n&&(this._adContainer=t.document.createElement("div"),this._adContainer.classList.add("js-ima-ads-container","ima-ads-container"),this._videoContainer.appendChild(this._adContainer),this._adDisplayContainer=new n.ima.AdDisplayContainer(this._adContainer,this._videoContainer.querySelector("video, object")),this._adDisplayContainer.initialize())}},{key:"destroy",value:function(){this._adsLoader.destroy(),this._adDisplayContainer.destroy(),this._aaxManager.destroy(),this._unsubs.forEach(function(e){return e()})}},{key:"requestAds",value:function(e){var t=this;return this._imaLoaded.then(function(){return t._currentAdsManager.getRemainingTime()>0?Promise.resolve():t._isCreativeIdSet(e)?t._requestAdsInternalWithCreativeId(e):t._requestAdsInternal(e)})}},{key:"pause",value:function(){this._paused=!0,this._currentAdsManager.pause()}},{key:"play",value:function(){this._paused=!1,this._currentAdsManager.resume()}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){var t=this._store.getState(),n=t.playback;this._currentAdsManager.setVolume(e?0:n.volume)}},{key:"_setupAdsLoader",value:function(){var e=this,t=this._store.getState().window.google;this._adsLoader=new t.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(t.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)}),this._adsLoader.addEventListener(t.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e._onAdError(t)})}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,n=this._store.getState().window.google,r=e.getUserRequestContext();this._hooks.trackAdRequestResponse({context:r,adServer:"dfp",provider:"ima"}),this._currentAdsManager=e.getAdsManager(new ec(this._backend),this._getAdRenderSettings()),this._currentAdsManager.addEventListener(n.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t._onAdError(e)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.RESUMED,function(){return t._hooks.onAdResumed()}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.PAUSED,function(){return t._hooks.onAdPaused()}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){return t._onContentPauseRequested(r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){return t._hooks.onContentResumeRequested(r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.LOADED,function(e){return t._onAdLoaded(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.STARTED,function(e){return t._onAdStarted(e)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.AD_PROGRESS,function(){return t._onAdProgress()}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.IMPRESSION,function(e){return t._onAdImpression(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.COMPLETE,function(e){return t._onAdEnded(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.SKIPPED,function(e){return t._onAdSkipped(e,r)}),this._currentAdsManager.init(this._videoContainer.offsetParent.offsetWidth,this._videoContainer.offsetParent.offsetHeight,n.ima.ViewMode.NORMAL),this._currentAdsManager.start()}},{key:"_onContentPauseRequested",value:function(e){var t=this._store.getState(),n=t.playback,r=t.ads;Pu({ads:r})||(this._currentAdsManager.setVolume(n.muted?0:n.volume),this._hooks.onContentPauseRequested(e))}},{key:"_onAdError",value:function(e){var t=e.getError(),n=e.getUserRequestContext()||{adSessionId:null,adType:null,duration:null};this._hooks.onAdError({adRequestContext:n}),this._hooks.trackAdError({context:n,provider:"ima",adServer:"dfp",reason:t.getMessage(),errorCode:t.getErrorCode(),errorType:t.getType()}),this._isCreativeIdSet(n)&&console.error("Error playing creative "+n.creativeId+": "+t.getMessage()),this._currentAdsManager.destroy(),this._currentAdsManager=nc}},{key:"_onAdLoaded",value:function(e,t){var n=this._store.getState(),r=n.playback;this._currentAdsManager.setVolume(r.muted?0:r.volume),this._moat.trackAd(this._currentAdsManager,t),this._hooks.trackAdLoaded({context:t,provider:"ima",adServer:"dfp",ad:e.getAd().g})}},{key:"_onAdStarted",value:function(e){var t=this._retrieveCompanionAd(e);this._hooks.onCompanionAdRendered({provider:"ima",companionAd:t}),this._hooks.onAdStarted()}},{key:"_onAdProgress",value:function(){this._hooks.onAdProgress({remainingAdTime:this._currentAdsManager.getRemainingTime()})}},{key:"_retrieveCompanionAd",value:function(e){var t=e.getAd();return Ju.reduce(function(e,n){var r=t.getCompanionAds(n.width,n.height)[0];return r&&(r={content:r.getContent(),height:r.getHeight(),width:r.getWidth(),isEmpty:!1}),e||r||null},null)}},{key:"_onAdImpression",value:function(e,t){var n=e.getAd();this._hooks.trackAdImpression({context:t,provider:"ima",adServer:"dfp",ad:n.g}),this._hooks.onAdImpression({adRequestContext:t,ad:n.g})}},{key:"_onAdEnded",value:function(e,t){var n=e.getAd();this._hooks.trackAdComplete({context:t,provider:"ima",adServer:"dfp",ad:n.g}),this._hooks.onAdEnded()}},{key:"_onAdSkipped",value:function(e,t){var n=e.getAd();this._hooks.trackAdSkipped({context:t,provider:"ima",adServer:"dfp",ad:n.g}),this._hooks.onAdSkipped()}},{key:"_resizeAd",value:function(e){var t=e.playerDimensions,n=this._store.getState().window.google;this._currentAdsManager.resize(t.width,t.height,n.ima.ViewMode.NORMAL)}},{key:"_getNewAdsRequest",value:function(){var e=this._store.getState().window.google,t=this._videoContainer.offsetParent,n=new e.ima.AdsRequest,r=this._store.getState(),i=r.playback;return n.setAdWillAutoPlay(i.autoplay),n.setAdWillPlayMuted(i.muted),n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n}},{key:"_requestAdsInternal",value:function(e){var t=this,n=e;return this._hooks.trackAdRequested({context:n,provider:"ima",adServer:"dfp"}),this._requestAaxBids(n).then(function(e){n=t._aaxManager.getAdRequestContextWithAmazonBids(e,n);var r=t._getNewAdsRequest();r.adTagUrl=Object(du.d)(n),t._adsLoader.requestAds(r,n)}).catch(function(e){t._hooks.trackAdRequestError({context:n,provider:"ima",adServer:"dfp",reason:e.message})})}},{key:"_requestAdsInternalWithCreativeId",value:function(e){var t=this;return this._getVastXmlResponse(e).then(function(n){var r=t._getNewAdsRequest();r.adTagUrl="",r.adsResponse=n,t._adsLoader.requestAds(r,e)}).catch(function(n){return console.error("Error requesting creative="+e.creativeId,n.message),t._requestAdsInternal(e)})}},{key:"_requestAaxBids",value:function(e){var t=this;return this._aaxManager.fetchBids(e).catch(function(n){t._hooks.trackErrorEvent({context:e,provider:"ima",adServer:"dfp",eventName:Ou.b,reason:n.message})})}},{key:"_getVastXmlResponse",value:function(e){return(new Gu).getVastXmlResponse(e.creativeId)}},{key:"_isCreativeIdSet",value:function(e){var t=e.creativeId;return t&&t>0}},{key:"_getTargetAdBitrate",value:function(e){var t=.8*e;return t>=3e3?3e3:t<500?500:t}},{key:"_getAdRenderSettings",value:function(){var e=this._store.getState().window.google,t=this._backend.getStats(),n=t.playbackRate,r=new e.ima.AdsRenderingSettings;return r.restoreCustomPlaybackStateOnAdBreakComplete=!0,n&&(r.bitrate=this._getTargetAdBitrate(n)),r}},{key:"_configureVpaidMode",value:function(){var e=this._store.getState().window.google;Ps.a.msedge?e.ima.settings.setVpaidMode(e.ima.ImaSdkSettings.VpaidMode.DISABLED):e.ima.settings.setVpaidMode(e.ima.ImaSdkSettings.VpaidMode.INSECURE)}},{key:"paused",get:function(){return this._paused}},{key:"sdk",get:function(){return"html5"}}]),e}(),ec=function(){function e(t){N(this,e),this._backend=t}return Xu(e,[{key:"currentTime",get:function(){return this._backend.getCurrentTime()}},{key:"duration",get:function(){return this._backend.getDuration()}}]),e}(),tc=function(){function e(){N(this,e)}return Xu(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"start",value:function(){}},{key:"resize",value:function(){}},{key:"pause",value:function(){}},{key:"resume",value:function(){}},{key:"setVolume",value:function(){}},{key:"addEventListener",value:function(){}},{key:"getRemainingTime",value:function(){return-1}}]),e}(),nc=new tc,rc=n(33),ic=n.n(rc),ac=null,oc=null,sc=new Promise(function(e,t){ac=e,oc=t}),uc=!1,cc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lc=function(){function e(t,n,r,i){var a=this;q(this,e),this._videoContainer=t,this._backend=n,this._store=r,this._currentAdsManager=null,this._hooks=i,this.avapLoaded=sc.then(function(){var e=a._store.getState(),t=e.window,n=t.AmazonVideoAds;if(!n)return Promise.reject("Amazon Video Ads load failed");a._avapAdContainer=t.document.createElement("div"),a._avapAdContainer.classList.add("avap-ads-container"),a._videoContainer.appendChild(a._avapAdContainer),a._amazonVideoAds=new n(a._avapAdContainer)}).catch(function(e){return r.getState().analyticsTracker.trackEvent(Ou.k,{reason:"Amazon Video Ads load failed"}),Promise.reject(e)})}return cc(e,[{key:"destroy",value:function(){}},{key:"loadSDK",value:function(){L(this._store.getState().window)}},{key:"requestAds",value:function(e){var t=this;return this.avapLoaded.then(function(){if(!t._currentAdsManager){if(!t._amazonVideoAds)return Promise.reject(new Error("VAES not loaded"));var n=t._amazonVideoAds.newRequestBuilder(),r=Object(du.e)(e,n);return t._hooks.trackAdRequested({context:e,provider:"amazon",adServer:"vaes"}),t._amazonVideoAds.fetchAds(r)}}).then(function(n){return t._initializeAdsManager(n,e)}).catch(function(n){t._hooks.trackAdRequestError({context:e,adServer:"vaes",provider:"amazon",reason:n.message})})}},{key:"_initializeAdsManager",value:function(e,t){var n=this,r=this._store.getState(),i=r.playback,a=r.stats;this._currentAdsManager=e,this._hooks.trackAdRequestResponse({context:t,adServer:"vaes",provider:"amazon"}),e.init({fullscreen:!1,muted:i.muted,volume:i.volume}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.REQUEST_PAUSE,function(){return n._onContentPauseRequested(t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.REQUEST_RESUME,function(){return n._onContentResumeRequested(t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.IMPRESSION,function(e){return n._onAdImpression(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.RESUMED,function(){return n._hooks.onAdResumed()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.PAUSED,function(){return n._hooks.onAdPaused()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.LOADED,function(e){return n._onAdLoaded(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.ERRORED,function(e){return n._onError(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.STARTED,function(){return n._hooks.onAdStarted()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.COMPLETED,function(e){return n._onAdCompleted(e,t)}),e.startAds(this._determineBitrate(a))}},{key:"_determineBitrate",value:function(e){var t=e.videoStats.playbackRate,n=.8*t;return n>5e3?5e3:n<1e3?1e3:n}},{key:"pause",value:function(){this._currentAdsManager.pause()}},{key:"play",value:function(){this._currentAdsManager.play()}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){this._currentAdsManager.mute(e)}},{key:"_onContentPauseRequested",value:function(e){this._hooks.onContentPauseRequested(e)}},{key:"_onContentResumeRequested",value:function(e){this._hooks.onContentResumeRequested(e),this._currentAdsManager=null}},{key:"_onAdImpression",value:function(e,t){var n=this._normalizeAmazonAdData(e);this._hooks.trackAdImpression({context:t,provider:"amazon",adServer:"vaes",ad:n}),this._hooks.onAdImpression({adRequestContext:t,ad:n})}},{key:"_onError",value:function(e,t){this._hooks.onAdError({adRequestContext:t}),this._hooks.trackAdError({context:t,provider:"amazon",adServer:"vaes",errorCode:e.code}),this._currentAdsManager.destroy(),this._currentAdsManager=null}},{key:"_onAdLoaded",value:function(e,t){this._hooks.trackAdLoaded({context:t,provider:"amazon",adServer:"vaes",ad:this._normalizeAmazonAdData(e)})}},{key:"_onAdCompleted",value:function(e,t){this._hooks.trackAdComplete({context:t,provider:"amazon",adServer:"vaes",ad:this._normalizeAmazonAdData(e)}),this._hooks.onAdEnded()}},{key:"_normalizeAmazonAdData",value:function(e){var t=ic()(e,"adMetadata"),n=ic()(t,"ad"),r=ic()(t,"creative"),i=ic()(t,"mediaFile");return{adId:ic()(n,"id"),adPodInfo:ic()(n,"podInfo"),creativeId:ic()(r,"id"),title:ic()(n,"title"),adSystem:ic()(n,"system"),contentType:ic()(i,"mimeType"),duration:ic()(r,"duration"),vastMediaHeight:ic()(i,"height"),vastMediaWidth:ic()(i,"width"),vastMediaBitrate:ic()(i,"bitrate"),mediaUrl:ic()(i,"url")}}}]),e}(),dc=n(25),fc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pc=Object.freeze({preroll:lu.j.PREROLL,midroll:lu.j.MIDROLL,postroll:lu.j.POSTROLL}),hc=Object.freeze({content:"",height:0,width:0,isEmpty:!0}),mc=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};D(this,e),this._backend=n,this._videoContainer=t,this._unsubscribes=[],this._store=r,this._eventEmitter=new Us.a;var a=this._store.getState(),o=a.experiments;this.wave3TreatmentPromise=o.get(dc.t);var s={trackAdRequested:this.trackAdRequested.bind(this),trackAdRequestError:this.trackAdRequestError.bind(this),trackErrorEvent:this.trackErrorEvent.bind(this),trackAdRequestResponse:this.trackAdRequestResponse.bind(this),trackAdImpression:this.trackAdImpression.bind(this),trackAdLoaded:this.trackAdLoaded.bind(this),trackAdComplete:this.trackAdComplete.bind(this),trackAdError:this.trackAdError.bind(this),trackAdSkipped:this.trackAdSkipped.bind(this),onContentPauseRequested:this.onContentPauseRequested.bind(this),onContentResumeRequested:this.onContentResumeRequested.bind(this),onAdImpression:this.onAdImpression.bind(this),onAdResumed:this.onAdResumed.bind(this),onAdPaused:this.onAdPaused.bind(this),onAdError:this.onAdError.bind(this),onAdEnded:this.onAdEnded.bind(this),onAdStarted:this.onAdStarted.bind(this),onAdSkipped:this.onAdSkipped.bind(this),onAdProgress:this.onAdProgress.bind(this),onCompanionAdRendered:this.onCompanionAdRendered.bind(this)};this._imaManager=new Zu(t,n,r,s,i),this._amazonManager=new lc(t,n,r,s),this._currentAdsManager=vc,this._unsubscribes.push(Object(ou.a)(this._store,["ads.currentAdProperties.adServerDefault","ads.currentAdProperties.adServer"],this._onAdServerChange.bind(this))),this._onAdServerChange(this._store.getState())}return fc(e,[{key:"destroy",value:function(){this._imaManager.destroy(),this._amazonManager.destroy()}},{key:"pause",value:function(){this._currentAdsManager.pause()}},{key:"play",value:function(){this._currentAdsManager.play()}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){this._currentAdsManager.setMuted(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.addListener(e,t)}},{key:"requestAds",value:function(e){var t=this;return this.managerSelectedPromise.then(function(){return t._currentAdsManager.requestAds(e)})}},{key:"onAdError",value:function(e){var t=e.adRequestContext;this._contentPauseRequested&&(this._contentPauseRequested=!1,this._store.dispatch(Object(lu.m)()),this._resumeContent(),this._eventEmitter.emit(Ru.AD_ERROR,{roll_type:t.adType}))}},{key:"onAdImpression",value:function(e){var t=e.adRequestContext,n=e.ad,r=this._store.getState().window.Date,i=r.now(),a=this._twitchAdStats(n,t,i);this._store.dispatch(Object(lu.s)(n)),this._store.dispatch(Object(hu.f)(a)),this._store.dispatch(Object(lu.t)({isAdImpression:!0})),this._eventEmitter.emit(Ru.AD_IMPRESSION,{time_break:t.duration})}},{key:"onContentPauseRequested",value:function(e){var t=this._store.getState(),n=t.ads;this._contentPauseRequested=!0,Pu({ads:n})||(this._interruptContent(),this._store.dispatch(Object(lu.v)({contentType:lu.i.IMA,rollType:pc[e.adType]})),this._eventEmitter.emit(Ru.AD_START,{roll_type:e.adType}))}},{key:"onContentResumeRequested",value:function(e){var t=this._store.getState(),n=t.ads;this._contentPauseRequested=!1,Pu({ads:n})&&(this._store.dispatch(Object(lu.m)()),this._eventEmitter.emit(Ru.AD_END,{roll_type:e.adType}),this._resumeContent())}},{key:"onAdEnded",value:function(){this._store.dispatch(Object(lu.t)({isAdImpression:!1})),this._store.dispatch(Object(lu.w)(0)),this._eventEmitter.emit(Ru.AD_IMPRESSION_COMPLETE)}},{key:"onAdPaused",value:function(){this._store.dispatch(Object(cs.u)())}},{key:"onAdResumed",value:function(){this._store.dispatch(Object(cs.w)())}},{key:"onAdProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{remainingAdTime:0},t=e.remainingAdTime;this._store.dispatch(Object(lu.w)(t))}},{key:"onAdStarted",value:function(){this._store.dispatch(Object(cs.v)())}},{key:"onAdSkipped",value:function(){this._eventEmitter.emit(Ru.AD_SKIPPED)}},{key:"onCompanionAdRendered",value:function(e){var t=e.provider,n=e.companionAd,r=n||hc;this._eventEmitter.emit(Ru.COMPANION_AD_BUFFERED,r),n&&(this._store.dispatch(Object(us.f)(Ru.COMPANION_RENDERED,{provider:t})),this._eventEmitter.emit(Ru.COMPANION_RENDERED,{provider:t}))}},{key:"trackAdRequested",value:function(e){var t=e.context,n=e.adServer,r=e.provider;g({store:this._store,provider:r,eventName:Ou.i,data:v(t),adServer:n})}},{key:"trackAdRequestError",value:function(e){var t=e;t.eventName=Ou.k,this.trackErrorEvent(t)}},{key:"trackErrorEvent",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.reason,a=e.eventName,o=v(t);o.reason=i,g({store:this._store,provider:r,eventName:a,data:o,adServer:n})}},{key:"trackAdError",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.reason,a=e.errorCode,o=e.errorType,s=v(t);s.reason=i,s.error_code=a,s.error_type=o,g({store:this._store,provider:r,eventName:Ou.e,data:s,adServer:n})}},{key:"trackAdComplete",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,a=v(t,i);g({store:this._store,provider:r,eventName:Ou.g,data:a,adServer:n})}},{key:"trackAdImpression",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,a=this._store.getState().window.Date,o=a.now(),s=v(t,i);s.request_to_impression_latency=o-t.requestTime,g({store:this._store,provider:r,eventName:Ou.f,data:s,adServer:n})}},{key:"trackAdLoaded",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad;g({store:this._store,provider:r,eventName:Ou.h,data:v(t,i),adServer:n})}},{key:"trackAdSkipped",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,a=this._store.getState().window.Date,o=v(t,i);o.client_time=a.now(),g({store:this._store,provider:r,eventName:Ou.m,data:o,adServer:n})}},{key:"trackAdRequestResponse",value:function(e){var t=e.context,n=e.adServer,r=e.provider;g({store:this._store,provider:r,eventName:Ou.l,data:v(t),adServer:n})}},{key:"_twitchAdStats",value:function(e,t,n){var r=this._store.getState(),i=r.ads.currentMetadata.rollType,a=n/1e3,o=t.adSessionId,s=t.twitchCorrelator;return{id:e.adId,adPodInfo:e.adPodInfo,creativeId:e.creativeId,title:e.title,adWrapperIds:e.adWrapperIds,adWrapperCreativeIds:e.adWrapperCreativeIds,adWrapperSystems:e.adWrapperSystems,system:e.adSystem,contentType:e.contentType,duration:e.duration,vastMediaHeight:e.vastMediaHeight,vastMediaWidth:e.vastMediaWidth,vastMediaBitrate:e.vastMediaBitrate,mediaUrl:e.mediaUrl,rollType:i,sessionId:o,twitchCorrelator:s,impressionTime:a}}},{key:"_onAdServerChange",value:function(e){var t=this,n=e.ads.currentAdProperties,r=n.adServerDefault||n.adServer;return this.managerSelectedPromise=Promise.resolve(),"DFP"===r?(this._imaManager.loadSDK(),void(this._currentAdsManager=this._imaManager)):"VAES"===r?void(this.managerSelectedPromise=this.wave3TreatmentPromise.then(function(e){if("treatment"!==e)return Promise.reject()}).then(function(){t._amazonManager.loadSDK(),t._currentAdsManager=t._amazonManager},function(){t._imaManager.loadSDK(),t._currentAdsManager=t._imaManager})):void(this._currentAdsManager=vc)}},{key:"_interruptContent",value:function(){var e=this._store.getState(),t=e.stream;t instanceof ru.b?this._backend.setMuted(!0):t instanceof iu.b&&!this._backend.getEnded()&&this._store.dispatch(Object(Tu.n)())}},{key:"_resumeContent",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;this._backend.setVolume(t.volume),this._backend.setMuted(t.muted),n instanceof iu.b&&!this._backend.getEnded()&&this._store.dispatch(Object(Tu.t)())}},{key:"sdk",get:function(){return this._currentAdsManager.sdk}}]),e}(),yc=function(){function e(){D(this,e)}return fc(e,[{key:"requestAds",value:function(){return Promise.reject("Null Ads manager")}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMuted",value:function(){}},{key:"addEventListener",value:function(){}}]),e}(),vc=new yc,bc=n(116),gc=n(154),_c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wc=function(){function e(){B(this,e)}return _c(e,[{key:"requestAds",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMuted",value:function(){}},{key:"addEventListener",value:function(){}},{key:"destroy",value:function(){}},{key:"paused",get:function(){return!1}},{key:"muted",get:function(){return!1}},{key:"sdk",get:function(){return""}}]),e}(),kc=new wc,Ec=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sc={preroll:lu.j.PREROLL,midroll:lu.j.MIDROLL,postroll:lu.j.POSTROLL},Pc=Object.freeze({AD_START:"flashAdstart",AD_END:"flashAdend",AD_REQUEST:"flashAdRequested",AD_REQUEST_DECLINED:"flashAdRequestDeclined",AD_REQUEST_RESPONSE:"flashAdRequestResponse",AD_REQUEST_ERROR:"flashAdRequestError",AD_ERROR:"flashAdError",AD_COMPANION_RENDERED:"flashAdcompanionrendered",AD_IMPRESSION:"flashAdImpression",AD_IMPRESSION_COMPLETE:"flashAdImpressionComplete",AD_LOADED:"flashAdLoaded"}),Tc=function(){function e(t,n){U(this,e),this._flashBackend=t,this._store=n,this._eventEmitter=new Us.a,this._initializeEventListeners()}return Ec(e,[{key:"_initializeEventListeners",value:function(){this._flashBackend.addEventListener(Pc.AD_START,this.onAdStarted.bind(this)),this._flashBackend.addEventListener(Pc.AD_END,this.onAdEnded.bind(this)),this._flashBackend.addEventListener(Pc.COMPANION_RENDERED,this.onAdCompanionRendered.bind(this)),this._flashBackend.addEventListener(Pc.AD_REQUEST,this.onAdRequest.bind(this)),this._flashBackend.addEventListener(Pc.AD_REQUEST_DECLINED,this.onAdRequestDeclined.bind(this)),this._flashBackend.addEventListener(Pc.AD_REQUEST_RESPONSE,this.onAdRequestResponse.bind(this)),this._flashBackend.addEventListener(Pc.AD_REQUEST_ERROR,this.onAdRequestError.bind(this)),this._flashBackend.addEventListener(Pc.AD_ERROR,this.onAdError.bind(this)),this._flashBackend.addEventListener(Pc.AD_LOADED,this.onAdLoaded.bind(this)),this._flashBackend.addEventListener(Pc.AD_IMPRESSION,this.onAdImpression.bind(this)),this._flashBackend.addEventListener(Pc.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this))}},{key:"onAdStarted",value:function(e){this._store.dispatch(Object(lu.v)({contentType:lu.i.IMA,rollType:Sc[e.roll_type]})),this._eventEmitter.emit(Ru.AD_START,{roll_type:e.roll_type})}},{key:"onAdEnded",value:function(e){this._store.dispatch(Object(lu.m)()),this._eventEmitter.emit(Ru.AD_END,{roll_type:e.roll_type})}},{key:"onAdCompanionRendered",value:function(){this._eventEmitter.emit(Ru.COMPANION_RENDERED,{provider:"ima"})}},{key:"onAdRequest",value:function(e){this._sendSpadeEvent(Ou.i,e)}},{key:"onAdRequestDeclined",value:function(e){this._sendSpadeEvent(Ou.j,e)}},{key:"onAdRequestResponse",value:function(e){this._sendSpadeEvent(Ou.l,e)}},{key:"onAdRequestError",value:function(e){this._sendSpadeEvent(Ou.k,e)}},{key:"onAdError",value:function(e){this._sendSpadeEvent(Ou.e,e)}},{key:"onAdLoaded",value:function(e){this._sendSpadeEvent(Ou.h,e)}},{key:"onAdImpression",value:function(e){this._sendSpadeEvent(Ou.f,e),this._eventEmitter.emit(Ru.AD_IMPRESSION,{time_break:e.time_break})}},{key:"onAdImpressionComplete",value:function(e){this._sendSpadeEvent(Ou.g,e),this._eventEmitter.emit(Ru.AD_IMPRESSION_COMPLETE)}},{key:"_sendSpadeEvent",value:function(e,t){g({store:this._store,eventName:e,data:t})}},{key:"requestAds",value:function(e){var t=e.duration,n=e.adType,r=Object(du.d)(e);this._flashBackend.requestAdFill(t,n,r)}},{key:"pause",value:function(){this._isAdRunning()&&this._flashBackend.pause()}},{key:"play",value:function(){this._isAdRunning()&&this._flashBackend.play()}},{key:"setVolume",value:function(e){this._isAdRunning()&&this._flashBackend.setVolume(e)}},{key:"setMuted",value:function(e){this._isAdRunning()&&this._flashBackend.setMuted(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"destroy",value:function(){}},{key:"_isAdRunning",value:function(){return this._store.getState().ads.current.contentType!==lu.i.NONE}},{key:"paused",get:function(){return this._flashBackend.getPaused()}},{key:"muted",get:function(){return this._flashBackend.getMuted()}},{key:"sdk",get:function(){return"flash"}}]),e}(),Oc="create ads manager",Cc=n(17),xc=n(210),Rc="set access token params",jc=["need_https","platform","player_type","player_backend"],Ac=n(115),Ic=n(150),Nc=n(20),Mc=n(44),Lc=n(52),qc=n(61),Dc=n(13),Bc=n(31),Uc=n(537),Fc=n.n(Uc),Vc="set usher params",Hc="set usher host override",zc="usher_",Wc=n(211),Gc=n.n(Wc),Kc=n(123),Yc=n.n(Kc),Qc=n(303),$c=n.n(Qc),Xc=n(23),Jc=n(304),Zc=n(306),el=n(78),tl=n(287),nl=new tl.a({storageKey:"video-muted",segments:[{key:"carousel",playerTypes:[ls.t]}]});Object(tl.b)("muted",nl);var rl,il,al="ID3_AD",ol=n(29),sl=n.n(ol),ul=n(35),cl=n(43),ll=n(65),dl=n.n(ll),fl=n(212),pl=n.n(fl),hl=n(96),ml=n(226),yl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vl=function(){var e="https://player.twitch.tv";if(document.currentScript)e=document.currentScript.src;else{var t=Array.prototype.filter.call(document.scripts,function(e){return/twitch\.tv.*embed/.test(e.src)});e=t.length>0?t[0].src:document.scripts[document.scripts.length-1].src}var n=Object(bs.a)(e),r=n.path.split("/");if("testplayer.twitch.tv"===n.host.toLowerCase()){var i=r[1].replace(/[^a-zA-Z0-9_-]+/g,"");return n.protocol+"://"+n.authority+"/"+i}return/^(\d+\.)(\d+\.)(\d+)$/.test(r[1])?n.protocol+"://"+n.authority+"/"+r[1]:n.protocol+"://"+n.authority}(),bl=Object.freeze({channelName:"",currentTime:0,duration:0,mature:!1,muted:!1,playback:"",quality:"",qualitiesAvailable:[],stats:{},videoID:"",viewers:0,volume:0}),gl=Object.freeze({height:390,width:640,allowfullscreen:!1}),_l="ready",wl="ready",kl="subscribe",El=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gl;Y(this,e),this._eventEmitter=new Us.a,this._playerStateEmitter=new Us.a,this._playerState=bl,this._storeState={},this._onHostReady=this._getHostReady(),this._iframe=this._createPlayerIframe(n),t.appendChild(this._iframe),this._host=this._iframe.contentWindow,this._send(kl)}yl(e,[{key:"destroy",value:function(){this.callPlayerMethod("destroy")}},{key:"_createPlayerIframe",value:function(e){var t=this._normalizeOptions(e);t.origin=document.location.origin;var n=document.createElement("iframe"),r=Object(hl.c)(pl()(t,"width","height")),i=vl+"/?"+r;return n.setAttribute("src",i),n.setAttribute("width",t.width),n.setAttribute("height",t.height),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no"),n.setAttribute("allow","autoplay; fullscreen"),t.allowfullscreen&&n.setAttribute("allowfullscreen",""),n}},{key:"_normalizeOptions",value:function(e){var t=Jo()({},gl,e);return!1!==e.allowfullscreen&&(t.allowfullscreen=!0),t}},{key:"_getHostReady",value:function(){var e=this;return new ml.Promise(function(t,n){function r(e){this._isClientMessage(e)&&e.data.method===wl&&(this._storeState=e.data.args[0],window.removeEventListener("message",i),window.addEventListener("message",this),this._eventEmitter.emit(_l),t())}var i=r.bind(e);window.addEventListener("message",i),setTimeout(n,15e3)})}},{key:"_send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={namespace:"player.embed.host",method:e,args:n};this._host.postMessage(i,"*")}},{key:"_deferSend",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._onHostReady.then(function(){return e._send.apply(e,n)})}},{key:"_isClientMessage",value:function(e){return!!this._iframe&&(Boolean(e.data)&&"player.embed.client"===e.data.namespace&&e.source===this._iframe.contentWindow)}},{key:"handleEvent",value:function(e){if(this._isClientMessage(e))switch(e.data.method){case"bridgestateupdate":this._playerState=e.data.args[0],this._playerStateEmitter.emit("playerstateupdate",this._playerState);break;case"bridgeplayerevent":this._eventEmitter.emit(e.data.args[0].event);break;case"bridgeplayereventwithpayload":this._eventEmitter.emit(e.data.args[0].event,e.data.args[0].data);break;case"bridgestorestateupdate":this._storeState=e.data.args[0];break;case"bridgedestroy":this._iframe.parentNode.removeChild(this._iframe),window.removeEventListener("message",this),delete this._iframe,delete this._host}}},{key:"getPlayerState",value:function(){return this._playerState}},{key:"getStoreState",value:function(){return this._storeState}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"addPlayerStateListener",value:function(e){this._playerStateEmitter.on("playerstateupdate",e),e(this._playerState)}},{key:"removePlayerStateListener",value:function(e){this._playerStateEmitter.off("playerstateupdate",e)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.off(e,t)}},{key:"callPlayerMethod",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._deferSend.apply(this,[e].concat(n))}},{key:"setWidth",value:function(e){dl()(e)&&e>=0&&this._iframe.setAttribute("width",e)}},{key:"setHeight",value:function(e){dl()(e)&&e>=0&&this._iframe.setAttribute("height",e)}}])}(),n(113)),Sl="set tracking properties",Pl=n(148),Tl=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ol=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cl=Object.freeze((rl={},X(rl,as.b.MINUTE_WATCHED,"minuteWatched"),X(rl,as.b.VIDEO_PLAY,"videoPlay"),X(rl,as.b.BUFFER_EMPTY,"bufferEmpty"),X(rl,as.c,"videoError"),X(rl,as.a,"nSecondPlay"),rl)),xl=Object.freeze((il={},X(il,"ended",!0),X(il,"pause",!0),X(il,"play",!0),X(il,"playing",!0),X(il,"offline",!0),X(il,"online",!0),X(il,_l,!0),X(il,"playbackBlocked",!0),X(il,"minuteWatched",!0),X(il,"videoPlay",!0),X(il,"bufferEmpty",!0),X(il,"videoError",!0),X(il,"nSecondPlay",!0),X(il,"captions",!0),X(il,"matureflagchanged",!0),il)),Rl=Object.freeze({origin:""}),jl=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rl;$(this,e),this._player=t,this._store=n,this._clients=[],this._unsubscribes=[],this._window=this._store.getState().window,this._targetOrigin=i.origin,this._bridgeIsReady=function(){throw new Error("_bridgeIsReady should only be called in _sendReadyEvent")},this._onBridgeReady=new Promise(function(e){r._bridgeIsReady=e}),this._window.addEventListener("message",this);var a=this._store.getState().env.playerType;a!==ls.t&&a!==ls.s||this._player.addEventListener(Ks.s,this._sendOpenStreamEvent.bind(this));var o=this._window.opener||this._window.parent;o&&o!==this._window&&this._addClient(o),this._store.dispatch(Object(us.g)(this)),this._initSubscriptions()}return Ol(e,[{key:"_sendOpenStreamEvent",value:function(){this._sendPlayerEvent("openStream")}},{key:"_sendReadyEvent",value:function(){this._sendBridgeReady(),this._bridgeIsReady()}},{key:"_initSubscriptions",value:function(){var e=this;this._unsubscribes.push(Object(ou.a)(this._store,["analytics.playSessionId","captions.available","manifestInfo.broadcast_id","stream"],function(){e._sendStoreState()})),this._unsubscribes.push(Object(ou.a)(this._store,["error"],this.onError.bind(this))),this.onError(this._store.getState()),this._unsubscribes.push(Object(ou.a)(this._store,["viewercount"],function(){e._sendStoreState(),e._sendPlayerEvent("viewerschange")})),this._unsubscribes.push(Object(ou.a)(this._store,["playback.contentShowing"],function(t){t.playback.contentShowing&&e._sendPlayerEvent("contentShowing")})),this._unsubscribes.push(Object(ou.a)(this._store,["playback.paused","playback.ended"],function(t){var n=t.playback,r=n.paused;n.ended?e._sendPlayerEvent("ended"):r&&e._sendPlayerEvent("pause")})),this._unsubscribes.push(Object(ou.a)(this._store,["onlineStatus"],function(t){var n=t.onlineStatus;n===Xc.b?e._sendPlayerEvent("online"):n===Xc.a&&e._sendPlayerEvent("offline")})),this._unsubscribes.push(Object(ou.a)(this._store,["screenMode.isTheatreMode"],function(t){var n=t.screenMode;e._sendStoreState(),n.isTheatreMode?e._sendPlayerEvent("theatreentered"):e._sendPlayerEvent("theatreexited")})),this._unsubscribes.push(Object(ou.a)(this._store,["screenMode.isFullScreen"],function(t){var n=t.screenMode;e._sendStoreState(),n.isFullScreen?e._sendPlayerEvent("fullscreenentered"):e._sendPlayerEvent("fullscreenexited")})),this._unsubscribes.push(Object(ou.a)(this._store,["playback.currentTime"],function(t){var n=t.playback,r=n.currentTime;e._sendAll("bridgeplayereventwithpayload",{event:"timeUpdate",data:r})})),this._unsubscribes.push(Object(ou.a)(this._store,["streamMetadata.channel.mature"],function(){e._sendStoreState(),e._sendPlayerEvent("matureflagchanged")})),this._unsubscribes.push(Object(ou.a)(this._store,["stream","streamMetadata.channelName","streamMetadata.channel.id","streamMetadata.videoId","quality.current","quality.available","playback.currentTime","playback.duration","playback.muted","playback.volume","playback.paused","playback.ended"],this._sendPlayerState.bind(this)))}},{key:"onError",value:function(e){var t=e.error;t.hasError&&this._sendAll("bridgeplayereventwithpayload",{event:"error",data:{code:t.code}})}},{key:"_addClient",value:function(e){this._clients.push(e)}},{key:"_sendBridgeReady",value:function(){var e=this;this._clients.forEach(function(t){t.postMessage({namespace:"player.embed.client",method:wl,args:[e._getNormalizedStoreState()]},e._targetOrigin)})}},{key:"_postTo",value:function(e,t,n){this._clients.forEach(function(r){r.postMessage({namespace:"player.embed.client",method:e,args:t},n)})}},{key:"_sendAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Array.isArray(n)?n:[n];return this._onBridgeReady.then(function(){var n=Object(js.b)(t._targetOrigin),i=Object(js.a)(t._targetOrigin),a=t._isEvent(e),o=t._isPublicEvent(e,r);if(n||i||!a||o)return t._postTo(e,r,t._targetOrigin)})}},{key:"_isEvent",value:function(e){return"bridgeplayerevent"===e||"bridgeplayereventwithpayload"===e}},{key:"_isPublicEvent",value:function(e,t){if(!Array.isArray(t))return!1;var n=Tl(t,1),r=n[0];return!(!this._isEvent(e)||void 0===r.event)&&!0===xl[r.event]}},{key:"handleEvent",value:function(e){if(sl()(e.data)&&"player.embed.host"===e.data.namespace&&e.origin===this._targetOrigin)switch(e.data.method){case kl:this._addClient(e.source);break;case"play":this._store.dispatch(Object(Tu.t)());break;case"pause":this._store.dispatch(Object(Tu.s)());break;case"setcontent":this._store.dispatch(Eu.i({contentType:Eu.e,contentId:e.data.args[0],customerId:e.data.args[1]})),this._store.dispatch(Object(cl.l)());break;case"setclip":this._store.dispatch(Eu.i({contentType:Eu.c,contentId:e.data.args[0]})),this._store.dispatch(Object(cl.l)());break;case"setvideosource":this._store.dispatch(Eu.i({contentType:Eu.g,contentId:e.data.args[0]})),this._store.dispatch(Object(cl.l)());break;case"channel":this._store.dispatch(Eu.i({contentType:Eu.b,contentId:e.data.args[0]})),this._store.dispatch(Object(cl.l)());break;case"channelId":this._handleChannelId(e.data.args[0]);break;case"video":this._handleSetVideo(e.data.args);break;case"collection":this._handleSetCollection(e.data.args);break;case"seek":this._player.setCurrentTime(parseFloat(e.data.args[0]));break;case"quality":this._store.dispatch(Object(Lc.n)(e.data.args[0]));break;case"mute":this._store.dispatch(Object(Tu.r)(!!e.data.args[0]));break;case"volume":this._store.dispatch(Object(Tu.q)(e.data.args[0]));break;case"theatre":this._store.dispatch(Object(Bc.h)(e.data.args[0]));break;case"fullscreen":this._store.dispatch(Object(Bc.g)(e.data.args[0]));break;case"destroy":this._player.destroy(),this._sendAll("bridgedestroy");break;case"setminiplayermode":this._store.dispatch(Object(ul.p)(e.data.args[0]));break;case"setTrackingProperties":this._setTrackingProperties(e.data.args[0]);break;case"setPlayerType":this._store.dispatch(Object(Pl.e)(e.data.args[0]));break;case"enableCaptions":this._store.dispatch(Object(su.j)(!0));break;case"disableCaptions":this._store.dispatch(Object(su.j)(!1));break;case"setCaptionSize":this._store.dispatch(Object(su.k)(su.g,{fontSize:e.data.args[0]}));break;case"setLiveLowLatencyEnabled":this._store.dispatch(Object(Tu.w)(e.data.args[0]));break;case"setLiveMaxLatency":this._store.dispatch(Object(Tu.x)(parseFloat(e.data.args[0])));break;case"setAutoMaxVideoSize":this._store.dispatch(Object(Tu.v)(parseFloat(e.data.args[0]),parseFloat(e.data.args[1])));break;case"showplayercontrols":this._store.dispatch(Object(ul.s)(Boolean(e.data.args[0])))}}},{key:"_handleChannelId",value:function(e){var t=this,n=String(e).replace(/[^A-Za-z0-9_]/g,"");Object(Hs.t)("channels/"+n).then(function(e){t._store.dispatch(Eu.i({contentType:Eu.b,contentId:e.name})),t._store.dispatch(Object(cl.l)())})}},{key:"_handleSetVideo",value:function(e){var t=Tl(e,2),n=t[0],r=t[1];this._store.dispatch(Eu.i({contentType:Eu.f,contentId:n})),this._store.dispatch(Object(cl.l)()),this._store.dispatch(Object(Nc.L)(r))}},{key:"_handleSetCollection",value:function(e){var t=Tl(e,3),n=t[0],r=t[1],i=t[2];this._store.dispatch(Object(cl.r)(n,r,i))}},{key:"_sendPlayerState",value:function(e){var t=e.streamMetadata,n=e.stream,r=e.quality,i=e.playback,a=e.viewercount,o=this._configurePlaybackState(),s=n,u={channelName:s instanceof ru.b?s.channel:"",channelId:t.channel.id,currentTime:i.currentTime,duration:i.duration,muted:i.muted,playback:o,quality:r.current,qualitiesAvailable:r.available,videoID:s instanceof iu.b?s.videoId:"",viewers:a,volume:i.volume};this._sendAll("bridgestateupdate",u)}},{key:"_configurePlaybackState",value:function(){return this._store.getState().playback.ended?"ended":this._store.getState().playback.paused?"paused":"playing"}},{key:"_sendPlayerEvent",value:function(e){this._sendAll("bridgeplayerevent",{event:e})}},{key:"_sendAdCompanionEvent",value:function(e,t){switch(e){case Ru.COMPANION_RENDERED:this._sendAll("bridgeplayereventwithpayload",{event:"adcompanionrendered",data:t});break;case bc.c.AD_COMPANION_RENDERED:this._sendAll("bridgeplayereventwithpayload",{event:"flashAdcompanionrendered",data:t})}}},{key:"_emitWheelEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"wheel",data:e})}},{key:"_sendPlaybackBlockedEvent",value:function(){this._sendPlayerEvent("playbackBlocked")}},{key:"_sendFirstPartyAnalyticEvent",value:function(e,t){this._sendAll("bridgeplayereventwithpayload",{event:Cl[e],data:t})}},{key:"_getNormalizedStoreState",value:function(){var e=this._store.getState(),t=e.analytics,n=e.captions,r=e.manifestInfo,i=e.screenMode,a=e.stats,o=e.stream,s=e.streamMetadata,u=e.viewercount;return{captions:{available:n.available},viewercount:u,stats:{videoStats:a.videoStats},playSessionId:t.playSessionId,broadcastId:r.broadcast_id,screenMode:i,stream:{contentId:o.contentType===El.a?o.contentId:"",customerId:o.contentType===El.a?o.customerId:""},mature:s.channel.mature}}},{key:"_sendStoreState",value:function(){this._sendAll("bridgestorestateupdate",this._getNormalizedStoreState())}},{key:"_sendTransitionToCollectionEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"transitionToCollectionVod",data:e})}},{key:"_sendTransitionToRecommendedVodEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"transitionToRecommendedVod",data:e})}},{key:"_sendStatsUpdateEvent",value:function(){this._sendStoreState(),this._sendPlayerEvent("statsupdate")}},{key:"_sendSeekedEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"seeked",data:e})}},{key:"_sendPlaybackEvent",value:function(e){switch(e){case Nc.i:this._sendPlayerEvent("play");break;case Nc.n:this._sendPlayerEvent("playing")}}},{key:"_sendCaptionsEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"captions",data:e})}},{key:"_setTrackingProperties",value:function(e){var t=[ls.B,ls.t,ls.z,ls.s,ls.y,ls.F];Vo()(t,this._store.getState().env.playerType)&&this._store.dispatch(Q(e))}},{key:"destroy",value:function(){this._window.removeEventListener("message",this),this._store.getState().env.playerType===ls.t&&this._player.removeEventListener(Ks.s,this._sendOpenStreamEvent.bind(this)),this._unsubscribes.forEach(function(e){return e()})}}]),e}(),Al=n(92),Il=n.n(Al),Nl=n(66),Ml=n(155),Ll=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ql="Control",Dl=Object.freeze({17:ql,32:" ",33:"PageUp",34:"PageDown",27:"Escape",38:"ArrowUp",40:"ArrowDown",37:"ArrowLeft",39:"ArrowRight",70:"f",188:",",190:"."}),Bl=function(){function e(t,n,r,i){var a=this;if(J(this,e),!n)return void console.error("No root element, unable to initialize player hotkeys.");this.ctrl=!1,this.store=r,this.player=t,this.root=n,this.unsubs=[],this._initSubscribes(),this.rootKeydownListener=function(e){var t=e.target||e.srcElement,n="INPUT"===t.tagName&&"text"===t.getAttribute("type"),i="TEXTAREA"===t.tagName,o="true"===t.contentEditable,s=r.getState().ui.isMini;n||i||o||s||a.keydownHandler(e)},this.rootKeyupListener=function(e){Z(e)===ql&&(a.ctrl=!1)},n.setAttribute("tabindex",i.tabindex||-1),n.addEventListener("keydown",this.rootKeydownListener),n.addEventListener("keyup",this.rootKeyupListener),this.updateHandlers(r.getState())}return Ll(e,[{key:"_initSubscribes",value:function(){this.unsubs.push(Object(ou.a)(this.store,["env.playerType"],this.updateHandlers.bind(this)))}},{key:"updateHandlers",value:function(e){var t=e.env,n=t.playerType;Vo()(ls.c,n)?this.keydownHandler=this.handleClipsViewingHotkeys:this.keydownHandler=this.handlePlayerHotkeys}},{key:"seekSeconds",value:function(e){var t=this.store,n=this.player,r=n.getChannel(),i=n.getCurrentTime(),a=t.getState().playback.duration;if(!r&&dl()(a)&&!n.getPaused()){var o=this.calculateTargetTime(i,e,.01,a,n.getEnded());o&&n.setCurrentTime(o)}}},{key:"calculateTargetTime",value:function(e,t,n,r,i){var a=i?r+t:e+t;return a<n?n:a>r?null:a}},{key:"togglePlayback",value:function(){var e=this.store;e.getState().playback.paused?e.dispatch(Object(Tu.t)()):e.dispatch(Object(Tu.s)())}},{key:"changeVolumeByStep",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.store,n=t.getState().playback.volume,r=ys.C,i=void 0;i=e?Math.round(100*Math.min(n+r,1))/100:Math.round(100*Math.max(n-r,0))/100,t.dispatch(Object(Tu.q)(i))}},{key:"updatePlaybackRate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.store,n=t.getState().playback.playbackRate,r=Il()(Ml.a,function(e){return e===n}),i=n;e&&r<Ml.a.length-1?i=Ml.a[r+1]:!e&&r>0&&(i=Ml.a[r-1]),n!==i&&t.dispatch(Object(Tu.p)(i))}},{key:"handlePlayerHotkeys",value:function(e){var t=this.store,n=this.player;switch(Z(e)){case ql:this.ctrl=!0;break;case" ":case"Spacebar":if("BUTTON"===e.target.tagName&&Ps.a.firefox&&Ps.a.windows)return;this.togglePlayback();break;case"PageUp":n.setMuted(!1);break;case"PageDown":n.setMuted(!0);break;case"ArrowUp":case"Up":this.changeVolumeByStep(!0);break;case"ArrowDown":case"Down":this.changeVolumeByStep(!1);break;case"Escape":case"Esc":t.getState().collection.currentView===Nl.b?t.dispatch(Object(cl.m)()):c()&&t.getState().screenMode.isTheatreMode&&t.dispatch(Object(Bc.h)(!1));break;case"f":case"F":if(!this.ctrl||t.getState().env.playerType===ls.x)return;t.dispatch(Object(Bc.i)());break;case"ArrowRight":case"Right":this.seekSeconds(ys.r);break;case"ArrowLeft":case"Left":this.seekSeconds(-ys.r);break;default:return}e.preventDefault()}},{key:"handleClipsViewingHotkeys",value:function(e){var t=this.store;switch(Z(e)){case ql:this.ctrl=!0;break;case" ":case"Spacebar":this.togglePlayback();break;case"ArrowUp":case"Up":this.changeVolumeByStep(!0);break;case"ArrowDown":case"Down":this.changeVolumeByStep(!1);break;case"Escape":case"Esc":Object(Bc.g)(!1);break;case"f":case"F":t.dispatch(Object(Bc.i)());break;case"ArrowRight":case"Right":this.seekSeconds(ys.i);break;case"ArrowLeft":case"Left":this.seekSeconds(-ys.i);break;case",":this.updatePlaybackRate(!1);break;case".":this.updatePlaybackRate(!0);break;default:return}e.preventDefault()}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()}),this.root.removeEventListener("keyup",this.rootKeyupListener),this.root.removeEventListener("keydown",this.rootKeydownListener)}}]),e}(),Ul=n(0),Fl=n.n(Ul),Vl=n(164),Hl=n.n(Vl),zl=n(3),Wl=n(4),Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kl={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,te(t))}},Yl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ee(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Kl,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,Gl({prefix:this.prefix+":"+t+":"},this.options))},e}(),Ql=new Yl,$l=function(){function e(){ne(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(function(t){var r;t.apply(t,(r=[e]).concat.apply(r,n))})}},e}(),Xl=$l,Jl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};pe(this,t);var i=he(this,e.call(this));return i.data=n||{},i.options=r,i}return me(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.keySeparator||this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];return n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split(".")),ue(this.data,a)},t.prototype.addResource=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),oe(this.data,o,r),i.silent||this.emit("added",e,t,n,r)},t.prototype.addResources=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=t,t=o[1]),this.addNamespaces(t);var s=ue(this.data,o)||{};r?ce(s,n,i):s=Zl({},s,n),oe(this.data,o,s),a.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Zl({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(Xl),td=ed,nd={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach(function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))}),t}},rd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ve(this,t);var i=be(this,e.call(this));return ie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=r,i.logger=Ql.create("translator"),i}return ge(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e,t){var n=this;if("object"!==(void 0===t?"undefined":id(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var r=t.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],t),a=i.key,o=i.namespaces,s=o[o.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){var l=t.nsSeparator||this.options.nsSeparator;return s+l+a}return a}var d=this.resolve(e,t),f=d&&d.res,p=d&&d.usedKey||a,h=Object.prototype.toString.apply(f),m=["[object Number]","[object Function]","[object RegExp]"],y=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if(f&&v&&m.indexOf(h)<0&&(!y||"[object Array]"!==h)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,t):"key '"+a+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var b="[object Array]"===h?[]:{};for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){var _=""+p+r+g;b[g]=this.translate(_,rd({},t,{joinArrays:!1,ns:o})),b[g]===_&&(b[g]=f[g])}f=b}}else if(y&&"[object Array]"===h)(f=f.join(y))&&(f=this.extendTranslation(f,e,t));else{var w=!1,k=!1;this.isValidLookup(f)||void 0===t.defaultValue||(w=!0,f=t.defaultValue),this.isValidLookup(f)||(k=!0,f=a);var E=t.defaultValue&&t.defaultValue!==f&&this.options.updateMissing;if(k||w||E){this.logger.log(E?"updateKey":"missingKey",u,s,a,E?t.defaultValue:f);var S=[],P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&P&&P[0])for(var T=0;T<P.length;T++)S.push(P[T]);else"all"===this.options.saveMissingTo?S=this.languageUtils.toResolveHierarchy(t.lng||this.language):S.push(t.lng||this.language);var O=function(e,r){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,r,E?t.defaultValue:f,E,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,r,E?t.defaultValue:f,E,t),n.emit("missingKey",e,s,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t.count?S.forEach(function(e){n.pluralResolver.getPluralFormsOfKey(e,a).forEach(function(t){return O([e],t)})}):O(S,a))}f=this.extendTranslation(f,e,t),k&&f===a&&this.options.appendNamespaceToMissingKey&&(f=s+":"+a),k&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f},t.prototype.extendTranslation=function(e,t,n){var r=this;n.interpolation&&this.interpolator.init(rd({},n,{interpolation:rd({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=rd({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset();var a=n.postProcess||this.options.postProcess,o="string"==typeof a?[a]:a;return void 0!==e&&null!==e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=nd.handle(o,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(r)){var a=t.extractFromKey(e,n),o=a.key;i=o;var s=a.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var u=void 0!==n.count&&"string"!=typeof n.count,c=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,l=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach(function(e){t.isValidLookup(r)||l.forEach(function(i){if(!t.isValidLookup(r)){var a=o,s=[a],l=void 0;u&&(l=t.pluralResolver.getSuffix(i,n.count)),u&&c&&s.push(a+l),c&&s.push(a+=""+t.options.contextSeparator+n.context),u&&s.push(a+=l);for(var d=void 0;d=s.pop();)t.isValidLookup(r)||(r=t.getResource(i,e,d,n))}})})}}),{res:r,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,r)},t}(Xl),od=ad,sd=function(){function e(t){_e(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=Ql.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=we(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=we(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=we(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),r.forEach(function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))}),i},e}(),ud=sd,cd=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],ld={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},dd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ke(this,e),this.languageUtils=t,this.options=n,this.logger=Ql.create("pluralResolver"),this.rules=Ee()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,r=[],i=this.getRule(e);return i?(i.numbers.forEach(function(i){var a=n.getSuffix(e,i);r.push(""+t+a)}),r):r},e.prototype.getSuffix=function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),a=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_"+a.toString():o():"v2"===this.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?o():2===r.numbers.length&&1===r.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),fd=dd,pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Se(this,e),this.logger=Ql.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||de),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?le(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?le(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?le(t.nestingPrefix):t.nestingPrefixEscaped||le("$t("),this.nestingSuffix=t.nestingSuffix?le(t.nestingSuffix):t.nestingSuffixEscaped||le(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){function r(e){return e.replace(/\$/g,"$$$$")}var i=this,a=void 0,o=void 0,s=void 0,u=function(e){if(e.indexOf(i.formatSeparator)<0)return ue(t,e);var r=e.split(i.formatSeparator),a=r.shift().trim(),o=r.join(i.formatSeparator).trim();return i.format(ue(t,a),o,n)};for(this.resetRegExp(),s=0;(a=this.regexpUnescape.exec(e))&&(o=u(a[1].trim()),e=e.replace(a[0],o),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;a=this.regexp.exec(e);){if(o=u(a[1].trim()),"string"!=typeof o&&(o=re(o)),!o)if("function"==typeof this.options.missingInterpolationHandler){var c=this.options.missingInterpolationHandler(e,a);o="string"==typeof c?c:""}else this.logger.warn("missed to pass in variable "+a[1]+" for interpolating "+e),o="";if(o=r(this.escapeValue?this.escape(o):o),e=e.replace(a[0],o),this.regexp.lastIndex=0,++s>=this.maxReplaces)break}return e},e.prototype.nest=function(e,t){function n(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=this.interpolate(r,o),r=r.replace(/'/g,'"');try{o=JSON.parse(r),t&&(o=pd({},t,o))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,o=pd({},r);for(o.applyPostProcessor=!1;i=this.nestingRegexp.exec(e);){if((a=t(n.call(this,i[1].trim(),o),o))&&i[0]===e&&"string"!=typeof a)return a;"string"!=typeof a&&(a=re(a)),a||(this.logger.warn("missed to resolve "+i[1]+" for nesting "+e),a=""),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e},e}(),md=hd,yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bd=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Te(this,t);var o=Oe(this,e.call(this));return o.backend=n,o.store=r,o.languageUtils=i.languageUtils,o.options=a,o.logger=Ql.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return Ce(t,e),t.prototype.queueLoad=function(e,t,n){var r=this,i=[],a=[],o=[],s=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var o=e+"|"+t;r.store.hasResourceBundle(e,t)?r.state[o]=2:r.state[o]<0||(1===r.state[o]?a.indexOf(o)<0&&a.push(o):(r.state[o]=1,n=!1,a.indexOf(o)<0&&a.push(o),i.indexOf(o)<0&&i.push(o),s.indexOf(t)<0&&s.push(t)))}),n||o.push(e)}),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:n}),{toLoad:i,pending:a,toLoadLanguages:o,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var r=this,i=e.split("|"),a=vd(i,2),o=a[0],s=a[1];t&&this.emit("failedLoading",o,s,t),n&&this.store.addResourceBundle(o,s,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){se(n.loaded,[o],s),xe(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=arguments[5];return e.length?this.backend[n](e,t,function(s,u){if(s&&u&&r<5)return void setTimeout(function(){i.read.call(i,e,t,n,r+1,2*a,o)},a);o(s,u)}):o(null,{})},t.prototype.load=function(e,t,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=yd({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,n);if(!a.toLoad.length)return a.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&r.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&r.logger.log("successfully loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",t),a.toLoad.forEach(function(n){var i=n.split("|"),a=vd(i,2),o=a[0],s=a[1],u=ue(t,[o,s]);if(u)r.loaded(n,e,u);else{var c="loading namespace "+s+" for language "+o+" via multiloading failed";r.loaded(n,c),r.logger.error(c)}})}):a.toLoad.forEach(function(e){r.loadOne(e)})},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=yd({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),r.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach(function(e){t.forEach(function(t){var a=ue(i,[e,t]);if(a)n.loaded(e+"|"+t,r,a);else{var o="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,o),n.logger.error(o)}})})}):e.forEach(function(e){t.forEach(function(t){n.loadOne(e+"|"+t,"re")})})},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=vd(r,2),a=i[0],o=i[1];this.read(a,o,"read",null,null,function(r,i){r&&t.logger.warn(n+"loading namespace "+o+" for language "+a+" failed",r),!r&&i&&t.logger.log(n+"loaded namespace "+o+" for language "+a,i),t.loaded(e,r,i)})},t.prototype.saveMissing=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,yd({},a,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r)},t}(Xl),gd=bd,_d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};je(this,t);var o=Ae(this,e.call(this));return o.cache=n,o.store=r,o.services=i,o.options=a,o.logger=Ql.create("cacheConnector"),o.cache&&o.cache.init&&o.cache.init(i,a.cache,a),o}return Ie(t,e),t.prototype.load=function(e,t,n){var r=this;if(!this.cache)return n&&n();var i=_d({},this.cache.options,this.options.cache),a="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(a,function(e,t){if(e&&r.logger.error("loading languages "+a.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var o in t[i])if(Object.prototype.hasOwnProperty.call(t[i],o)&&"i18nStamp"!==o){var s=t[i][o];s&&r.store.addResourceBundle(i,o,s)}n&&n()}):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(Xl),kd=wd,Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pd=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];qe(this,t);var i=De(this,e.call(this));if(i.options=Me(n),i.services={},i.logger=Ql,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var a;if(!i.options.initImmediate)return a=i.init(n,r),De(i,a);setTimeout(function(){i.init(n,r)},0)}return i}return Be(t,e),t.prototype.init=function(){function e(e){return e?"function"==typeof e?new e:e:null}var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];if("function"==typeof n&&(r=n,n={}),this.options=Sd({},Ne(),this.options,Me(n)),this.format=this.options.interpolation.format,r||(r=Ue),!this.options.isClone){this.modules.logger?Ql.init(e(this.modules.logger),this.options):Ql.init(null,this.options);var i=new ud(this.options);this.store=new td(this.options.resources,this.options);var a=this.services;a.logger=Ql,a.resourceStore=this.store,a.resourceStore.on("added removed",function(e,t){a.cacheConnector.save()}),a.languageUtils=i,a.pluralResolver=new fd(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new md(this.options),a.backendConnector=new gd(e(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),a.backendConnector.on("loaded",function(e){a.cacheConnector.save()}),a.cacheConnector=new kd(e(this.modules.cache),a.resourceStore,a,this.options),a.cacheConnector.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),this.modules.languageDetector&&(a.languageDetector=e(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.translator=new od(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var o=function(){t.changeLanguage(t.options.lng,function(e,n){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),r(e,n)})};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){if(t){e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})}};if(this.language)r(this.language);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)})}this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.cacheConnector.load(n,this.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&nd.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,r=function(e,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),t&&t(e,function(){return n.t.apply(n,arguments)})},i=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(t){r(t,e)})};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,r=function e(t,r){for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var s=Sd({},r);return"object"!==(void 0===r?"undefined":Ed(r))&&(s=n.options.overloadTranslationOptionHandler([t,r].concat(a))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],r=e.filter(function(e){return n.indexOf(e)<0});if(!r.length)return t();this.options.preload=n.concat(r),this.loadResources(t)},t.prototype.dir=function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue,i=Sd({},this.options,n,{isClone:!0}),a=new t(i);return["store","services","language"].forEach(function(t){a[t]=e[t]}),a.translator=new od(a.services,a.options),a.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),a.init(i,r),a.translator.options=a.options,a},t}(Xl),Td=new Pd,Od=Td,Cd=(Td.changeLanguage.bind(Td),Td.cloneInstance.bind(Td),Td.createInstance.bind(Td),Td.dir.bind(Td),Td.exists.bind(Td),Td.getFixedT.bind(Td),Td.init.bind(Td),Td.loadLanguages.bind(Td),Td.loadNamespaces.bind(Td),Td.loadResources.bind(Td),Td.off.bind(Td),Td.on.bind(Td),Td.setDefaultNamespace.bind(Td),Td.t.bind(Td),Td.use.bind(Td),n(555)),xd=n.n(Cd),Rd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jd=n(559).locales,Ad=Jo()(Nu()(jd,function(e,t){return e[t.replace(/-[a-zA-Z]{2}$/,"")]=t,e},{}),{es:"es-ES",pt:"pt-PT",zh:"zh-CN"}),Id=void 0;Id=""+ys.y,Od.use(xd.a).init({fallbackLng:"en-US",load:"currentOnly",backend:{crossDomain:!0,loadPath:Id+"/localization/{{lng}}/strings.json"},interpolation:{escapeValue:!1},nsSeparator:!1,keySeparator:!1,missingKeyHandler:Ve,saveMissing:!0}),Od.addResourceBundle("en-US",Od.options.ns[0],n(560));var Nd=function(){function e(t,n,r){Fe(this,e),this.shortCode=t,this.langCode=n,this._translate=r}return Rd(e,[{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._translate(e,t);return t.replacements&&Object.keys(t.replacements).map(function(e){n=n.replace(e,t.replacements[e])}),n}}]),e}(),Md=Od,Ld=new Nd("en","en-US",Od.getFixedT("en-US")),qd=n(118),Dd=n(2),Bd=n.n(Dd),Ud=n(14),Fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd={fill:Ko.a.string,viewBox:Ko.a.string},Hd=function(e){return Fl.a.createElement(Ud.a,Fd({viewBox:"0 0 30 30"},e),Fl.a.createElement("path",{d:"M16.414 15l5.293-5.293a1 1 0 0 0-1.414-1.414L15 13.586 9.707 8.293a1 1 0 1 0-1.414 1.414L13.586 15l-5.293 5.293a1 1 0 0 0 1.414 1.414L15 16.414l5.293 5.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L16.414 15z",fill:e.fill}))};Hd.propTypes=Vd;var zd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wd={t:Ko.a.func,onHoverElement:Ko.a.func,showUIWithAutoHide:Ko.a.func,mutedSegmentsAvailable:Ko.a.bool,uiShowing:Ko.a.bool,isMini:Ko.a.bool,isPaused:Ko.a.bool,isShowingContentScreen:Ko.a.bool},Gd=function(e){var t=e.timelineMetadata,n=e.ui,r=e.screen,i=e.playback;return{mutedSegmentsAvailable:t.mutedSegments.length>0,uiShowing:n.showUI,isMini:n.isMini,isShowingContentScreen:r[0]===Dc.g,isPaused:i.paused}},Kd=function(e){return{onHoverElement:function(){e(Object(ul.n)())},showUIWithAutoHide:function(){e(Object(ul.t)())}}},Yd=function(e){function t(){ze(this,t);var e=We(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasDismissedAlert:!1},e.handleCloseAlertClick=e.handleCloseAlertClick.bind(e),e}return Ge(t,e),zd(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.isShowingContentScreen,r=e.isMini,i=e.onHoverElement,a=e.showUIWithAutoHide,o=e.mutedSegmentsAvailable,s=e.uiShowing,u=e.isPaused,c=this.state.hasDismissedAlert,l=Bd()({"player-alert":!0,"muted-alert-on-ui":s});return!o||!n||c||r||u?null:Fl.a.createElement("div",{onMouseEnter:i,onMouseLeave:a,className:l},Fl.a.createElement("p",null,t("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.")),Fl.a.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:this.handleCloseAlertClick},Fl.a.createElement(Hd,{id:"icon_close"})))}},{key:"handleCloseAlertClick",value:function(){this.setState({hasDismissedAlert:!0})}}]),t}(Fl.a.Component);Yd.propTypes=Wd;var Qd=Object(Wl.c)()(Object(zl.b)(Gd,Kd)(Yd)),$d=n(273),Xd=n(309),Jd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zd={anchorClassName:Ko.a.string.isRequired,collapseTarget:Ko.a.shape({x:Ko.a.number.isRequired,y:Ko.a.number.isRequired}),height:Ko.a.number.isRequired,isHidden:Ko.a.bool.isRequired,isHighlighted:Ko.a.bool.isRequired,onHover:Ko.a.func,onHoverEnd:Ko.a.func,width:Ko.a.number.isRequired,x:Ko.a.number.isRequired,y:Ko.a.number.isRequired,children:Ko.a.oneOfType([Ko.a.arrayOf(Ko.a.element),Ko.a.element,Ko.a.node])},ef=function(e){function t(e){Ye(this,t);var n=Qe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._ref=Ul.createRef(),n._originalPosition={left:e.x,top:e.y},n._boundOnHover=n._onHover.bind(n),n._boundOnHoverEnd=n._onHoverEnd.bind(n),n._boundOnTransitionEnd=n._onTransitionEnd.bind(n),n.state={isAnimating:!1,isCollapsed:!1},n}return $e(t,e),Jd(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.isHidden===t.isCollapsed||t.isAnimating?null:{isAnimating:!0}}}]),Jd(t,[{key:"componentDidMount",value:function(){this._originalPosition=Object(Xd.a)(this._ref.current)}},{key:"componentDidUpdate",value:function(){this.state.isAnimating||this.state.isCollapsed||(this._originalPosition=Object(Xd.a)(this._ref.current))}},{key:"render",value:function(){var e,t=this.props,n=t.anchorClassName,r=t.collapseTarget,i=t.height,a=t.isHidden,o=t.isHighlighted,s=t.width,u=t.x,c=t.y,l=Bd()((e={},Ke(e,n,!0),Ke(e,"extension-border",!0),Ke(e,"extension-border__highlight",o),e)),d={width:s+"px",height:i+"px",top:c+"px",left:u+"px"};if(this.state.isCollapsed&&!this.state.isAnimating&&(d.visibility="hidden"),r&&a){var f=1/s,p=1/i,h=r.x-this._originalPosition.left,m=r.y-this._originalPosition.top;d.transform="translate("+h+"px, "+m+"px) scale("+f+", "+p+")"}return Ul.createElement("div",{className:l,style:d,onMouseOver:this._boundOnHover,onFocus:this._boundOnHover,onMouseOut:this._boundOnHoverEnd,onBlur:this._boundOnHoverEnd,onTransitionEnd:this._boundOnTransitionEnd,ref:this._ref},this.props.children)}},{key:"_onHover",value:function(e){this.props.onHover&&this.props.onHover(e)}},{key:"_onHoverEnd",value:function(e){this.props.onHoverEnd&&this.props.onHoverEnd(e)}},{key:"_onTransitionEnd",value:function(e){"transform"===e.propertyName&&this.setState({isCollapsed:this.props.isHidden,isAnimating:!1})}}]),t}(Ul.Component);ef.propTypes=Zd;var tf=n(47),nf=n(36),rf=n(28),af=n(216),of=n(158),sf={t:Ko.a.func.isRequired,bitsBalance:Ko.a.number,showSuccess:Ko.a.bool},uf=function(e){var t=e.bitsBalance,n=Fl.a.createElement(af.a,{count:t,bitsConfig:of.b,withImage:!0,withText:!0,animated:!1}),r=e.showSuccess?Fl.a.createElement("span",{className:"extension-notification__success-text"},e.t("Success!")):null;return Fl.a.createElement("span",{className:"extension-notification__bits-balance"},r,Fl.a.createElement(Wl.b,{i18nKey:"Bits Balance {{bitsCount}}",bitsCount:n}))};uf.propTypes=sf;var cf=Object(Wl.c)()(uf),lf={options:Ko.a.shape({success:Ko.a.bool}),bitsBalance:Ko.a.number,retrievingBitsBalance:Ko.a.bool},df=function(e){return{bitsBalance:e.bits.bitsBalance,retrievingBitsBalance:e.bits.retrievingBitsBalance}},ff=function(e){var t=!!e.options&&e.options.success;return e.retrievingBitsBalance?null:Ul.createElement(cf,{bitsBalance:e.bitsBalance,showSuccess:t})};ff.propTypes=lf;var pf=Object(zl.b)(df)(ff),hf={BITS_BALANCE:"show bits balance"},mf={notification:rf.c},yf=function(e){var t=null;if(!e.notification)return t;switch(e.notification.type){case hf.BITS_BALANCE:t=Ul.createElement(pf,{options:e.notification.options});break;default:t=null}return t?Ul.createElement("div",{className:"pl-menu extension-modal__notification"},t):t};yf.propTypes=mf;var vf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bf={iframeClass:Ko.a.string.isRequired,installation:rf.a.isRequired,isLoggedIn:Ko.a.bool.isRequired,isVisible:Ko.a.bool.isRequired,isHighlighted:Ko.a.bool,language:Ko.a.string.isRequired,locale:Ko.a.string.isRequired,loginId:Ko.a.number.isRequired,onBeginPurchase:Ko.a.func,onDoubleClick:Ko.a.func.isRequired,onIdentityLinked:Ko.a.func.isRequired,onMinimize:Ko.a.func,onModalRequested:Ko.a.func.isRequired,onModalNotification:Ko.a.func.isRequired,tracker:As.isRequired,trackingProperties:Ko.a.shape({channel:Ko.a.string.isRequired,channelId:Ko.a.number.isRequired,deviceId:Ko.a.string.isRequired,login:Ko.a.string.isRequired,platform:Ko.a.string.isRequired,playerType:Ko.a.string.isRequired})},gf=function(e){function t(){Je(this,t);var e=Ze(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundGetDisplayState=e._getDisplayState.bind(e),e._boundOnFrameDoubleClick=e._onFrameDoubleClick.bind(e),e._boundOnIdentityLinked=e._onIdentityLinked.bind(e),e._boundOnModalRequested=e._onModalRequested.bind(e),e._boundOnShowBitsBalance=e._onShowBitsBalance.bind(e),e._boundOnShowUseBitsSuccess=e._onShowUseBitsSuccess.bind(e),e._boundIframeHostRefHandler=e._iframeHostRefHandler.bind(e),e._boundOnMinimize=e._onMinimize.bind(e),e}return et(t,e),vf(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isLoggedIn,n=e.installation,r=n.extension,i=n.activationConfig,a=t?this.props.loginId:0;this.extensionFrame=new Fs.c({anchor:i.anchor,channelId:this.props.trackingProperties.channelId,configuration:this.props.installation.configuration,dobbin:this.props.tracker,extension:r,features:{bits:!0,sharePubsub:!0},iframeClassName:this.props.iframeClass,installationAbilities:this.props.installation.abilities,getDisplayState:this._boundGetDisplayState,language:this.props.language,locale:this.props.locale,loginId:a,mode:Fs.d.Viewer,onBeginPurchase:this.props.onBeginPurchase,parentElement:this.parentElement,platform:Fs.e.Web,trackingProperties:{channel:this.props.trackingProperties.channel,device_id:this.props.trackingProperties.deviceId,login:this.props.trackingProperties.login,platform:this.props.trackingProperties.platform,player_type:this.props.trackingProperties.playerType}}),this.parentElement.addEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.on("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.on("requestModal",this._boundOnModalRequested),this.extensionFrame.on("showBitsBalance",this._boundOnShowBitsBalance),this.extensionFrame.on("showUseBitsSuccess",this._boundOnShowUseBitsSuccess),this.extensionFrame.on("minimize",this._boundOnMinimize)}},{key:"componentWillUnmount",value:function(){this.parentElement.removeEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.off("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.off("requestModal",this._boundOnModalRequested),this.extensionFrame.off("showBitsBalance",this._boundOnShowBitsBalance),this.extensionFrame.off("showUseBitsSuccess",this._boundOnShowUseBitsSuccess),this.extensionFrame.off("minimize",this._boundOnMinimize),this.extensionFrame.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.installation.activationConfig,n=t.anchor,r=t.x,i=t.y,a=e.installation.activationConfig,o=a.x,s=a.y,u=this.props.installation.playerState.isHidden||!this.props.isVisible,c=e.installation.playerState.isHidden||!e.isVisible;n!==tf.c.Component||r===o&&i===s||this.extensionFrame.setPosition({x:o,y:s}),c!==u&&this.extensionFrame.setVisible(!c)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.installation,r=t.isHighlighted,i=n.playerState.token.permissionsState===nf.k,a=n.playerState.isUserIdentityLinked;a!==i&&(a?this.extensionFrame.linkIdentity():this.extensionFrame.unlinkIdentity()),r!==e.isHighlighted&&this.extensionFrame.setHighlighted(r)}},{key:"render",value:function(){var e,t=Bd()((e={},Xe(e,"extension-frame-wrapper",!0),Xe(e,"extension-frame-wrapper__hidden",this.props.installation.playerState.isHidden),e));return Fl.a.createElement("div",{ref:this._boundIframeHostRefHandler,className:t})}},{key:"_onMinimize",value:function(){var e=this.props,t=e.installation;(0,e.onMinimize)(t.id)}},{key:"_onIdentityLinked",value:function(e){var t=this.props,n=t.installation,r=t.onIdentityLinked;r&&r(n.id,e)}},{key:"_onFrameDoubleClick",value:function(e){e.preventDefault(),this.props.onDoubleClick()}},{key:"_onModalRequested",value:function(e){this.props.onModalRequested(this.props.installation.activationConfig.slot,e)}},{key:"_onShowBitsBalance",value:function(){this.props.onModalNotification(hf.BITS_BALANCE)}},{key:"_onShowUseBitsSuccess",value:function(){this.props.onModalNotification(hf.BITS_BALANCE,{success:!0})}},{key:"_iframeHostRefHandler",value:function(e){this.parentElement=e}},{key:"_getDisplayState",value:function(){var e=this.props.installation,t=e.activationConfig,n=e.playerState,r=!n.isHidden&&this.props.isVisible;if(t.anchor===tf.c.Component){var i={x:t.x,y:t.y};return{anchor:tf.c.Component,isVisible:r,position:i}}return{anchor:tf.c.Overlay,isVisible:r}}}]),t}(Fl.a.Component);gf.propTypes=bf;var _f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wf={installation:rf.a.isRequired,isLoggedIn:Ko.a.bool.isRequired,isVisible:Ko.a.bool.isRequired,language:Ko.a.string.isRequired,locale:Ko.a.string.isRequired,loginId:Ko.a.number.isRequired,onBeginPurchase:Ko.a.func,onDoubleClick:Ko.a.func.isRequired,onIdentityLinked:Ko.a.func.isRequired,onMinimize:Ko.a.func,onModalRequested:Ko.a.func.isRequired,onModalNotification:Ko.a.func.isRequired,onHover:Ko.a.func.isRequired,playerHeight:Ko.a.number.isRequired,playerWidth:Ko.a.number.isRequired,tracker:As.isRequired,trackingProperties:Ko.a.shape({channel:Ko.a.string.isRequired,channelId:Ko.a.number.isRequired,deviceId:Ko.a.string.isRequired,login:Ko.a.string.isRequired,platform:Ko.a.string.isRequired,playerType:Ko.a.string.isRequired})},kf=function(e){function t(){tt(this,t);var e=nt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundOnHover=e._onHover.bind(e),e._boundOnHoverEnd=e._onHoverEnd.bind(e),e}return rt(t,e),_f(t,[{key:"render",value:function(){var e=this.props,t=e.installation,n=e.trackingProperties,r=t.extension.views.component.zoom,i=t.playerState.isHighlighted,a=void 0;return a=r?{width:this.size.width/this.size.zoomScale+"px",height:this.size.height/this.size.zoomScale+"px",transformOrigin:"0 0",transform:"scale("+this.size.zoomScale+")"}:{width:"100%",height:"100%"},Fl.a.createElement(ef,{anchorClassName:"extension-component",collapseTarget:t.playerState.collapseLocation,height:this.size.height,width:this.size.width,isHidden:t.playerState.isHidden,isHighlighted:i,onHover:this._boundOnHover,onHoverEnd:this._boundOnHoverEnd,x:this.position.x,y:this.position.y},Fl.a.createElement("div",{style:a},Fl.a.createElement(gf,{iframeClass:"extension-component__iframe",installation:t,isLoggedIn:this.props.isLoggedIn,isVisible:this.props.isVisible,isHighlighted:i,key:t.id,language:this.props.language,locale:this.props.locale,loginId:this.props.loginId,onBeginPurchase:this.props.onBeginPurchase,onDoubleClick:this.props.onDoubleClick,onIdentityLinked:this.props.onIdentityLinked,onMinimize:this.props.onMinimize,onModalRequested:this.props.onModalRequested,onModalNotification:this.props.onModalNotification,tracker:this.props.tracker,trackingProperties:n})))}},{key:"_onHover",value:function(){this.props.onHover(this.props.installation)}},{key:"_onHoverEnd",value:function(){this.props.onHover(null)}},{key:"size",get:function(){var e=this.props,t=e.playerWidth,n=e.playerHeight,r=e.installation,i=r.extension.views.component;return $d.b(t,n,i)}},{key:"position",get:function(){var e=this.props,t=e.playerWidth,n=e.playerHeight,r=e.installation.activationConfig,i={x:r.x||0,y:r.y||0};return $d.a(t,n,i)}}]),t}(Fl.a.Component);kf.propTypes=wf;var Ef="extension-overlay",Sf="extension-overlay__iframe",Pf={width:Ko.a.number.isRequired,height:Ko.a.number.isRequired,onDoubleClick:Ko.a.func.isRequired,installation:rf.a.isRequired,isLoggedIn:Ko.a.bool.isRequired,isVisible:Ko.a.bool.isRequired,language:Ko.a.string.isRequired,locale:Ko.a.string.isRequired,loginId:Ko.a.number.isRequired,onBeginPurchase:Ko.a.func,onIdentityLinked:Ko.a.func.isRequired,onMinimize:Ko.a.func,onModalRequested:Ko.a.func.isRequired,onModalNotification:Ko.a.func.isRequired,tracker:As.isRequired,trackingProperties:Ko.a.shape({login:Ko.a.string.isRequired,channel:Ko.a.string.isRequired,channelId:Ko.a.number.isRequired,deviceId:Ko.a.string.isRequired,platform:Ko.a.string.isRequired,playerType:Ko.a.string.isRequired})};it.propTypes=Pf;var Tf=n(77),Of="set bits balance",Cf="retrieving bits balance",xf="bits balance retrieved",Rf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jf={arePlayerControlsVisible:Ko.a.bool.isRequired,game:Ko.a.string.isRequired,height:Ko.a.number.isRequired,installations:Ko.a.arrayOf(rf.a.isRequired).isRequired,modalRequest:rf.b,extensionNotification:rf.c,fetchBitsBalance:Ko.a.func.isRequired,setBitsBalance:Ko.a.func.isRequired,onExtensionDoubleClick:Ko.a.func.isRequired,onIdentityLinked:Ko.a.func.isRequired,onIdShareRequested:Ko.a.func.isRequired,onModalRequested:Ko.a.func.isRequired,onModalNotification:Ko.a.func.isRequired,onComponentHover:Ko.a.func.isRequired,clearExtensionNotification:Ko.a.func.isRequired,onMinimize:Ko.a.func.isRequired,onModalClose:Ko.a.func.isRequired,onPurchaseIntent:Ko.a.func.isRequired,shouldEnableExtensions:Ko.a.bool.isRequired,shouldShowExtensions:Ko.a.bool.isRequired,width:Ko.a.number.isRequired,videoResolution:Ko.a.string.isRequired,trackEvent:Ko.a.func.isRequired,channel:Ko.a.string.isRequired,channelId:Ko.a.number.isRequired,deviceId:Ko.a.string.isRequired,isLoggedIn:Ko.a.bool.isRequired,language:Ko.a.string.isRequired,locale:Ko.a.string.isRequired,login:Ko.a.string.isRequired,loginId:Ko.a.number.isRequired,platform:Ko.a.string.isRequired,playerType:Ko.a.string.isRequired,windowObj:Ko.a.object.isRequired},Af=function(e){return{arePlayerControlsVisible:e.ui.showUI,installations:e.extensions.activeInstallations,extensionNotification:e.extensions.notification,modalRequest:e.extensions.menuState.modalOptions,game:e.streamMetadata.game||"",width:e.playerDimensions.width,height:e.playerDimensions.height,videoResolution:e.stats.videoStats.videoResolution,shouldEnableExtensions:Object(nf.u)(e),shouldShowExtensions:Object(nf.v)(e),isLoggedIn:e.user.loggedInStatus===Cu.a,login:e.user.name,loginId:e.user.id,channel:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,deviceId:e.env.deviceId,platform:e.env.platform,language:e.lang.shortCode,locale:e.lang.langCode,playerType:e.env.playerType,windowObj:e.window}},If=function(e){return{fetchBitsBalance:function(){return e(at())},setBitsBalance:function(t){e(ot(t))},onExtensionDoubleClick:function(){e(Object(Bc.i)())},onIdentityLinked:function(t,n){e(Object(Tf.I)(t,n))},onModalRequested:function(t,n){e(Object(Tf.D)(t,n))},onModalNotification:function(t,n){e(Object(Tf.E)(t,n))},clearExtensionNotification:function(){e(Object(Tf.u)())},onMinimize:function(t){e(Object(Tf.F)(t,!1))},onModalClose:function(){e(Object(Tf.v)())},onPurchaseIntent:function(t,n){var r={payload:t,makePurchase:n};e(Object(Tf.z)(r))},onIdShareRequested:function(t){e(Object(Tf.C)(t,nf.e))},onComponentHover:function(t){e(Object(Tf.y)(t,!1))},trackEvent:function(t,n){e(Object(Cc.d)(t,n))}}},Nf=function(e){function t(){ct(this,t);var e=lt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundOnModalRequested=e._onModalRequested.bind(e),e._boundOnModalNotification=e._onModalNotification.bind(e),e._tracker={trackEvent:e.props.trackEvent},e}return dt(t,e),Rf(t,[{key:"hasOneOverlayExtension",get:function(){var e=this.props.installations;return 1===e.length&&e[0].activationConfig.anchor===nf.j}}]),Rf(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.game!==this.props.game,n=e.arePlayerControlsVisible!==this.props.arePlayerControlsVisible;(t||n)&&Fs.g.postContext({arePlayerControlsVisible:e.arePlayerControlsVisible,game:e.game})}},{key:"render",value:function(){var e=this.props,t=e.shouldEnableExtensions,n=e.shouldShowExtensions,r=e.installations,i=e.videoResolution,a=this._getAspectRatio(i),o=this._computeDimensions(this.props.width,this.props.height,a);if(!t||!r.length)return null;var s=Bd()({"extension-container":!0,invisible:!n}),u=Math.floor(-.5*o.width),c=Math.floor(-.5*o.height),l={transform:"translate("+u+"px, "+c+"px)"};return Fl.a.createElement("div",{className:s},Fl.a.createElement("div",{className:"extension-overlays",style:l},this._renderOverlayExtension(o)),Fl.a.createElement("div",{className:"extension-components-container",style:Object.assign({},o,l)},this._renderComponentExtensions(o)))}},{key:"_renderOverlayExtension",value:function(e){var t=this.props,n=t.installations,r=t.isLoggedIn,i=t.language,a=t.locale,o=t.loginId,s=t.onIdentityLinked,u=t.onExtensionDoubleClick,c=t.onMinimize,l=t.onPurchaseIntent,d=t.shouldShowExtensions,f=n.find(function(e){var t=e.activationConfig,n=e.extension,r=e.playerState;return t.anchor===Fs.b.Overlay&&("Released"===n.state||!0===r.unreleasedAccepted)});return f?Fl.a.createElement(it,{height:e.height,installation:f,isLoggedIn:r,isVisible:d,key:f.id,language:i,locale:a,loginId:o,onBeginPurchase:l,onDoubleClick:u,onIdentityLinked:s,onMinimize:c,onModalRequested:this._boundOnModalRequested,onModalNotification:this._boundOnModalNotification,ref:this._boundExtensionOverlayRefHandler,tracker:this._tracker,trackingProperties:this._getTrackingProperties(),width:e.width}):null}},{key:"_renderComponentExtensions",value:function(e){var t=this,n=this.props,r=n.installations,i=n.isLoggedIn,a=n.language,o=n.locale,s=n.loginId,u=n.onIdentityLinked,c=n.onExtensionDoubleClick,l=n.onMinimize,d=n.onPurchaseIntent,f=n.onComponentHover,p=n.shouldShowExtensions;return r.filter(function(e){var t=e.activationConfig,n=e.extension,r=e.playerState;return t.anchor===Fs.b.Component&&"number"==typeof t.x&&"number"==typeof t.y&&("Released"===n.state||!0===r.unreleasedAccepted)}).map(function(n){return Fl.a.createElement(kf,{installation:n,isLoggedIn:i,isVisible:p,key:n.id,language:a,locale:o,loginId:s,onBeginPurchase:d,onDoubleClick:c,onIdentityLinked:u,onMinimize:l,onModalRequested:t._boundOnModalRequested,onModalNotification:t._boundOnModalNotification,onHover:f,playerHeight:e.height,playerWidth:e.width,tracker:t._tracker,trackingProperties:t._getTrackingProperties()})})}},{key:"_getTrackingProperties",value:function(){return{login:this.props.login,channel:this.props.channel,channelId:this.props.channelId,deviceId:this.props.deviceId,platform:this.props.platform,playerType:this.props.playerType}}},{key:"_computeDimensions",value:function(e,t,n){var r=e/t>n;return{width:r?Math.ceil(t*n):e,height:r?t:Math.ceil(e/n)}}},{key:"_getAspectRatio",value:function(e){var t=/(\d+)\D*(\d+)/g,n=t.exec(e);if(!n)return 16/9;var r=parseInt(n[1],10),i=parseInt(n[2],10);return i?r/i:16/9}},{key:"_onModalRequested",value:function(e,t){if(this.props.clearExtensionNotification(),t.action===Fs.f.IdShareRequest)return void this.props.onIdShareRequested(e);t.action===Fs.f.UseBitsPromptRequired&&t.options.payload&&this.props.setBitsBalance(t.options.payload.bitsBalance),this.props.onModalRequested(e,t)}},{key:"_onModalNotification",value:function(e,t){var n=this;if(e===hf.BITS_BALANCE&&!this._isBitsNotificationOpen())return void this.props.fetchBitsBalance().then(function(){n.props.onModalNotification(e,t)});this.props.onModalNotification(e,t)}},{key:"_isBitsNotificationOpen",value:function(){return this.props.extensionNotification&&this.props.extensionNotification.type===hf.BITS_BALANCE}}]),t}(Fl.a.Component);Nf.propTypes=jf;var Mf=Object(zl.b)(Af,If)(Nf),Lf={close:Ko.a.func.isRequired};ft.propTypes=Lf;var qf=Ko.a.shape({description:Ko.a.string.isRequired,developerName:Ko.a.string.isRequired,displayPrice:Ko.a.string.isRequired,extensionName:Ko.a.string.isRequired,shortDescription:Ko.a.string.isRequired,sku:Ko.a.string.isRequired,title:Ko.a.string.isRequired}),Df={cancel:Ko.a.func.isRequired,confirm:Ko.a.func.isRequired,productPayload:qf,isLinked:Ko.a.bool.isRequired,isLoggedIn:Ko.a.bool.isRequired,t:Ko.a.func.isRequired};pt.propTypes=Df;var Bf=Object(Wl.c)()(pt),Uf={clearPurchaseIntent:Ko.a.func.isRequired,isLinked:Ko.a.bool.isRequired,isLoggedIn:Ko.a.bool.isRequired,purchaseIntent:Ko.a.shape({payload:qf,makePurchase:Ko.a.func.isRequired})},Ff=function(e){var t=e.extensions,n=e.user,r=t.activeInstallations,i=t.purchaseIntent,a=null;if(i){var o=i.payload.extensionName;a=r.find(function(e){return e.name===o})}return{isLoggedIn:n.loggedInStatus===Cu.a,isLinked:!(!a||!a.playerState.isUserIdentityLinked),purchaseIntent:i}},Vf=function(e){return{clearPurchaseIntent:function(){e(Object(Tf.z)(null))}}};ht.propTypes=Uf;var Hf=Object(zl.b)(Ff,Vf)(ht),zf=n(67),Wf=n(101),Gf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kf={analytics:Ko.a.object,channel:Ko.a.shape({id:Ko.a.number,name:Ko.a.string}).isRequired,disableNotifications:Ko.a.func,enableNotifications:Ko.a.func,emitDisableNotifications:Ko.a.func,emitEnableNotifications:Ko.a.func,experiments:Ko.a.object.isRequired,playerType:Ko.a.string.isRequired,promptLoginModal:Ko.a.func,showFollowNotification:Ko.a.bool.isRequired,relationship:Ko.a.shape({following:Ko.a.bool,notificationsEnabled:Ko.a.bool}).isRequired,user:Ko.a.shape({id:Ko.a.number,loggedIn:Ko.a.bool}).isRequired,win:Ko.a.object.isRequired,withInfo:Ko.a.bool.isRequired},Yf={analytics:{trackEvent:function(){}},enableNotifications:function(){},disableNotifications:function(){},emitDisableNotifications:function(){},emitEnableNotifications:function(){},promptLoginModal:function(){}},Qf=function(e){var t=e.analyticsTracker,n=e.env,r=e.experiments,i=e.follow,a=e.playback,o=e.playerOptions,s=e.streamMetadata,u=e.user,c=e.screen,l=e.window,d=e.ui;return{analytics:t,channel:{id:s.channel.id,avatarUrl:s.channel.logo,name:s.channel.displayName},experiments:r,playerType:n.playerType,showFollowNotification:i.showFollowNotification&&!d.isMini&&(a.ended||s.streamType===Wf.b)&&(c[0]===Dc.i||c[0]===Dc.g),relationship:{notificationsEnabled:i.notificationsEnabled,following:i.following},win:l,withInfo:o.showInfo,user:{id:u.id,loggedIn:u.loggedInStatus===Cu.a}}},$f="on",Xf=function(e){return{enableNotifications:function(t,n){e(Object(zf.n)(t,n))},disableNotifications:function(t,n){e(Object(zf.m)(t,n))},promptLoginModal:function(t){e(Object(zf.r)(t))},emitEnableNotifications:function(){e(Object(cs.y)())},emitDisableNotifications:function(){e(Object(cs.x)())}}},Jf=n(8),Zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ep={fill:Ko.a.string,viewBox:Ko.a.string},tp=function(e){return Fl.a.createElement(Ud.a,Zf({viewBox:"0 0 20 20"},e),Fl.a.createElement("path",{d:"M7.429 15c-.245 0-.49-.09-.683-.269l-3.428-3.2a1 1 0 0 1 1.364-1.463l2.747 2.564 7.889-7.363a1 1 0 0 1 1.365 1.462l-8.571 8a1.002 1.002 0 0 1-.683.27",fill:e.fill,fillRule:"evenodd"}))};tp.propTypes=ep;var np={notificationsEnabled:Ko.a.bool.isRequired,enable:Ko.a.func.isRequired,disable:Ko.a.func.isRequired,t:Ko.a.func.isRequired,className:Ko.a.string};_t.propTypes=np;var rp=Object(Wl.c)()(_t),ip={channelName:Ko.a.string.isRequired,enable:Ko.a.func,disable:Ko.a.func,notificationsEnabled:Ko.a.bool.isRequired,t:Ko.a.func,withInfo:Ko.a.bool.isRequired},ap={t:function(){},enable:function(){},disable:function(){}};wt.propTypes=ip,wt.defaultProps=ap;var op=Object(Wl.c)()(wt),sp=gt(op),up={channelName:Ko.a.string.isRequired,enable:Ko.a.func.isRequired,disable:Ko.a.func.isRequired,notificationsEnabled:Ko.a.bool.isRequired,t:Ko.a.func},cp={t:function(){}},lp=Bd()("pl-pinned-panel","pl-pinned-panel--embed"),dp=Bd()("pl-button--hollow","pl-mg-t-2");kt.propTypes=up,kt.defaultProps=cp;var fp=Object(Wl.c)()(kt),pp=gt(fp),hp={playerType:Ko.a.string.isRequired,streamType:Ko.a.string.isRequired},mp=function(e){var t=e.env,n=e.streamMetadata;return{playerType:t.playerType,streamType:n.streamType}};Et.propTypes=hp;var yp=Object(zl.b)(mp)(Et),vp={channelName:Ko.a.string.isRequired,enable:Ko.a.func.isRequired,disable:Ko.a.func.isRequired,notificationsEnabled:Ko.a.bool.isRequired,t:Ko.a.func},bp={t:function(){}},gp=Bd()("pl-button--hollow","pl-mg-t-2");St.propTypes=vp,St.defaultProps=bp;var _p=Object(Wl.c)()(St),wp=gt(_p),kp={t:Ko.a.func.isRequired,streamType:Ko.a.string.isRequired,hideFollowPanel:Ko.a.bool.isRequired},Ep=function(e){var t=e.env,n=e.streamMetadata,r=e.user;return{streamType:n.streamType,hideFollowPanel:n.channel.id===r.id||t.playerType===ls.r}},Sp=Bd()("pl-pinned-panel","pl-pinned-panel--embed");Pt.propTypes=kp;var Pp=Object(Wl.c)()(Object(zl.b)(Ep)(Pt)),Tp=n(324),Op=n(120),Cp=n.n(Op),xp=n(159),Rp=n.n(xp),jp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ap={index:Ko.a.number.isRequired,onSelect:Ko.a.func.isRequired,selectItem:Ko.a.any.isRequired,isActive:Ko.a.bool,thumbnailURL:Ko.a.string.isRequired,title:Ko.a.string.isRequired,subTitle:Ko.a.string},Ip={isActive:!1,subTitle:""},Np=Bd()("collection-sidebar-item__number","pl-flex__item","qa-collection-item-number"),Mp=Bd()("collection-sidebar-item__thumbnail","pl-flex__item","qa-collection-item-thumbnail"),Lp=Bd()("collection-sidebar-item-detail","pl-flex__item"),qp=Bd()("collection-sidebar-item-detail__title","qa-collection-item-title"),Dp=function(e){function t(){Tt(this,t);var e=Ot(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return Ct(t,e),jp(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.thumbnailURL,r=e.title,i=e.subTitle,a=e.index,o=Bd()({"collection-sidebar-item":!0,"collection-sidebar-item--active":t,"pl-flex":!0,"pl-flex--verticalCenter":!0,"pl-flex--nowrap":!0});return Fl.a.createElement("div",{className:o,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},Fl.a.createElement("div",{className:Np},a+1),Fl.a.createElement("img",{className:Mp,alt:"Thumbnail of one of the videos in the collection.",src:n}),Fl.a.createElement("div",{className:Lp},Fl.a.createElement("div",{className:qp},r),Fl.a.createElement("div",{className:"collection-sidebar-item-detail__meta"},Fl.a.createElement("span",{className:"qa-collection-item-channel"},i))))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}}]),t}(Fl.a.Component);Dp.propTypes=Ap,Dp.defaultProps=Ip;var Bp=n(199),Up=n(83),Fp={title:Ko.a.string.isRequired,ownerURL:Ko.a.string.isRequired,ownerName:Ko.a.string.isRequired,itemsLength:Ko.a.number.isRequired,totalDuration:Ko.a.number.isRequired,onClose:Ko.a.func.isRequired,t:Ko.a.func.isRequired},Vp=Bd()("collection-sidebar-header__title","ellipsis","qa-collection-header-title"),Hp=function(e){var t=e.title,n=e.ownerURL,r=e.ownerName,i=e.itemsLength,a=e.totalDuration,o=e.onClose,s=e.t,u=Fl.a.createElement(Jf.a,{className:"player-button",onClick:o},Fl.a.createElement(Up.a,{id:"icon_close_md"})),c=Fl.a.createElement("a",{className:"qa-collection-sidebar-author",href:n},r),l=null,d=Object(Bp.b)(1e3*a),f=d.minutes,p=d.hours,h=s("{{count}} minute",{count:f}),m=s("{{count}} hour",{count:p});return l=0===p?h:0===f?m:s("{{hoursText}} and {{minutesText}}",{hoursText:m,minutesText:h}),Fl.a.createElement("div",{className:"collection-sidebar-header"},Fl.a.createElement("div",{className:"collection-sidebar-header__layout"},Fl.a.createElement("div",{className:Vp},t),Fl.a.createElement("div",{className:"collection-sidebar-header-meta"},Fl.a.createElement("span",null,Fl.a.createElement(Wl.b,{i18nKey:"By {{author}}",author:c})),Fl.a.createElement("span",{className:"middot-divider"}),Fl.a.createElement("span",null,s("{{count}} video",{count:i})),Fl.a.createElement("span",{className:"middot-divider"}),Fl.a.createElement("span",null,l))),u)};Hp.propTypes=Fp;var zp=Object(Wl.c)()(Hp),Wp=n(218),Gp={currentItemIndex:Ko.a.number,collection:Ko.a.object.isRequired,onSelectItem:Ko.a.func,onClose:Ko.a.func.isRequired,className:Ko.a.string,onMouseEnter:Ko.a.func,onMouseLeave:Ko.a.func},Kp={className:"",currentItemIndex:-1,onSelectItem:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},Yp=function(e){var t=e.currentItemIndex,n=e.collection,r=e.onSelectItem,i=e.onClose,a=e.className,o=e.onMouseEnter,s=e.onMouseLeave,u=Bd()(xt({"collection-sidebar":!0},a,!0)),c=n.items.map(function(e,n){var i=n===t;return Fl.a.createElement(Dp,{key:i+"_"+e.itemId+"_"+e.title,onSelect:r,selectItem:e.itemId,isActive:i,thumbnailURL:e.thumbnails.small,title:e.title,subTitle:e.owner.displayName,index:n})});return Fl.a.createElement("div",{className:u,onMouseEnter:o,onMouseLeave:s},Fl.a.createElement(zp,{title:n.title,ownerURL:"https://twitch.tv/"+n.owner.name,ownerName:n.owner.displayName,itemsLength:n.items.length,totalDuration:n.totalDuration,onClose:i}),Fl.a.createElement("div",{className:"collection-sidebar-item-container"},c))};Yp.propTypes=Gp,Yp.defaultProps=Kp;var Qp=Object(Wp.a)(Yp,{showDuration:350,hideDuration:350,showClass:"collection-sidebar--open",hideClass:"collection-sidebar--close"}),$p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xp={collection:Ko.a.object.isRequired,showSidebar:Ko.a.bool.isRequired,currentVideoId:Ko.a.string.isRequired,onCloseSidebar:Ko.a.func.isRequired,onSelectCollectionItem:Ko.a.func.isRequired,windowObj:Ko.a.object.isRequired,shouldRender:Ko.a.bool.isRequired},Jp=function(e){var t=e.collection,n=e.stream,r=e.window,i=e.ui,a=e.screen;return{collection:t,showSidebar:t.currentView===Nl.b,currentVideoId:n.contentType===iu.a?n.videoId:"",windowObj:r,shouldRender:!i.isMini&&a[0]!==Dc.m&&a[0]!==Dc.c&&""!==t.id&&n.contentType===iu.a}},Zp=function(e){return{onCloseSidebar:function(){e(Object(cl.m)())},onSelectCollectionItem:function(t,n){e(Object(Nc.H)("v"+t,n))}}},eh=function(e){function t(){Rt(this,t);var e=jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectItem=e.handleSelectItem.bind(e),e.beginClosingSidebar=e.beginClosingSidebar.bind(e),e.stopClosingSidebar=e.stopClosingSidebar.bind(e),e.closeSidebarTimeout=null,e}return At(t,e),$p(t,[{key:"render",value:function(){var e=this.props,t=e.collection,n=e.currentVideoId,r=e.showSidebar,i=e.onCloseSidebar;if(!e.shouldRender)return null;this._preloadThumbnails();var a=Il()(t.items,function(e){return"v"+e.itemId===n}),o=Fl.a.createElement(Qp,{currentItemIndex:a,collection:t,onSelectItem:this.handleSelectItem,onClose:i,key:t.id+"_"+a,onMouseLeave:this.beginClosingSidebar,onMouseEnter:this.stopClosingSidebar}),s=r?o:null;return Fl.a.createElement(Rp.a,{component:"div"},s)}},{key:"_preloadThumbnails",value:function(){this.props.collection.items.forEach(function(e){(new Image).src=e.thumbnails.small})}},{key:"handleSelectItem",value:function(e){this.props.onSelectCollectionItem(e,this.props.collection.id)}},{key:"beginClosingSidebar",value:function(){var e=this.props,t=e.windowObj,n=e.onCloseSidebar;this.closeSidebarTimeout=t.setTimeout(function(){return n()},400)}},{key:"stopClosingSidebar",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}},{key:"handleClickOutside",value:function(){this.props.showSidebar&&this.props.onCloseSidebar()}},{key:"componentWillUnmount",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}}]),t}(Fl.a.Component);eh.propTypes=Xp;var th=Object(zl.b)(Jp,Zp)(Cp()(eh)),nh={t:Ko.a.func.isRequired},rh=Bd()("player-overlay","player-overlay--wall","player-overlay--empty-collection");It.propTypes=nh;var ih=Object(Wl.c)()(It),ah={shouldShow:Ko.a.bool.isRequired},oh=function(e){var t=e.screen,n=e.ui;return{shouldShow:t[0]===Dc.f&&!n.isMini}},sh=function(e){return e.shouldShow?Fl.a.createElement(ih,null):null};sh.propTypes=ah;var uh=Object(zl.b)(oh)(sh),ch={errorMessage:Ko.a.string.isRequired,errorCode:Ko.a.number.isRequired,t:Ko.a.func.isRequired};Nt.propTypes=ch;var lh=Object(Wl.c)()(Nt),dh={errorCode:Ko.a.number.isRequired,errorMessage:Ko.a.string.isRequired,hasError:Ko.a.bool.isRequired},fh=function(e){var t=e.error;return{errorCode:t.code,errorMessage:t.hasError?Qs.a.getMessage(t.code):"",hasError:t.hasError}};Mt.propTypes=dh;var ph=Object(zl.b)(fh)(Mt),hh={percentage:Ko.a.number.isRequired},mh=function(e){var t=e.percentage;return!dl()(t)||t<0||t>100?null:Fl.a.createElement("div",{className:"pl-card__progress-bar"},Fl.a.createElement("div",{className:"pl-card__progress-bar--fill",style:{width:t+"%"}}))};mh.propTypes=hh;var yh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vh={thumbnailURL:Ko.a.string.isRequired,bread:Ko.a.string,title:Ko.a.string,info:Ko.a.oneOfType([Ko.a.element,Ko.a.string]),progressBarPercentage:Ko.a.number,onSelect:Ko.a.func,selectItem:Ko.a.any,className:Ko.a.string,hasThumbZoom:Ko.a.bool,hasBorder:Ko.a.bool},bh={thumbnailURL:"",hasThumbZoom:!1,hasBorder:!1},gh=function(e){function t(){qt(this,t);var e=Dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return Bt(t,e),yh(t,[{key:"render",value:function(){var e=this.props,t=e.thumbnailURL,n=e.title,r=e.bread,i=e.info,a=e.className,o=e.progressBarPercentage,s=e.hasThumbZoom,u=e.hasBorder,c=Bd()(Lt({"pl-card":!0,"pl-card--withprogress":this._isPercentage(o),"pl-card--withborder":u,"pl-card--thumbzoom":s},a,!0)),l=this._isPercentage(o)?Fl.a.createElement(mh,{percentage:o}):null;return Fl.a.createElement("div",{className:c,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},Fl.a.createElement("a",{className:"pl-card__layout",href:"##"},Fl.a.createElement("figure",{className:"pl-card__img"},Fl.a.createElement("img",{alt:"Video Thumbnail",src:t})),Fl.a.createElement("div",{className:"pl-card__overlay"},Fl.a.createElement("div",{className:"pl-card__body"},Fl.a.createElement("h4",{className:"pl-card__bread ellipsis"},r),Fl.a.createElement("h3",{className:"pl-card__title ellipsis"},n),Fl.a.createElement("div",{className:"pl-card__info ellipsis"},i)),l)))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}},{key:"_isPercentage",value:function(e){return!(void 0===e||!dl()(e)||e<0||e>100)}}]),t}(Fl.a.Component);gh.defaultProps=bh,gh.propTypes=vh;var _h={onClick:Ko.a.func.isRequired,className:Ko.a.string},wh=function(e){var t=e.onClick,n=e.className,r=Bd()("pl-close-button",n);return Fl.a.createElement(Jf.a,{className:r,onClick:t},Fl.a.createElement("figure",null,Fl.a.createElement(Up.a,{className:"pl-close-button__svg",id:"pl-icon_close"})))};wh.propTypes=_h;var kh=n(314),Eh={featuredCollection:Ko.a.shape({id:Ko.a.string,title:Ko.a.string,itemsCount:Ko.a.number,owner:Ko.a.shape({displayName:Ko.a.string,id:Ko.a.string,name:Ko.a.string})}).isRequired,thumbnailURL:Ko.a.string.isRequired,onSelect:Ko.a.func},Sh={onSelect:function(){}};Ut.propTypes=Eh,Ut.defaultProps=Sh;var Ph=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Th={featuredCollection:Ko.a.shape({id:Ko.a.string,title:Ko.a.string,itemsCount:Ko.a.number,thumbnails:Ko.a.shape({large:Ko.a.string,medium:Ko.a.string,small:Ko.a.string,template:Ko.a.string}).isRequired,owner:Ko.a.shape({displayName:Ko.a.string,id:Ko.a.string,name:Ko.a.string})}).isRequired,requestCollection:Ko.a.func,showFeaturedCollection:Ko.a.bool.isRequired,trackEvent:Ko.a.func},Oh={requestCollection:function(){},trackEvent:function(){}},Ch=function(e){var t=e.analyticsTracker,n=e.collection;return{trackEvent:t.trackEvent,featuredCollection:n.featuredCollection,showFeaturedCollection:!(""===n.featuredCollection.id)}},xh=function(e){return{requestCollection:function(t){e(Object(cl.r)(t))}}},Rh=function(e){function t(){Ft(this,t);var e=Vt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return Ht(t,e),Ph(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.featuredCollection;e.showFeaturedCollection&&!this.props.showFeaturedCollection&&(this._preloadThumbnail(),this.props.trackEvent("player_rec_show_collection",{recommended_collection_id:t.id}))}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent;(0,t.requestCollection)(e.id),n("player_rec_select",{recommended_vod_view:"collection",recommended_collection_id:e.id})}},{key:"_preloadThumbnail",value:function(){var e=this.props.featuredCollection;(new Image).src=e.thumbnails.medium}},{key:"render",value:function(){var e=this.props,t=e.showFeaturedCollection,n=e.featuredCollection;return t?Fl.a.createElement(Ut,{thumbnailURL:n.thumbnails.medium,featuredCollection:n,onSelect:this.handleSelect}):null}}]),t}(Fl.a.Component);Rh.propTypes=Th,Rh.defaultProps=Oh;var jh=Object(zl.b)(Ch,xh)(Rh),Ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih={fill:Ko.a.string,viewBox:Ko.a.string},Nh=function(e){return Fl.a.createElement(Ud.a,Ah({viewBox:"0 0 14 14"},e),Fl.a.createElement("path",{d:"M13.222.002V0c.43 0 .778.348.778.778v7.78c0 .429-.348.777-.778.777H.778A.778.778 0 0 1 0 8.557V.78C0 .35.348.002.778.002h12.444zm-4.147 5.08a.467.467 0 0 0 0-.833L5.342 2.382a.464.464 0 0 0-.675.416v3.734a.466.466 0 0 0 .675.417l3.733-1.866z",fill:e.fill}))};Nh.propTypes=Ih;var Mh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lh={video:Ko.a.shape({thumbnailURL:Ko.a.string.isRequired,title:Ko.a.string.isRequired,channelName:Ko.a.string.isRequired,creationDate:Ko.a.string.isRequired,duration:Ko.a.number.isRequired,id:Ko.a.string.isRequired,recommendationType:Ko.a.string.isRequired}).isRequired,onClose:Ko.a.func,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired,trackEvent:Ko.a.func.isRequired},qh={onClose:function(){}},Dh=Bd()("pl-pinned-item__title","pl-flex"),Bh=Bd()("pl-flex__item","pl-flex__item--grow"),Uh=function(e){function t(){zt(this,t);var e=Wt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return Gt(t,e),Mh(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=e.onClose,i=Fl.a.createElement("div",{className:Dh},Fl.a.createElement("span",{className:Bh},n("Watch Now")),Fl.a.createElement(wh,{onClick:r})),a=Fl.a.createElement("span",null,Fl.a.createElement("figure",{className:"pl-card__smallicon"},Fl.a.createElement(Nh,{id:"pl-icon_vod"})),Fl.a.createElement("span",null,n("Most Recent Video")));return Fl.a.createElement("div",{className:"pl-pinned-item"},i,Fl.a.createElement(gh,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:a,onSelect:this.handleSelect,selectItem:t,hasThumbZoom:!0,hasBorder:!0}),Fl.a.createElement(jh,null))}},{key:"UNSAFE_componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),r(e)}}]),t}(Fl.a.Component);Uh.defaultProps=qh,Uh.propTypes=Lh;var Fh=Object(Wl.c)()(Uh),Vh=n(59),Hh=n.n(Vh),zh="set VOD recommendations",Wh="clear VOD recommendations",Gh="set number of VOD recommendations visible",Kh="set fetching recommendations status",Yh="unfetched",Qh="fetching",$h="fetched",Xh=32,Jh=300,Zh=.1,em=5e3,tm="similar",nm="channel",rm="post vod recommendations",im=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),am={date:Ko.a.object.isRequired,length:Ko.a.number.isRequired,languageCode:Ko.a.string.isRequired},om={year:"numeric",month:"short",day:"numeric"},sm=function(e){var t=e.length,n=e.date,r=e.languageCode,i=n.toLocaleDateString(r,om),a=Object(Ds.b)(t,!1),o=im(a,3),s=o[0],u=o[1],c=o[2],l=s+":"+u+":"+c;return Fl.a.createElement("div",null,Fl.a.createElement("span",null,i),"",Fl.a.createElement("span",null,l))};sm.propTypes=am;var um=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cm=[{minPlayerWidth:2381,columns:8},{minPlayerWidth:2084,columns:7},{minPlayerWidth:1786,columns:6},{minPlayerWidth:1489,columns:5},{minPlayerWidth:1191,columns:4},{minPlayerWidth:893,columns:3},{minPlayerWidth:596,columns:2},{minPlayerWidth:0,columns:1}],lm=[{minPlayerHeight:950,rows:4},{minPlayerHeight:700,rows:3},{minPlayerHeight:520,rows:2},{minPlayerHeight:0,rows:1}],dm={height:Ko.a.number.isRequired,width:Ko.a.number.isRequired,videos:Ko.a.arrayOf(Ko.a.shape({thumbnailURL:Ko.a.string.isRequired,title:Ko.a.string.isRequired,channelName:Ko.a.string.isRequired,creationDate:Ko.a.string.isRequired,duration:Ko.a.number.isRequired,id:Ko.a.string.isRequired,recommendationType:Ko.a.string.isRequired}).isRequired).isRequired,onSelect:Ko.a.func.isRequired,trackEvent:Ko.a.func.isRequired,onClose:Ko.a.func.isRequired,t:Ko.a.func.isRequired,lang:Ko.a.object.isRequired,windowObj:Ko.a.object.isRequired},fm=Bd()("pl-rec","pl-flex","pl-flex--stretch","pl-flex--horizontalCenter"),pm=Bd()("pl-rec__title","pl-flex__item"),hm=Bd()("pl-rec__container","pl-flex","pl-flex__item","pl-flex--verticalCenter","pl-flex--horizontalCenter"),mm=function(e){function t(){en(this,t);var e=tn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return nn(t,e),um(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.height,n=e.width,r=e.videos;(0,e.trackEvent)("player_rec_show_others",{recommended_vod_ids:r.slice(0,this._getNumOfCardsVisible(t,n)).map(function(e){return e.id}).join(","),recommended_vod_types:r[0].recommendationType})}},{key:"render",value:function(){var e=this,t=this.props,n=t.videos,r=t.width,i=t.height,a=t.onClose,o=t.t,s=t.windowObj,u=t.lang,c=this._getNumOfCardsVisible(i,r),l=n.map(function(t,n){var r=Bd()({"pl-mg-x-05":!0,"pl-rec__item":!0,hidden:n>=c});if(t.recommendationType===nm)return Fl.a.createElement(gh,{key:t.id+"_"+(n>=c),className:r,thumbnailURL:t.thumbnailURL,title:t.title,info:t.game,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0});var i=Fl.a.createElement(sm,{length:t.duration,date:new s.Date(t.creationDate),languageCode:u.langCode});return Fl.a.createElement(gh,{key:t.id+"_"+(n>=c),className:r,thumbnailURL:t.thumbnailURL,bread:t.channelName,title:t.title,info:i,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0})}),d=null;if(n[0].recommendationType===nm){d=o("More from {{channelName}}",{channelName:n[0].channelName})}else d=o("Watch Now");return Fl.a.createElement("div",{className:fm},Fl.a.createElement(wh,{onClick:a}),Fl.a.createElement("h2",{className:pm},d),Fl.a.createElement("div",{className:hm},l))}},{key:"_getNumOfCardsVisible",value:function(e,t){return Hh()(cm,function(e){return t>=e.minPlayerWidth}).columns*Hh()(lm,function(t){return e>=t.minPlayerHeight}).rows}},{key:"handleSelect",value:function(e){this.props.trackEvent("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"other"}),this.props.onSelect(e)}}]),t}(Fl.a.Component);mm.propTypes=dm;var ym=Object(Wl.c)()(mm),vm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bm={videos:Ko.a.array.isRequired,onSelectVOD:Ko.a.func.isRequired,playerHeight:Ko.a.number.isRequired,playerWidth:Ko.a.number.isRequired,onExit:Ko.a.func.isRequired,trackEvent:Ko.a.func.isRequired,lang:Ko.a.object.isRequired,windowObj:Ko.a.object.isRequired,streamWasOnline:Ko.a.bool.isRequired},gm=function(e){function t(){rn(this,t);var e=an(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showFeatured:!0},e.handleCloseFeaturedPane=e.handleCloseFeaturedPane.bind(e),e}return on(t,e),vm(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props;(0,e.trackEvent)("player_rec_show",{type:e.streamWasOnline?"postLive":"offline"})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.lang,r=e.windowObj,i=e.playerHeight,a=e.playerWidth,o=e.onSelectVOD,s=e.onExit,u=e.trackEvent,c=this.state.showFeatured,l=Fl.a.createElement(ym,{height:i,width:a,videos:t,onSelect:o,onClose:s,trackEvent:u,lang:n,windowObj:r}),d=Fl.a.createElement(Fh,{onClose:this.handleCloseFeaturedPane,onSelect:o,width:a,video:t[0],trackEvent:u}),f=c?d:l,p=Bd()({"player-overlay":!0,"recommendations-overlay":!0,"pl-rec-wrapper":!this.state.showFeatured,"pl-single-rec-wrapper":this.state.showFeatured});return Fl.a.createElement("div",{className:p},f)}},{key:"handleCloseFeaturedPane",value:function(){this.setState({showFeatured:!1})}}]),t}(Fl.a.Component);gm.propTypes=bm;var _m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wm={recommendedVideos:Ko.a.array.isRequired,recommendationType:Ko.a.string.isRequired,lang:Ko.a.object.isRequired,windowObj:Ko.a.object.isRequired,showRecommendations:Ko.a.bool.isRequired,selectRecommendedVideo:Ko.a.func.isRequired,popScreen:Ko.a.func.isRequired,clearRecommendedVODs:Ko.a.func.isRequired,playerDimensions:Ko.a.shape({height:Ko.a.number,width:Ko.a.number}).isRequired,trackEvent:Ko.a.func.isRequired,streamHasPlayed:Ko.a.bool.isRequired},km=function(e){var t=e.lang,n=e.screen,r=e.recommendations,i=e.window,a=e.playerDimensions,o=e.analyticsTracker,s=e.playback;return{recommendedVideos:r.videos,recommendationType:r.type,windowObj:i,showRecommendations:n[0]===Dc.i&&s.ended,playerDimensions:a,lang:t,trackEvent:o.trackEvent,streamHasPlayed:s.hasPlayed}},Em=function(e){return{selectRecommendedVideo:function(t){e(Object(Nc.I)(t))},popScreen:function(){e(Object(Dc.q)())},clearRecommendedVODs:function(){e(Zt())}}},Sm=function(e){function t(){sn(this,t);var e=un(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e}return cn(t,e),_m(t,[{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.lang,r=e.windowObj,i=e.showRecommendations,a=e.playerDimensions,o=e.recommendationType,s=e.trackEvent,u=e.streamHasPlayed;if(t.length>0&&this._preloadVideoThumbnails(),!i||0===t.length)return null;switch(o){case"offline recommendations":return Fl.a.createElement(gm,{videos:t,onSelectVOD:this.handleSelectVOD,windowObj:r,playerHeight:a.height,playerWidth:a.width,onExit:this.handleExitRecommendations,trackEvent:s,lang:n,streamWasOnline:u});default:return null}}},{key:"_preloadVideoThumbnails",value:function(){this.props.recommendedVideos.forEach(function(e){(new Image).src=e.thumbnailURL})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen(),this.props.clearRecommendedVODs()}}]),t}(Fl.a.Component);Sm.propTypes=wm;var Pm=Object(zl.b)(km,Em)(Sm),Tm=n(570),Om=n.n(Tm),Cm=n(119),xm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rm={video:Ko.a.shape({thumbnailURL:Ko.a.string.isRequired,title:Ko.a.string.isRequired,channelName:Ko.a.string.isRequired,creationDate:Ko.a.string.isRequired,duration:Ko.a.number.isRequired,id:Ko.a.string.isRequired,recommendationType:Ko.a.string.isRequired}).isRequired,onClose:Ko.a.func,windowObj:Ko.a.object.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired,trackEvent:Ko.a.func.isRequired},jm={onClose:function(){}},Am=2e4,Im=Bd()("pl-pinned-item","pl-pinned-item--centered"),Nm=Bd()("pl-pinned-item__title","pl-flex"),Mm=Bd()("pl-flex__item","pl-flex__item--grow"),Lm=Bd()("pl-rec__cancel","pl-button","pl-button--hollow","pl-button--white"),qm=function(e){function t(){ln(this,t);var e=dn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={timeRemaining:Am},e._updateTimeRemainingIntervalID=null,e.handleExitButtonClick=e.handleExitButtonClick.bind(e),e.handleSelect=e.handleSelect.bind(e),e}return fn(t,e),xm(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=this.state.timeRemaining,i=n("{{timeRemaining}} second",{timeRemaining:Math.round(r/1e3),count:r}),a=Fl.a.createElement("div",{className:Nm},Fl.a.createElement("span",{className:Mm},n("Playing in"),Fl.a.createElement("span",{className:"pl-pinned-item__title-highlight"}," ",i)),Fl.a.createElement(Jf.a,{className:Lm,onClick:this.handleExitButtonClick},n("Cancel"))),o=Fl.a.createElement("span",null,Fl.a.createElement("figure",{className:"pl-card__smallicon"},Fl.a.createElement(Nh,{id:"pl-icon_vod"})),Fl.a.createElement("span",null,n("Most Recent Video")));return Fl.a.createElement("div",{className:Im},a,Fl.a.createElement(gh,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:o,onSelect:this.handleSelect,selectItem:t,progressBarPercentage:Object(Cm.a)(r,Am),hasThumbZoom:!0,hasBorder:!0}))}},{key:"UNSAFE_componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"componentDidMount",value:function(){this.startAutoplayCountdown()}},{key:"componentWillUnmount",value:function(){this.stopAutoplayCountdown()}},{key:"startAutoplayCountdown",value:function(){var e=this,t=this.props,n=t.windowObj,r=t.onSelect,i=t.video,a=n.Date.now();this._updateTimeRemainingIntervalID=n.setInterval(function(){var t=n.Date.now(),o=t-a;o<Am?e.setState({timeRemaining:Am-o}):(e.stopAutoplayCountdown(),e.props.trackEvent("player_rec_autoplay",{recommended_vod_id:e.props.video.id,recommended_vod_type:e.props.video.recommendationType}),r(i))},100)}},{key:"stopAutoplayCountdown",value:function(){this.props.windowObj.clearInterval(this._updateTimeRemainingIntervalID),this._updateTimeRemainingIntervalID=null}},{key:"handleExitButtonClick",value:function(){this.stopAutoplayCountdown(),this.props.onClose()}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),this.stopAutoplayCountdown(),r(e)}}]),t}(Fl.a.Component);qm.defaultProps=jm,qm.propTypes=Rm;var Dm=Object(Wl.c)()(qm),Bm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Um=Bd()("player-overlay","recommendations-overlay","pl-rec-wrapper"),Fm={videos:Ko.a.array.isRequired,onSelectVOD:Ko.a.func.isRequired,playerHeight:Ko.a.number.isRequired,playerWidth:Ko.a.number.isRequired,onExit:Ko.a.func.isRequired,trackEvent:Ko.a.func.isRequired,lang:Ko.a.object.isRequired,windowObj:Ko.a.object.isRequired,isMiniPlayer:Ko.a.bool.isRequired},Vm=function(e){function t(e){pn(this,t);var n=hn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={showAutoplayingVOD:!e.isMiniPlayer},n.handleCancelAutoplayVOD=n.handleCancelAutoplayVOD.bind(n),n}return mn(t,e),Bm(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.trackEvent("player_rec_show",{type:"postVOD"})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.showAutoplayingVOD&&e.isMiniPlayer&&this.setState({showAutoplayingVOD:!1})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.windowObj,r=e.playerHeight,i=e.playerWidth,a=e.onSelectVOD,o=e.onExit,s=e.trackEvent,u=e.isMiniPlayer,c=e.lang,l=this.state.showAutoplayingVOD;if(u)return null;var d=Fl.a.createElement(ym,{height:r,width:i,videos:t,onSelect:a,onClose:o,trackEvent:s,lang:c,windowObj:n}),f=Fl.a.createElement(Dm,{onClose:this.handleCancelAutoplayVOD,onSelect:a,width:i,video:t[0],trackEvent:s,windowObj:n}),p=l?f:d;return Fl.a.createElement("div",{className:Um},p)}},{key:"handleCancelAutoplayVOD",value:function(){this.setState({showAutoplayingVOD:!1})}}]),t}(Fl.a.Component);Vm.propTypes=Fm;var Hm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zm=[ls.p,ls.t,ls.s,ls.n,ls.u,ls.y],Wm={hasVideoEnded:Ko.a.bool.isRequired,recommendedVideos:Ko.a.array.isRequired,windowObj:Ko.a.object.isRequired,lang:Ko.a.object.isRequired,selectRecommendedVideo:Ko.a.func.isRequired,popScreen:Ko.a.func.isRequired,clearRecommendedVODs:Ko.a.func.isRequired,playerDimensions:Ko.a.shape({height:Ko.a.number,width:Ko.a.number}).isRequired,trackEvent:Ko.a.func.isRequired,isMiniPlayer:Ko.a.bool.isRequired,shouldShowRecommendations:Ko.a.bool.isRequired,pushVODRecScreen:Ko.a.func.isRequired,fetchRecommendedVODs:Ko.a.func.isRequired,shouldFetchRecommendations:Ko.a.bool.isRequired,screen:Ko.a.array.isRequired},Gm=function(e){var t=e.recommendations,n=e.playback,r=e.lang,i=e.screen,a=e.window,o=e.playerDimensions,s=e.analyticsTracker,u=e.ui,c=e.stream,l=e.env,d=c.contentType===iu.a&&n.ended&&!u.isMini&&!Vo()(zm,l.playerType)&&t.status===$h&&n.transitionScheme===Mc.h&&t.type===rm,f=n.transitionScheme===Mc.h&&c.contentType===iu.a&&1e3*(n.duration-n.currentTime)<12e3&&t.status===Yh;return{hasVideoEnded:n.ended,recommendedVideos:t.videos,windowObj:a,lang:r,playerDimensions:o,trackEvent:s.trackEvent,isMiniPlayer:u.isMini,shouldShowRecommendations:d,shouldFetchRecommendations:f,screen:i}},Km=function(e){return{fetchRecommendedVODs:function(){e(Kt(rm))},pushVODRecScreen:function(){e(Object(Dc.r)(Dc.j))},selectRecommendedVideo:function(t){e(Object(Nc.I)(t))},popScreen:function(){e(Object(Dc.q)())},clearRecommendedVODs:function(){e(Zt())}}},Ym=function(e){function t(){yn(this,t);var e=vn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e.state={isImagePreloadingComplete:!1},e}return bn(t,e),Hm(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.hasVideoEnded&&this.props.shouldShowRecommendations&&this.props.recommendedVideos.length>0&&this.props.screen[0]!==Dc.c&&this.props.screen[0]!==Dc.m&&!Vo()(this.props.screen,Dc.j)&&this.props.pushVODRecScreen(),this.props.shouldFetchRecommendations&&this.props.fetchRecommendedVODs()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!Om()(this.props,e)){var t=e.recommendedVideos!==this.props.recommendedVideos,n=e.screen[0]!==Dc.c&&e.screen[0]!==Dc.m&&!Vo()(e.screen,Dc.j)&&e.shouldShowRecommendations,r=this.props.hasVideoEnded&&0===this.props.recommendedVideos.length&&e.recommendedVideos.length>0,i=!this.props.hasVideoEnded&&e.hasVideoEnded&&this.props.recommendedVideos.length>0;return t&&e.recommendedVideos.length>0&&!1===this.state.isImagePreloadingComplete&&this._preloadVideoThumbnails(e.recommendedVideos),(r||i)&&n?void this.props.pushVODRecScreen():e.shouldFetchRecommendations?void this.props.fetchRecommendedVODs():e.shouldShowRecommendations||e.screen[0]!==Dc.j?void 0:void this.props.popScreen()}}},{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.windowObj,r=e.playerDimensions,i=e.trackEvent,a=e.isMiniPlayer,o=e.screen,s=e.lang;return o[0]!==Dc.j?null:Fl.a.createElement(Vm,{videos:t,onSelectVOD:this.handleSelectVOD,windowObj:n,playerHeight:r.height,playerWidth:r.width,onExit:this.handleExitRecommendations,trackEvent:i,isMiniPlayer:a,lang:s})}},{key:"_preloadVideoThumbnails",value:function(e){e.forEach(function(e){(new Image).src=e.thumbnailURL}),this.setState({isImagePreloadingComplete:!0})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen()}}]),t}(Ul.Component);Ym.propTypes=Wm;var Qm=Object(zl.b)(Gm,Km)(Ym),$m={statName:Ko.a.string.isRequired,value:Ko.a.oneOfType([Ko.a.string,Ko.a.number]).isRequired,t:Ko.a.func.isRequired,key:Ko.a.string};gn.propTypes=$m;var Xm=Object(Wl.c)()(gn),Jm={stats:Ko.a.shape({bufferSize:Ko.a.number,displayResolution:Ko.a.string,skippedFrames:Ko.a.number,fps:Ko.a.number,hlsLatencyBroadcaster:Ko.a.number,latencyMode:Ko.a.string,memoryUsage:Ko.a.string,playbackRate:Ko.a.number,videoResolution:Ko.a.string,backendVersion:Ko.a.string}).isRequired,isLive:Ko.a.bool.isRequired,onClose:Ko.a.func.isRequired,t:Ko.a.func.isRequired},Zm=Bd()("player-button","player-button--noscale","player-button--close");_n.propTypes=Jm;var ey=Object(Wl.c)()(_n),ty=n(157),ny=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ry={stats:Ko.a.shape({bufferSize:Ko.a.number,displayResolution:Ko.a.string,skippedFrames:Ko.a.number,fps:Ko.a.number,hlsLatencyBroadcaster:Ko.a.number,latencyMode:Ko.a.string,memoryUsage:Ko.a.string,playbackRate:Ko.a.number,videoResolution:Ko.a.string,backendVersion:Ko.a.string,codecs:Ko.a.string}).isRequired,isLive:Ko.a.bool.isRequired,show:Ko.a.bool.isRequired,closeStats:Ko.a.func.isRequired},iy=function(e){var t=e.stats,n=e.stream;return{isLive:n.contentType===ru.a||n.contentType===El.a,show:t.displayState===ty.c,stats:t.videoStats}},ay=function(e){return{closeStats:function(){e(Object(hu.e)(ty.b))}}},oy=function(e){function t(){wn(this,t);var e=kn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return En(t,e),ny(t,[{key:"onClose",value:function(){this.props.closeStats()}},{key:"render",value:function(){var e=this.props,t=e.isLive,n=e.show,r=e.stats;return n?Fl.a.createElement(ey,{isLive:t,onClose:this.onClose,stats:r}):null}}]),t}(Fl.a.Component);oy.propTypes=ry;var sy=Object(zl.b)(iy,ay)(oy),uy=n(110),cy=n.n(uy),ly=n(183),dy=n.n(ly),fy=n(315),py=n.n(fy),hy=Object.freeze({id:"ID",impressionTime:"Impression Time",adPosition:"Ad Position",totalAds:"Total Ads",creativeId:"Creative ID",adWrapperIds:"Ad Wrapper IDs",title:"Title",system:"System",contentType:"Content Type",vastMediaHeight:"VAST Media Height",vastMediaWidth:"VAST Media Width",vastMediaBitrate:"VAST Media Bitrate"}),my={show:Ko.a.bool.isRequired,adStats:Ko.a.array.isRequired,onClose:Ko.a.func.isRequired,t:Ko.a.func.isRequired},yy=Bd()("player-button","player-button--noscale","player-button--close"),vy=function(e){var t=e.adStats,n=void 0===t?[]:t,r=e.onClose,i=void 0===r?null:r,a=e.t,o=void 0===a?null:a;return Fl.a.createElement("ul",{className:"pl-stats-list js-ad-stats"},Fl.a.createElement(Jf.a,{className:yy,onClick:i},Fl.a.createElement(Hd,{id:"icon_close"})),cy()(n,function(e){var t=e.statName,n=e.value;if(!eu()(hy,t))return null;var r=o(hy[t]),i=dy()(n)&&!py()(n)?"--":n;return Fl.a.createElement(Xm,{statName:r,value:i,key:t})}))};vy.propTypes=my;var by=Object(Wl.c)()(vy),gy=n(307),_y=n.n(gy),wy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ky={closeStats:Ko.a.func.isRequired,show:Ko.a.bool.isRequired,adStats:Ko.a.array.isRequired},Ey=function(e){var t=e.adStats,n=ic()(t,"id"),r=ic()(t,"impressionTime"),i=ic()(t,"adPodInfo.adPosition"),a=ic()(t,"adPodInfo.totalAds"),o=ic()(t,"creativeId"),s=JSON.stringify(ic()(t,"adWrapperIds")),u=ic()(t,"title"),c=ic()(t,"system"),l=ic()(t,"contentType"),d=ic()(t,"vastMediaBitrate");return{id:n,impressionTime:r,adPosition:i,totalAds:a,creativeId:o,adWrapperIds:s,title:u,system:c,contentType:l,vastMediaHeight:ic()(t,"vastMediaHeight"),vastMediaWidth:ic()(t,"vastMediaWidth"),vastMediaBitrate:d}},Sy=function(e){var t=e.adStats,n=Ey({adStats:t});return cy()(n,function(e,t){return{value:e,statName:t}})},Py=function(e){var t=e.stats,n=t.displayState,r=t.adStats,i=n===ty.a,a=_y()(r);return{show:i,adStats:Sy({adStats:a})}},Ty=function(e){return{closeStats:function(){e(Object(hu.e)(ty.b))}}},Oy=function(e){function t(e){Sn(this,t);var n=Pn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n}return Tn(t,e),wy(t,[{key:"onClose",value:function(){this.props.closeStats()}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.adStats;return t?Fl.a.createElement(by,{adStats:n,onClose:this.onClose}):null}}]),t}(Ul.Component);Oy.propTypes=ky;var Cy=Object(zl.b)(Py,Ty)(Oy),xy=n(319),Ry={imgUrl:Ko.a.string.isRequired,bgType:Ko.a.string.isRequired},jy=function(e){var t=e.imgUrl,n=e.bgType,r=Bd()({"pl-background-banner":!0,"pl-background-banner--offline":"offline-banner"===n,"pl-background-banner--preview":"video-preview"===n,"js-video-background-banner":!0});return Fl.a.createElement("div",{className:r,style:{backgroundImage:"url("+t+")"}})};jy.propTypes=Ry;var Ay=n(112),Iy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ny={bannerType:Ko.a.string.isRequired,imgUrl:Ko.a.string,onContentShowing:Ko.a.func.isRequired},My="offline-banner",Ly="video-preview",qy="none",Dy=function(e){var t=e.streamMetadata,n=t.channel,r=t.preview,i=Rn(e),a=n.videoBanner,o=r.template;return i===qy?{bannerType:i,imgUrl:""}:{bannerType:i,imgUrl:jn(i===My?a:o)}},By=function(e){return{onContentShowing:function(){e(Object(Nc.A)())}}},Uy=function(e){function t(){return On(this,t),Cn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xn(t,e),Iy(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.bannerType!==qy&&this.props.onContentShowing()}},{key:"render",value:function(){var e=this.props,t=e.bannerType,n=e.imgUrl;return t===qy?null:Fl.a.createElement(jy,{imgUrl:n,bgType:t})}}]),t}(Fl.a.Component);Uy.propTypes=Ny;var Fy=Object(zl.b)(Dy,By)(Uy),Vy={clickThroughUrl:Ko.a.string.isRequired};An.propTypes=Vy;var Hy={label:Ko.a.string.isRequired,t:Ko.a.func.isRequired,channelName:Ko.a.string.isRequired},zy={color:"white",backgroundColor:"rgba(0,0,0,0.8)",position:"absolute",top:"0",left:"0",padding:"10px"};In.propTypes=Hy;var Wy=Object(Wl.c)()(In),Gy={t:Ko.a.func.isRequired,remainingAdTime:Ko.a.number,adPosition:Ko.a.number,totalAds:Ko.a.number},Ky=function(e){return Math.floor(e/60)},Yy=function(e){return parseInt(e-60*Ky(e),10)},Qy=function(e){return e<10?"0"+e:String(e)};Nn.propTypes=Gy;var $y=Object(Wl.c)()(Nn),Xy=n(156),Jy=Object.freeze(["overwatchleague","overwatchleague_kr","overwatchleague_fr","overwatchleague_zh","overwatchleague_zhtw"]),Zy={clickThroughUrl:Ko.a.string.isRequired,isPartner:Ko.a.bool.isRequired,displayName:Ko.a.string.isRequired,isShowingAd:Ko.a.bool.isRequired,isStitchedAd:Ko.a.bool.isRequired,rollType:Ko.a.string.isRequired,streamType:Ko.a.string,remainingAdTime:Ko.a.number,adPosition:Ko.a.number,totalAds:Ko.a.number},ev=function(e){var t=e.ads,n=e.screen,r=e.stream,i=e.streamMetadata;return{clickThroughUrl:t.clickThrough,isPartner:i.channel.partner,displayName:i.channel.displayName,isShowingAd:n[0]===Dc.m||n[0]===Dc.c,isStitchedAd:n[0]===Dc.m,rollType:t.currentMetadata.rollType,streamType:ic()(r,"contentType"),remainingAdTime:t.details.remainingAdTime,adPosition:t.details.adPodInfo.adPosition,totalAds:t.details.adPodInfo.totalAds}};Mn.propTypes=Zy;var tv=Object(zl.b)(ev)(Mn),nv=n(100),rv={onSelect:Ko.a.func.isRequired,selectedValue:Ko.a.string.isRequired},iv=Object.freeze(Object.keys(nv.l));Un.propTypes=rv;var av="Presets",ov={onSelect:Ko.a.func.isRequired,selectedValue:Ko.a.string.isRequired},sv=function(e){return{selectedValue:e.captions.preset}},uv=function(e){return{onSelect:function(t){e(Object(su.k)(t,nv.l[t]))}}};Fn.propTypes=ov;var cv=Object(zl.b)(sv,uv)(Fn),lv={className:Ko.a.string,currentValue:Ko.a.string.isRequired,id:Ko.a.string,options:Ko.a.arrayOf(Ko.a.shape({value:Ko.a.string.isRequired,text:Ko.a.string.isRequired})).isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},dv={className:"",id:""};Vn.propTypes=lv,Vn.defaultProps=dv;var fv=Object(Wl.c)()(Vn),pv={currentFont:Ko.a.string.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},hv=Object.freeze({value:"mono-serif",text:"Mono Serif"}),mv=Object.freeze({value:"prop-serif",text:"Serif"}),yv=Object.freeze({value:"mono-sans-serif",text:"Mono Sans-Serif"}),vv=Object.freeze({value:"prop-sans-serif",text:"Sans-Serif"}),bv=Object.freeze({value:"casual",text:"Casual"}),gv=Object.freeze({value:"cursive",text:"Cursive"}),_v=Object.freeze({value:"small-capitals",text:"Small Capitals"}),wv=Object.freeze([hv,mv,yv,vv,bv,gv,_v]);Hn.propTypes=pv;var kv=Object(Wl.c)()(Hn),Ev={currentAlignment:Ko.a.string.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},Sv=Object.freeze({value:"left",text:"Left"}),Pv=Object.freeze({value:"center",text:"Center"}),Tv=Object.freeze({value:"right",text:"Right"}),Ov=Object.freeze([Sv,Pv,Tv]);zn.propTypes=Ev;var Cv=Object(Wl.c)()(zn),xv={currentPosition:Ko.a.string.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},Rv=Object.freeze({value:"bottom",text:"Bottom"}),jv=Object.freeze({value:"top",text:"Top"}),Av=Object.freeze([Rv,jv]);Wn.propTypes=xv;var Iv=Object(Wl.c)()(Wn),Nv={currentOpacity:Ko.a.string.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},Mv=Object.freeze({value:"solid",text:"Solid"}),Lv=Object.freeze({value:"translucent",text:"Translucent"}),qv=Object.freeze({value:"semiTransparent",text:"Semi-Transparent"}),Dv=Object.freeze({value:"flashing",text:"Flashing"}),Bv=Object.freeze([Mv,Lv,qv,Dv]);Gn.propTypes=Nv;var Uv=Object(Wl.c)()(Gn),Fv={currentColor:Ko.a.string.isRequired,colors:Ko.a.array.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired};Yn.propTypes=Fv;var Vv=Object(Wl.c)()(Yn),Hv={increaseSize:Ko.a.func.isRequired,decreaseSize:Ko.a.func.isRequired,t:Ko.a.func.isRequired};Qn.propTypes=Hv;var zv=Object(Wl.c)()(Qn),Wv={currentAlignment:Ko.a.string.isRequired,currentColor:Ko.a.string.isRequired,currentFont:Ko.a.string.isRequired,currentFontSize:Ko.a.number.isRequired,currentPosition:Ko.a.string.isRequired,currentOpacity:Ko.a.string.isRequired,selectFontChange:Ko.a.func.isRequired},Gv=Object.freeze(["white","black","red","green","cyan","magenta","yellow","blue"]),Kv="font",Yv="fontColorName",Qv="alignment",$v="verticalPosition",Xv="fontOpacity",Jv="fontSize";$n.propTypes=Wv;var Zv={currentAlignment:Ko.a.string.isRequired,currentColor:Ko.a.string.isRequired,currentFont:Ko.a.string.isRequired,currentFontSize:Ko.a.number.isRequired,currentPosition:Ko.a.string.isRequired,currentOpacity:Ko.a.string.isRequired,selectFontChange:Ko.a.func.isRequired},eb=function(e){var t=e.captions;return{currentAlignment:t.style.alignment,currentColor:t.style.fontColorName,currentFont:t.style.font,currentFontSize:t.style.fontSize,currentPosition:t.style.verticalPosition,currentOpacity:t.style.fontOpacity}},tb=function(e){return{selectFontChange:function(t,n){e(Object(su.k)(su.g,Xn({},t,n)))}}};Jn.propTypes=Zv;var nb,rb=Object(zl.b)(eb,tb)(Jn),ib=Object.freeze((nb={},Zn(nb,"bold",{text:"B",enabledPropName:"boldText",styleMapName:"fontBold"}),Zn(nb,"italic",{text:"I",enabledPropName:"italicText",styleMapName:"fontItalic"}),Zn(nb,"underline",{text:"U",enabledPropName:"underlineText",styleMapName:"fontUnderline"}),nb)),ab={boldText:Ko.a.bool.isRequired,italicText:Ko.a.bool.isRequired,underlineText:Ko.a.bool.isRequired,selectTextStyle:Ko.a.func.isRequired,t:Ko.a.func.isRequired},ob=function(e){return function(t){"Enter"===t.key&&e()}};tr.propTypes=ab;var sb,ub=Object(Wl.c)()(tr),cb="Aa",lb="none",db=Object.freeze((sb={},nr(sb,lb,!0),nr(sb,"raised",!0),nr(sb,"drop",!0),nr(sb,"depressed",!0),nr(sb,"uniform",!0),sb)),fb={currentTextEffect:Ko.a.string.isRequired,selectTextEffect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},pb=function(e){return function(t){"Enter"===t.key&&e()}};ir.propTypes=fb;var hb=Object(Wl.c)()(ir),mb={boldText:Ko.a.bool.isRequired,italicText:Ko.a.bool.isRequired,underlineText:Ko.a.bool.isRequired,currentTextEffect:Ko.a.string.isRequired,selectTextEffect:Ko.a.func.isRequired,selectTextStyle:Ko.a.func.isRequired};ar.propTypes=mb;var yb={boldText:Ko.a.bool.isRequired,italicText:Ko.a.bool.isRequired,underlineText:Ko.a.bool.isRequired,currentTextEffect:Ko.a.string.isRequired,selectTextEffect:Ko.a.func.isRequired,selectTextStyle:Ko.a.func.isRequired},vb=function(e){var t=e.captions;return{boldText:"bold"===t.style.fontBold,italicText:"italic"===t.style.fontItalic,underlineText:"underline"===t.style.fontUnderline,currentTextEffect:t.style.edge}},bb=function(e){return{selectTextEffect:function(t){e(Object(su.k)(su.g,{edge:t}))},selectTextStyle:function(t,n){e(Object(su.k)(su.g,or({},t,n)))}}};sr.propTypes=yb;var gb=Object(zl.b)(vb,bb)(sr),_b={currentOpacity:Ko.a.string.isRequired,onSelect:Ko.a.func.isRequired,t:Ko.a.func.isRequired},wb=Object.freeze({text:"Solid",value:"solid"}),kb=Object.freeze({text:"Translucent",value:"translucent"}),Eb=Object.freeze([wb,kb]);ur.propTypes=_b;var Sb=Object(Wl.c)()(ur),Pb={currentColor:Ko.a.string.isRequired,currentOpacity:Ko.a.string.isRequired,selectColor:Ko.a.func.isRequired,selectOpacity:Ko.a.func.isRequired},Tb=Object.freeze(["transparent","white","lightgray","gray","darkgray","black","green","blue","cyan","magenta","yellow","red"]);cr.propTypes=Pb;var Ob={selectColor:Ko.a.func.isRequired,selectOpacity:Ko.a.func.isRequired,currentColor:Ko.a.string.isRequired,currentOpacity:Ko.a.string.isRequired},Cb=function(e){var t=e.captions;return{currentColor:t.style.backgroundColorName,currentOpacity:t.style.backgroundOpacity}},xb=function(e){return{selectColor:function(t){e(Object(su.k)("custom",{backgroundColorName:t}))},selectOpacity:function(t){e(Object(su.k)("custom",{backgroundOpacity:t}))}}};lr.propTypes=Ob;var Rb=Object(zl.b)(Cb,xb)(lr),jb={selectColor:Ko.a.func.isRequired,selectOpacity:Ko.a.func.isRequired,currentColor:Ko.a.string.isRequired,currentOpacity:Ko.a.string.isRequired},Ab=function(e){var t=e.captions;return{currentColor:t.style.windowColorName,currentOpacity:t.style.windowOpacity}},Ib=function(e){return{selectColor:function(t){e(Object(su.k)("custom",{windowColorName:t}))},selectOpacity:function(t){e(Object(su.k)("custom",{windowOpacity:t}))}}};dr.propTypes=jb;var Nb=Object(zl.b)(Ab,Ib)(dr),Mb=[av,"Text","Effects","Background","Window"],Lb={currentPanel:Ko.a.string.isRequired,selectPanel:Ko.a.func.isRequired,t:Ko.a.func.isRequired},qb={t:function(){}};pr.propTypes=Lb,pr.defaultProps=qb;var Db=Object(Wl.c)()(pr),Bb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub={fill:Ko.a.string,viewBox:Ko.a.string},Fb=function(e){return Fl.a.createElement(Ud.a,Bb({viewBox:"0 0 30 30"},e),Fl.a.createElement("path",{d:"M16.414 15l5.293-5.293a1 1 0 0 0-1.414-1.414L15 13.586 9.707 8.293a1 1 0 1 0-1.414 1.414L13.586 15l-5.293 5.293a1 1 0 0 0 1.414 1.414L15 16.414l5.293 5.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L16.414 15z",fill:e.fill}))};Fb.propTypes=Ub;var Vb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hb={onClose:Ko.a.func.isRequired,t:Ko.a.func.isRequired},zb={t:function(){}},Wb=function(e){function t(){hr(this,t);var e=mr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.selectPanel=e.selectPanel.bind(e),e.state={currentPanel:av},e}return yr(t,e),Vb(t,[{key:"selectPanel",value:function(e){this.setState({currentPanel:e})}},{key:"getPanelComponent",value:function(){switch(this.state.currentPanel){case av:return Fl.a.createElement(cv,null);case"Effects":return Fl.a.createElement(gb,null);case"Background":return Fl.a.createElement(Rb,null);case"Window":return Fl.a.createElement(Nb,null);case"Text":return Fl.a.createElement(rb,null);default:return Fl.a.createElement(cv,null)}}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.t,r=this.state.currentPanel,i=Bd()({"pl-modal__content":!0,"pl-modal__content--text":"Text"===r});return Fl.a.createElement("div",{className:i},Fl.a.createElement(Jf.a,{className:"pl-modal__close",onClick:t},Fl.a.createElement(Fb,{id:"icon_close_modal"})),Fl.a.createElement("h2",{className:"pl-modal__header"},n("Closed Caption Settings")),Fl.a.createElement(Db,{selectPanel:this.selectPanel,currentPanel:r}),this.getPanelComponent(r))}}]),t}(Fl.a.Component);Wb.propTypes=Hb,Wb.defaultProps=zb;var Gb=Object(Wl.c)()(Wb),Kb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yb={onClose:Ko.a.func.isRequired,showPanel:Ko.a.bool.isRequired},Qb=function(e){return{showPanel:e.captions.showCCModal}},$b=function(e){return{onClose:function(){e(Object(su.l)(!1))}}},Xb=function(e){function t(){vr(this,t);var e=br(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClickOutside=e.handleClickOutside.bind(e),e}return gr(t,e),Kb(t,[{key:"handleClickOutside",value:function(){var e=this.props,t=e.onClose;e.showPanel&&t()}},{key:"render",value:function(){var e=this.props,t=e.onClose;return e.showPanel?Fl.a.createElement(Gb,{onClose:t}):null}}]),t}(Fl.a.Component);Xb.propTypes=Yb;var Jb=Object(zl.b)(Qb,$b)(Cp()(Xb)),Zb=n(334),eg=n(335),tg={deviceName:Ko.a.string.isRequired,t:Ko.a.func},ng={t:function(){}};_r.propTypes=tg,_r.defaultProps=ng;var rg=Object(Wl.c)()(_r),ig={deviceName:Ko.a.string.isRequired,castingState:Ko.a.string.isRequired},ag=function(e){var t=e.chromecast;return{castingState:t.castingState,deviceName:t.deviceName}};wr.propTypes=ig;var og=Object(zl.b)(ag)(wr),sg=n(280),ug=n(200),cg="This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.",lg={channelName:Ko.a.string.isRequired,subscribeUrl:Ko.a.string.isRequired,t:Ko.a.func},dg={t:function(){}};kr.propTypes=lg,kr.defaultProps=dg;var fg=Object(Wl.c)()(kr),pg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hg={channelName:Ko.a.string.isRequired,contentIsShowing:Ko.a.func.isRequired,shouldRenderSubOverlay:Ko.a.bool.isRequired},mg={shouldRenderSubOverlay:!1},yg=function(e){var t=e.screen;return{channelName:e.streamMetadata.channel.name,shouldRenderSubOverlay:t[0]===Dc.p}},vg=function(e){return{contentIsShowing:function(){e(Object(Nc.A)())}}},bg=function(e){function t(){return Er(this,t),Sr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pr(t,e),pg(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"render",value:function(){var e=this.props,t=e.channelName;if(e.shouldRenderSubOverlay){var n=ys.A+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return Fl.a.createElement(fg,{channelName:t,subscribeUrl:n})}return null}}]),t}(Fl.a.Component);bg.propTypes=hg,bg.defaultProps=mg;var gg=Object(zl.b)(yg,vg)(bg),_g={t:Ko.a.func.isRequired},wg={t:function(){}};Tr.propTypes=_g,Tr.defaultProps=wg;var kg=Object(Wl.c)()(Tr),Eg={shouldRenderStormWarning:Ko.a.bool.isRequired},Sg={shouldRenderStormWarning:!1},Pg=function(e){return{shouldRenderStormWarning:e.screen[0]===Dc.n}};Or.propTypes=Eg,Or.defaultProps=Sg;var Tg=Object(zl.b)(Pg)(Or),Og=n(320),Cg=n(325),xg=n(316),Rg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jg={unmutePlayer:Ko.a.func.isRequired,autoplayEnabled:Ko.a.bool.isRequired,isMobileWeb:Ko.a.bool.isRequired,isPlaying:Ko.a.bool.isRequired,hasPlayed:Ko.a.bool.isRequired,isMuted:Ko.a.bool.isRequired,setTimeout:Ko.a.func.isRequired,clearTimeout:Ko.a.func.isRequired,trackOverlayClick:Ko.a.func.isRequired,pushUnmuteScreen:Ko.a.func.isRequired,popScreen:Ko.a.func.isRequired,screenStack:Ko.a.arrayOf(Ko.a.string).isRequired},Ag=function(e){var t=e.playback,n=e.env,r=e.window,i=e.screen;return{autoplayEnabled:t.autoplay,isMobileWeb:n.platform===Mu.a,isPlaying:t.playing,hasPlayed:t.hasPlayed,isMuted:t.muted,setTimeout:r.setTimeout,clearTimeout:r.clearTimeout,screenStack:i}},Ig=function(e){return{unmutePlayer:function(){e(Object(Tu.r)(!1))},trackOverlayClick:function(){e(Object(Cc.d)("player_click",{component:"unmute_overlay"}))},pushUnmuteScreen:function(){e(Object(Dc.r)(Dc.o))},popScreen:function(){e(Object(Dc.q)())}}},Ng=function(e){function t(){xr(this,t);var e=Rr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hideTimeoutId:0},e.handleClick=e.handleClick.bind(e),e.startTimeout=e.startTimeout.bind(e),e.cancelTimeout=e.cancelTimeout.bind(e),e.timeoutHandler=e.timeoutHandler.bind(e),e}return jr(t,e),Rg(t,[{key:"componentDidMount",value:function(){this.props.isMuted&&this.props.autoplayEnabled&&this.props.isPlaying&&this.props.isMobileWeb&&!Vo()(this.props.screenStack,Dc.o)&&this.props.pushUnmuteScreen()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.autoplayEnabled&&e.isMobileWeb&&(e.isMuted&&e.isPlaying||e.screenStack[0]!==Dc.o||this.props.popScreen(),e.isMuted&&Ar(this.props,e)&&!Vo()(e.screenStack,Dc.o)&&this.props.pushUnmuteScreen(),this.props.screenStack[0]===Dc.o&&e.screenStack[0]!==Dc.o&&this.cancelTimeout(),this.props.screenStack[0]!==Dc.o&&e.screenStack[0]===Dc.o&&this.startTimeout())}},{key:"render",value:function(){var e=Fl.a.createElement(xg.a,{onClick:this.handleClick,isTapToUnmute:this.props.isMobileWeb}),t=this.props.screenStack[0]===Dc.o?e:null;return Fl.a.createElement(Rp.a,{component:"div"},t)}},{key:"timeoutHandler",value:function(){var e=this.props,t=e.screenStack,n=e.popScreen;t[0]===Dc.o&&n()}},{key:"startTimeout",value:function(){var e=this.props,t=e.setTimeout;(0,e.clearTimeout)(this.state.hideTimeoutId);var n=t(this.timeoutHandler,5e3);this.setState({hideTimeoutId:n})}},{key:"cancelTimeout",value:function(){(0,this.props.clearTimeout)(this.state.hideTimeoutId),this.setState({hideTimeoutId:0})}},{key:"handleClick",value:function(){var e=this.props,t=e.unmutePlayer,n=e.trackOverlayClick;t(),n()}}]),t}(Fl.a.Component);Ng.propTypes=jg;var Mg=Object(zl.b)(Ag,Ig)(Ng),Lg=n(326),qg="This video quality is only available to subscribers. Subscribe now to watch and support {{channelName}}.",Dg={channelName:Ko.a.string.isRequired,subscribeUrl:Ko.a.string.isRequired,onClose:Ko.a.func,t:Ko.a.func},Bg={tt:function(e){return e}};Ir.propTypes=Dg,Ir.defaultProps=Bg;var Ug=Object(Wl.c)()(Ir),Fg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vg={channelName:Ko.a.string.isRequired,contentIsShowing:Ko.a.func.isRequired,popScreen:Ko.a.func.isRequired,shouldRenderQualityOverlay:Ko.a.bool.isRequired,dispatchQualityRestrictedScreen:Ko.a.func.isRequired,clearQualityRestrictedError:Ko.a.func.isRequired},Hg={shouldRenderQualityOverlay:!1},zg=function(e){var t=e.playback,n=e.streamMetadata;return{shouldRenderQualityOverlay:t.restrictedQualityError,channelName:n.channel.name}},Wg=function(e){return{contentIsShowing:function(){e(Object(Nc.A)())},dispatchQualityRestrictedScreen:function(){e(Object(Dc.r)(Dc.l))},popScreen:function(){e(Object(Dc.q)())},clearQualityRestrictedError:function(){e(Object(Nc.z)())}}},Gg=function(e){function t(){Nr(this,t);var e=Mr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return Lr(t,e),Fg(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.shouldRenderQualityOverlay&&this.props.dispatchQualityRestrictedScreen()}},{key:"render",value:function(){var e=this.props,t=e.channelName,n=e.shouldRenderQualityOverlay,r=ys.A+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return n?Fl.a.createElement(Ug,{channelName:t,subscribeUrl:r,onClose:this.onClose}):null}},{key:"onClose",value:function(){var e=this.props,t=e.popScreen;(0,e.clearQualityRestrictedError)(),t()}}]),t}(Fl.a.Component);Gg.propTypes=Vg,Gg.defaultProps=Hg;var Kg=Object(zl.b)(zg,Wg)(Gg),Yg={handleDoubleClick:Ko.a.func.isRequired};qr.propTypes=Yg;var Qg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$g=Object.freeze({trackEvent:Ko.a.func,isFullScreen:Ko.a.bool,shouldRenderFullscreenOverlay:Ko.a.bool,toggleFullScreen:Ko.a.func,isAd:Ko.a.bool}),Xg=Object.freeze({trackEvent:function(){},toggleFullScreen:function(){}}),Jg=function(e){var t=e.analyticsTracker,n=e.env,r=e.screen,i=e.screenMode;return{trackEvent:t.trackEvent,isFullScreen:!i.isFullScreen,shouldRenderFullscreenOverlay:n.playerType!==ls.t&&n.playerType!==ls.i&&n.playerType!==ls.s&&n.playerType!==ls.y&&n.playerType!==ls.x&&n.platform!==Mu.a,isAd:r[0]===Dc.c}},Zg=function(e){return{toggleFullScreen:function(){e(Object(Bc.i)())}}},e_=function(e){function t(){Dr(this,t);var e=Br(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleDoubleClick=e.handleDoubleClick.bind(e),e}return Ur(t,e),Qg(t,[{key:"handleDoubleClick",value:function(){var e=this.props,t=e.trackEvent,n=e.isFullScreen,r=e.toggleFullScreen;t("player_click_fullscreen",{action:!n}),r()}},{key:"render",value:function(){var e=this.props,t=e.shouldRenderFullscreenOverlay,n=e.isAd;return!t||n?null:Fl.a.createElement(qr,{handleDoubleClick:this.handleDoubleClick})}}]),t}(Fl.a.Component);e_.propTypes=$g,e_.defaultProps=Xg;var t_=Object(zl.b)(Jg,Zg)(e_),n_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r_=Object.freeze({shouldEmitOpenStream:Ko.a.bool,emitOpenStream:Ko.a.func}),i_=Object.freeze({shouldEmitOpenStream:!1,emitOpenStream:function(){}}),a_=function(e){var t=e.env;return{shouldEmitOpenStream:t.playerType===ls.t||t.playerType===ls.s}},o_=function(e){return{emitOpenStream:function(){e(Object(cs.F)())}}},s_=function(e){function t(){Fr(this,t);var e=Vr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.openStream=e.openStream.bind(e),e}return Hr(t,e),n_(t,[{key:"openStream",value:function(){(0,this.props.emitOpenStream)()}},{key:"render",value:function(){return this.props.shouldEmitOpenStream?Fl.a.createElement("div",{className:"player-overlay pl-overlay__openstream",onClick:this.openStream,role:"presentation"}):null}}]),t}(Fl.a.Component);s_.propTypes=r_,s_.defaultProps=i_;var u_=Object(zl.b)(a_,o_)(s_),c_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l_=Object.freeze({shouldEmitFocusPlayer:Ko.a.bool,emitFocusPlayer:Ko.a.func}),d_=Object.freeze({shouldEmitFocusPlayer:!1,emitFocusPlayer:function(){}}),f_=function(e){var t=e.env;return{shouldEmitFocusPlayer:ls.d.includes(t.playerType)}},p_=function(e){return{emitFocusPlayer:function(){e(Object(cs.C)())}}},h_=function(e){function t(){zr(this,t);var e=Wr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.focusPlayer=e.focusPlayer.bind(e),e}return Gr(t,e),c_(t,[{key:"focusPlayer",value:function(){this.props.emitFocusPlayer()}},{key:"render",value:function(){return this.props.shouldEmitFocusPlayer?Fl.a.createElement("div",{className:"player-overlay",onClick:this.focusPlayer,role:"presentation"}):null}}]),t}(Ul.Component);h_.propTypes=l_,h_.defaultProps=d_;var m_=Object(zl.b)(f_,p_)(h_),y_=function(e){return{notification:e.extensions.notification}},v_={notification:rf.c},b_=function(e){return e.notification?Fl.a.createElement(yf,{notification:e.notification}):null};b_.propTypes=v_;var g_=Object(zl.b)(y_)(b_),__={t:Ko.a.func.isRequired};Kr.propTypes=__;var w_=Object(Wl.c)()(Kr),k_={channelName:Ko.a.string.isRequired,logoUrl:Ko.a.string.isRequired,previewUrl:Ko.a.string,onGetAccess:Ko.a.func.isRequired,t:Ko.a.func.isRequired},E_="https://static-cdn.jtvnw.net/emoticons/v1/112291/3.0",S_="https://static-cdn.jtvnw.net/emoticons/v1/112292/3.0";Yr.propTypes=k_;var P_=Object(Wl.c)()(Yr),T_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O_={isPremiumContentRestricted:Ko.a.bool.isRequired,pushRestrictedScreen:Ko.a.func.isRequired,popScreen:Ko.a.func.isRequired,screenStack:Ko.a.arrayOf(Ko.a.string).isRequired,emitSubscribeChannel:Ko.a.func.isRequired,metadata:Ko.a.shape({channelName:Ko.a.string,channel:Ko.a.shape({logo:Ko.a.string}),restriction:Ko.a.shape({type:Ko.a.string,previewUrl:Ko.a.string})})},C_=function(e){var t=e.playback,n=e.screen,r=e.streamMetadata;return{isPremiumContentRestricted:t.contentRestriction===Mc.c,screenStack:n,metadata:r}},x_=function(e){return{pushRestrictedScreen:function(){e(Object(Dc.r)(Dc.k))},popScreen:function(){e(Object(Dc.q)())},emitSubscribeChannel:function(){e(Object(cs.J)())}}},R_=function(e){function t(){Qr(this,t);var e=$r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSubscribeChannel=e.handleSubscribeChannel.bind(e),e}return Xr(t,e),T_(t,[{key:"componentDidMount",value:function(){this.props.isPremiumContentRestricted&&!Vo()(this.props.screenStack,Dc.k)&&this.props.pushRestrictedScreen()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isPremiumContentRestricted||e.screenStack[0]!==Dc.k||this.props.popScreen(),e.isPremiumContentRestricted&&!Vo()(e.screenStack,Dc.k)&&this.props.pushRestrictedScreen()}},{key:"handleSubscribeChannel",value:function(){this.props.emitSubscribeChannel()}},{key:"render",value:function(){return this.props.screenStack[0]===Dc.k?this.props.metadata.restriction&&this.props.metadata.restriction.type===Wf.a?Fl.a.createElement(P_,{channelName:this.props.metadata.channelName,logoUrl:this.props.metadata.channel.logo,previewUrl:this.props.metadata.restriction.previewUrl,onGetAccess:this.handleSubscribeChannel}):Fl.a.createElement(w_,null):null}}]),t}(Fl.a.Component);R_.propTypes=O_;var j_=Object(zl.b)(C_,x_)(R_),A_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I_=Bd()("player-overlay","pl-overlay--wall","pl-overlay--gate"),N_=Bd()("player-center-content"),M_=Bd()("player-content-button"),L_={url:Ko.a.string.isRequired,t:Ko.a.func.isRequired},q_=function(e){function t(){return Jr(this,t),Zr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ei(t,e),A_(t,[{key:"render",value:function(){return Fl.a.createElement("div",{className:I_},Fl.a.createElement("div",{className:N_},this.renderContent()))}},{key:"renderContent",value:function(){return Fl.a.createElement("div",null,Fl.a.createElement("p",null,this.props.t("You can only watch this stream on the Twitch website.")),Fl.a.createElement("p",null,Fl.a.createElement("a",{className:M_,href:this.props.url,target:"blank"},this.props.t("Watch on Twitch"))))}}]),t}(Fl.a.PureComponent);q_.propTypes=L_;var D_,B_=Object(Wl.c)()(q_),U_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F_=(D_={},ii(D_,ls.B,!0),ii(D_,ls.C,!0),ii(D_,ls.p,!0),ii(D_,ls.z,!0),ii(D_,ls.t,!0),D_),V_={contentIsShowing:Ko.a.func,contentRestricted:Ko.a.func,pause:Ko.a.func,play:Ko.a.func,mutePlayer:Ko.a.func,playerType:Ko.a.string,stream:Ko.a.object,streamMetadata:Ko.a.object},H_=function(e){var t=e.env,n=e.stream,r=e.streamMetadata;return{playerType:t.playerType,stream:n,streamMetadata:r}},z_=function(e){return{pause:function(){e(Object(Tu.s)())},mutePlayer:function(t,n){e(Object(Tu.r)(t,n))},play:function(){e(Object(Tu.t)())},contentIsShowing:function(){e(Object(Nc.A)())},contentRestricted:function(t){e(Object(Nc.B)(t))}}},W_=function(e){function t(){ti(this,t);var e=ni(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showOverlay:!1},e}return ri(t,e),U_(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e);t!==this.state.showOverlay&&this.setState({showOverlay:t})}},{key:"componentDidUpdate",value:function(e,t){t.showOverlay!==this.state.showOverlay&&(this.state.showOverlay?(this.props.mutePlayer(!0,!0),this.props.pause(),this.props.contentIsShowing(),this.props.contentRestricted(Mc.d)):(this.props.mutePlayer(!1,!0),this.props.play(),this.props.contentRestricted(Mc.f)))}},{key:"_shouldShowOverlay",value:function(e){var t=e.playerType,n=e.stream;return e.streamMetadata.isEncrypted&&n.channel&&n.contentType===ru.a&&!F_.hasOwnProperty(t)}},{key:"render",value:function(){if(this.state.showOverlay){var e="https://www.twitch.tv/"+this.props.streamMetadata.channelName;return Fl.a.createElement(B_,{url:e})}return null}}]),t}(Fl.a.Component);W_.propTypes=V_;var G_=Object(zl.b)(H_,z_)(W_),K_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Y_={store:Ko.a.object.isRequired},Q_={clipGenerator:Ko.a.object.isRequired,options:Ko.a.object.isRequired,player:Ko.a.object.isRequired,root:Ko.a.object.isRequired},$_=function(e){function t(){return ai(this,t),oi(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return si(t,e),K_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,r=e.player,i=e.root,a=this.context.store;i.classList.add("player","theme--dark"),i.insertAdjacentHTML("beforeend",n(571));var o=a.getState().playback.muted;a.dispatch(Object(su.h)(o)),a.dispatch(Object(qd.g)());var s=new Cr(r,i,a,t);i.addEventListener("wheel",function(e){a.dispatch(Object(us.j)(e))}),this.setState({legacyUI:[s]})}},{key:"componentWillUnmount",value:function(){this.state.legacyUI.forEach(function(e){e.destroy()})}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.root;return Fl.a.createElement("div",{id:"default-player"},Fl.a.createElement(Og.a,{root:n},Fl.a.createElement(Fy,null),Fl.a.createElement(t_,null),Fl.a.createElement(u_,null),Fl.a.createElement(Mf,null),Fl.a.createElement(Hf,null),Fl.a.createElement(g_,null),Fl.a.createElement(Mg,null),Fl.a.createElement(Lg.a,null),Fl.a.createElement(xy.a,null),Fl.a.createElement(G_,null),Fl.a.createElement(sg.b,null),Fl.a.createElement(ug.b,null),Fl.a.createElement(og,null),Fl.a.createElement(Qm,null),Fl.a.createElement(Pm,null),Fl.a.createElement(eg.a,null),Fl.a.createElement(gg,null),Fl.a.createElement(uh,null),Fl.a.createElement(tv,null),Fl.a.createElement(Kg,null),Fl.a.createElement(j_,null),Fl.a.createElement(Tg,null),Fl.a.createElement(m_,null),Fl.a.createElement(ph,null),Fl.a.createElement(Cg.a,null,Fl.a.createElement(Tp.a,{showTopControls:!0,showBottomControls:!0,player:t})),Fl.a.createElement(Jb,null),Fl.a.createElement(Qd,null),Fl.a.createElement(Zb.a,null),Fl.a.createElement(th,null),Fl.a.createElement(yp,null),Fl.a.createElement(Pp,null),Fl.a.createElement(sy,null),Fl.a.createElement(Cy,null)))}}]),t}(Fl.a.Component);$_.contextTypes=Y_,$_.propTypes=Q_;var X_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),J_={clipGenerator:Ko.a.object.isRequired,options:Ko.a.object.isRequired,playerType:Ko.a.string.isRequired,player:Ko.a.object.isRequired,root:Ko.a.object.isRequired},Z_=function(e){return{playerType:e.env.playerType}},ew=function(e){function t(){ui(this,t);var e=ci(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._setPlayerTypeComponent=e._setPlayerTypeComponent.bind(e),e.state={playerTypeComponent:null},e}return li(t,e),X_(t,[{key:"UNSAFE_componentWillMount",value:function(){this._setPlayerTypeComponent(this.props.playerType)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.playerType;this.props.playerType!==t&&this._setPlayerTypeComponent(t)}},{key:"render",value:function(){return this.state.playerTypeComponent?Fl.a.createElement(this.state.playerTypeComponent,{player:this.props.player,root:this.props.root,options:this.props.options,clipGenerator:this.props.clipGenerator}):null}},{key:"_setPlayerTypeComponent",value:function(e){var t=this;switch(e){case ls.f:return n.e(5).then(function(){var e=n(595);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case ls.l:return n.e(3).then(function(){var e=n(596);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case ls.k:return n.e(1).then(function(){var e=n(597);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case ls.j:return n.e(2).then(function(){var e=n(598);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case ls.m:return n.e(0).then(function(){var e=n(599);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case ls.u:return n.e(4).then(function(){var e=n(600);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);default:this.setState({playerTypeComponent:$_})}}}]),t}(Fl.a.Component);ew.propTypes=J_;var tw=Object(zl.b)(Z_)(ew),nw=n(572),rw=n.n(nw),iw=n(264),aw=n(201),ow=n(206),sw="set watchpartyvod",uw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cw="production",lw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hi(this,e),this._store=t,this._debugMode=n.debug,this._pubSub=iw.a.getInstance(cw),this._topics=[],this._onMessage=this._onPubSubMessage.bind(this),this._unsubscribe=this._subscribe()}return uw(e,[{key:"destroy",value:function(){var e=this;this._unsubscribe(),this._topics.forEach(function(t){return e._unlisten(t)})}},{key:"_onPubSubMessage",value:function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){return void console.error("Pubsub: %o",e)}switch(this._debugMode&&console.info("PubSub: %o",t),t.type){case"stream-up":this._store.dispatch(Object(Eu.i)({contentType:Eu.b,contentId:this._store.getState().stream.channel}));break;case"stream-down":this._store.dispatch(Object(Ic.b)(!1));break;case"viewcount":this._store.dispatch(Object(aw.b)(t.viewers));break;case"tos-strike":this._store.getState().window.document.location.reload();break;case"watchparty-vod":this._store.dispatch(fi(t.vod));break;case"broadcast_settings_update":this._store.dispatch(Object(qc.j)({gameName:t.game||t.old_game,title:t.status||t.old_status}));break;case"pixel_tracking_update":this._store.dispatch(Object(ow.b)(this._store.getState().stream.channel,this._store.getState().gdprConsent.vendors));break;default:this._debugMode&&console.warn("PubSub: Unrecognized message %o",t)}}},{key:"_subscribe",value:function(){var e=this;return Object(ou.a)(this._store,["streamMetadata.channel.id"],function(t,n){var r=n.streamMetadata.channel.id,i=n.streamMetadata.channelName,a=t.streamMetadata.channel.id,o=e._store.getState().stream;r&&i&&(e._unlisten(mi(r)),e._unlisten(yi(r)),e._unlisten(vi(r))),o.contentType===ru.a&&a&&(e._listen(mi(a)),e._listen(yi(a)),e._listen(vi(a)))})}},{key:"_listen",value:function(e){var t=this;this._topics.push(e),this._pubSub.Listen({topic:e,success:function(){t._debugMode&&console.info("PubSub: successfully listened to %s",e)},failure:function(n){t._topics=rw()(t._topics,e),console.error("PubSub: error listening: %o",n)},message:this._onMessage})}},{key:"_unlisten",value:function(e){var t=this;this._topics=rw()(this._topics,e),this._pubSub.Unlisten({topic:e,success:function(){t._debugMode&&console.info("PubSub: successfully unlistened to %s",e)},failure:function(n){t._topics.push(e),console.error("PubSub: error unlistening: %o",n)},message:this._onMessage})}}]),e}(),dw=n(186),fw=n(188),pw=n(187),hw=n.n(pw),mw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yw=function(){function e(t,n){bi(this,e),this._store=n,this._root=t,this._store.dispatch(Object(Bc.f)(this.canFullScreen()))}return mw(e,[{key:"canFullScreen",value:function(){return!1}},{key:"isFullScreen",value:function(){return hw.a.element===this._root}}]),e}(),vw=n(284),bw=gi();bw.withExtraArgument=gi;var gw=bw,_w={params:{need_https:!1}},ww={qualityChangeCount:0,playSessionId:"",playSessionStartTime:0,trackingClients:[],videoPlayCount:0},kw=new Error("Attempting to use tracker too early"),Ew={trackEvent:function(){return Promise.reject(kw)}},Sw={playerBackendType:tu.a},Pw=Object.freeze({bitsBalance:null,retrievingBitsBalance:!1}),Tw=n(162),Ow=n(301),Cw=n(223),xw=n(220),Rw=n(224),jw=n(202),Aw=Object.freeze({bySlug:{},allSlugs:[]}),Iw="clips raw media updated",Nw=n(53),Mw=n.n(Nw),Lw=Object.freeze({startOffset:null,endOffset:null,isPostEdit:!1}),qw=n(291),Dw=n.n(qw),Bw=n(205),Uw="6745306",Fw={streamingTag:new Dw.a.StreamingTag({customerC2:Uw})},Vw={hasError:!1,code:-1},Hw="set experiments",zw=new Error("Attempting to use experiments too early"),Ww={get:function(){return Promise.reject(zw)}},Gw={fetched:!1,following:!1,notificationsEnabled:!1,showFollowNotification:!1},Kw="grant all consent",Yw="clear all consent",Qw="set amazon consent",$w="set comscore consent",Xw="set google consent",Jw="set nielsen consent",Zw="set has user saved amazon consent",ek="set has user saved comscore consent",tk="set has user saved google consent",nk="set has user saved nielsen consent",rk={vendors:{amazon:{hasUserSavedGDPRConsent:!1,consent:!1},comscore:{hasUserSavedGDPRConsent:!1,consent:!1},google:{hasUserSavedGDPRConsent:!1,consent:!1},nielsen:{hasUserSavedGDPRConsent:!1,consent:!1}}},ik={vendors:{amazon:{hasUserSavedGDPRConsent:!0,consent:!0},comscore:{hasUserSavedGDPRConsent:!0,consent:!0},google:{hasUserSavedGDPRConsent:!0,consent:!0},nielsen:{hasUserSavedGDPRConsent:!0,consent:!0}}},ak="set language",ok={abs:!1,broadcast_id:0,cluster:"",future:!1,manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",origin:"",region:"",segment_protocol:"",server_time:0,serving_id:"",stream_time:0,user_ip:"",suppress:!1,transcodestack:"not listed"},sk="set multiview enabled",uk="set multiview parent channel login",ck="set multiview parent title override",lk="set multiview parent logo override",dk="set multiview ftue",fk="set multiview button text",pk={enabled:!1,parentChannelLogin:null,titleOverride:null,logoOverride:null,isFTUE:!1,buttonText:null},hk=n(576),mk=n.n(hk),yk=n(577),vk=n.n(yk),bk=n(219),gk=[],_k=Object.freeze({timedMilestones:[],otherMetrics:[],initTime:0,timeHidden:0}),wk={pixels:[]},kk="update player dimensions",Ek={left:0,top:0,width:0,height:0},Sk="set provided options",Pk=Object.freeze({branding:!0,showInfo:!0,showMature:!0,showtheatre:!1,collection:"",channel:"",channelId:"",video:"",tt_content:"",tt_medium:"",nSecondPlayPeriods:[],persistUserPreferences:!0}),Tk={absAvailable:!1,current:"",selected:Lc.g,bitrate:Lc.f,available:[]},Ok={type:"",videos:[],numVideosVisible:0,status:Yh},Ck="set resume times",xk="initialize vod resume",Rk="cancel vod resume",jk="set vod resume time",Ak="cancel livestream resume",Ik="set livestream resume time",Nk="post vod backend time",Mk="set user",Lk="set isSeeked",qk="vodResumeTimes",Dk="vodResumeWatcheds",Bk="livestreamResumeTimes",Uk=n(194),Fk=20,Vk=600,Hk=2e4,zk=48e4,Wk={times:{},watch:{},streamTimes:{},lastTimeStamp:0,userId:null,initUpdateOffset:0,updateInterval:0,isSeeked:!1},Gk=n(578),Kk=n.n(Gk),Yk=Object.freeze({isFullScreen:!1,canFullScreen:!1,canTheatreMode:!1,isTheatreMode:!1}),Qk={lowLatencyModeEnabled:!0,persistenceEnabled:!0},$k=Object.keys(Qk),Xk=n(160),Jk={isSubscribed:!1,isSubscribable:!1,didFetch:!1},Zk="set muted segments",eE="set previews",tE={mutedSegments:[],previews:{count:0,lq:{width:0,height:0,rows:0,cols:0,URLs:[""]},hq:{width:0,height:0,rows:0,cols:0,URLs:[""]}}},nE=["app_session_id","benchmark_session_id","chat_visibility_status","client_app","client_build_id","collapse_left","collapse_right","content","feed_impression_id","host_channel","item_tracking_id","item_position","medium","page_session_id","platform","referrer","referrer_url","row_name","row_position","search_query_id","search_session_id","squad_stream_id","squad_stream_session_id","squad_stream_presentation_id","tab_session_id","tag_filter_set","tag_set","tag_streamer_set"],rE={isMini:!1,showSettings:ul.j,showExtensionsSubmenu:nf.d,shouldShowControls:!0,showUI:!1,onUIElement:!1,hidden:!1},iE=Object.freeze({params:{},hostOverride:""}),aE=n(312),oE=Object.freeze({videoMomentEdges:[]}),sE=Object.freeze({watchPartyId:"",vodId:"",title:"",viewable:"",broadcastType:"",incrementViewCountURL:""}),uE=n(149),cE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lE=function(){function e(){Ya(this,e)}return cE(e,[{key:"trackEvent",value:function(e){console.error("Attempted to track "+e+" on NullAnalyticsTracker")}}]),e}(),dE=new lE,fE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pE=function(){function e(){$a(this,e)}return fE(e,[{key:"_sendAdCompanionEvent",value:function(e,t){console.error("Attempted to emit "+e+" and "+t+" on NullEmbedHost")}},{key:"_sendStatsUpdateEvent",value:function(){console.error("Attempted to send stats update on NullEmbedHost")}},{key:"_sendReadyEvent",value:function(){console.error("Attempted to emit ready event  on NullEmbedHost")}},{key:"_sendSeekedEvent",value:function(){console.error("Attempted to emit seeked event  on NullEmbedHost")}},{key:"_sendPlaybackEvent",value:function(){console.error("Attempted to send playback event on NullEmbedHost")}},{key:"_sendCaptionsEvent",value:function(){console.error("Attempted to send captions event on NullEmbedHost")}},{key:"_sendFirstPartyAnalyticEvent",value:function(){console.error("Attempted to send first party analytic event on NullEmbedHost")}},{key:"_sendPlaybackBlockedEvent",value:function(){console.error("Attempted to emit playback blocked event on NullEmbedHost")}}]),e}(),hE=new pE,mE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yE=function(){function e(){Ja(this,e)}return mE(e,[{key:"emit",value:function(e){console.error("Attempted to emit "+e+" on NullEventEmitter")}}]),e}(),vE=n(117),bE=new yE,gE=n(277),_E=n.n(gE),wE=n(308),kE=function(e,t,n){var r=e.adPodInfo,i=e.adWrapperIds,a=e.id,o=r.adPosition,s=r.totalAds,u=_E()(i),c=yu()({},e,{adPodId:t,adPosition:o,totalAds:s,adWrapperId:u,issueType:n,adId:a});return delete c.adPodInfo,delete c.adWrapperIds,delete c.id,c},EE=function(e,t){var n=Object(ws.a)(16);return cy()(e,function(e){return kE(e,n,t)})},SE=function(){return function(e){return function(t){return function(n){var r=n.type,i=n.issueType;switch(r){case wE.a:var a=e.getState().stats.adStats,o=EE(a,i);$c()(o,function(t){e.dispatch(Object(Cc.d)("ad_issue_report",t))})}t(n)}}}},PE=n(161),TE=322,OE=500,CE=.05,xE=Object(vw.c)({accessToken:_i,ads:y,adsManager:wi,analytics:ki,analyticsTracker:Ei,backend:Si,backendInfo:Pi,bits:Ti,broadcasterInfo:Tw.a,captions:Ow.b,chromecast:Ys.f,clipRecommendations:Cw.a,clips:xw.a,clipsData:Oi,clipsEditing:xi,collection:Nl.c,comscore:Ri,env:Mu.b,error:ji,experiments:Ni,extensions:rf.d,follow:Mi,gdprConsent:Gi,lang:Xi,manifestInfo:Ji,multiview:aa,notifications:oa,online:sa,onlineStatus:Xc.c,performance:ua,pixel:ca,playback:Mc.j,playerDimensions:da,playerOptions:pa,quality:ha,recommendations:ma,resumeWatch:ja,screen:Ia,screenMode:Na,settings:Ma,stats:ty.d,stream:La,streamMetadata:Wf.c,subscriptions:qa,timelineMetadata:Ua,tracking:Fa,ui:Va,user:Cu.c,usher:Ha,viewercount:za,vod:Wa,watchParty:Ga,window:Ka}),RE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jE="https://clips.twitch.tv",AE="https://clips-staging.twitch.tv",IE="https://clips-alpha.twitch.tv",NE="clips_target",ME="clips-staging",LE={channel_not_live:"channel_offline",user_banned:"user_banned",user_timed_out:"user_timedout",channel_banned:"channel_banned",channel_not_clippable:"channel_unclippable",not_logged_in:"logged_out",video_not_available:"video_unavailable",video_subonly:"video_subonly",clip_missing:"clip_missing",maintenance:"maintenance"},qE=function(){function e(t){uo(this,e),this._store=t;var n=this._store.getState().window.location,r=n.origin,i=n.search,a=Object(Zo.parse)(i);this._clipsUrl=co(r,a)}return RE(e,[{key:"recordClip",value:function(){var e=this._store.getState(),t=e.stream,n=e.streamMetadata,r=t.contentType,i=n.channel.name;r===iu.a?this._recordVodClip(i):r===ru.a&&this._recordLiveClip(i)}},{key:"_recordVodClip",value:function(e){var t=this._store.getState(),n=t.stream,r=t.analytics,i=t.backend,a=n.videoId,o=r.playSessionId,s={playerBackendType:i.getBackend(),channelName:e,offset:Math.round(i.getCurrentTime()),broadcastId:"",vodId:a.slice(1),playSessionId:o};this._createClip(s)}},{key:"_recordLiveClip",value:function(e){var t=this._store.getState(),n=t.backendInfo,r=t.manifestInfo,i=t.streamMetadata,a=t.analytics,o=t.backend,s=n.playerBackendType,u=i.broadcastID,c=a.playSessionId,l=void 0;if(s===Vs.a)l=o.elapsedTime();else{l=r.stream_time+o.getCurrentTime()-8}var d={playerBackendType:s,channelName:e,offset:Math.round(Math.max(l,0)),broadcastId:u,vodId:"",playSessionId:c};this._createClip(d)}},{key:"_createClip",value:function(e){var t=this,n=e.playerBackendType,r=e.channelName,i=e.offset,a=e.broadcastId,o=e.vodId,s=e.playSessionId,u=this._store.getState().env.playerType===ls.o,c=u?null:window.open("","_blank"),l={player_backend_type:n,channel:r,offset:i,broadcast_id:a,vod_id:o,play_session_id:s};Object(Hs.h)(this._clipsUrl+"/api/v2/clips",l).then(function(e){var n=void 0,r=e.code;n=r?t._clipsUrl+"/clips/"+lo(r):e.url+"/edit",c&&!u?c.location=n:window.open(n,"_blank")})}}]),e}(),DE=n(313),BE=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),UE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),FE=function(){function e(t){fo(this,e),this._store=t,this.unsubs=[],this.unsubs.push(Object(ou.a)(this._store,["collection.pendingRequest"],this.onPendingRequestChange.bind(this))),this.unsubs.push(Object(ou.a)(this._store,["collection.id","stream"],this.onStreamChange.bind(this))),this.unsubs.push(Object(ou.a)(this._store,["playback.ended"],this._streamEnded.bind(this)))}return UE(e,[{key:"_fetchCollectionInfo",value:function(e){return Object(Hs.g)(e).then(function(e){var t=BE(e,2),n=t[0],r=t[1];return Jo()({},n,{items:r.items})})}},{key:"_collectionHasVideo",value:function(e,t){return e.some(function(e){return t==="v"+e.item_id})}},{key:"_loadVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._store.dispatch(Object(Eu.i)({contentType:Eu.f,contentId:e})),this._store.dispatch(Object(Nc.L)(t))}},{key:"onPendingRequestChange",value:function(e){var t=this,n=e.collection,r=n.pendingRequest,i=r.collectionId,a=r.videoId,o=r.timestamp,s=r.preferVideo;if(i)return this._fetchCollectionInfo(i).then(function(e){if(0===e.items.length)return t._store.dispatch(Object(cl.s)(e)),t._showEmptyCollectionOverlay(e);var n=t._collectionHasVideo(e.items,a),r="v"+e.items[0].item_id;return n?(t._store.dispatch(Object(cl.s)(e)),t._loadVideo(a,o)):""===a||!s&&""!==a?(t._store.dispatch(Object(cl.s)(e)),t._loadVideo(r,o)):s&&""!==a?t._loadVideo(a,o):void 0}).catch(function(){a&&t._loadVideo(a,o)})}},{key:"onStreamChange",value:function(){var e=this._store.getState(),t=e.stream,n=e.collection;if(n.id&&0!==n.items.length){var r=n.items[n.items.length-1];t.contentType===iu.a&&t.videoId==="v"+r.itemId?this._store.dispatch(Object(cl.p)()):this._store.dispatch(Object(cl.o)())}}},{key:"_showEmptyCollectionOverlay",value:function(){this._store.dispatch(Object(Dc.r)(Dc.f)),this._store.dispatch(Object(Tu.s)())}},{key:"_streamEnded",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;!e.ui.isMini&&t.ended&&t.transitionScheme===Mc.g&&n.contentType===iu.a&&this._playNextVideo()}},{key:"_playNextVideo",value:function(){var e=this,t=this._store.getState(),n=t.stream,r=t.collection,i=t.window;if(0!==r.items.length){var a=n.videoId,o=Il()(r.items,function(e){return"v"+e.itemId===a});if(o+1!==r.items.length){var s=r.items[o+1];i.setTimeout(function(){e._store.dispatch(Object(Nc.H)("v"+s.itemId,r.id))},0)}}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}(),VE=n(580),HE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zE=function(){function e(t){po(this,e),this._store=t,this.resizeObserver=this._createResizeObserver()}return HE(e,[{key:"_createResizeObserver",value:function(){var e=this;return new VE.a(function(t){var n=t[0],r=n.contentRect,i=r.left,a=r.top,o=r.width,s=r.height;e._store.dispatch(la({left:i,top:a,width:o,height:s}))})}},{key:"observe",value:function(e){if(!e)return console.error("Cannot observe size changes because root element is null"),void this.resizeObserver.disconnect();this.observeElement=e,this._store.dispatch(la({left:this.observeElement.getBoundingClientRect().left,top:this.observeElement.getBoundingClientRect().top,width:this.observeElement.getBoundingClientRect().width,height:this.observeElement.getBoundingClientRect().height})),this.resizeObserver.observe(this.observeElement)}},{key:"destroy",value:function(){this.resizeObserver.disconnect()}}]),e}(),WE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),GE=["amazon_livestream"],KE=function(){function e(t){ho(this,e),this.store=t,this.unsubs=[],this._initSubscribes()}return WE(e,[{key:"_initSubscribes",value:function(){this.unsubs.push(Object(ou.a)(this.store,["onlineStatus"],this.onOnlineStatusChange.bind(this))),this.unsubs.push(Object(ou.a)(this.store,["playback.ended","playback.hasPlayed"],this.onPlaybackStateChange.bind(this)))}},{key:"onOnlineStatusChange",value:function(e){e.onlineStatus===Xc.a&&(this.store.getState().playback.hasPlayed||this._fetchFollowInfo())}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;if(t.ended){this.store.getState().onlineStatus===Xc.a&&t.hasPlayed&&this._fetchFollowInfo()}}},{key:"_getIDs",value:function(){var e=this.store.getState(),t=e.streamMetadata,n=e.user;return{userId:n.id,channelId:t.channel.id,loggedIn:n.loggedInStatus===Cu.a}}},{key:"_checkChannelBlackList",value:function(){var e=this.store.getState(),t=e.streamMetadata;return!!t.channelName&&Vo()(GE,mo(t.channelName))}},{key:"_fetchFollowInfo",value:function(){var e=this,t=this.store.getState(),n=t.env,r=this._getIDs(),i=r.userId,a=r.channelId,o=r.loggedIn,s=i===a,u=this._checkChannelBlackList(),c=n.platform===Mu.a,l=this.store.getState(),d=l.experiments;if(!s&&a&&!u&&!c)return o?void this.store.dispatch(Object(zf.o)(i,a)):(this.store.dispatch(Object(zf.q)({following:!1,notificationsEnabled:!1})),void d.get(dc.m).then(function(t){"on"===t&&e.store.dispatch(Object(zf.s)(!0))}))}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}(),YE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),QE=function(){function e(t){yo(this,e),this.store=t,this.unsubs=[],this.unsubs.push(Object(ou.a)(this.store,["streamMetadata.channel"],this.onChannelChange.bind(this)))}return YE(e,[{key:"onChannelChange",value:function(){var e=this.store.getState(),t=e.user,n=e.streamMetadata,r=n.channel.name;if(this.store.dispatch(Object(Xk.i)(r)),t.loggedInStatus===Cu.a){var i=t.id,a=n.channel.id;this.store.dispatch(Object(zf.o)(i,a)),this.store.dispatch(Object(Xk.h)(i,a))}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}(),$E="low",XE="high",JE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ZE=function(){function e(t){Eo(this,e),this._store=t,this._subscribeStream(this._store.getState()),this.unsub=Object(ou.a)(this._store,["stream"],this._subscribeStream.bind(this))}return JE(e,[{key:"_subscribeStream",value:function(e){var t=this,n=e.stream;n.contentType===iu.a&&(vo(n.videoId).then(function(e){t._store.dispatch(Da(e))}),wo(n.videoId).then(function(e){t._store.dispatch(Ba(e))}).catch(function(e){console.warn("Error fetching VOD previews: ",e)}))}},{key:"destroy",value:function(){this.unsub()}}]),e}(),eS=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nS=[ls.p,ls.t,ls.n,ls.u,ls.h,ls.f,ls.s,ls.y],rS=[152325025],iS=function(){function e(t){So(this,e),this._store=t,this._unsubs=[],this._unsubs.push(Object(ou.a)(this._store,["onlineStatus","streamMetadata"],this.tryFetchOfflineRecs.bind(this))),this._unsubs.push(Object(ou.a)(this._store,["ads","recommendations","playback.ended"],this.tryShowOfflineRecs.bind(this))),this._unsubs.push(Object(ou.a)(this._store,["playerDimensions"],this.onDimensionsChange.bind(this)))}return tS(e,[{key:"tryFetchOfflineRecs",value:function(){var e=this;if(!this._shouldFetchOfflineRecs())return Promise.resolve();var t=this._store.getState(),n=t.stream,r=t.window,i=t.playback,a=i.hasPlayed?Math.floor(5e3*Math.random())+1:0;return function(e){return new Promise(function(t){return r.setTimeout(t,e)})}(a).then(function(){return Promise.all([e._getChannelVideos(),e._getFeaturedCollection()])}).then(function(e){return 0!==e[0].length?e:Promise.reject("Offline Recommendations: No channel videos")}).then(function(t){var r=eS(t,2),i=r[0],a=r[1];if(e._store.getState().stream!==n)return Promise.reject("Offline Recommendations: Stream changed while fetching");i.length>0&&e._store.dispatch(Jt(i,"offline recommendations")),a.length>0&&e._store.dispatch(Object(cl.n)(a[0]))}).catch(function(e){return console.warn(e)})}},{key:"tryShowOfflineRecs",value:function(){this._shouldShowOfflineRecs()&&this._store.dispatch(Object(Dc.r)(Dc.i))}},{key:"onDimensionsChange",value:function(){var e=this._store.getState(),t=e.screen,n=e.playerDimensions,r=n.height,i=n.width,a=t[0]===Dc.i;if((r<300||i<560)&&a)return void this._store.dispatch(Object(Dc.q)());this._shouldShowOfflineRecs()&&this._store.dispatch(Object(Dc.r)(Dc.i))}},{key:"_shouldShowOfflineRecs",value:function(){var e=this._store.getState(),t=e.screen,n=e.recommendations,r=e.playerDimensions,i=e.stream,a=e.playback,o=e.onlineStatus,s=e.ads,u=r.height,c=r.width,l=u>=300&&c>=560,d=!Vo()(t,Dc.i),f=s.currentMetadata.contentType===lu.i.NONE,p="offline recommendations"===n.type,h=i.contentType===ru.a&&o===Xc.a,m=!a.hasPlayed,y=a.ended;return l&&d&&f&&p&&h&&(m||y)}},{key:"_shouldFetchOfflineRecs",value:function(){var e=this._store.getState(),t=e.onlineStatus,n=e.playback,r=e.stream,i=e.streamMetadata,a=e.env,o=r.contentType===ru.a,s=0!==i.channel.id,u=!Vo()(rS,i.channel.id),c=t===Xc.a,l=n.transitionScheme===Mc.h,d=!Vo()(nS,a.playerType);return o&&s&&u&&c&&l&&d}},{key:"_getFeaturedCollection",value:function(){var e=this._store.getState(),t=e.streamMetadata;return e.experiments.get(dc.c).then(function(e){return"disabled"===e?Promise.resolve([]):Object(Hs.l)(t.channel.id).then(function(e){return e.collections}).catch(function(e){return console.warn(e),[]})})}},{key:"_getChannelVideos",value:function(){var e=this;return this._fetchChannelVideos().then(function(t){return e._filterOutWatchedVideos(t)}).then(function(t){return e._normalizeChannelVideos(t)}).catch(function(e){return console.warn(e),[]})}},{key:"_fetchChannelVideos",value:function(){var e=this._store.getState(),t=e.streamMetadata;return Object(Hs.t)("channels/"+t.channel.id+"/videos?limit=30").then(function(e){var t=e.videos;return t.length>0?t:Promise.reject("Offline Recommendations: No channel videos")})}},{key:"_filterOutWatchedVideos",value:function(e){return ga(this._store.getState().user.id).catch(function(){return{videos:[]}}).then(function(t){var n=e.filter(function(e){return!Xt(t,e)});return n.length>0?n:Promise.reject("Offline Recommendations: All channel videos watched")})}},{key:"_normalizeChannelVideos",value:function(e){return e.map(function(e){var t="";return e.thumbnails.medium.length>0&&(t=e.thumbnails.medium[0].url),{recommendationType:nm,creationDate:e.created_at,thumbnailURL:t,title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}})}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}(),aS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oS=function(){function e(t){Po(this,e),this._store=t,this.updateUserInfo()}return aS(e,[{key:"updateUserInfo",value:function(){var e=this;Object(Hs.v)().then(Hs.u).then(this._normalizeUserInfo).then(function(t){return e._store.dispatch(Object(Uk.c)(t))}).catch(function(){return e._store.dispatch(Object(Uk.d)())})}},{key:"_normalizeUserInfo",value:function(e){var t="staff"===e.type;return{id:e._id,name:e.name,isStaff:t,isAdmin:t||"admin"===e.type}}},{key:"destroy",value:function(){}}]),e}(),sS=n(221),uS=n(165),cS=n.n(uS),lS=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fS=5e3,pS=function(e){function t(e,n){To(this,t);var r=Oo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._store=n,r._player=e,r._streamTimeOffset=0;var i=cS()(r._onTimeUpdate.bind(r),fS);return r.subscribe(r._store,["playback.currentTime"],i),r._player.addEventListener(zs.i,r._onLoadedMetadata.bind(r)),r}return Co(t,e),dS(t,[{key:"_seekToResumeTime",value:function(e,t){var n=this._store.getState(),r=n.stream,i=n.playback,a=t.filter(function(e){return e.video._id===r.videoId});if(this._store.dispatch(va(!0)),0!==a.length){var o=a[0].position;o<i.duration-ys.f&&this._player.setCurrentTime(o)}}},{key:"_seekToResumeTimeLocal",value:function(e){var t=this._store.getState(),n=t.resumeWatch,r=t.stream,i=t.playback,a=n.times[r.videoId],o=n.streamTimes[e.broadcast_id],s=i.duration;if(this._store.dispatch(va(!0)),py()(a)&&a<s-ys.f)this._player.setCurrentTime(a);else if(py()(o)&&o<s-ys.f){var u=Math.max(0,o-ys.w);this._player.setCurrentTime(u)}this._store.dispatch(Ca(e.broadcast_id))}},{key:"_onLoadedMetadata",value:function(){var e=this,t=this._store.getState(),n=t.stream,r=t.resumeWatch,i=t.collection,a=t.playback;if(n.contentType===ru.a)return void(this._streamTimeOffset=this._player.getVideoInfo().stream_time_offset);if(!(i.id||n.contentType!==iu.a||r.isSeeked||a.startTimeSet)){var o=Object(Hs.C)(n.videoId);if(!r.userId)return o.then(function(t){e._seekToResumeTimeLocal(t)});var s=ga(r.userId);return Promise.all([o,s]).then(function(t){var n=lS(t,2),r=n[0],i=n[1],a=i;e._store.dispatch(_a(a)),e._seekToResumeTime(r,a)})}}},{key:"_onTimeUpdate",value:function(){var e=void 0,t=this._store.getState(),n=t.stream,r=t.streamMetadata,i=t.onlineStatus,a=t.playback;if(!a.isLoading){if(n.contentType===ru.a){var o=r.broadcastID;e=i===Xc.b?Oa(o,this._streamTimeOffset+a.currentTime):Ca(o)}else if(n.contentType===iu.a){if(0===a.duration)return;e=a.duration-a.currentTime>ys.f?Pa(n.videoId,a.currentTime):Ta(n.videoId)}e&&this._store.dispatch(e)}}}]),t}(sS.a),hS=n(121),mS=n(163),yS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vS=function(e){var t=e.window;return t.performance&&t.performance.timing&&t.performance.timing.fetchStart?t.performance.timing.fetchStart:t.Benchmark?t.Benchmark:void 0},bS=function(e){function t(e){var n;Ro(this,t);var r=jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e.getState().env.playerType!==ls.k;return r.store=e,r.trackPageview=r.trackPageview.bind(r),r.handleStateChange=r.handleStateChange.bind(r),r.trackVideoPlaybackStarted=r.trackVideoPlaybackStarted.bind(r),r.shouldSendEvents=!1,r.hasFetchedTrackingInfo=!1,r.eventsQueue=[],r.subscribe(e,["streamMetadata","broadcasterInfo"],function(e){r.handleStateChange(e)}),r.hasTrackedEventMap=(n={},xo(n,hS.r,i),xo(n,hS.b,i),xo(n,hS.a,i),xo(n,hS.c,i),n),r.trackFetchStart(),r.handleStateChange(e.getState()),r}return Ao(t,e),yS(t,[{key:"setEventToTracked",value:function(e){this.hasTrackedEventMap[e]=!0}},{key:"hasEventBeenTracked",value:function(e){return this.hasTrackedEventMap[e]}},{key:"handleStateChange",value:function(e){var t=e.streamMetadata;!this.hasFetchedTrackingInfo&&t.channel&&t.channel.name&&(this.hasFetchedTrackingInfo=!0,this.store.dispatch(Object(mS.e)(t.channel.name)),this.store.dispatch(Object(mS.f)(t.channel.name))),t.url&&this.trackPageview(),!this.shouldSendEvents&&t.channel&&Object(Tw.b)(e,t.channel.name)!==mS.d&&(this.shouldSendEvents=!0,this.sendQueuedEvents())}},{key:"currentTime",value:function(){return Date.now()}},{key:"fetchStartTime",value:function(){return vS(this.store.getState())}},{key:"timeFromFetchStartMillis",value:function(){var e=this.fetchStartTime();return dl()(e)?this.currentTime()-e:null}},{key:"trackPageview",value:function(){this.hasEventBeenTracked(hS.r)||(this.setEventToTracked(hS.r),this.sendEvent(hS.r,{client_time:this.currentTime()/1e3}))}},{key:"trackFetchStart",value:function(){if(!this.hasEventBeenTracked(hS.b)){this.setEventToTracked(hS.b);var e=this.fetchStartTime(),t=dl()(e)?e/1e3:null;this.sendEvent(hS.b,{client_time:t})}}},{key:"trackAppReady",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTime();this.hasEventBeenTracked(hS.a)||(this.setEventToTracked(hS.a),this.sendEvent(hS.a,{destination:"clips",time_from_fetch:this.timeFromFetchStartMillis(),client_time:e/1e3}))}},{key:"trackVideoPlaybackStarted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTime();this.hasEventBeenTracked(hS.c)||(this.setEventToTracked(hS.c),this.sendEvent(hS.c,{client_time:e/1e3}))}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.shouldSendEvents?this.store.getState().analyticsTracker.clipsTrackEvent(e,t):this.eventsQueue.push({eventName:e,eventData:t})}},{key:"sendQueuedEvents",value:function(){var e=this;this.eventsQueue.forEach(function(t){e.store.getState().analyticsTracker.clipsTrackEvent(t.eventName,t.eventData)}),this.eventsQueue=[]}}]),t}(sS.a),gS=Object.freeze([ls.v,ls.o,ls.B,ls.f,ls.h,ls.g].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(ls.c))),_S=n(311),wS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kS=function(){function e(t){qo(this,e),this._store=t,this._unsubscribe=Object(ou.a)(this._store,["stream"],this.onStream.bind(this)),this.onStream()}return wS(e,[{key:"onStream",value:function(){this._store.getState().stream.contentType===iu.a&&Object(_S.a)(this._store)}},{key:"destroy",value:function(){this._unsubscribe()}}]),e}();n(226).polyfill(),n(337),n.p=ys.y+"/",n(581),window.Twitch=window.Twitch||{},window.Twitch.video=window.Twitch.video||{},window.Twitch.Player=Do,window.Twitch.Player.PROMPT_LOGIN=Ks.z,n.d(t,"Player",function(){return SS});var ES=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SS=function(){function e(t,n){Bo(this,e),this.player=new Do(t,n)}return ES(e,[{key:"addEventListener",value:function(e,t){return this.player.addEventListener(e,t)}},{key:"getChannel",value:function(){return this.player.getChannel()}},{key:"getCurrentTime",value:function(){return this.player.getCurrentTime()}},{key:"getDuration",value:function(){return this.player.getDuration()}},{key:"getEnded",value:function(){return this.player.getEnded()}},{key:"getFullscreen",value:function(){return this.player.getFullscreen()}},{key:"getMuted",value:function(){return this.player.getMuted()}},{key:"getNetworkProfile",value:function(){return this.player.getNetworkProfile()}},{key:"getPaused",value:function(){return this.player.getPaused()}},{key:"getPlaybackStats",value:function(){return this.player.getPlaybackStats()}},{key:"getQualities",value:function(){return this.player.getQualities()}},{key:"getQuality",value:function(){return this.player.getQuality()}},{key:"getSessionInfo",value:function(){return this.player.getSessionInfo()}},{key:"getTheatre",value:function(){return this.player.getTheatre()}},{key:"getVideo",value:function(){return this.player.getVideo()}},{key:"getVolume",value:function(){return this.player.getVolume()}},{key:"isPaused",value:function(){return this.player.isPaused()}},{key:"isPlaying",value:function(){return this.player.isPlaying()}},{key:"isFollowing",value:function(){return this.player.isFollowing()}},{key:"pause",value:function(){return this.player.pause()}},{key:"play",value:function(){return this.player.play()}},{key:"recordClip",value:function(){return this.player.recordClip()}},{key:"removeEventListener",value:function(e,t){return this.player.removeEventListener(e,t)}},{key:"setAutoMaxVideoSize",value:function(e,t){return this.player.setAutoMaxVideoSize(e,t)}},{key:"setChannel",value:function(e){return this.player.setChannel(e)}},{key:"setCollection",value:function(e,t,n){return this.player.setCollection(e,t,n)}},{key:"setCurrentTime",value:function(e){return this.player.setCurrentTime(e)}},{key:"setFullscreen",value:function(e){return this.player.setFullscreen(e)}},{key:"setLanguage",value:function(e){return this.player.setLanguage(e)}},{key:"setMiniPlayerMode",value:function(e){return this.player.setMiniPlayerMode(e)}},{key:"setMultiview",value:function(e){return this.player.setMultiview(e)}},{key:"setMuted",value:function(e){return this.player.setMuted(e)}},{key:"setPlaybackRate",value:function(e){return this.player.setPlaybackRate(e)}},{key:"setPlayerType",value:function(e){return this.player.setPlayerType(e)}},{key:"setQuality",value:function(e){return this.player.setQuality(e)}},{key:"setTheatre",value:function(e){return this.player.setTheatre(e)}},{key:"setTrackingProperties",value:function(e){return this.player.setTrackingProperties(e)}},{key:"setEditClipStream",value:function(e){return this.player.setEditClipStream(e)}},{key:"setGDPRConsent",value:function(e){return this.player.setGDPRConsent(e)}},{key:"setAmazonGDPRConsent",value:function(e){return this.player.setAmazonGDPRConsent(e)}},{key:"setHasUserSavedAmazonGDPRConsent",value:function(e){return this.player.setHasUserSavedAmazonGDPRConsent(e)}},{key:"setNielsenGDPRConsent",value:function(e){return this.player.setNielsenGDPRConsent(e)}},{key:"setHasUserSavedNielsenGDPRConsent",value:function(e){return this.player.setHasUserSavedNielsenGDPRConsent(e)}},{key:"setClip",value:function(e){return this.player.setClip(e)}},{key:"setComscoreGDPRConsent",value:function(e){return this.player.setComscoreGDPRConsent(e)}},{key:"setHasUserSavedComscoreGDPRConsent",value:function(e){return this.player.setHasUserSavedComscoreGDPRConsent(e)}},{key:"setGoogleGDPRConsent",value:function(e){return this.player.setGoogleGDPRConsent(e)}},{key:"setHasUserSavedGoogleGDPRConsent",value:function(e){return this.player.setHasUserSavedGoogleGDPRConsent(e)}},{key:"setVideo",value:function(e,t){return this.player.setVideo(e,t)}},{key:"setVolume",value:function(e){return this.player.setVolume(e)}},{key:"setFollowing",value:function(e){return this.player.setFollowing(e)}},{key:"setNotificationsDisabled",value:function(e){return this.player.setNotificationsDisabled(e)}},{key:"setSubscribed",value:function(e){return this.player.setSubscribed(e)}},{key:"setSubscribable",value:function(e){return this.player.setSubscribable(e)}},{key:"showPlayerControls",value:function(e){return this.player.showPlayerControls(e)}},{key:"trackMiniPlayerAction",value:function(e,t){return this.player.trackMiniPlayerAction(e,t)}},{key:"updateClipsEditing",value:function(e){return this.player.updateClipsEditing(e)}},{key:"updateEditingOffsets",value:function(e){return this.player.updateEditingOffsets(e)}},{key:"destroy",value:function(){return this.player.destroy()}},{key:"fullscreen",get:function(){return this.player.fullscreen}},{key:"autoplay",get:function(){return this.player.getAutoplay()}}]),e}()},function(e,t){/*! http://mths.be/startswith v0.2.0 by @mathias */
String.prototype.startsWith||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t={}.toString,n=function(e){if(null==this)throw TypeError();var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var r=n.length,i=String(e),a=i.length,o=arguments.length>1?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var u=Math.min(Math.max(s,0),r);if(a+u>r)return!1;for(var c=-1;++c<a;)if(n.charCodeAt(u+c)!=i.charCodeAt(c))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}()},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(84),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e){return null==e?[]:i(e,a(e))}var i=n(343),a=n(53);e.exports=r},function(e,t,n){function r(e,t){return i(t,function(t){return e[t]})}var i=n(57);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(56),a=n(46),o="[object Arguments]";e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return o(e)&&a(e.length)&&!!s[i(e)]}var i=n(56),a=n(167),o=n(46),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){var r=n(234),i=r(Object.keys,Object);e.exports=i},function(e,t,n){function r(e){return!(!o(e)||a(e))&&(i(e)?h:c).test(s(e))}var i=n(122),a=n(350),o=n(29),s=n(236),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,f=l.toString,p=d.hasOwnProperty,h=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return!!a&&a in e}var i=n(351),a=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(38),i=r["__core-js_shared__"];e.exports=i},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var r=n(355),i=n(235),a=n(130),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var o=a(),s=i-(o-n);if(n=o,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,a=Date.now;e.exports=n},function(e,t,n){var r=n(58),i=n(170),a=n(71),o=i(function(e,t){r(t,a(t),e)});e.exports=o},function(e,t,n){function r(e){if(!i(e))return o(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(29),a=n(104),o=n(359),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){function r(e,t){return i(e,t,function(t,n){return a(e,n)})}var i=n(361),a=n(241);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,s=t.length,u={};++r<s;){var c=t[r],l=i(e,c);n(l,c)&&a(u,o(c,e),l)}return u}var i=n(132),a=n(240),o=n(89);e.exports=r},function(e,t,n){var r=n(363),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=o},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}var i=n(239),a=500;e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}var i=n(365),a=n(134),o=n(173);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(366),a=n(367),o=n(368),s=n(369),u=n(370);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(133);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===a?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(133),a="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)}var i=n(133),a=Object.prototype,o=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?a:t,this}var i=n(133),a="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}var i=n(135),a=Array.prototype,o=a.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(135);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(135);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(135);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(136);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(136);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(136);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(136);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return(null==e?0:e.length)?i(e,1):[]}var i=n(174);e.exports=r},function(e,t,n){function r(e){return o(e)||a(e)||!!(s&&e&&e[s])}var i=n(84),a=n(102),o=n(24),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!a(t)){var u=i(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,r);return c>-1?s[u?t[c]:c]:void 0}}var i=n(105),a=n(49),o=n(53);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(386),a=n(403),o=n(251);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var d=n[u];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<c;){d=n[u];var f=d[0],p=e[f],h=d[1];if(l&&d[2]){if(void 0===p&&!(f in e))return!1}else{var m=new i;if(r)var y=r(p,h,f,e,t,m);if(!(void 0===y?a(h,p,o|s,r,m):y))return!1}}return!0}var i=n(139),a=n(175),o=1,s=2;e.exports=r},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(134);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!a||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}var i=n(134),a=n(173),o=n(172),s=200;e.exports=r},function(e,t,n){function r(e,t,n,r,y,b){var g=c(e),_=c(t),w=g?h:u(e),k=_?h:u(t);w=w==p?m:w,k=k==p?m:k;var E=w==m,S=k==m,P=w==k;if(P&&l(e)){if(!l(t))return!1;g=!0,E=!1}if(P&&!E)return b||(b=new i),g||d(e)?a(e,t,n,r,y,b):o(e,t,w,n,r,y,b);if(!(n&f)){var T=E&&v.call(e,"__wrapped__"),O=S&&v.call(t,"__wrapped__");if(T||O){var C=T?e.value():e,x=O?t.value():t;return b||(b=new i),y(C,x,n,r,b)}}return!!P&&(b||(b=new i),s(e,t,n,r,y,b))}var i=n(139),a=n(244),o=n(396),s=n(398),u=n(106),c=n(24),l=n(103),d=n(127),f=1,p="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t,n,r,i,E,P){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!E(new a(e),new a(t)));case f:case p:case y:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case m:var T=u;case b:var O=r&l;if(T||(T=c),e.size!=t.size&&!O)return!1;var C=P.get(e);if(C)return C==t;r|=d,P.set(e,t);var x=s(T(e),T(t),r,i,E,P);return P.delete(e),x;case _:if(S)return S.call(e)==S.call(t)}return!1}var i=n(84),a=n(245),o=n(87),s=n(244),u=n(397),c=n(176),l=1,d=2,f="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",b="[object Set]",g="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",E=i?i.prototype:void 0,S=E?E.valueOf:void 0;e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e,t,n,r,o,u){var c=n&a,l=i(e),d=l.length;if(d!=i(t).length&&!c)return!1;for(var f=d;f--;){var p=l[f];if(!(c?p in t:s.call(t,p)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var m=!0;u.set(e,t),u.set(t,e);for(var y=c;++f<d;){p=l[f];var v=e[p],b=t[p];if(r)var g=c?r(b,v,p,t,e,u):r(v,b,p,e,t,u);if(!(void 0===g?v===b||o(v,b,n,r,u):g)){m=!1;break}y||(y="constructor"==p)}if(m&&!y){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(e),u.delete(t),m}var i=n(246),a=1,o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}e.exports=n},function(e,t,n){var r=n(70),i=n(38),a=r(i,"DataView");e.exports=a},function(e,t,n){var r=n(70),i=n(38),a=r(i,"Promise");e.exports=a},function(e,t,n){var r=n(70),i=n(38),a=r(i,"WeakMap");e.exports=a},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,i(o)]}return t}var i=n(250),a=n(53);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?o(n,e):i(t,r,d|f)}}var i=n(175),a=n(33),o=n(241),s=n(171),u=n(250),c=n(251),l=n(91),d=1,f=2;e.exports=r},function(e,t,n){function r(e){return o(e)?i(s(e)):a(e)}var i=n(252),a=n(406),o=n(171),s=n(91);e.exports=r},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(132);e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],r(n),r(i))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(o);return e}}function a(e){for(var t={"%FE%FF":"","%FF%FE":""},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=s.exec(e)}t["%C2"]="";for(var a=Object.keys(t),o=0;o<a.length;o++){var u=a[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}var o=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},function(e,t,n){function r(e,t,n,d,f){e!==t&&o(t,function(o,c){if(u(o))f||(f=new i),s(e,t,c,n,r,d,f);else{var p=d?d(l(e,c),o,c+"",e,t,f):void 0;void 0===p&&(p=o),a(e,c,p)}},c)}var i=n(139),a=n(255),o=n(180),s=n(411),u=n(29),c=n(71),l=n(260);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}e.exports=n},function(e,t,n){function r(e,t,n,r,g,_,w){var k=v(e,n),E=v(t,n),S=w.get(E);if(S)return void i(e,n,S);var P=_?_(k,E,n+"",e,t,w):void 0,T=void 0===P;if(T){var O=l(E),C=!O&&f(E),x=!O&&!C&&y(E);P=E,O||C||x?l(k)?P=k:d(k)?P=s(k):C?(T=!1,P=a(E,!0)):x?(T=!1,P=o(E,!0)):P=[]:m(E)||c(E)?(P=k,c(k)?P=b(k):(!h(k)||r&&p(k))&&(P=u(E))):T=!1}T&&(w.set(E,P),g(P,E,r,_,w),w.delete(E)),i(e,n,P)}var i=n(255),a=n(256),o=n(257),s=n(142),u=n(258),c=n(102),l=n(24),d=n(143),f=n(103),p=n(122),h=n(29),m=n(259),y=n(127),v=n(260),b=n(413);e.exports=r},function(e,t,n){var r=n(29),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){function r(e){return i(e,a(e))}var i=n(58),a=n(71);e.exports=r},function(e,t,n){function r(e,t,n){var r=-1,d=a,f=e.length,p=!0,h=[],m=h;if(n)p=!1,d=o;else if(f>=l){var y=t?null:u(e);if(y)return c(y);p=!1,d=s,m=new i}else m=t?[]:h;e:for(;++r<f;){var v=e[r],b=t?t(v):v;if(v=n||0!==v?v:0,p&&b===b){for(var g=m.length;g--;)if(m[g]===b)continue e;t&&m.push(b),h.push(v)}else d(m,b,n)||(m!==h&&m.push(b),h.push(v))}return h}var i=n(140),a=n(184),o=n(185),s=n(141),u=n(415),c=n(176),l=200;e.exports=r},function(e,t,n){var r=n(249),i=n(416),a=n(176),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(240);e.exports=r},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var f=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new l(e,t,n)),n},a.all=function(e){return new a(function(t,n){function r(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){r(e,t)},n)}i[e]=o,0==--a&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var a=i.length,o=0;o<i.length;o++)r(o,i[o])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){f(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=a:n.Promise||(n.Promise=a)}(this)}).call(t,n(419).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;t.setTimeout=function(){return new r(a.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(420),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(68))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(l)setTimeout(o,0,e);else{var t=c[e];if(t){l=!0;try{a(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(68),n(227))},function(e,t,n){"use strict";try{new MouseEvent("test")}catch(e){window.MouseEvent=function(e,t){var n=document.createEvent("MouseEvent"),r=Object.assign({bubbles:!1,cancelable:!1,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},t||{});return n.initMouseEvent(e,r.bubbles,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),n},window.MouseEvent.prototype=Event.prototype}},function(e,t,n){"use strict";function r(e,t,n){return s(this,void 0,void 0,function(){var r;return u(this,function(i){return r=new f(e),[2,r.rawRequest(t,n)]})})}function i(e,t,n){return s(this,void 0,void 0,function(){var r;return u(this,function(i){return r=new f(e),[2,r.request(t,n)]})})}function a(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){return t=e.headers.get("Content-Type"),t&&t.startsWith("application/json")?[2,e.json()]:[2,e.text()]})})}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}u((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(262),d=n(262);t.ClientError=d.ClientError,n(423);var f=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t){return s(this,void 0,void 0,function(){var n,r,i,s,d,f,p,h,m;return u(this,function(u){switch(u.label){case 0:return n=this.options,r=n.headers,i=c(n,["headers"]),s=JSON.stringify({query:e,variables:t||void 0}),[4,fetch(this.url,o({method:"POST",headers:Object.assign({"Content-Type":"application/json"},r),body:s},i))];case 1:return d=u.sent(),[4,a(d)];case 2:if(f=u.sent(),d.ok&&!f.errors&&f.data)return p=d.headers,h=d.status,[2,o({},f,{headers:p,status:h})];throw m="string"==typeof f?{error:f}:f,new l.ClientError(o({},m,{status:d.status,headers:d.headers}),{query:e,variables:t})}})})},e.prototype.request=function(e,t){return s(this,void 0,void 0,function(){var n,r,i,s,d,f,p;return u(this,function(u){switch(u.label){case 0:return n=this.options,r=n.headers,i=c(n,["headers"]),s=JSON.stringify({query:e,variables:t||void 0}),[4,fetch(this.url,o({method:"POST",headers:Object.assign({"Content-Type":"application/json"},r),body:s},i))];case 1:return d=u.sent(),[4,a(d)];case 2:if(f=u.sent(),d.ok&&!f.errors&&f.data)return[2,f.data];throw p="string"==typeof f?{error:f}:f,new l.ClientError(o({},p,{status:d.status}),{query:e,variables:t})}})})},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n=this.options.headers;return n?n[e]=t:this.options.headers=(r={},r[e]=t,r),this;var r},e}();t.GraphQLClient=f,t.rawRequest=r,t.request=i,t.default=i},function(e,t){!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=o(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=o(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:m(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new y(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&v.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){return e&&"EPROMISERETRY"===e.code&&s.call(e,"retried")}function i(e,t){var n,i;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),i=o.operation(t),new Promise(function(t,n){i.attempt(function(o){Promise.resolve().then(function(){return e(function(e){throw r(e)&&(e=e.retried),a("Retrying","EPROMISERETRY",{retried:e})},o)}).then(t,function(e){r(e)&&(e=e.retried,i.retry(e||new Error))||n(e)})})})}var a=n(425),o=n(426),s=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t,n){var r,i=e instanceof Error?e:new Error(e);if("object"==typeof t?n=t:null!=t&&(i.code=t),n)for(r in n)i[r]=n[r];return i}e.exports=r},function(e,t,n){e.exports=n(427)},function(e,t,n){var r=n(428);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort(function(e,t){return e-t}),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r){r=[];for(var i in e)"function"==typeof e[i]&&r.push(i)}for(var a=0;a<r.length;a++){var o=r[a],s=e[o];e[o]=function(){var r=t.operation(n),i=Array.prototype.slice.call(arguments),a=i.pop();i.push(function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),a.apply(this,arguments))}),r.attempt(function(){s.apply(e,i)})},e[o].options=n}}},function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var n=this,r=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t);return this._options.unref&&r.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=n&&(t=i,n=o)}return t}},function(e,t,n){"use strict";e.exports=n(430)()?WeakMap:n(431)},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&("function"==typeof e.set&&(e.set({},1)===e&&("function"==typeof e.delete&&("function"==typeof e.has&&"one"===e.get(t)))))}},function(e,t,n){"use strict";var r,i=n(191),a=n(433),o=n(55),s=n(434),u=n(109),c=n(271),l=n(466),d=n(75).toStringTag,f=n(467),p=Array.isArray,h=Object.defineProperty,m=Object.prototype.hasOwnProperty,y=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=f&&i&&WeakMap!==r?i(new WeakMap,y(this)):this,null!=t&&(p(t)||(t=c(t))),h(e,"__weakMapData__",u("c","$weakMap$"+s())),t?(l(t,function(t){o(t),e.set(t[0],t[1])}),e):e},f&&(i&&i(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:u(r)})),Object.defineProperties(r.prototype,{delete:u(function(e){return!!m.call(a(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:u(function(e){if(m.call(a(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:u(function(e){return m.call(a(e),this.__weakMapData__)}),set:u(function(e,t){return h(a(e),this.__weakMapData__,u("c",t)),this}),toString:u(function(){return"[object WeakMap]"})}),h(r.prototype,d,u("c","WeakMap"))},function(e,t,n){"use strict";var r,i=Object.create;n(265)()||(r=n(266)),e.exports=function(){var e,t,n;return r?1!==r.level?i:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if("__proto__"===e)return void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0});t[e]=n}),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return i(null===t?e:t,n)}):i}()},function(e,t,n){"use strict";var r=n(267);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var r=Object.create(null),i=Math.random;e.exports=function(){var e;do{e=i().toString(36).slice(2)}while(r[e]);return e}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(437),i=n(55),a=Math.max;e.exports=function(e,t){var n,o,s,u=a(arguments.length,2);for(e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},o=1;o<u;++o)t=arguments[o],r(t).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(438)()?Object.keys:n(439)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(95),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r,i=n(191),a=n(270),o=n(109),s=n(75),u=n(272),c=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?a.call(t,"key+value")?"key+value":a.call(t,"key")?"key":"value":"value",c(this,"__kind__",o("",t))},i&&i(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:o(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),c(r.prototype,s.toStringTag,o("c","Array Iterator"))},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(e,t,n){"use strict";var r,i,a,o,s=n(109),u=n(446),c=Object.create,l=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),o=!0}catch(e){}}var h=function(){var e=c(null);return function(t){for(var n,r,i=0;e[t+(i||"")];)++i;return t+=i||"",e[t]=!0,n="@@"+t,d(f,n,s.gs(null,function(e){r||(r=!0,d(this,n,s(e)),r=!1)})),n}}();a=function(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?r(t):(n=c(a.prototype),t=void 0===t?"":String(t),l(n,{__description__:s("",t),__name__:s("",h(t))}))},l(i,{for:s(function(e){return p[e]?p[e]:p[e]=i(String(e))}),keyFor:s(function(e){var t;u(e);for(t in p)if(p[t]===e)return t}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),l(a.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),l(i.prototype,{toString:s(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:s(function(){return u(this)})}),d(i.prototype,i.toPrimitive,s("",function(){var e=u(this);return"symbol"==typeof e?e:e.toString()})),d(i.prototype,i.toStringTag,s("c","Symbol")),d(a.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),d(a.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(e,t,n){"use strict";var r=n(447);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var r=n(55);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";var r,i=n(450),a=n(269),o=n(76),s=n(460),u=n(76),c=n(55),l=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,a=c(t)&&u(t.value);return r=i(t),delete r.writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,e)?a:(t.value=l.call(a,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var t=a(arguments[1]);return null!=t.resolveContext&&o(t.resolveContext),s(e,function(e,n){return r(n,e,t)})}},function(e,t,n){"use strict";var r=n(451),i=n(192),a=n(55);e.exports=function(e){var t=Object(a(e)),n=arguments[1],o=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(o.ensure||t in e)&&(s[t]=e[t])}):i(s,e),s}},function(e,t,n){"use strict";e.exports=n(452)()?Array.from:n(453)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(e=["raz","dwa"],t=n(e),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(75).iterator,i=n(146),a=n(454),o=n(455),s=n(76),u=n(55),c=n(95),l=n(147),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,n,m,y,v,b,g,_,w,k,E=arguments[1],S=arguments[2];if(e=Object(u(e)),c(E)&&s(E),this&&this!==Array&&a(this))t=this;else{if(!E){if(i(e))return 1!==(v=e.length)?Array.apply(null,e):(y=new Array(1),y[0]=e[0],y);if(d(e)){for(y=new Array(v=e.length),n=0;n<v;++n)y[n]=e[n];return y}}y=[]}if(!d(e))if(void 0!==(w=e[r])){for(g=s(w).call(e),t&&(y=new t),_=g.next(),n=0;!_.done;)k=E?f.call(E,S,_.value,n):_.value,t?(p.value=k,h(y,n,p)):y[n]=k,_=g.next(),++n;v=n}else if(l(e)){for(v=e.length,t&&(y=new t),n=0,m=0;n<v;++n)k=e[n],n+1<v&&(b=k.charCodeAt(0))>=55296&&b<=56319&&(k+=e[++n]),k=E?f.call(E,S,k,m):k,t?(p.value=k,h(y,m,p)):y[m]=k,++m;v=m}if(void 0===v)for(v=o(e.length),t&&(y=new t(v)),n=0;n<v;++n)k=E?f.call(E,S,e[n],n):e[n],t?(p.value=k,h(y,n,p)):y[n]=k;return t&&(p.value=null,y.length=v),y}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(n(268));e.exports=function(e){return"function"==typeof e&&r.call(e)===i}},function(e,t,n){"use strict";var r=n(456),i=Math.max;e.exports=function(e){return i(0,r(e))}},function(e,t,n){"use strict";var r=n(457),i=Math.abs,a=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?r(e)*a(i(e)):e)}},function(e,t,n){"use strict";e.exports=n(458)()?Math.sign:n(459)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(76),i=n(461),a=Function.prototype.call;e.exports=function(e,t){var n={},o=arguments[2];return r(t),i(e,function(e,r,i,s){n[r]=a.call(t,o,e,r,i,s)}),n}},function(e,t,n){"use strict";e.exports=n(462)("forEach")},function(e,t,n){"use strict";var r=n(76),i=n(55),a=Function.prototype.bind,o=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,c){var l,d=arguments[2],f=arguments[3];return n=Object(i(n)),r(c),l=s(n),f&&l.sort("function"==typeof f?a.call(f,n):void 0),"function"!=typeof e&&(e=l[e]),o.call(e,l,function(e,r){return u.call(n,e)?o.call(c,d,n[e],e,n,r):t})}}},function(e,t,n){"use strict";var r,i=n(191),a=n(109),o=n(75),s=n(272),u=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",a("",e.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0),t>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n)})}),u(r.prototype,o.toStringTag,a("c","String Iterator"))},function(e,t,n){"use strict";var r=n(465);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r=n(146),i=n(95),a=n(147),o=n(75).iterator,s=Array.isArray;e.exports=function(e){return!!i(e)&&(!!s(e)||(!!a(e)||(!!r(e)||"function"==typeof e[o])))}},function(e,t,n){"use strict";var r=n(146),i=n(76),a=n(147),o=n(271),s=Array.isArray,u=Function.prototype.call,c=Array.prototype.some;e.exports=function(e,t){var n,l,d,f,p,h,m,y,v=arguments[2];if(s(e)||r(e)?n="array":a(e)?n="string":e=o(e),i(t),d=function(){f=!0},"array"===n)return void c.call(e,function(e){return u.call(t,v,e,d),f});if("string"!==n)for(l=e.next();!l.done;){if(u.call(t,v,l.value,d),f)return;l=e.next()}else for(h=e.length,p=0;p<h&&(m=e[p],p+1<h&&(y=m.charCodeAt(0))>=55296&&y<=56319&&(m+=e[++p]),u.call(t,v,m,d),!f);++p);}},function(e,t,n){"use strict";e.exports=function(){return"function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)}()},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){function r(e){return i(e).toLowerCase()}var i=n(90);e.exports=r},function(e,t,n){function r(e,t,n){e=s(e),t=a(t);var r=e.length;n=void 0===n?r:i(o(n),0,r);var u=n;return(n-=t.length)>=0&&e.slice(n,u)==t}var i=n(193),a=n(137),o=n(69),s=n(90);e.exports=r},function(e,t,n){function r(e,t,n){return e=s(e),n=null==n?0:i(o(n),0,e.length),t=a(t),e.slice(n,n+t.length)==t}var i=n(193),a=n(137),o=n(69),s=n(90);e.exports=r},function(e,t,n){function r(e){var t=i(e);if(null!==t)throw t;this._config=a(e),this._Promise=e.Promise,this._deviceID=e.deviceID,this._platform=e.platform,this._username=e.login||null,this._overrides=e.overrides||{},this._defaults=o(e.Promise,e.defaults,this._overrides),this._assignments=s(e.Promise,this._config,this._defaults,this._overrides,this._deviceID,this._username),this._spade_url=u(this._config,d.SPADE_URL_PROJECT_UUID),this._batchTimer=0,this._eventQueue=[],this._resolveQueue=[],this._batchTimeOut=isNaN(e.batchTimeOut)?p:Math.min(e.batchTimeOut,f),this._throttleTime=isNaN(e.throttleTime)?0:Math.min(e.throttleTime,h),this._throttleCache={}}function i(e){return e.defaults&&Object.getPrototypeOf(e.defaults)===Object.prototype?"string"!=typeof e.deviceID||0===e.deviceID.length?new Error("Invalid device ID; expected non-empty string, got `"+e.deviceID+"`"):"string"!=typeof e.platform||0===e.platform.length?new Error("Invalid platform; expected non-empty string, got `"+e.platform+"`"):"object"!=typeof e.provider||"function"!=typeof e.provider.getExperimentConfiguration?new Error("Invalid provider"):"function"!=typeof e.Promise?new Error("Invalid Promise implementation"):null:new Error("Invalid defaults; expected object, got "+JSON.stringify(e.defaults))}function a(e){return new e.Promise(function(t,n){e.provider.getExperimentConfiguration(t,n)}).then(function(e){var t=l.validate(e);if(t)throw t;return e})}function o(e,t,n){var r={};for(var i in t)r[i]=function(r){return e.resolve(n[i]).then(function(e){return"string"==typeof e?e:t[r]},function(){return t[r]})}(i);return r}function s(e,t,n,r,i,a){var o={};for(var s in n)n.hasOwnProperty(s)&&(o[s]=function(o){return t.then(function(e){if(!e.hasOwnProperty(o))throw new Error("Experiment `"+o+"` is deprecated");if(!e[o].t)throw new Error("Experiment `"+o+"` does not have a type");return 1==e[o].t?l.selectTreatment(o,e[o],i):a&&2==e[o].t?l.selectTreatment(o,e[o],a):n[o]},function(e){return n[o]}).then(function(t){return e.resolve(r[o]).then(function(e){return"string"==typeof e?e:t},function(){return t})})}(s));return o}function u(e,t){return e.then(function(e){return e[t]&&e[t].groups&&e[t].groups[0]?e[t].groups[0].value:""},function(e){return""})}function c(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(r[n]=t[n]);return r}var l=n(473),d=n(475);e.exports=r;var f=6e4,p=1e3,h=6e4;r.prototype.get=function(e,t){var n=c(t||{},{mustTrack:!1,channel:null,printt:!1}),r=this._Promise.all([this._config,this._assignments[e]]).then(function(t){var r=t[0],i=t[1];return 3==r[e].t&&n.channel?l.selectTreatment(e,r[e],n.channel):i},function(t){return console.warn(t),this._defaults[e]||null}.bind(this)).then(function(t){return this._Promise.resolve(this._overrides[e]).then(function(e){return"string"==typeof e?e:t},function(){return t})}.bind(this)),i=r||this._Promise.reject(new Error("No experiment with ID `"+e+"`")),a=this._Promise.all([this._config,i,this._spade_url]).then(function(t){var r=t[0],i=t[1],a=t[2];if(this._throttleTime>0){var o=this._throttleCache[e+"_"+i];if(Date.now()<1e3*o+this._throttleTime)return Promise.resolve()}var s={client_time:(new Date).getTime()/1e3,device_id:this._deviceID,experiment_id:e,experiment_group:i,platform:this._platform,experiment_version:0};if(this._throttleTime>0&&(this._throttleCache[e+"_"+i]=s.client_time),r[e])switch(s.experiment_name=r[e].name,s.experiment_version=r[e].v,r[e].t){case 1:s.experiment_type="device_id";break;case 2:s.experiment_type="user_id";break;case 3:s.experiment_type="channel_id"}null!==this._username&&(s.login=this._username),null!==n.channel&&(s.channel=n.channel);return n.mustTrack||0===this._batchTimeOut?new this._Promise(function(e,t){n.printt&&console.log(s),d.sendEvent(a,[{event:"experiment_branch",properties:s}],e)}).then(null,function(){return null}):new this._Promise(function(e,t){if(n.printt&&console.log(s),this._eventQueue.push({event:"experiment_branch",properties:s}),this._resolveQueue.push(e),this._eventQueue.length>=50)return clearTimeout(this._batchTimer),this._batchTimer=0,this._sendQueuedEvents(a,this._eventQueue,this._resolveQueue),this._eventQueue=[],void(this._resolveQueue=[]);this._batchTimer||(this._batchTimer=setTimeout(function(){this._batchTimer=0,this._sendQueuedEvents(a,this._eventQueue,this._resolveQueue),this._eventQueue=[],this._resolveQueue=[]}.bind(this),this._batchTimeOut))}.bind(this)).then(null,function(){return null})}.bind(this));return this._Promise.all([i,n.mustTrack?a:null]).then(function(e){return e[0]},function(t){return console.warn(t),this._defaults[e]||null}.bind(this))},r.prototype._sendQueuedEvents=function(e,t,n){d.sendEvent(e,t,function(){n.forEach(function(e){e()})}.bind(this))}},function(e,t,n){function r(e,t,n){this.name="InvalidExperimentConfigurationError",this.message='Invalid configuration for experiment "'+e+'": '+n,this.stack=(new Error).stack}function i(e,t){if(!t.hasOwnProperty("t"))return new r(e,t,"missing a `t` property for experiment type");if(1!=t.t&&2!=t.t&&3!=t.t)return new r(e,t,"undefined experiment type");if(!t.hasOwnProperty("groups"))return new r(e,t,"missing a `groups` property");if(0===t.groups.length)return new r(e,t,"`groups` has no members");var n,i;for(n=0;n<t.groups.length;n++)if(t.groups[n].hasOwnProperty("value")?t.groups[n].hasOwnProperty("weight")?t.groups[n].weight!==Math.floor(t.groups[n].weight)?i="has a non-integer weight":t.groups[n].weight<0&&(i="has a negative weight"):i="is missing a `weight` property":i="is missing a `value` property",i)return new r(e,t,"Group "+t.groups[n].value+" "+i);return null}var a=n(474);t.validate=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=i(t,e[t]);if(null!==n)return n}return null},t.selectTreatment=function(e,t,n){var r;r=t.s?e+n+t.s:e+n;var i=a(r),o=i.words[0]>>>0,s=o/Math.pow(2,32),u=t.groups.reduce(function(e,t){return e+t.weight},0);return t.groups.reduce(function(e,t){return null===e.value&&(e.current-=t.weight/u,e.current<=0&&(e.value=t.value)),e},{value:null,current:s}).value}},function(e,t,n){!function(r,i){e.exports=t=i(n(195))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}var d=(r<<5|r>>>27)+u+o[c];d+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,u=s,s=a,a=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s)}(),e.SHA1})},function(e,t,n){var r=n(476),i=n(477),a=n(274);t.DEFAULT_SPADE_URL="//trowel.twitch.tv/",t.SPADE_URL_PROJECT_UUID="4badc757-13a7-468c-99b6-e42aef7fc286",t.sendEvent=function(e,n,o){var s=r.stringify(i.parse(JSON.stringify(n))),u=e||t.DEFAULT_SPADE_URL;a.fetch(u,{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"data="+encodeURIComponent(s)},o)}},function(e,t,n){!function(r,i){e.exports=t=i(n(195))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=t[a>>>2]>>>24-a%4*8&255,s=t[a+1>>>2]>>>24-(a+1)%4*8&255,u=t[a+2>>>2]>>>24-(a+2)%4*8&255,c=o<<16|s<<8|u,l=0;l<4&&a+.75*l<n;l++)i.push(r.charAt(c>>>6*(3-l)&63));var d=r.charAt(64);if(d)for(;i.length%4;)i.push(d);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var a=e.indexOf(i);-1!=a&&(t=a)}for(var o=[],s=0,u=0;u<t;u++)if(u%4){var c=n.indexOf(e.charAt(u-1))<<u%4*2,l=n.indexOf(e.charAt(u))>>>6-u%4*2,d=c|l;o[s>>>2]|=d<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},function(e,t,n){!function(r,i){e.exports=t=i(n(195))}(0,function(e){return e.enc.Utf8})},function(e,t,n){function r(e){this._url=e}var i=n(274);e.exports=r,r.SERVICE_URL="//www.twitch.tv/experiments.json",r.prototype.getExperimentConfiguration=function(e,t){i.fetch(this._url,{},function(n,r){if(null!==n)return void t(n);try{e(JSON.parse(r))}catch(e){t(new Error("Invalid JSON response from server: "+r))}})}},function(e,t){!function(e,t){e[t]=e[t]||{nlsQ:function(n,r,i,a,o,s){return(a=(o=e.document).createElement("script")).async=1,a.src=("http:"===e.location.protocol?"http:":"https:")+"//cdn-gl.imrworldwide.com/conf/"+n+".js#name="+r+"&ns="+t,(s=o.getElementsByTagName("script")[0]).parentNode.insertBefore(a,s),e[t][r]=e[t][r]||{g:i||{},ggPM:function(n,i,a,o,s){(e[t][r].q=e[t][r].q||[]).push([n,i,a,o,s])}},e[t][r]}}}(window,"NOLBUNDLE")},function(e,t,n){function r(e,t){var n=-1,r=a(e)?Array(e.length):[];return i(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var i=n(196),a=n(49);e.exports=r},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==r(s[o],o,s););return n}}var i=n(49);e.exports=r},function(e,t){function n(e){return e&&e.length?e[0]:void 0}e.exports=n},function(e,t){function n(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);b(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function i(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||A}function a(){}function o(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||A}function s(e,t,n){var r=void 0,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,r)&&!L.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:k,type:e,key:a,ref:o,props:i,_owner:N.current}}function u(e){return"object"==typeof e&&null!==e&&e.$$typeof===k}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function l(e,t,n,r){if(D.length){var i=D.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function f(e,t,n,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case k:case E:o=!0}}if(o)return n(i,e,""===t?"."+p(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var u=t+p(a,s);o+=f(a,u,n,i)}else if(null===e||void 0===e?u=null:(u=j&&e[j]||e["@@iterator"],u="function"==typeof u?u:null),"function"==typeof u)for(e=u.call(e),s=0;!(a=e.next()).done;)a=a.value,u=t+p(a,s++),o+=f(a,u,n,i);else"object"===a&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function p(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function h(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?y(e,r,n,_.thatReturnsArgument):null!=e&&(u(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(q,"$&/")+"/")+n,e={$$typeof:k,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function y(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(q,"$&/")+"/"),t=l(t,a,r,i),null==e||f(e,"",m,t),d(t)}/** @license React v16.4.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var v=n(179),b=n(281),g=n(282),_=n(283),w="function"==typeof Symbol&&Symbol.for,k=w?Symbol.for("react.element"):60103,E=w?Symbol.for("react.portal"):60106,S=w?Symbol.for("react.fragment"):60107,P=w?Symbol.for("react.strict_mode"):60108,T=w?Symbol.for("react.profiler"):60114,O=w?Symbol.for("react.provider"):60109,C=w?Symbol.for("react.context"):60110,x=w?Symbol.for("react.async_mode"):60111,R=w?Symbol.for("react.forward_ref"):60112;w&&Symbol.for("react.timeout");var j="function"==typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var I=o.prototype=new a;I.constructor=o,v(I,i.prototype),I.isPureReactComponent=!0;var N={current:null},M=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0},q=/\/+/g,D=[],B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return y(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=l(null,null,t,n),null==e||f(e,"",h,t),d(t)},count:function(e){return null==e?0:f(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return y(e,t,null,_.thatReturnsArgument),t},only:function(e){return u(e)||r("143"),e}},createRef:function(){return{current:null}},Component:i,PureComponent:o,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:C,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null},e.Provider={$$typeof:O,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:R,render:e}},Fragment:S,StrictMode:P,unstable_AsyncMode:x,unstable_Profiler:T,createElement:s,cloneElement:function(e,t,n){(null===e||void 0===e)&&r("267",e);var i=void 0,a=v({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=N.current),void 0!==t.key&&(o=""+t.key);var c=void 0;e.type&&e.type.defaultProps&&(c=e.type.defaultProps);for(i in t)M.call(t,i)&&!L.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var l=0;l<i;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:k,type:e.type,key:o,ref:s,props:a,_owner:u}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:u,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:N,assign:v}},U={default:B},F=U&&B||U;e.exports=F.default?F.default:F},function(e,t,n){"use strict";function r(){}var i=n(487);e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(68))},function(e,t,n){"use strict";(function(e,r){var i,a=n(492);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.a=o}).call(t,n(68),n(491)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=r},function(e,t,n){e.exports={parse:n(494),stringify:n(497)}},function(e,t,n){function r(e,t,n,r,i){var a=t.indexOf("<",r),o=t.slice(r,-1===a?void 0:a);/^\s*$/.test(o)&&(o=" "),(!i&&a>-1&&n+e.length>=0||" "!==o)&&e.push({type:"text",content:o})}var i=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,a=n(495),o=Object.create?Object.create(null):{};e.exports=function(e,t){t||(t={}),t.components||(t.components=o);var n,s=[],u=-1,c=[],l={},d=!1;return e.replace(i,function(i,o){if(d){if(i!=="</"+n.name+">")return;d=!1}var f,p="/"!==i.charAt(1),h=0===i.indexOf("\x3c!--"),m=o+i.length,y=e.charAt(m);p&&!h&&(u++,n=a(i),"tag"===n.type&&t.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!y||"<"===y||r(n.children,e,u,m,t.ignoreWhitespace),l[n.tagName]=n,0===u&&s.push(n),f=c[u-1],f&&f.children.push(n),c[u]=n),(h||!p||n.voidElement)&&(h||u--,!d&&"<"!==y&&y&&(f=-1===u?s:c[u].children,r(f,e,u,m,t.ignoreWhitespace)))}),!s.length&&e.length&&r(s,e,0,0,t.ignoreWhitespace),s}},function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(496);e.exports=function(e){var t,n=0,a=!0,o={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,function(r){if("="===r)return a=!0,void n++;a?0===n?((i[r]||"/"===e.charAt(e.length-2))&&(o.voidElement=!0),o.name=r):(o.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(o.attrs[t]=t),t=r),n++,a=!1}),o}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}function r(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?n(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(r,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce(function(e,t){return e+r("",t)},"")}},function(e,t,n){var r=n(499),i=r();e.exports=i},function(e,t,n){function r(e){return function(t,n,r){return r&&"number"!=typeof r&&a(t,n,r)&&(n=r=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),r=void 0===r?t<n?1:-1:o(r),i(t,n,r,e)}}var i=n(500),a=n(131),o=n(231);e.exports=r},function(e,t){function n(e,t,n,a){for(var o=-1,s=i(r((t-e)/(n||1)),0),u=Array(s);s--;)u[a?s:++o]=e,e+=n;return u}var r=Math.ceil,i=Math.max;e.exports=n},function(e,t,n){"use strict";function r(e,t,n){return s(this,void 0,void 0,function(){var r;return u(this,function(i){return r=new f(e),[2,r.rawRequest(t,n)]})})}function i(e,t,n){return s(this,void 0,void 0,function(){var r;return u(this,function(i){return r=new f(e),[2,r.request(t,n)]})})}function a(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){return t=e.headers.get("Content-Type"),t&&t.startsWith("application/json")?[2,e.json()]:[2,e.text()]})})}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}u((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(289),d=n(289);t.ClientError=d.ClientError,n(502);var f=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t){return s(this,void 0,void 0,function(){var n,r,i,s,d,f,p,h,m;return u(this,function(u){switch(u.label){case 0:return n=this.options,r=n.headers,i=c(n,["headers"]),s=JSON.stringify({query:e,variables:t||void 0}),[4,fetch(this.url,o({method:"POST",headers:Object.assign({"Content-Type":"application/json"},r),body:s},i))];case 1:return d=u.sent(),[4,a(d)];case 2:if(f=u.sent(),d.ok&&!f.errors&&f.data)return p=d.headers,h=d.status,[2,o({},f,{headers:p,status:h})];throw m="string"==typeof f?{error:f}:f,new l.ClientError(o({},m,{status:d.status,headers:d.headers}),{query:e,variables:t})}})})},e.prototype.request=function(e,t){return s(this,void 0,void 0,function(){var n,r,i,s,d,f,p;return u(this,function(u){switch(u.label){case 0:return n=this.options,r=n.headers,i=c(n,["headers"]),s=JSON.stringify({query:e,variables:t||void 0}),[4,fetch(this.url,o({method:"POST",headers:Object.assign({"Content-Type":"application/json"},r),body:s},i))];case 1:return d=u.sent(),[4,a(d)];case 2:if(f=u.sent(),d.ok&&!f.errors&&f.data)return[2,f.data];throw p="string"==typeof f?{error:f}:f,new l.ClientError(o({},p,{status:d.status}),{query:e,variables:t})}})})},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n=this.options.headers;return n?n[e]=t:this.options.headers=(r={},r[e]=t,r),this;var r},e}();t.GraphQLClient=f,t.rawRequest=r,t.request=i,t.default=i},function(e,t){!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=o(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=o(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:m(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new y(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){!function(){function t(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^n,r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i^=255&e.charCodeAt(a),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)}return i^=i>>>13,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}function n(e,t){var n,r,i,a,o,s,u,c;for(n=3&e.length,r=e.length-n,i=t,o=3432918353,s=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u,i=i<<13|i>>>19,a=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&a)+((58964+(a>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:u^=255&e.charCodeAt(c),u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var r=n;r.v2=t,r.v3=n;e.exports=r}()},function(e,t,n){function r(e,t,n){e=s(e),t=o(t);var r=t?a(e):0;return t&&r<t?i(t-r,n)+e:e}var i=n(505),a=n(290),o=n(69),s=n(90);e.exports=r},function(e,t,n){function r(e,t){t=void 0===t?" ":a(t);var n=t.length;if(n<2)return n?i(t,e):t;var r=i(t,l(e/u(t)));return s(t)?o(c(r),0,e).join(""):r.slice(0,e)}var i=n(506),a=n(137),o=n(507),s=n(204),u=n(290),c=n(510),l=Math.ceil;e.exports=r},function(e,t){function n(e,t){var n="";if(!e||t<1||t>r)return n;do{t%2&&(n+=e),(t=i(t/2))&&(e+=e)}while(t);return n}var r=9007199254740991,i=Math.floor;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var i=n(203);e.exports=r},function(e,t,n){var r=n(252),i=r("length");e.exports=i},function(e,t){function n(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var i=n(511),a=n(204),o=n(512);e.exports=r},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(d)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t){function n(e,t){return null!=e&&i.call(e,t)}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t){var n={};return t=o(t,3),a(e,function(e,r,a){i(n,r,t(e,r,a))}),n}var i=n(129),a=n(276),o=n(105);e.exports=r},function(e,t,n){var r=n(38),i=function(){return r.Date.now()};e.exports=i},function(e,t){/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
var n=function(){function e(){if(!H&&document.getElementsByTagName("body")[0]){try{var e,t=b("span");t.style.display="none",e=L.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}H=!0;for(var n=B.length,r=0;r<n;r++)B[r]()}}function t(e){H?e():B[B.length]=e}function r(e){if(typeof M.addEventListener!==j)M.addEventListener("load",e,!1);else if(typeof L.addEventListener!==j)L.addEventListener("load",e,!1);else if(typeof M.attachEvent!==j)_(M,"onload",e);else if("function"==typeof M.onload){var t=M.onload;M.onload=function(){t(),e()}}else M.onload=e}function i(){var e=L.getElementsByTagName("body")[0],t=b(A);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",I);var n=e.appendChild(t);if(n){var r=0;!function i(){if(typeof n.GetVariable!==j)try{var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),K.pv=[g(o[0]),g(o[1]),g(o[2])])}catch(e){K.pv=[8,0,0]}else if(r<10)return r++,void setTimeout(i,10);e.removeChild(t),n=null,a()}()}else a()}function a(){var e=U.length;if(e>0)for(var t=0;t<e;t++){var n=U[t].id,r=U[t].callbackFn,i={success:!1,id:n};if(K.pv[0]>0){var a=v(n);if(a)if(!w(U[t].swfVersion)||K.wk&&K.wk<312)if(U[t].expressInstall&&s()){var l={};l.data=U[t].expressInstall,l.width=a.getAttribute("width")||"0",l.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(l.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(l.align=a.getAttribute("align"));for(var d={},f=a.getElementsByTagName("param"),p=f.length,h=0;h<p;h++)"movie"!==f[h].getAttribute("name").toLowerCase()&&(d[f[h].getAttribute("name")]=f[h].getAttribute("value"));u(l,d,n,r)}else c(a),r&&r(i);else E(n,!0),r&&(i.success=!0,i.ref=o(n),i.id=n,r(i))}else if(E(n,!0),r){var m=o(n);m&&typeof m.SetVariable!==j&&(i.success=!0,i.ref=m,i.id=m.id),r(i)}}}function o(e){var t=null,n=v(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==j?n:n.getElementsByTagName(A)[0]||n),t}function s(){return!z&&w("6.0.65")&&(K.win||K.mac)&&!(K.wk&&K.wk<312)}function u(e,t,n,r){var i=v(n);if(n=y(n),z=!0,O=r||null,C={success:!1,id:n},i){"OBJECT"===i.nodeName.toUpperCase()?(P=l(i),T=null):(P=i,T=n),e.id=N,(typeof e.width===j||!/%$/.test(e.width)&&g(e.width)<310)&&(e.width="310"),(typeof e.height===j||!/%$/.test(e.height)&&g(e.height)<137)&&(e.height="137");var a=K.ie?"ActiveX":"PlugIn",o="MMredirectURL="+encodeURIComponent(M.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+a+"&MMdoctitle="+encodeURIComponent(L.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!==j?t.flashvars+="&"+o:t.flashvars=o,K.ie&&4!=i.readyState){var s=b("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",h(i)}f(e,t,n)}}function c(e){if(K.ie&&4!=e.readyState){e.style.display="none";var t=b("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(l(e),t),h(e)}else e.parentNode.replaceChild(l(e),e)}function l(e){var t=b("div");if(K.win&&K.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(A)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,a=0;a<i;a++)1==r[a].nodeType&&"PARAM"===r[a].nodeName||8==r[a].nodeType||t.appendChild(r[a].cloneNode(!0))}}return t}function d(e,t){var n=b("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function f(e,t,n){var r,i=v(n);if(n=y(n),K.wk&&K.wk<312)return r;if(i){var a,o,s,u=b(K.ie?"div":A);typeof e.id===j&&(e.id=n);for(s in t)t.hasOwnProperty(s)&&"movie"!==s.toLowerCase()&&p(u,s,t[s]);K.ie&&(u=d(e.data,u.innerHTML));for(a in e)e.hasOwnProperty(a)&&(o=a.toLowerCase(),"styleclass"===o?u.setAttribute("class",e[a]):"classid"!==o&&"data"!==o&&u.setAttribute(a,e[a]));K.ie?F[F.length]=e.id:(u.setAttribute("type",I),u.setAttribute("data",e.data)),i.parentNode.replaceChild(u,i),r=u}return r}function p(e,t,n){var r=b("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function h(e){var t=v(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(K.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function m(e){return e&&e.nodeType&&1===e.nodeType}function y(e){return m(e)?e.id:e}function v(e){if(m(e))return e;var t=null;try{t=L.getElementById(e)}catch(e){}return t}function b(e){return L.createElement(e)}function g(e){return parseInt(e,10)}function _(e,t,n){e.attachEvent(t,n),V[V.length]=[e,t,n]}function w(e){e+="";var t=K.pv,n=e.split(".");return n[0]=g(n[0]),n[1]=g(n[1])||0,n[2]=g(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function k(e,t,n,r){var i=L.getElementsByTagName("head")[0];if(i){var a="string"==typeof n?n:"screen";if(r&&(x=null,R=null),!x||R!=a){var o=b("style");o.setAttribute("type","text/css"),o.setAttribute("media",a),x=i.appendChild(o),K.ie&&typeof L.styleSheets!==j&&L.styleSheets.length>0&&(x=L.styleSheets[L.styleSheets.length-1]),R=a}x&&(typeof x.addRule!==j?x.addRule(e,t):typeof L.createTextNode!==j&&x.appendChild(L.createTextNode(e+" {"+t+"}")))}}function E(e,t){if(W){var n=t?"visible":"hidden",r=v(e);H&&r?r.style.visibility=n:"string"==typeof e&&k("#"+e,"visibility:"+n)}}function S(e){return null!==/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!==j?encodeURIComponent(e):e}var P,T,O,C,x,R,j="undefined",A="object",I="application/x-shockwave-flash",N="SWFObjectExprInst",M=window,L=document,q=navigator,D=!1,B=[],U=[],F=[],V=[],H=!1,z=!1,W=!0,G=!1,K=function(){var e=typeof L.getElementById!==j&&typeof L.getElementsByTagName!==j&&typeof L.createElement!==j,t=q.userAgent.toLowerCase(),n=q.platform.toLowerCase(),r=/win/.test(n?n:t),i=/mac/.test(n?n:t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o="Microsoft Internet Explorer"===q.appName,s=[0,0,0],u=null;if(typeof q.plugins!==j&&typeof q.plugins["Shockwave Flash"]===A)(u=q.plugins["Shockwave Flash"].description)&&typeof q.mimeTypes!==j&&q.mimeTypes[I]&&q.mimeTypes[I].enabledPlugin&&(D=!0,o=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=g(u.replace(/^(.*)\..*$/,"$1")),s[1]=g(u.replace(/^.*\.(.*)\s.*$/,"$1")),s[2]=/[a-zA-Z]/.test(u)?g(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof M.ActiveXObject!==j)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(u=c.GetVariable("$version"))&&(o=!0,u=u.split(" ")[1].split(","),s=[g(u[0]),g(u[1]),g(u[2])])}catch(e){}return{w3:e,pv:s,wk:a,ie:o,win:r,mac:i}}();!function(){K.w3&&((typeof L.readyState!==j&&("complete"===L.readyState||"interactive"===L.readyState)||typeof L.readyState===j&&(L.getElementsByTagName("body")[0]||L.body))&&e(),H||(typeof L.addEventListener!==j&&L.addEventListener("DOMContentLoaded",e,!1),K.ie&&(L.attachEvent("onreadystatechange",function t(){"complete"===L.readyState&&(L.detachEvent("onreadystatechange",t),e())}),M==top&&function t(){if(!H){try{L.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),K.wk&&function t(){if(!H)return/loaded|complete/.test(L.readyState)?void e():void setTimeout(t,0)}()))}();B[0]=function(){D?i():a()};!function(){K.ie&&window.attachEvent("onunload",function(){for(var e=V.length,t=0;t<e;t++)V[t][0].detachEvent(V[t][1],V[t][2]);for(var r=F.length,i=0;i<r;i++)h(F[i]);for(var a in K)K[a]=null;K=null;for(var o in n)n[o]=null;n=null})}();return{registerObject:function(e,t,n,r){if(K.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,U[U.length]=i,E(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(K.w3)return o(e)},embedSWF:function(e,n,r,i,a,o,c,l,d,p){var h=y(n),m={success:!1,id:h};K.w3&&!(K.wk&&K.wk<312)&&e&&n&&r&&i&&a?(E(h,!1),t(function(){r+="",i+="";var t={};if(d&&typeof d===A)for(var y in d)t[y]=d[y];t.data=e,t.width=r,t.height=i;var v={};if(l&&typeof l===A)for(var b in l)v[b]=l[b];if(c&&typeof c===A)for(var g in c)if(c.hasOwnProperty(g)){var _=G?encodeURIComponent(g):g,k=G?encodeURIComponent(c[g]):c[g];typeof v.flashvars!==j?v.flashvars+="&"+_+"="+k:v.flashvars=_+"="+k}if(w(a)){var S=f(t,v,n);t.id==h&&E(h,!0),m.success=!0,m.ref=S,m.id=S.id}else{if(o&&s())return t.data=o,void u(t,v,n,p);E(h,!0)}p&&p(m)})):p&&p(m)},switchOffAutoHideShow:function(){W=!1},enableUriEncoding:function(e){G=typeof e===j||e},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:w,createSWF:function(e,t,n){return K.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,r){K.w3&&s()&&u(e,t,n,r)},removeSWF:function(e){K.w3&&h(e)},createCSS:function(e,t,n,r){K.w3&&k(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:r,getQueryParamValue:function(e){var t=L.location.search||L.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return S(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return S(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var e=v(N);e&&P&&(e.parentNode.replaceChild(P,e),T&&(E(T,!0),K.ie&&(P.style.display="block")),O&&O(C)),z=!1}},version:"2.3"}}();e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){function r(e){var t=Math[e];return function(e,n){if(e=a(e),n=null==n?0:s(i(n),292)){var r=(o(e)+"e").split("e"),u=t(r[0]+"e"+(+r[1]+n));return r=(o(u)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var i=n(69),a=n(124),o=n(90),s=Math.min;e.exports=r},function(e,t,n){function r(e,t,n,r){var a,e=t["cvp-branch"]||t["cvp-ver"]||e;t["cvp-branch"]?(a=c.HOST.dev,r=!1):a=t["cvp-env"]&&c.HOST[t["cvp-env"]]?c.HOST[t["cvp-env"]]:c.HOST.prod;var o,s,u;a===c.HOST.dev?(o=c.CLIENT_PATH_DEBUG,s=n?c.WASM_WORKER_PATH_DEBUG:c.ASMJS_WORKER_PATH_DEBUG,u=c.WASM_BINARY_PATH_DEBUG):(o=c.CLIENT_PATH,s=n?c.WASM_WORKER_PATH:c.ASMJS_WORKER_PATH,u=c.WASM_BINARY_PATH);var l=a+e+"/";return i(l+o,l+s,l+u,r)}function i(e,t,n,r){return new Promise(function(i,a){var o=document.createElement("script");o.onload=function(){if("object"===u(window.MediaPlayer)&&"function"==typeof window.MediaPlayer.MediaPlayer){var e=window.MediaPlayer;window.MediaPlayer=null;try{i({client:e,worker:e.MediaPlayer.createWorker(t,n,r)})}catch(e){a(l.FAILED_WORKER)}}else a(l.BAD_RESPONSE)},o.onerror=function(e){a(l.SCRIPT_ERROR)},o.src=e,o.id=c.SCRIPT_ID,document.head.appendChild(o)})}function a(e){var t={},n=e.indexOf("?");if(n>-1){((e.slice(n+1)||"").split("&")||[]).forEach(function(e){var n=e.split("=")||[];t[n[0]]=n[1]})}return t}function o(e){var t=e.match(/([^+]+)(?:\+([^+]+))?/);return{version:t[1]||c.DEFAULT_VERSION,settings:t[2]||""}}function s(){return"object"===("undefined"==typeof WebAssembly?"undefined":u(WebAssembly))&&"function"==typeof WebAssembly.instantiate}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(520),l=c.SPADE_ERRORS;e.exports.canLoadMediaplayer=function(){return c.CAN_LOAD};var d=null;e.exports.loadMediaPlayer=function(e,t){if(!c.CAN_LOAD)return Promise.reject(l.NOT_SUPPORTED);if(!e||!e.value)return Promise.reject(l.BAD_CONFIG);var n=o(e.value),i=s()&&!e.forceAsmJs,u=a(document.URL),f=!e.disableCache;if(d||(d=r(n.version,u,i,f)),t)return d;var p=u["cvp-settings"]||n.settings,h=e.logLevel||"",m=e.latencyValue||"";return d.then(function(e){return{mediaPlayerHandle:e.client,mediaPlayerInstance:new e.client.MediaPlayer({settings:p,logLevel:h,latencyValue:m},e.worker),isWasm:i}})},e.exports._reset=function(){d=null;var e=document.getElementById(c.SCRIPT_ID);e&&e.parentNode.removeChild(e)}},function(e,t){function n(){var e=(navigator.appVersion||"").toLowerCase();return r.some(function(t){return e.indexOf(t)>-1})}var r=["5.0 (macintosh; intel mac os x 10_11_6) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (macintosh; intel mac os x 10_11_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (playstation 4 3.55) applewebkit/537.78 (khtml, like gecko)","5.0 (macintosh; intel mac os x 10_11_4) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (macintosh; intel mac os x 10_11_3) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g35 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/537.86.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/600.8.9 (khtml, like gecko) version/8.0.8 safari/600.8.9","5.0 (macintosh; intel mac os x 10_11_1) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/34.0.1847.137 safari/537.31 smarttv/6.0","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; r","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/49.0.2623.112 safari/537.36 opr/36.0.2130.80","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.56 (khtml, like gecko) version/9.0 safari/601.1.56","5.0 (macintosh; intel mac os x 10_11_2) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (ipad; cpu os 9_3_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13f69 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/537.86.6","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2272.118 safari/537.36","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.us","5.0 (macintosh; intel mac os x 10_12) applewebkit/602.1.50 (khtml, like gecko) version/10.0 safari/602.1.50","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.134 safari/537.36 u01-04","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/51.0.2683.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/537.86.5","5.0 (macintosh; intel mac os x 10_10_4) applewebkit/600.7.12 (khtml, like gecko) version/8.0.7 safari/600.7.12","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.157 yabrowser/15.9.2403.3043 safari/537.36","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/600.8.9 (khtml, like gecko) version/6.2.8 safari/537.85.17","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.5.17 (khtml, like gecko) version/8.0.5 safari/600.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:reserved; rv:11.0) like gec","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/50.0.2632.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; gwx:downloaded; gwx","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/26.0.1410.33 safari/537.31 smarttv/5.0","5.0 (ipad; cpu os 9_3_3 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g34 safari/601.1","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; tablet pc 2.0; infopath.2; .net4.0c; .net4.0e; gwx:managed","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; creative autoupdate","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (linux; u) applewebkit/537.4 (khtml, like gecko) chrome/22.0.1229.79 safari/537.4","5.0 (ipad; cpu os 9_3_5 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g36 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; .net clr 1.1.4322;","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/52.0.2743.117 safari/537.36 vivaldi/1.3.551.38","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; gwx:downloaded; gwx","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:qualified; rv:11.0) like ge","5.0 (ipad; cpu os 9_2_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13d15 safari/601.1","5.0 (ipad; cpu os 9_3_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13e238 safari/601.1","5.0 (macintosh; intel mac os x 10_10_1) applewebkit/600.2.5 (khtml, like gecko) version/8.0.2 safari/600.2.5","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/537.86.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; officeliveconnector.1.5; office","5.0 (smart-tv; x11; linux i686) applewebkit/535.20+ (khtml, like gecko) version/5.0 safari/535.20+","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1 (khtml, like gecko) crios/52.0.2743.84 mobile/13g35 safari/601.1.46","5.0 (smart-tv; x11; linux armv7l) applewebkit/537.42 (khtml, like gecko) chromium/25.0.1349.2 chrome/25.0.1349.2 safari/537.42","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; markanyeps#25103; rv:11.0) like","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2490.86 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2231.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/537.86.4","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/537.78.2 (khtml, like gecko) version/7.0.6 safari/537.78.2","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; gwx:downloaded; gwx:reser","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_7_5) applewebkit/537.78.2 (khtml, like gecko) version/6.1.6 safari/537.78.2","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.10 (khtml, like gecko) version/8.0.4 safari/600.4.10","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; rv:11.0)","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.eu","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; c","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) iron/36.0.1950.0 chrome/36.0.1950.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:red; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; zune 4.7; .net4.0c; .net4.0e; infopath.3; gwx:downl","9.80 (windows nt 6.1; wow64)","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; gwx:reserved; r","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; 4399box.1357; .net4.0c; .net4.0e; rctw; rv:11.0) li","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.7.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; bri/2; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.35 (khtml, like gecko) version/9.0 safari/601.1.35","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.1; gwx:qualified; rv:1","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/40.0.2214.45 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.130 safari/537.36 overwolfclient/0.97.31.0","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.3.18 (khtml, like gecko) version/8.0.3 safari/600.3.18","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; np06; .net clr 1.1.4322; bri/2;","5.0 (ipad; cpu os 9_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13c75 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; raidcall; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.8 (khtml, like gecko) version/8.0.3 safari/600.4.8","5.0 (windows nt 6.2; wow64) applewebkit/537.36 (khtml, like gecko) chrome/29.0.1547.76 safari/537.36","5.0 (ipad; cpu os 8_4_1 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h321 safari/600.1.4","5.0 (windows nt 6.3; wow64; trident/7.0; .net4.0e; .net4.0c; .net clr 3.5.30729; .net clr 2.0.50727; .net clr 3.0.30729; gwx:downloaded; gwx:reserved; tnjb; rv:11.0) like gecko","5.0 (ipad; cpu os 8_4 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h143 safari/600.1.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; bri/2; .net4.0c; .net4.0e; rv:11.0) lik","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/36.0.1985.143 safari/537.36","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; tablet pc 2.0; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; gwx:reserved; rv:11","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/537.74.9 (khtml, like gecko) version/6.1.2 safari/537.74.9","5.0 (windows nt 6.1; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/48.0.2536.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.6.3 (khtml, like gecko) version/8.0.6 safari/600.6.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; gwx:reserved; rv:11","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (linux; android 4.0.4; kfjwi build/imm76d) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; .net clr 1.1.4322; rv:11.0) lik","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rctw; rv:11.0) like","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (linux; android 4.0.3; kftt build/iml74k) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/27.0.1453.110 safari/537.36 coolnovo/2.0.9.20","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/537.86.2","5.0 (macintosh; intel mac os x 10_10) applewebkit/600.1.25 (khtml, like gecko) version/8.0 safari/600.1.25","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.5.3000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; mcafee; gwx:downloaded; gwx:res","5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2486.0 safari/537.36 edge/13.10586"],i={NOT_SUPPORTED:{spadeEventName:"video_error",spadeEventData:{video_error_value:3e3,video_error_message:"Player Core Not Supported",video_error_source:"player-core-loader"}},SCRIPT_ERROR:{spadeEventName:"video_error",spadeEventData:{video_error_value:3001,video_error_message:"Script Error",video_error_source:"player-core-loader"}},BAD_RESPONSE:{spadeEventName:"video_error",spadeEventData:{video_error_value:3002,video_error_message:"Bad Response",video_error_source:"player-core-loader"}},BAD_CONFIG:{spadeEventName:"video_error",spadeEventData:{video_error_value:3003,video_error_message:"Bad Config",video_error_source:"player-core-loader"}},FAILED_WORKER:{spadeEventName:"video_error",spadeEventData:{video_error_value:3004,video_error_message:"Worker failed to load",video_error_source:"player-core-loader"}}},a="https:"===document.location.protocol?"https:":"http:";e.exports={HOST:{test:a+"//cvp-test.twitch.tv/",beta:a+"//cvp-test.twitch.tv/",prod:a+"//cvp.twitch.tv/",dev:a+"//player-core-web.twitch.tv/"},CLIENT_PATH:"mediaplayer.min.js",ASMJS_WORKER_PATH:"worker.min.js",WASM_WORKER_PATH:"wasmworker.min.js",WASM_BINARY_PATH:"wasmworker.min.wasm",CLIENT_PATH_DEBUG:"mediaplayer.js",ASMJS_WORKER_PATH_DEBUG:"worker.js",WASM_WORKER_PATH_DEBUG:"wasmworker.js",WASM_BINARY_PATH_DEBUG:"wasmworker.wasm",SCRIPT_ID:"TwitchMediaPlayerModule",CAN_LOAD:function(){try{var e=(navigator.appVersion||"").toLowerCase();return"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&!n()&&-1===e.indexOf("rv:11")}catch(e){return console.log(e),!1}}(),SPADE_ERRORS:i,DEFAULT_VERSION:"2.0.0"}},function(e,t,n){function r(e){return i(e,a)}var i=n(297),a=4;e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,a(t),e)}var i=n(58),a=n(53);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,a(t),e)}var i=n(58),a=n(71);e.exports=r},function(e,t,n){function r(e,t){return i(e,a(e),t)}var i=n(58),a=n(177);e.exports=r},function(e,t,n){function r(e,t){return i(e,a(e),t)}var i=n(58),a=n(299);e.exports=r},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case v:return i(e);case c:case l:return new r(+e);case b:return a(e,n);case g:case _:case w:case k:case E:case S:case P:case T:case O:return u(e,n);case d:return new r;case f:case m:return new r(e);case p:return o(e);case h:return new r;case y:return s(e)}}var i=n(181),a=n(528),o=n(529),s=n(530),u=n(257),c="[object Boolean]",l="[object Date]",d="[object Map]",f="[object Number]",p="[object RegExp]",h="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",g="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(181);e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e){return o?Object(o.call(e)):{}}var i=n(84),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;e.exports=r},function(e,t,n){var r=n(532),i=n(85),a=n(169),o=a&&a.isMap,s=o?i(o):r;e.exports=s},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(106),a=n(46),o="[object Map]";e.exports=r},function(e,t,n){var r=n(534),i=n(85),a=n(169),o=a&&a.isSet,s=o?i(o):r;e.exports=s},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(106),a=n(46),o="[object Set]";e.exports=r},function(e,t,n){function r(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=a(n),n=n===n?n:0),void 0!==t&&(t=a(t),t=t===t?t:0),i(a(e),t,n)}var i=n(193),a=n(124);e.exports=r},function(e,t){!function(e,t,n,r,i,a,o){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},_Q:[]},a=n.createElement(r),a.async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",o=n.getElementsByTagName(r)[0],o.parentNode.insertBefore(a,o))}("apstag",window,document,"script")},function(e,t,n){function r(e,t){return null==e?e:i(e,a(t),o)}var i=n(180),a=n(302),o=n(71);e.exports=r},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t))}var i=n(298),a=n(196),o=n(302),s=n(24);e.exports=r},function(e,t,n){var r=n(57),i=n(540),a=n(88),o=n(541),s=a(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?i(t):[]});e.exports=s},function(e,t,n){function r(e,t,n){for(var r=n?o:a,d=e[0].length,f=e.length,p=f,h=Array(f),m=1/0,y=[];p--;){var v=e[p];p&&t&&(v=s(v,u(t))),m=l(v.length,m),h[p]=!n&&(t||d>=120&&v.length>=120)?new i(p&&v):void 0}v=e[0];var b=-1,g=h[0];e:for(;++b<d&&y.length<m;){var _=v[b],w=t?t(_):_;if(_=n||0!==_?_:0,!(g?c(g,w):r(y,w,n))){for(p=f;--p;){var k=h[p];if(!(k?c(k,w):r(e[p],w,n)))continue e}g&&g.push(w),y.push(_)}}return y}var i=n(140),a=n(184),o=n(185),s=n(57),u=n(85),c=n(141),l=Math.min;e.exports=r},function(e,t,n){function r(e){return i(e)?e:[]}var i=n(143);e.exports=r},function(e,t,n){function r(e,t){return t=i(t,e),null==(e=o(e,t))||delete e[s(a(t))]}var i=n(89),a=n(307),o=n(543),s=n(91);e.exports=r},function(e,t,n){function r(e,t){return t.length<2?e:i(e,a(t,0,-1))}var i=n(132),a=n(203);e.exports=r},function(e,t,n){function r(e){return i(e)?void 0:e}var i=n(259);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(546),p=r(f);(t.CopyToClipboard=function(e){function t(){var e,n,r,i;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onClick=function(e){var t=r.props,n=t.text,i=t.onCopy,a=t.children,o=t.options,s=d.default.Children.only(a),u=(0,p.default)(n,o);i&&i(n,u),s&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e)},i=n,o(r,i)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=i(e,["text","onCopy","options","children"]),r=d.default.Children.only(t);return d.default.cloneElement(r,u({},n,{onClick:this.onClick}))}}]),t}(d.default.PureComponent)).defaultProps={onCopy:void 0,options:void 0}},function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,s,u,c,l,d=!1;t||(t={}),n=t.debug||!1;try{s=a(),u=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",document.body.appendChild(l),u.selectNode(l),c.addRange(u);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(a){n&&console.error("unable to copy using execCommand: ",a),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),d=!0}catch(a){n&&console.error("unable to copy using clipboardData: ",a),n&&console.error("falling back to prompt"),i=r("message"in t?t.message:o),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(u):c.removeAllRanges()),l&&document.body.removeChild(l),s()}return d}var a=n(547),o="Copy to clipboard: #{key}, Enter";e.exports=i},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);Nr(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function i(e,t,n,r,i,a,o,s,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function a(){if(Hr._hasRethrowError){var e=Hr._rethrowError;throw Hr._rethrowError=null,Hr._hasRethrowError=!1,e}}function o(){if(zr)for(var e in Wr){var t=Wr[e],n=zr.indexOf(e);if(-1<n||r("96",e),!Gr[n]){t.extractEvents||r("97",e),Gr[n]=t,n=t.eventTypes;for(var i in n){var a=void 0,o=n[i],u=t,c=i;Kr.hasOwnProperty(c)&&r("99",c),Kr[c]=o;var l=o.phasedRegistrationNames;if(l){for(a in l)l.hasOwnProperty(a)&&s(l[a],u,c);a=!0}else o.registrationName?(s(o.registrationName,u,c),a=!0):a=!1;a||r("98",i,e)}}}}function s(e,t,n){Yr[e]&&r("100",e),Yr[e]=t,Qr[e]=t.eventTypes[n].dependencies}function u(e){zr&&r("101"),zr=Array.prototype.slice.call(e),o()}function c(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Wr.hasOwnProperty(t)&&Wr[t]===i||(Wr[t]&&r("102",t),Wr[t]=i,n=!0)}n&&o()}function l(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Zr(r),Hr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function d(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function f(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function p(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)l(e,t,n[i],r[i]);else n&&l(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function h(e){return p(e,!0)}function m(e){return p(e,!1)}function y(e,t){var n=e.stateNode;if(!n)return null;var i=Xr(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function v(e,t){null!==e&&(ei=d(ei,e)),e=ei,ei=null,e&&(t?f(e,h):f(e,m),ei&&r("95"),Hr.rethrowCaughtError())}function b(e,t,n,r){for(var i=null,a=0;a<Gr.length;a++){var o=Gr[a];o&&(o=o.extractEvents(e,t,n,r))&&(i=d(i,o))}v(i,!1)}function g(e){if(e[ii])return e[ii];for(;!e[ii];){if(!e.parentNode)return null;e=e.parentNode}return e=e[ii],5===e.tag||6===e.tag?e:null}function _(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function w(e){return e[ai]||null}function k(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function E(e,t,n){for(var r=[];e;)r.push(e),e=k(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function S(e,t,n){(t=y(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=d(n._dispatchListeners,t),n._dispatchInstances=d(n._dispatchInstances,e))}function P(e){e&&e.dispatchConfig.phasedRegistrationNames&&E(e._targetInst,S,e)}function T(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?k(t):null,E(t,S,e)}}function O(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=y(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=d(n._dispatchListeners,t),n._dispatchInstances=d(n._dispatchInstances,e))}function C(e){e&&e.dispatchConfig.registrationName&&O(e._targetInst,null,e)}function x(e){f(e,P)}function R(e,t,n,r){if(n&&r)e:{for(var i=n,a=r,o=0,s=i;s;s=k(s))o++;s=0;for(var u=a;u;u=k(u))s++;for(;0<o-s;)i=k(i),o--;for(;0<s-o;)a=k(a),s--;for(;o--;){if(i===a||i===a.alternate)break e;i=k(i),a=k(a)}i=null}else i=null;for(a=i,i=[];n&&n!==a&&(null===(o=n.alternate)||o!==a);)i.push(n),n=k(n);for(n=[];r&&r!==a&&(null===(o=r.alternate)||o!==a);)n.push(r),r=k(r);for(r=0;r<i.length;r++)O(i[r],"bubbled",e);for(e=n.length;0<e--;)O(n[e],"captured",t)}function j(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function A(e){if(ci[e])return ci[e];if(!ui[e])return e;var t,n=ui[e];for(t in n)if(n.hasOwnProperty(t)&&t in li)return ci[e]=n[t];return e}function I(){return!yi&&Lr.canUseDOM&&(yi="textContent"in document.documentElement?"textContent":"innerText"),yi}function N(){if(vi._fallbackText)return vi._fallbackText;var e,t,n=vi._startText,r=n.length,i=M(),a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return vi._fallbackText=i.slice(e,1<t?1-t:void 0),vi._fallbackText}function M(){return"value"in vi._root?vi._root.value:vi._root[I()]}function L(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Dr.thatReturnsTrue:Dr.thatReturnsFalse,this.isPropagationStopped=Dr.thatReturnsFalse,this}function q(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function D(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function B(e){e.eventPool=[],e.getPooled=q,e.release=D}function U(e,t){switch(e){case"keyup":return-1!==ki.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function F(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function V(e,t){switch(e){case"compositionend":return F(t);case"keypress":return 32!==t.which?null:(xi=!0,Oi);case"textInput":return e=t.data,e===Oi&&xi?null:e;default:return null}}function H(e,t){if(Ri)return"compositionend"===e||!Ei&&U(e,t)?(e=N(),vi._root=null,vi._startText=null,vi._fallbackText=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ti?null:t.data;default:return null}}function z(e){if(e=Jr(e)){Ai&&"function"==typeof Ai.restoreControlledState||r("194");var t=Xr(e.stateNode);Ai.restoreControlledState(e.stateNode,e.type,t)}}function W(e){Ni?Mi?Mi.push(e):Mi=[e]:Ni=e}function G(){return null!==Ni||null!==Mi}function K(){if(Ni){var e=Ni,t=Mi;if(Mi=Ni=null,z(e),t)for(e=0;e<t.length;e++)z(t[e])}}function Y(e,t){return e(t)}function Q(e,t,n){return e(t,n)}function $(){}function X(e,t){if(qi)return e(t);qi=!0;try{return Y(e,t)}finally{qi=!1,G()&&($(),K())}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Di[e.type]:"textarea"===t}function Z(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Lr.canUseDOM||t&&!("addEventListener"in document))&&(e="on"+e,t=e in document,t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=ne(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=te(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ae(e){return null===e||void 0===e?null:(e=Xi&&e[Xi]||e["@@iterator"],"function"==typeof e?e:null)}function oe(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Yi:return"AsyncMode";case Ki:return"Context.Consumer";case Hi:return"ReactFragment";case Vi:return"ReactPortal";case Wi:return"Profiler("+e.pendingProps.id+")";case Gi:return"Context.Provider";case zi:return"StrictMode";case $i:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case Qi:return e=t.render.displayName||t.render.name||"",""!==e?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=oe(e),a=null;n&&(a=oe(n)),n=r,i="\n    in "+(i||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":a?" (created by "+a+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}function ue(e){return!!Zi.call(ta,e)||!Zi.call(ea,e)&&(Ji.test(e)?ta[e]=!0:(ea[e]=!0,!1))}function ce(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function le(e,t,n,r){if(null===t||void 0===t||ce(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function de(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function fe(e){return e[1].toUpperCase()}function pe(e,t,n,r){var i=na.hasOwnProperty(t)?na[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(le(t,n,i,r)&&(n=null),r||null===i?ue(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function he(e,t){var n=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function me(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ye(e,t){null!=(t=t.checked)&&pe(e,"checked",t,!1)}function ve(e,t){ye(e,t);var n=_e(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?ge(e,t.type,n):t.hasOwnProperty("defaultValue")&&ge(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function ge(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e,t,n){return e=L.getPooled(ia.change,e,t,n),e.type="change",W(n),x(e),e}function ke(e){v(e,!1)}function Ee(e){if(ie(_(e)))return e}function Se(e,t){if("change"===e)return t}function Pe(){aa&&(aa.detachEvent("onpropertychange",Te),oa=aa=null)}function Te(e){"value"===e.propertyName&&Ee(oa)&&(e=we(oa,e,Z(e)),X(ke,e))}function Oe(e,t,n){"focus"===e?(Pe(),aa=t,oa=n,aa.attachEvent("onpropertychange",Te)):"blur"===e&&Pe()}function Ce(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ee(oa)}function xe(e,t){if("click"===e)return Ee(t)}function Re(e,t){if("input"===e||"change"===e)return Ee(t)}function je(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=la[e])&&!!t[e]}function Ae(){return je}function Ie(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ne(e){2!==Ie(e)&&r("188")}function Me(e){var t=e.alternate;if(!t)return t=Ie(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===n)return Ne(a),e;if(s===i)return Ne(a),t;s=s.sibling}r("188")}if(n.return!==i.return)n=a,i=o;else{s=!1;for(var u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Le(e){if(!(e=Me(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function qe(e){if(!(e=Me(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function De(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Be(e,t){var n=e[0];e=e[1];var r="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},Ta[e]=t,Oa[n]=t}function Ue(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=g(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],b(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function Fe(e){ja=!!e}function Ve(e,t){if(!t)return null;var n=(xa(e)?ze:We).bind(null,e);t.addEventListener(e,n,!1)}function He(e,t){if(!t)return null;var n=(xa(e)?ze:We).bind(null,e);t.addEventListener(e,n,!0)}function ze(e,t){Q(We,e,t)}function We(e,t){if(ja){var n=Z(t);if(n=g(n),null===n||"number"!=typeof n.tag||2===Ie(n)||(n=null),Ra.length){var r=Ra.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{X(Ue,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Ra.length&&Ra.push(e)}}}function Ge(e){return Object.prototype.hasOwnProperty.call(e,Ma)||(e[Ma]=Na++,Ia[e[Ma]]={}),Ia[e[Ma]]}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ye(e,t){var n=Ke(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ke(n)}}function Qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function $e(e,t){if(Fa||null==Da||Da!==Br())return null;var n=Da;return"selectionStart"in n&&Qe(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Ua&&Ur(Ua,n)?null:(Ua=n,e=L.getPooled(qa.select,Ba,e,t),e.type="select",e.target=Da,x(e),e)}function Xe(e){var t="";return Mr.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Je(e,t){return e=qr({children:void 0},t),(t=Xe(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function et(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function rt(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function it(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?at(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ut(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,a=t[n];i=null==a||"boolean"==typeof a||""===a?"":r||"number"!=typeof a||0===a||mo.hasOwnProperty(i)&&mo[i]?(""+a).trim():a+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function ct(e,t,n){t&&(vo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dt(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Ge(e);t=Qr[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":He("scroll",e);break;case"focus":case"blur":He("focus",e),He("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(i,!0)&&He(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===mi.indexOf(i)&&Ve(i,e)}n[i]=!0}}}function ft(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===fo.html&&(r=at(e)),r===fo.html?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function pt(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ht(e,t,n,r){var i=lt(t,n);switch(t){case"iframe":case"object":Ve("load",e);var a=n;break;case"video":case"audio":for(a=0;a<mi.length;a++)Ve(mi[a],e);a=n;break;case"source":Ve("error",e),a=n;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),a=n;break;case"form":Ve("reset",e),Ve("submit",e),a=n;break;case"details":Ve("toggle",e),a=n;break;case"input":me(e,n),a=he(e,n),Ve("invalid",e),dt(r,"onChange");break;case"option":a=Je(e,n);break;case"select":et(e,n),a=qr({},n,{value:void 0}),Ve("invalid",e),dt(r,"onChange");break;case"textarea":nt(e,n),a=tt(e,n),Ve("invalid",e),dt(r,"onChange");break;default:a=n}ct(t,a,bo);var o,s=a;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];"style"===o?ut(e,u,bo):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ho(e,u):"children"===o?"string"==typeof u?("textarea"!==t||""!==u)&&st(e,u):"number"==typeof u&&st(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Yr.hasOwnProperty(o)?null!=u&&dt(r,o):null!=u&&pe(e,o,u,i))}switch(t){case"input":re(e),be(e,n,!1);break;case"textarea":re(e),it(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Ze(e,!!n.multiple,t,!1):null!=n.defaultValue&&Ze(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Dr)}}function mt(e,t,n,r,i){var a=null;switch(t){case"input":n=he(e,n),r=he(e,r),a=[];break;case"option":n=Je(e,n),r=Je(e,r),a=[];break;case"select":n=qr({},n,{value:void 0}),r=qr({},r,{value:void 0}),a=[];break;case"textarea":n=tt(e,n),r=tt(e,r),a=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Dr)}ct(t,r,bo),t=e=void 0;var o=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(o||(o={}),o[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Yr.hasOwnProperty(e)?a||(a=[]):(a=a||[]).push(e,null));for(e in r){var u=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&u!==s&&(null!=u||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||u&&u.hasOwnProperty(t)||(o||(o={}),o[t]="");for(t in u)u.hasOwnProperty(t)&&s[t]!==u[t]&&(o||(o={}),o[t]=u[t])}else o||(a||(a=[]),a.push(e,o)),o=u;else"dangerouslySetInnerHTML"===e?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(e,""+u)):"children"===e?s===u||"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(e,""+u):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Yr.hasOwnProperty(e)?(null!=u&&dt(i,e),a||s===u||(a=[])):(a=a||[]).push(e,u))}return o&&(a=a||[]).push("style",o),a}function yt(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&ye(e,i),lt(n,r),r=lt(n,i);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?ut(e,s,bo):"dangerouslySetInnerHTML"===o?ho(e,s):"children"===o?st(e,s):pe(e,o,s,r)}switch(n){case"input":ve(e,i);break;case"textarea":rt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Ze(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ze(e,!!i.multiple,i.defaultValue,!0):Ze(e,!!i.multiple,i.multiple?[]:"",!1))}}function vt(e,t,n,r,i){switch(t){case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(r=0;r<mi.length;r++)Ve(mi[r],e);break;case"source":Ve("error",e);break;case"img":case"image":case"link":Ve("error",e),Ve("load",e);break;case"form":Ve("reset",e),Ve("submit",e);break;case"details":Ve("toggle",e);break;case"input":me(e,n),Ve("invalid",e),dt(i,"onChange");break;case"select":et(e,n),Ve("invalid",e),dt(i,"onChange");break;case"textarea":nt(e,n),Ve("invalid",e),dt(i,"onChange")}ct(t,n,bo),r=null;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];"children"===a?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):Yr.hasOwnProperty(a)&&null!=o&&dt(i,a)}switch(t){case"input":re(e),be(e,n,!0);break;case"textarea":re(e),it(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Dr)}return r}function bt(e,t){return e.nodeValue!==t}function gt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _t(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}function wt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Et(e){return{current:e}}function St(e){0>To||(e.current=Po[To],Po[To]=null,To--)}function Pt(e,t){To++,Po[To]=e.current,e.current=t}function Tt(e){return Ct(e)?xo:Oo.current}function Ot(e,t){var n=e.type.contextTypes;if(!n)return Vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ct(e){return 2===e.tag&&null!=e.type.childContextTypes}function xt(e){Ct(e)&&(St(Co,e),St(Oo,e))}function Rt(e){St(Co,e),St(Oo,e)}function jt(e,t,n){Oo.current!==Vr&&r("168"),Pt(Oo,t,e),Pt(Co,n,e)}function At(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var a in n)a in i||r("108",oe(e)||"Unknown",a);return qr({},t,n)}function It(e){if(!Ct(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Vr,xo=Oo.current,Pt(Oo,t,e),Pt(Co,Co.current,e),!0}function Nt(e,t){var n=e.stateNode;if(n||r("169"),t){var i=At(e,xo);n.__reactInternalMemoizedMergedChildContext=i,St(Co,e),St(Oo,e),Pt(Oo,i,e)}else St(Co,e);Pt(Co,t,e)}function Mt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Lt(e,t,n){var r=e.alternate;return null===r?(r=new Mt(e.tag,t,e.key,e.mode),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qt(e,t,n){var i=e.type,a=e.key;if(e=e.props,"function"==typeof i)var o=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"==typeof i)o=5;else switch(i){case Hi:return Dt(e.children,t,n,a);case Yi:o=11,t|=3;break;case zi:o=11,t|=2;break;case Wi:return i=new Mt(15,e,a,4|t),i.type=Wi,i.expirationTime=n,i;case $i:o=16,t|=2;break;default:e:{switch("object"==typeof i&&null!==i?i.$$typeof:null){case Gi:o=13;break e;case Ki:o=12;break e;case Qi:o=14;break e;default:r("130",null==i?i:typeof i,"")}o=void 0}}return t=new Mt(o,e,a,t),t.type=i,t.expirationTime=n,t}function Dt(e,t,n,r){return e=new Mt(10,e,r,t),e.expirationTime=n,e}function Bt(e,t,n){return e=new Mt(6,e,null,t),e.expirationTime=n,e}function Ut(e,t,n){return t=new Mt(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ft(e,t,n){return t=new Mt(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function Vt(e){return function(t){try{return e(t)}catch(e){}}}function Ht(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ro=Vt(function(e){return t.onCommitFiberRoot(n,e)}),jo=Vt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function zt(e){"function"==typeof Ro&&Ro(e)}function Wt(e){"function"==typeof jo&&jo(e)}function Gt(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Kt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Qt(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function $t(e,t,n){var r=e.alternate;if(null===r){var i=e.updateQueue,a=null;null===i&&(i=e.updateQueue=Gt(e.memoizedState))}else i=e.updateQueue,a=r.updateQueue,null===i?null===a?(i=e.updateQueue=Gt(e.memoizedState),a=r.updateQueue=Gt(r.memoizedState)):i=e.updateQueue=Kt(a):null===a&&(a=r.updateQueue=Kt(i));null===a||i===a?Qt(i,t,n):null===i.lastUpdate||null===a.lastUpdate?(Qt(i,t,n),Qt(a,t,n)):(Qt(i,t,n),a.lastUpdate=t)}function Xt(e,t,n){var r=e.updateQueue;r=null===r?e.updateQueue=Gt(e.memoizedState):Jt(e,r),null===r.lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Jt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Kt(t)),t}function Zt(e,t,n,r,i,a){switch(n.tag){case 1:return e=n.payload,"function"==typeof e?e.call(a,r,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(e=n.payload,null===(i="function"==typeof e?e.call(a,r,i):e)||void 0===i)break;return qr({},r,i);case 2:Ao=!0}return r}function en(e,t,n,r,i){if(Ao=!1,!(0===t.expirationTime||t.expirationTime>i)){t=Jt(e,t);for(var a=t.baseState,o=null,s=0,u=t.firstUpdate,c=a;null!==u;){var l=u.expirationTime;l>i?(null===o&&(o=u,a=c),(0===s||s>l)&&(s=l)):(c=Zt(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var d=u.expirationTime;d>i?(null===l&&(l=u,null===o&&(a=c)),(0===s||s>d)&&(s=d)):(c=Zt(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===o&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===l&&(a=c),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=l,t.expirationTime=s,e.memoizedState=c}}function tn(e,t){"function"!=typeof e&&r("191",e),e.call(t)}function nn(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,tn(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)t=e.callback,null!==t&&(e.callback=null,tn(t,n)),e=e.nextEffect}function rn(e,t){return{value:e,source:t,stack:se(t)}}function an(e){var t=e.type._context;Pt(Mo,t._changedBits,e),Pt(No,t._currentValue,e),Pt(Io,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function on(e){var t=Mo.current,n=No.current;St(Io,e),St(No,e),St(Mo,e),e=e.type._context,e._currentValue=n,e._changedBits=t}function sn(e){return e===Lo&&r("174"),e}function un(e,t){Pt(Bo,t,e),Pt(Do,e,e),Pt(qo,Lo,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ot(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=ot(t,n)}St(qo,e),Pt(qo,t,e)}function cn(e){St(qo,e),St(Do,e),St(Bo,e)}function ln(e){Do.current===e&&(St(qo,e),St(Do,e))}function dn(e,t,n){var r=e.memoizedState;t=t(n,r),r=null===t||void 0===t?r:qr({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}function fn(e,t,n,r,i,a){var o=e.stateNode;return e=e.type,"function"==typeof o.shouldComponentUpdate?o.shouldComponentUpdate(n,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ur(t,n)||!Ur(r,i))}function pn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function hn(e,t){var n=e.type,r=e.stateNode,i=e.pendingProps,a=Tt(e);r.props=i,r.state=e.memoizedState,r.refs=Vr,r.context=Ot(e,a),a=e.updateQueue,null!==a&&(en(e,a,i,r,t),r.state=e.memoizedState),a=e.type.getDerivedStateFromProps,"function"==typeof a&&(dn(e,a,i),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Uo.enqueueReplaceState(r,r.state,null),null!==(a=e.updateQueue)&&(en(e,a,i,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(2!==n.tag&&r("110"),i=n.stateNode),i||r("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs===Vr?i.refs={}:i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}"string"!=typeof e&&r("148"),n._owner||r("254",e)}return e}function yn(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function vn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return e=Lt(e,t,n),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=Bt(n,e.mode,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?(r=a(t,n.props,r),r.ref=mn(e,t,n),r.return=e,r):(r=qt(n,e.mode,r),r.ref=mn(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ut(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[],r),t.return=e,t)}function d(e,t,n,r,i){return null===t||10!==t.tag?(t=Dt(n,e.mode,r,i),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return t=Bt(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Fi:return n=qt(t,e.mode,n),n.ref=mn(e,null,t),n.return=e,n;case Vi:return t=Ut(t,e.mode,n),t.return=e,t}if(Fo(t)||ae(t))return t=Dt(t,e.mode,n,null),t.return=e,t;yn(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Fi:return n.key===i?n.type===Hi?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case Vi:return n.key===i?l(e,t,n,r):null}if(Fo(n)||ae(n))return null!==i?null:d(e,t,n,r,null);yn(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Fi:return e=e.get(null===r.key?n:r.key)||null,r.type===Hi?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case Vi:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i)}if(Fo(r)||ae(r))return e=e.get(n)||null,d(t,e,r,i,null);yn(t,r)}return null}function m(r,a,s,u){for(var c=null,l=null,d=a,m=a=0,y=null;null!==d&&m<s.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var v=p(r,d,s[m],u);if(null===v){null===d&&(d=y);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,d=y}if(m===s.length)return n(r,d),c;if(null===d){for(;m<s.length;m++)(d=f(r,s[m],u))&&(a=o(d,a,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=i(r,d);m<s.length;m++)(y=h(d,r,m,s[m],u))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&d.forEach(function(e){return t(r,e)}),c}function y(a,s,u,c){var l=ae(u);"function"!=typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var d=l=null,m=s,y=s=0,v=null,b=u.next();null!==m&&!b.done;y++,b=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var g=p(a,m,b.value,c);if(null===g){m||(m=v);break}e&&m&&null===g.alternate&&t(a,m),s=o(g,s,y),null===d?l=g:d.sibling=g,d=g,m=v}if(b.done)return n(a,m),l;if(null===m){for(;!b.done;y++,b=u.next())null!==(b=f(a,b.value,c))&&(s=o(b,s,y),null===d?l=b:d.sibling=b,d=b);return l}for(m=i(a,m);!b.done;y++,b=u.next())null!==(b=h(m,a,y,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?y:b.key),s=o(b,s,y),null===d?l=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(a,e)}),l}return function(e,i,o,u){var c="object"==typeof o&&null!==o&&o.type===Hi&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Fi:e:{for(l=o.key,c=i;null!==c;){if(c.key===l){if(10===c.tag?o.type===Hi:c.type===o.type){n(e,c.sibling),i=a(c,o.type===Hi?o.props.children:o.props,u),i.ref=mn(e,c,o),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Hi?(i=Dt(o.props.children,e.mode,u,o.key),i.return=e,e=i):(u=qt(o,e.mode,u),u.ref=mn(e,i,o),u.return=e,e=u)}return s(e);case Vi:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),i=a(i,o.children||[],u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=Ut(o,e.mode,u),i.return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),i=a(i,o,u),i.return=e,e=i):(n(e,i),i=Bt(o,e.mode,u),i.return=e,e=i),s(e);if(Fo(o))return m(e,i,o,u);if(ae(o))return y(e,i,o,u);if(l&&yn(e,o),void 0===o&&!c)switch(e.tag){case 2:case 1:u=e.type,r("152",u.displayName||u.name||"Component")}return n(e,i)}}function bn(e,t){var n=new Mt(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function gn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function _n(e){if(Go){var t=Wo;if(t){var n=t;if(!gn(e,t)){if(!(t=wt(n))||!gn(e,t))return e.effectTag|=2,Go=!1,void(zo=e);bn(zo,n)}zo=e,Wo=kt(t)}else e.effectTag|=2,Go=!1,zo=e}}function wn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;zo=e}function kn(e){if(e!==zo)return!1;if(!Go)return wn(e),Go=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_t(t,e.memoizedProps))for(t=Wo;t;)bn(e,t),t=wt(t);return wn(e),Wo=zo?wt(e.stateNode):null,!0}function En(){Wo=zo=null,Go=!1}function Sn(e,t,n){Pn(e,t,n,t.expirationTime)}function Pn(e,t,n,r){t.child=null===e?Ho(t,null,n,r):Vo(t,e.child,n,r)}function Tn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function On(e,t,n,r,i){Tn(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return r&&Nt(t,!1),jn(e,t);n=t.stateNode,Bi.current=t;var o=a?null:n.render();return t.effectTag|=1,a&&(Pn(e,t,null,i),t.child=null),Pn(e,t,o,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Nt(t,!0),t.child}function Cn(e){var t=e.stateNode;t.pendingContext?jt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jt(e,t.context,!1),un(e,t.containerInfo)}function xn(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var a=0|i.stateNode;if(i.type===t&&0!=(a&n)){for(a=i;null!==a;){var o=a.alternate;if(0===a.expirationTime||a.expirationTime>r)a.expirationTime=r,null!==o&&(0===o.expirationTime||o.expirationTime>r)&&(o.expirationTime=r);else{if(null===o||!(0===o.expirationTime||o.expirationTime>r))break;o.expirationTime=r}a=a.return}a=null}else a=i.child;break;case 13:a=i.type===e.type?null:i.child;break;default:a=i.child}if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Rn(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=!0;if(Co.current)o=!1;else if(a===i)return t.stateNode=0,an(t),jn(e,t);var s=i.value;if(t.memoizedProps=i,null===a)s=1073741823;else if(a.value===i.value){if(a.children===i.children&&o)return t.stateNode=0,an(t),jn(e,t);s=0}else{var u=a.value;if(u===s&&(0!==u||1/u==1/s)||u!==u&&s!==s){if(a.children===i.children&&o)return t.stateNode=0,an(t),jn(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823,0===(s|=0)){if(a.children===i.children&&o)return t.stateNode=0,an(t),jn(e,t)}else xn(t,r,s,n)}return t.stateNode=s,an(t),Sn(e,t,i.children),t.child}function jn(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=Lt(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Lt(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function An(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Cn(t);break;case 2:It(t);break;case 4:un(t,t.stateNode.containerInfo);break;case 13:an(t)}return null}switch(t.tag){case 0:null!==e&&r("155");var i=t.type,a=t.pendingProps,o=Tt(t);return o=Ot(t,o),i=i(a,o),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,o=o.getDerivedStateFromProps,"function"==typeof o&&dn(t,o,a),a=It(t),i.updater=Uo,t.stateNode=i,i._reactInternalFiber=t,hn(t,n),e=On(e,t,!0,a,n)):(t.tag=1,Sn(e,t,i),t.memoizedProps=a,e=t.child),e;case 1:return a=t.type,n=t.pendingProps,Co.current||t.memoizedProps!==n?(i=Tt(t),i=Ot(t,i),a=a(n,i),t.effectTag|=1,Sn(e,t,a),t.memoizedProps=n,e=t.child):e=jn(e,t),e;case 2:if(a=It(t),null===e)if(null===t.stateNode){var s=t.pendingProps,u=t.type;i=Tt(t);var c=2===t.tag&&null!=t.type.contextTypes;o=c?Ot(t,i):Vr,s=new u(s,o),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Uo,t.stateNode=s,s._reactInternalFiber=t,c&&(c=t.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=i,c.__reactInternalMemoizedMaskedChildContext=o),hn(t,n),i=!0}else{u=t.type,i=t.stateNode,c=t.memoizedProps,o=t.pendingProps,i.props=c;var l=i.context;s=Tt(t),s=Ot(t,s);var d=u.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(c!==o||l!==s)&&pn(t,i,o,s),Ao=!1;var f=t.memoizedState;l=i.state=f;var p=t.updateQueue;null!==p&&(en(t,p,o,i,n),l=t.memoizedState),c!==o||f!==l||Co.current||Ao?("function"==typeof d&&(dn(t,d,o),l=t.memoizedState),(c=Ao||fn(t,c,o,f,l,s))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=l),i.props=o,i.state=l,i.context=s,i=c):("function"==typeof i.componentDidMount&&(t.effectTag|=4),i=!1)}else u=t.type,i=t.stateNode,o=t.memoizedProps,c=t.pendingProps,i.props=o,l=i.context,s=Tt(t),s=Ot(t,s),d=u.getDerivedStateFromProps,(u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==c||l!==s)&&pn(t,i,c,s),Ao=!1,l=t.memoizedState,f=i.state=l,p=t.updateQueue,null!==p&&(en(t,p,c,i,n),f=t.memoizedState),o!==c||l!==f||Co.current||Ao?("function"==typeof d&&(dn(t,d,c),f=t.memoizedState),(d=Ao||fn(t,o,c,l,f,s))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(c,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(c,f,s)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=c,t.memoizedState=f),i.props=c,i.state=f,i.context=s,i=d):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return On(e,t,i,a,n);case 3:return Cn(t),a=t.updateQueue,null!==a?(i=t.memoizedState,i=null!==i?i.element:null,en(t,a,t.pendingProps,null,n),(a=t.memoizedState.element)===i?(En(),e=jn(e,t)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Wo=kt(t.stateNode.containerInfo),zo=t,i=Go=!0),i?(t.effectTag|=2,t.child=Ho(t,null,a,n)):(En(),Sn(e,t,a)),e=t.child)):(En(),e=jn(e,t)),e;case 5:return sn(Bo.current),a=sn(qo.current),i=ot(a,t.type),a!==i&&(Pt(Do,t,t),Pt(qo,i,t)),null===e&&_n(t),a=t.type,c=t.memoizedProps,i=t.pendingProps,o=null!==e?e.memoizedProps:null,Co.current||c!==i||((c=1&t.mode&&!!i.hidden)&&(t.expirationTime=1073741823),c&&1073741823===n)?(c=i.children,_t(a,i)?c=null:o&&_t(a,o)&&(t.effectTag|=16),Tn(e,t),1073741823!==n&&1&t.mode&&i.hidden?(t.expirationTime=1073741823,t.memoizedProps=i,e=null):(Sn(e,t,c),t.memoizedProps=i,e=t.child)):e=jn(e,t),e;case 6:return null===e&&_n(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return un(t,t.stateNode.containerInfo),a=t.pendingProps,Co.current||t.memoizedProps!==a?(null===e?t.child=Vo(t,null,a,n):Sn(e,t,a),t.memoizedProps=a,e=t.child):e=jn(e,t),e;case 14:return a=t.type.render,n=t.pendingProps,i=t.ref,Co.current||t.memoizedProps!==n||i!==(null!==e?e.ref:null)?(a=a(n,i),Sn(e,t,a),t.memoizedProps=n,e=t.child):e=jn(e,t),e;case 10:return n=t.pendingProps,Co.current||t.memoizedProps!==n?(Sn(e,t,n),t.memoizedProps=n,e=t.child):e=jn(e,t),e;case 11:return n=t.pendingProps.children,Co.current||null!==n&&t.memoizedProps!==n?(Sn(e,t,n),t.memoizedProps=n,e=t.child):e=jn(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=jn(e,t):(Sn(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return Rn(e,t,n);case 12:e:if(i=t.type,o=t.pendingProps,c=t.memoizedProps,a=i._currentValue,s=i._changedBits,Co.current||0!==s||c!==o){if(t.memoizedProps=o,u=o.unstable_observedBits,void 0!==u&&null!==u||(u=1073741823),t.stateNode=u,0!=(s&u))xn(t,i,s,n);else if(c===o){e=jn(e,t);break e}n=o.children,n=n(a),t.effectTag|=1,Sn(e,t,n),e=t.child}else e=jn(e,t);return e;default:r("156")}}function In(e){e.effectTag|=4}function Nn(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return xt(t),null;case 3:cn(t),Rt(t);var i=t.stateNode;return i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(kn(t),t.effectTag&=-3),Ko(t),null;case 5:ln(t),i=sn(Bo.current);var a=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,s=t.stateNode,u=sn(qo.current);s=mt(s,a,o,n,i),Yo(e,t,s,a,o,n,i,u),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&r("166"),null;if(e=sn(qo.current),kn(t))n=t.stateNode,a=t.type,o=t.memoizedProps,n[ii]=t,n[ai]=o,i=vt(n,a,o,e,i),t.updateQueue=i,null!==i&&In(t);else{e=ft(a,n,i,e),e[ii]=t,e[ai]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}ht(e,a,n,i),gt(a,n)&&In(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&r("166"),null;i=sn(Bo.current),sn(qo.current),kn(t)?(i=t.stateNode,n=t.memoizedProps,i[ii]=t,bt(i,n)&&In(t)):(i=pt(n,i),i[ii]=t,t.stateNode=i)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return cn(t),Ko(t),null;case 13:return on(t),null;case 12:return null;case 0:r("167");default:r("156")}}function Mn(e,t){var n=t.source;null===t.stack&&null!==n&&se(n),null!==n&&oe(n),t=t.value,null!==e&&2===e.tag&&oe(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Ln(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){$n(e,t)}else t.current=null}function qn(e){switch("function"==typeof Wt&&Wt(e),e.tag){case 2:Ln(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){$n(e,t)}break;case 5:Ln(e);break;case 4:Un(e)}}function Dn(e){return 5===e.tag||3===e.tag||4===e.tag}function Bn(e){e:{for(var t=e.return;null!==t;){if(Dn(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(st(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Dn(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(i){var o=t,s=a.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(s,u):o.insertBefore(s,u)}else t.insertBefore(a.stateNode,n);else i?(o=t,s=a.stateNode,8===o.nodeType?o.parentNode.insertBefore(s,o):o.appendChild(s)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Un(e){for(var t=e,n=!1,i=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:i=n.stateNode,a=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(qn(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(o=i,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(t.stateNode)}else if(4===t.tag?i=t.stateNode.containerInfo:qn(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Fn(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(n[ai]=i,yt(n,o,a,e,i))}break;case 6:null===t.stateNode&&r("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:r("163")}}function Vn(e,t,n){n=Yt(n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hr(r),Mn(e,t)},n}function Hn(e,t,n){n=Yt(n),n.tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===ls?ls=new Set([this]):ls.add(this);var n=t.value,r=t.stack;Mn(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function zn(e,t,n,r,i,a){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=rn(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,r=Vn(e,r,a),void Xt(e,r,a);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===ls||!ls.has(n)))return e.effectTag|=1024,r=Hn(e,t,a),void Xt(e,r,a)}e=e.return}while(null!==e)}function Wn(e){switch(e.tag){case 2:xt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return cn(e),Rt(e),t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 5:return ln(e),null;case 16:return t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 4:return cn(e),null;case 13:return on(e),null;default:return null}}function Gn(){if(null!==ns)for(var e=ns.return;null!==e;){var t=e;switch(t.tag){case 2:xt(t);break;case 3:cn(t),Rt(t);break;case 5:ln(t);break;case 4:cn(t);break;case 13:on(t)}e=e.return}rs=null,is=0,as=-1,os=!1,ns=null,cs=!1}function Kn(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=Nn(t,e,is);var i=e;if(1073741823===is||1073741823!==i.expirationTime){var a=0;switch(i.tag){case 3:case 2:var o=i.updateQueue;null!==o&&(a=o.expirationTime)}for(o=i.child;null!==o;)0!==o.expirationTime&&(0===a||a>o.expirationTime)&&(a=o.expirationTime),o=o.sibling;i.expirationTime=a}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){cs=!0;break}e=n}else{if(null!==(e=Wn(e,os,is)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function Yn(e){var t=An(e.alternate,e,is);return null===t&&(t=Kn(e)),Bi.current=null,t}function Qn(e,t,n){ts&&r("243"),ts=!0,t===is&&e===rs&&null!==ns||(Gn(),rs=e,is=t,as=-1,ns=Lt(rs.current,null,is),e.pendingCommitExpirationTime=0);var i=!1;for(os=!n||is<=Xo;;){try{if(n)for(;null!==ns&&!pr();)ns=Yn(ns);else for(;null!==ns;)ns=Yn(ns)}catch(t){if(null===ns)i=!0,hr(t);else{null===ns&&r("271"),n=ns;var a=n.return;if(null===a){i=!0,hr(t);break}zn(e,a,n,t,os,is,Jo),ns=Kn(n)}}break}if(ts=!1,i)return null;if(null===ns){if(cs)return e.pendingCommitExpirationTime=t,e.current.alternate;os&&r("262"),0<=as&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&ir(e,t)},as),mr(e.current.expirationTime)}return null}function $n(e,t){var n;e:{for(ts&&!us&&r("263"),n=e.return;null!==n;){switch(n.tag){case 2:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof i.componentDidCatch&&(null===ls||!ls.has(i))){e=rn(t,e),e=Hn(n,e,1),$t(n,e,1),Zn(n,1),n=void 0;break e}break;case 3:e=rn(t,e),e=Vn(n,e,1),$t(n,e,1),Zn(n,1),n=void 0;break e}n=n.return}3===e.tag&&(n=rn(t,e),n=Vn(e,n,1),$t(e,n,1),Zn(e,1)),n=void 0}return n}function Xn(){var e=2+25*(1+((er()-2+500)/25|0));return e<=Zo&&(e=Zo+1),Zo=e}function Jn(e,t){return e=0!==es?es:ts?us?1:is:1&t.mode?Ps?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ps&&(0===bs||e>bs)&&(bs=e),e}function Zn(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!ts&&0!==is&&t<is&&Gn();var i=n.current.expirationTime;ts&&!us&&rs===n||ir(n,i),Cs>Os&&r("185")}e=e.return}}function er(){return Jo=ko()-$o,Xo=2+(Jo/10|0)}function tr(e){var t=es;es=2+25*(1+((er()-2+500)/25|0));try{return e()}finally{es=t}}function nr(e,t,n,r,i){var a=es;es=1;try{return e(t,n,r,i)}finally{es=a}}function rr(e){if(0!==ps){if(e>ps)return;null!==hs&&So(hs)}var t=ko()-$o;ps=e,hs=Eo(or,{timeout:10*(e-2)-t})}function ir(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===fs?(ds=fs=e,e.nextScheduledRoot=e):(fs=fs.nextScheduledRoot=e,fs.nextScheduledRoot=ds);else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}ms||(Es?Ss&&(ys=e,vs=1,dr(e,1,!1)):1===t?sr():rr(t))}function ar(){var e=0,t=null;if(null!==fs)for(var n=fs,i=ds;null!==i;){var a=i.remainingExpirationTime;if(0===a){if((null===n||null===fs)&&r("244"),i===i.nextScheduledRoot){ds=fs=i.nextScheduledRoot=null;break}if(i===ds)ds=a=i.nextScheduledRoot,fs.nextScheduledRoot=a,i.nextScheduledRoot=null;else{if(i===fs){fs=n,fs.nextScheduledRoot=ds,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=i),i===fs)break;n=i,i=i.nextScheduledRoot}}n=ys,null!==n&&n===t&&1===e?Cs++:Cs=0,ys=t,vs=e}function or(e){ur(0,!0,e)}function sr(){ur(1,!1,null)}function ur(e,t,n){if(ks=n,ar(),t)for(;null!==ys&&0!==vs&&(0===e||e>=vs)&&(!gs||er()>=vs);)er(),dr(ys,vs,!gs),ar();else for(;null!==ys&&0!==vs&&(0===e||e>=vs);)dr(ys,vs,!1),ar();null!==ks&&(ps=0,hs=null),0!==vs&&rr(vs),ks=null,gs=!1,lr()}function cr(e,t){ms&&r("253"),ys=e,vs=t,dr(e,t,!1),sr(),lr()}function lr(){if(Cs=0,null!==Ts){var e=Ts;Ts=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){_s||(_s=!0,ws=e)}}}if(_s)throw e=ws,ws=null,_s=!1,e}function dr(e,t,n){ms&&r("245"),ms=!0,n?(n=e.finishedWork,null!==n?fr(e,n,t):null!==(n=Qn(e,t,!0))&&(pr()?e.finishedWork=n:fr(e,n,t))):(n=e.finishedWork,null!==n?fr(e,n,t):null!==(n=Qn(e,t,!1))&&fr(e,n,t)),ms=!1}function fr(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===Ts?Ts=[i]:Ts.push(i),i._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,us=ts=!0,n=t.stateNode,n.current===t&&r("177"),i=n.pendingCommitExpirationTime,0===i&&r("261"),n.pendingCommitExpirationTime=0,er(),Bi.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var a=t.firstEffect}else a=t;else a=t.firstEffect;_o=ja;var o=Br();if(Qe(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var u=window.getSelection&&window.getSelection();if(u&&0!==u.rangeCount){s=u.anchorNode;var c=u.anchorOffset,l=u.focusNode;u=u.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var d=0,f=-1,p=-1,h=0,m=0,y=o,v=null;t:for(;;){for(var b;y!==s||0!==c&&3!==y.nodeType||(f=d+c),y!==l||0!==u&&3!==y.nodeType||(p=d+u),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===o)break t;if(v===s&&++h===c&&(f=d),v===l&&++m===u&&(p=d),null!==(b=y.nextSibling))break;y=v,v=y.parentNode}y=b}s=-1===f||-1===p?null:{start:f,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;for(wo={focusedElem:o,selectionRange:s},Fe(!1),ss=a;null!==ss;){o=!1,s=void 0;try{for(;null!==ss;){if(256&ss.effectTag){var g=ss.alternate;switch(c=ss,c.tag){case 2:if(256&c.effectTag&&null!==g){var _=g.memoizedProps,w=g.memoizedState,k=c.stateNode;k.props=c.memoizedProps,k.state=c.memoizedState;var E=k.getSnapshotBeforeUpdate(_,w);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:case 5:case 6:case 4:break;default:r("163")}}ss=ss.nextEffect}}catch(e){o=!0,s=e}o&&(null===ss&&r("178"),$n(ss,s),null!==ss&&(ss=ss.nextEffect))}for(ss=a;null!==ss;){g=!1,_=void 0;try{for(;null!==ss;){var S=ss.effectTag;if(16&S&&st(ss.stateNode,""),128&S){var P=ss.alternate;if(null!==P){var T=P.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&S){case 2:Bn(ss),ss.effectTag&=-3;break;case 6:Bn(ss),ss.effectTag&=-3,Fn(ss.alternate,ss);break;case 4:Fn(ss.alternate,ss);break;case 8:w=ss,Un(w),w.return=null,w.child=null,w.alternate&&(w.alternate.child=null,w.alternate.return=null)}ss=ss.nextEffect}}catch(e){g=!0,_=e}g&&(null===ss&&r("178"),$n(ss,_),null!==ss&&(ss=ss.nextEffect))}if(T=wo,P=Br(),S=T.focusedElem,g=T.selectionRange,P!==S&&Fr(document.documentElement,S)){null!==g&&Qe(S)&&(P=g.start,T=g.end,void 0===T&&(T=P),"selectionStart"in S?(S.selectionStart=P,S.selectionEnd=Math.min(T,S.value.length)):window.getSelection&&(P=window.getSelection(),_=S[I()].length,T=Math.min(g.start,_),g=void 0===g.end?T:Math.min(g.end,_),!P.extend&&T>g&&(_=g,g=T,T=_),_=Ye(S,T),w=Ye(S,g),_&&w&&(1!==P.rangeCount||P.anchorNode!==_.node||P.anchorOffset!==_.offset||P.focusNode!==w.node||P.focusOffset!==w.offset)&&(k=document.createRange(),k.setStart(_.node,_.offset),P.removeAllRanges(),T>g?(P.addRange(k),P.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),P.addRange(k))))),P=[];for(T=S;T=T.parentNode;)1===T.nodeType&&P.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof S.focus&&S.focus(),S=0;S<P.length;S++)T=P[S],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}for(wo=null,Fe(_o),_o=null,n.current=t,ss=a;null!==ss;){a=!1,S=void 0;try{for(P=i;null!==ss;){var O=ss.effectTag;if(36&O){var C=ss.alternate;switch(T=ss,g=P,T.tag){case 2:var x=T.stateNode;if(4&T.effectTag)if(null===C)x.props=T.memoizedProps,x.state=T.memoizedState,x.componentDidMount();else{var R=C.memoizedProps,j=C.memoizedState;x.props=T.memoizedProps,x.state=T.memoizedState,x.componentDidUpdate(R,j,x.__reactInternalSnapshotBeforeUpdate)}var A=T.updateQueue;null!==A&&(x.props=T.memoizedProps,x.state=T.memoizedState,nn(T,A,x,g));break;case 3:var N=T.updateQueue;if(null!==N){if(_=null,null!==T.child)switch(T.child.tag){case 5:_=T.child.stateNode;break;case 2:_=T.child.stateNode}nn(T,N,_,g)}break;case 5:var M=T.stateNode;null===C&&4&T.effectTag&&gt(T.type,T.memoizedProps)&&M.focus();break;case 6:case 4:case 15:case 16:break;default:r("163")}}if(128&O){T=void 0;var L=ss.ref;if(null!==L){var q=ss.stateNode;switch(ss.tag){case 5:T=q;break;default:T=q}"function"==typeof L?L(T):L.current=T}}var D=ss.nextEffect;ss.nextEffect=null,ss=D}}catch(e){a=!0,S=e}a&&(null===ss&&r("178"),$n(ss,S),null!==ss&&(ss=ss.nextEffect))}ts=us=!1,"function"==typeof zt&&zt(t.stateNode),t=n.current.expirationTime,0===t&&(ls=null),e.remainingExpirationTime=t}function pr(){return!(null===ks||ks.timeRemaining()>xs)&&(gs=!0)}function hr(e){null===ys&&r("246"),ys.remainingExpirationTime=0,_s||(_s=!0,ws=e)}function mr(e){null===ys&&r("246"),ys.remainingExpirationTime=e}function yr(e,t){var n=Es;Es=!0;try{return e(t)}finally{(Es=n)||ms||sr()}}function vr(e,t){if(Es&&!Ss){Ss=!0;try{return e(t)}finally{Ss=!1}}return e(t)}function br(e,t){ms&&r("187");var n=Es;Es=!0;try{return nr(e,t)}finally{Es=n,sr()}}function gr(e,t,n){if(Ps)return e(t,n);Es||ms||0===bs||(ur(bs,!1,null),bs=0);var r=Ps,i=Es;Es=Ps=!0;try{return e(t,n)}finally{Ps=r,(Es=i)||ms||sr()}}function _r(e){var t=Es;Es=!0;try{nr(e)}finally{(Es=t)||ms||ur(1,!1,null)}}function wr(e,t,n,i,a){var o=t.current;if(n){n=n._reactInternalFiber;var s;e:{for(2===Ie(n)&&2===n.tag||r("170"),s=n;3!==s.tag;){if(Ct(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}(s=s.return)||r("171")}s=s.stateNode.context}n=Ct(n)?At(n,s):s}else n=Vr;return null===t.context?t.context=n:t.pendingContext=n,t=a,a=Yt(i),a.payload={element:e},t=void 0===t?null:t,null!==t&&(a.callback=t),$t(o,a,i),Zn(o,i),i}function kr(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?r("188"):r("268",Object.keys(e))),e=Le(t),null===e?null:e.stateNode}function Er(e,t,n,r){var i=t.current;return i=Jn(er(),i),wr(e,t,n,i,r)}function Sr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Pr(e){var t=e.findFiberByHostInstance;return Ht(qr({},e,{findHostInstanceByFiber:function(e){return e=Le(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Tr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Vi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Or(e){this._expirationTime=Xn(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Cr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function xr(e,t,n){this._internalRoot=Ft(e,t,n)}function Rr(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function jr(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new xr(e,!1,t)}function Ar(e,t,n,i,a){Rr(n)||r("200");var o=n._reactRootContainer;if(o){if("function"==typeof a){var s=a;a=function(){var e=Sr(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)}else{if(o=n._reactRootContainer=jr(n,i),"function"==typeof a){var u=a;a=function(){var e=Sr(o._internalRoot);u.call(e)}}vr(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)})}return Sr(o._internalRoot)}function Ir(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Rr(t)||r("200"),Tr(e,t,null,n)}/** @license React v16.4.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Nr=n(281),Mr=n(0),Lr=n(549),qr=n(179),Dr=n(283),Br=n(550),Ur=n(551),Fr=n(552),Vr=n(282);Mr||r("227");var Hr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,a,o,s,u,c){i.apply(Hr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,a,o,s,u){if(Hr.invokeGuardedCallback.apply(this,arguments),Hr.hasCaughtError()){var c=Hr.clearCaughtError();Hr._hasRethrowError||(Hr._hasRethrowError=!0,Hr._rethrowError=c)}},rethrowCaughtError:function(){return a.apply(Hr,arguments)},hasCaughtError:function(){return Hr._hasCaughtError},clearCaughtError:function(){if(Hr._hasCaughtError){var e=Hr._caughtError;return Hr._caughtError=null,Hr._hasCaughtError=!1,e}r("198")}},zr=null,Wr={},Gr=[],Kr={},Yr={},Qr={},$r={plugins:Gr,eventNameDispatchConfigs:Kr,registrationNameModules:Yr,registrationNameDependencies:Qr,possibleRegistrationNames:null,injectEventPluginOrder:u,injectEventPluginsByName:c},Xr=null,Jr=null,Zr=null,ei=null,ti={injectEventPluginOrder:u,injectEventPluginsByName:c},ni={injection:ti,getListener:y,runEventsInBatch:v,runExtractedEventsInBatch:b},ri=Math.random().toString(36).slice(2),ii="__reactInternalInstance$"+ri,ai="__reactEventHandlers$"+ri,oi={precacheFiberNode:function(e,t){t[ii]=e},getClosestInstanceFromNode:g,getInstanceFromNode:function(e){return e=e[ii],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:_,getFiberCurrentPropsFromNode:w,updateFiberProps:function(e,t){e[ai]=t}},si={accumulateTwoPhaseDispatches:x,accumulateTwoPhaseDispatchesSkipTarget:function(e){f(e,T)},accumulateEnterLeaveDispatches:R,accumulateDirectDispatches:function(e){f(e,C)}},ui={animationend:j("Animation","AnimationEnd"),animationiteration:j("Animation","AnimationIteration"),animationstart:j("Animation","AnimationStart"),transitionend:j("Transition","TransitionEnd")},ci={},li={};Lr.canUseDOM&&(li=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);var di=A("animationend"),fi=A("animationiteration"),pi=A("animationstart"),hi=A("transitionend"),mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yi=null,vi={_root:null,_startText:null,_fallbackText:null},bi="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),gi={type:null,target:null,currentTarget:Dr.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};qr(L.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Dr.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Dr.thatReturnsTrue)},persist:function(){this.isPersistent=Dr.thatReturnsTrue},isPersistent:Dr.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<bi.length;t++)this[bi[t]]=null}}),L.Interface=gi,L.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return qr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=qr({},r.Interface,e),n.extend=r.extend,B(n),n},B(L);var _i=L.extend({data:null}),wi=L.extend({data:null}),ki=[9,13,27,32],Ei=Lr.canUseDOM&&"CompositionEvent"in window,Si=null;Lr.canUseDOM&&"documentMode"in document&&(Si=document.documentMode);var Pi=Lr.canUseDOM&&"TextEvent"in window&&!Si,Ti=Lr.canUseDOM&&(!Ei||Si&&8<Si&&11>=Si),Oi=String.fromCharCode(32),Ci={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xi=!1,Ri=!1,ji={eventTypes:Ci,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(Ei)e:{switch(e){case"compositionstart":i=Ci.compositionStart;break e;case"compositionend":i=Ci.compositionEnd;break e;case"compositionupdate":i=Ci.compositionUpdate;break e}i=void 0}else Ri?U(e,n)&&(i=Ci.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Ci.compositionStart);return i?(Ti&&(Ri||i!==Ci.compositionStart?i===Ci.compositionEnd&&Ri&&(a=N()):(vi._root=r,vi._startText=M(),Ri=!0)),i=_i.getPooled(i,t,n,r),a?i.data=a:null!==(a=F(n))&&(i.data=a),x(i),a=i):a=null,(e=Pi?V(e,n):H(e,n))?(t=wi.getPooled(Ci.beforeInput,t,n,r),t.data=e,x(t)):t=null,null===a?t:null===t?a:[a,t]}},Ai=null,Ii={injectFiberControlledHostComponent:function(e){Ai=e}},Ni=null,Mi=null,Li={injection:Ii,enqueueStateRestore:W,needsStateRestore:G,restoreStateIfNeeded:K},qi=!1,Di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Bi=Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ui="function"==typeof Symbol&&Symbol.for,Fi=Ui?Symbol.for("react.element"):60103,Vi=Ui?Symbol.for("react.portal"):60106,Hi=Ui?Symbol.for("react.fragment"):60107,zi=Ui?Symbol.for("react.strict_mode"):60108,Wi=Ui?Symbol.for("react.profiler"):60114,Gi=Ui?Symbol.for("react.provider"):60109,Ki=Ui?Symbol.for("react.context"):60110,Yi=Ui?Symbol.for("react.async_mode"):60111,Qi=Ui?Symbol.for("react.forward_ref"):60112,$i=Ui?Symbol.for("react.timeout"):60113,Xi="function"==typeof Symbol&&Symbol.iterator,Ji=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zi=Object.prototype.hasOwnProperty,ea={},ta={},na={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){na[e]=new de(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];na[t]=new de(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){na[e]=new de(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){na[e]=new de(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){na[e]=new de(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){na[e]=new de(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){na[e]=new de(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){na[e]=new de(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){na[e]=new de(e,5,!1,e.toLowerCase(),null)});var ra=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ra,fe);na[t]=new de(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ra,fe);na[t]=new de(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ra,fe);na[t]=new de(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),na.tabIndex=new de("tabIndex",1,!1,"tabindex",null);var ia={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},aa=null,oa=null,sa=!1;Lr.canUseDOM&&(sa=ee("input")&&(!document.documentMode||9<document.documentMode));var ua={eventTypes:ia,_isInputEventSupported:sa,extractEvents:function(e,t,n,r){var i=t?_(t):window,a=void 0,o=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?a=Se:J(i)?sa?a=Re:(a=Ce,o=Oe):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=xe),a&&(a=a(e,t)))return we(a,n,r);o&&o(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ge(i,"number",i.value)}},ca=L.extend({view:null,detail:null}),la={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},da=ca.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),fa=da.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),pa={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ha={eventTypes:pa,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?g(t):null):a=null,a===t)return null;var o=void 0,s=void 0,u=void 0,c=void 0;return"mouseout"===e||"mouseover"===e?(o=da,s=pa.mouseLeave,u=pa.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=fa,s=pa.pointerLeave,u=pa.pointerEnter,c="pointer"),e=null==a?i:_(a),i=null==t?i:_(t),s=o.getPooled(s,a,n,r),s.type=c+"leave",s.target=e,s.relatedTarget=i,n=o.getPooled(u,t,n,r),n.type=c+"enter",n.target=i,n.relatedTarget=e,R(s,n,a,t),[s,n]}},ma=L.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ya=L.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),va=ca.extend({relatedTarget:null}),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_a=ca.extend({key:function(e){if(e.key){var t=ba[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=De(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?ga[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ae,charCode:function(e){return"keypress"===e.type?De(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?De(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wa=da.extend({dataTransfer:null}),ka=ca.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ae}),Ea=L.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Sa=da.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Pa=[["abort","abort"],[di,"animationEnd"],[fi,"animationIteration"],[pi,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[hi,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Ta={},Oa={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Be(e,!0)}),Pa.forEach(function(e){Be(e,!1)});var Ca={eventTypes:Ta,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Oa[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=Oa[e];if(!i)return null;switch(e){case"keypress":if(0===De(n))return null;case"keydown":case"keyup":e=_a;break;case"blur":case"focus":e=va;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ka;break;case di:case fi:case pi:e=ma;break;case hi:e=Ea;break;case"scroll":e=ca;break;case"wheel":e=Sa;break;case"copy":case"cut":case"paste":e=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=fa;break;default:e=L}return t=e.getPooled(i,t,n,r),x(t),t}},xa=Ca.isInteractiveTopLevelEventType,Ra=[],ja=!0,Aa={get _enabled(){return ja},setEnabled:Fe,isEnabled:function(){return ja},trapBubbledEvent:Ve,trapCapturedEvent:He,dispatchEvent:We},Ia={},Na=0,Ma="_reactListenersID"+(""+Math.random()).slice(2),La=Lr.canUseDOM&&"documentMode"in document&&11>=document.documentMode,qa={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Da=null,Ba=null,Ua=null,Fa=!1,Va={eventTypes:qa,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Ge(a),i=Qr.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?_(t):window,e){case"focus":(J(a)||"true"===a.contentEditable)&&(Da=a,Ba=t,Ua=null);break;case"blur":Ua=Ba=Da=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":return Fa=!1,$e(n,r);case"selectionchange":if(La)break;case"keydown":case"keyup":return $e(n,r)}return null}};ti.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Xr=oi.getFiberCurrentPropsFromNode,Jr=oi.getInstanceFromNode,Zr=oi.getNodeFromInstance,ti.injectEventPluginsByName({SimpleEventPlugin:Ca,EnterLeaveEventPlugin:ha,ChangeEventPlugin:ua,SelectEventPlugin:Va,BeforeInputEventPlugin:ji});var Ha="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,za=Date,Wa=setTimeout,Ga=clearTimeout,Ka=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var Ya=performance;Ka=function(){return Ya.now()}}else Ka=function(){return za.now()};var Qa=void 0,$a=void 0;if(Lr.canUseDOM){var Xa="function"==typeof Ha?Ha:function(){r("276")},Ja=null,Za=null,eo=-1,to=!1,no=!1,ro=0,io=33,ao=33,oo={didTimeout:!1,timeRemaining:function(){var e=ro-Ka();return 0<e?e:0}},so=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{$a(e),r||(to=!0,window.postMessage(uo,"*"))}},uo="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===uo&&(to=!1,null!==Ja)){if(null!==Ja){var t=Ka();if(!(-1===eo||eo>t)){e=-1;for(var n=[],r=Ja;null!==r;){var i=r.timeoutTime;-1!==i&&i<=t?n.push(r):-1!==i&&(-1===e||i<e)&&(e=i),r=r.next}if(0<n.length)for(oo.didTimeout=!0,t=0,r=n.length;t<r;t++)so(n[t],oo);eo=e}}for(e=Ka();0<ro-e&&null!==Ja;)e=Ja,oo.didTimeout=!1,so(e,oo),e=Ka();null===Ja||no||(no=!0,Xa(co))}},!1);var co=function(e){no=!1;var t=e-ro+ao;t<ao&&io<ao?(8>t&&(t=8),ao=t<io?io:t):io=t,ro=e+ao,to||(to=!0,window.postMessage(uo,"*"))};Qa=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=Ka()+t.timeout),(-1===eo||-1!==n&&n<eo)&&(eo=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===Ja?Ja=e:null!==(t=e.prev=Za)&&(t.next=e),Za=e,no||(no=!0,Xa(co)),e},$a=function(e){if(null!==e.prev||Ja===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,Ja=t):null!==n?(n.next=null,Za=n):Za=Ja=null}}}else{var lo=new Map;Qa=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=Wa(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return lo.set(e,n),t},$a=function(e){var t=lo.get(e.scheduledCallback);lo.delete(e),Ga(t)}}var fo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},po=void 0,ho=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==fo.svg||"innerHTML"in e)e.innerHTML=t;else{for(po=po||document.createElement("div"),po.innerHTML="<svg>"+t+"</svg>",t=po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),mo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yo=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(e){yo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mo[t]=mo[e]})});var vo=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),bo=Dr.thatReturns(""),go={createElement:ft,createTextNode:pt,setInitialProperties:ht,diffProperties:mt,updateProperties:yt,diffHydratedProperties:vt,diffHydratedText:bt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(ve(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=w(i);a||r("90"),ie(i),ve(i,a)}}}break;case"textarea":rt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}}},_o=null,wo=null,ko=Ka,Eo=Qa,So=$a;new Set;var Po=[],To=-1,Oo=Et(Vr),Co=Et(!1),xo=Vr,Ro=null,jo=null,Ao=!1,Io=Et(null),No=Et(null),Mo=Et(0),Lo={},qo=Et(Lo),Do=Et(Lo),Bo=Et(Lo),Uo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Ie(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=er();r=Jn(r,e);var i=Yt(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),$t(e,i,r),Zn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=er();r=Jn(r,e);var i=Yt(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),$t(e,i,r),Zn(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=er();n=Jn(n,e);var r=Yt(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),$t(e,r,n),Zn(e,n)}},Fo=Array.isArray,Vo=vn(!0),Ho=vn(!1),zo=null,Wo=null,Go=!1,Ko=void 0,Yo=void 0,Qo=void 0;Ko=function(){},Yo=function(e,t,n){(t.updateQueue=n)&&In(t)},Qo=function(e,t,n,r){n!==r&&In(t)};var $o=ko(),Xo=2,Jo=$o,Zo=0,es=0,ts=!1,ns=null,rs=null,is=0,as=-1,os=!1,ss=null,us=!1,cs=!1,ls=null,ds=null,fs=null,ps=0,hs=void 0,ms=!1,ys=null,vs=0,bs=0,gs=!1,_s=!1,ws=null,ks=null,Es=!1,Ss=!1,Ps=!1,Ts=null,Os=1e3,Cs=0,xs=1,Rs={updateContainerAtExpirationTime:wr,createContainer:function(e,t,n){return Ft(e,t,n)},updateContainer:Er,flushRoot:cr,requestWork:ir,computeUniqueAsyncExpiration:Xn,batchedUpdates:yr,unbatchedUpdates:vr,deferredUpdates:tr,syncUpdates:nr,interactiveUpdates:gr,flushInteractiveUpdates:function(){ms||0===bs||(ur(bs,!1,null),bs=0)},flushControlled:_r,flushSync:br,getPublicRootInstance:Sr,findHostInstance:kr,findHostInstanceWithNoPortals:function(e){return e=qe(e),null===e?null:e.stateNode},injectIntoDevTools:Pr};Ii.injectFiberControlledHostComponent(go),Or.prototype.render=function(e){this._defer||r("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Cr;return wr(e,t,null,n,i._onCommit),i},Or.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Or.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,a=t;a!==this;)i=a,a=a._next;null===i&&r("251"),i._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,cr(e,n),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Or.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Cr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Cr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r("191",n),n()}}},xr.prototype.render=function(e,t){var n=this._internalRoot,r=new Cr;return t=void 0===t?null:t,null!==t&&r.then(t),Er(e,n,null,r._onCommit),r},xr.prototype.unmount=function(e){var t=this._internalRoot,n=new Cr;return e=void 0===e?null:e,null!==e&&n.then(e),Er(null,t,null,n._onCommit),n},xr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Cr;return n=void 0===n?null:n,null!==n&&i.then(n),Er(t,r,e,i._onCommit),i},xr.prototype.createBatch=function(){var e=new Or(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Y=Rs.batchedUpdates,Q=Rs.interactiveUpdates,$=Rs.flushInteractiveUpdates;var js={createPortal:Ir,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:kr(e)},hydrate:function(e,t,n){return Ar(null,e,t,!0,n)},render:function(e,t,n){return Ar(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),Ar(e,t,n,!1,i)},unmountComponentAtNode:function(e){return Rr(e)||r("40"),!!e._reactRootContainer&&(vr(function(){Ar(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ir.apply(void 0,arguments)},unstable_batchedUpdates:yr,unstable_deferredUpdates:tr,unstable_interactiveUpdates:gr,flushSync:br,unstable_flushControlled:_r,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:ni,EventPluginRegistry:$r,EventPropagators:si,ReactControlledComponent:Li,ReactDOMComponentTree:oi,ReactDOMEventListener:Aa},unstable_createRoot:function(e,t){return new xr(e,!0,null!=t&&!0===t.hydrate)}};Pr({findFiberByHostInstance:g,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var As={default:js},Is=As&&js||As;e.exports=Is.default?Is.default:Is},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!a.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(553);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(554);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){e.exports=n(556).default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:c.default}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(557),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u=n(558),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.init(t,n),this.type="backend"}return a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=s.defaults(t,this.options||{},i())}},{key:"readMulti",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath(e,t));var i=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n)}},{key:"read",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var i=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(i,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,function(r,i){if(i.status>=500&&i.status<600)return t("failed loading "+e,!0);if(i.status>=400&&i.status<500)return t("failed loading "+e,!1);var a=void 0,o=void 0;try{a=n.options.parse(r,e)}catch(t){o="failed parsing "+e+" to json"}if(o)return t(o,!1);t(null,a)})}},{key:"create",value:function(e,t,n,r){var i=this;"string"==typeof e&&(e=[e]);var a={};a[n]=r||"",e.forEach(function(e){var n=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:t});i.options.ajax(n,i.options,function(e,t){},a)})}}]),e}();l.type="backend",t.default=l},function(e,t,n){"use strict";function r(e){return o.call(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}function i(e){return o.call(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=r,t.extend=i;var a=[],o=a.forEach,s=a.slice},function(e,t,n){"use strict";function r(e,t){if(t&&"object"===(void 0===t?"undefined":a(t))){var n="",r=encodeURIComponent;for(var i in t)n+="&"+r(i)+"="+r(t[i]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function i(e,t,n,i,o){i&&"object"===(void 0===i?"undefined":a(i))&&(o||(i._t=new Date),i=r("",i).slice(1)),t.queryStringParams&&(e=r(e,t.queryStringParams));try{var s;s=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0"),s.open(i?"POST":"GET",e,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,i&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var u=t.customHeaders;if(u)for(var c in u)s.setRequestHeader(c,u[c]);s.onreadystatechange=function(){s.readyState>3&&n&&n(s.responseText,s)},s.send(i)}catch(e){console&&console.log(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i},function(e,t){e.exports={locales:["ar-SA","bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","es-US","es-ES","es-LA","fi-FI","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","vi-VN","zh-TW","zh-CN"]}},function(e,t){e.exports={Live:"Live",Advertisement:"Advertisement","This Ad supports {{channelName}}":"This Ad supports {{channelName}}","This Ad supports Twitch":"This Ad supports Twitch","{{channelName}} will be back shortly. This Ad supports them.":"{{channelName}} will be back shortly. This Ad supports them.","This video will be back shortly. This Ad supports {{channelName}}.":"This video will be back shortly. This Ad supports {{channelName}}.","This ad helps {{channelName}} stream on Twitch for a living.":"This ad helps {{channelName}} stream on Twitch for a living.","This ad helps Twitch pay for servers. Thanks!.":"This ad helps Twitch pay for servers. Thanks!.","{{channelName}} will be back shortly after these messagse. This helps {{channelName}} stream for a living.":"{{channelName}} will be back shortly after these messagse. This helps {{channelName}} stream for a living.","This video will be back after these messages. They help {{channelName}} stream for a living.":"This video will be back after these messages. They help {{channelName}} stream for a living.","Thanks for watching the stream! This Ad supports {{channelName}}.":"Thanks for watching the stream! This Ad supports {{channelName}}.","Thanks for watching the stream! This Ad supports Twitch.":"Thanks for watching the stream! This Ad supports Twitch.",ID:"ID","Impression Time":"Impression Time","Ad Position":"Ad Position","Total Ads":"Total Ads","Creative ID":"Creative ID","Ad Wrapper IDs":"Ad Wrapper IDs",Title:"Title",System:"System","Content Type":"Content Type","VAST Media Height":"VAST Media Height","VAST Media Width":"VAST Media Width","VAST Media Bitrate":"VAST Media Bitrate",Pause:"Pause",Play:"Play",Mute:"Mute",Unmute:"Unmute",Options:"Options",Fullscreen:"Fullscreen","Exit Fullscreen":"Exit Fullscreen","Player Options":"Player Options","Video Quality":"Video Quality",Source:"Source",High:"High",Medium:"Medium",Low:"Low",Mobile:"Mobile","Popout Player":"Popout Player","Video Stats":"Video Stats","Ad Stats":"Ad Stats","Report Playback Issue":"Report Playback Issue",Captions:"Captions","Closed Captioning":"Closed Captioning","Closed Caption Settings":"Closed Caption Settings",Presets:"Presets",Text:"Text",Background:"Background",Window:"Window",Aa:"Aa",Font:"Font","Mono Serif":"Mono Serif",Serif:"Serif","Mono Sans-Serif":"Mono Sans-Serif","Sans-Serif":"Sans-Serif",Casual:"Casual",Cursive:"Cursive","Small Capitals":"Small Capitals",Position:"Position",Bottom:"Bottom",Top:"Top",Justification:"Justification",Alignment:"Alignment",Center:"Center",Left:"Left",Right:"Right",Style:"Style",Effects:"Effects",Effect:"Effect",Color:"Color",Size:"Size",A:"A",Opacity:"Opacity",Solid:"Solid",Translucent:"Translucent","Semi-Transparent":"Semi-Transparent",Transparent:"Transparent",Flashing:"Flashing","Increase Size":"Increase Size","Decrease Size":"Decrease Size",Select:"Select","Audio and video stutter":"Audio and video stutter","Leave feedback?":"Leave feedback?","Video stutters, but audio is fine":"Video stutters, but audio is fine","Video is completely black or doesn't load":"Video is completely black or doesn't load","Audio and video aren't synced":"Audio and video aren't synced","Fullscreen playback doesn't work":"Fullscreen playback doesn't work","Advertisement can't be muted or is too loud":"Advertisement can't be muted or is too loud","Advertisement has played too many times":"Advertisement has played too many times","Advertisement playback doesn't work":"Advertisement playback doesn't work","Advertisement is offensive or inappropriate":"Advertisement is offensive or inappropriate","Advertisement is too loud":"Advertisement is too loud","Advertisement is not relevant to my interests":"Advertisement is not relevant to my interests",Submit:"Submit","Theatre Mode":"Theatre Mode","Exit Theatre Mode":"Exit Theatre Mode","Video could not be found, or has been deleted by its owner":"Video could not be found, or has been deleted by its owner","Channel could not be found, or has been deleted by its owner":"Channel could not be found, or has been deleted by its owner","Video is loading":"Video is loading","Video is not available":"Video is not available","Flash is not installed":"Flash is not installed","The broadcaster indicated that the channel is intended for mature audiences.":"The broadcaster indicated that the channel is intended for mature audiences.","Start Watching":"Start Watching","Video Resolution":"Video Resolution","Display Resolution":"Display Resolution",FPS:"FPS","Skipped Frames":"Skipped Frames","Buffer Size":"Buffer Size","Latency To Broadcaster":"Latency To Broadcaster","Latency Mode":"Latency Mode","Normal Latency":"Normal Latency","Low Latency":"Low Latency","Latency To Encoder":"Latency To Encoder","Playback Rate":"Playback Rate","Memory Usage":"Memory Usage","Backend Version":"Backend Version","This channel is not configured in Low Latency mode":"This channel is not configured in Low Latency mode","This channel is configured in Low Latency mode. Low Latency enables you to interact with the broadcaster with minimal delay. However, some users may experience increased buffering as a result. You can disable Low latency mode using this toggle.":"This channel is configured in Low Latency mode. Low Latency enables you to interact with the broadcaster with minimal delay. However, some users may experience increased buffering as a result. You can disable Low latency mode using this toggle.","Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode":"Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode","This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.":"This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.","This video quality is only available to subscribers. Subscribe now to watch and support %s.":"This video quality is only available to subscribers. Subscribe now to watch and support %s.","Playing on {{device}}":"Playing on {{device}}"," has started a playlist.":" has started a playlist.","Introducing Auto Quality!":"Introducing Auto Quality!","You can enable automatic video quality selection by clicking on the gear menu and selecting Auto under Video Quality.":"You can enable automatic video quality selection by clicking on the gear menu and selecting Auto under Video Quality.","Submit feedback by selecting Report Playback Issue from the gear menu.":"Submit feedback by selecting Report Playback Issue from the gear menu.",Offline:"Offline","Get notified when {{channelName}} is live":"Get notified when {{channelName}} is live","Follow and get notified when {{channelName}} is live":"Follow and get notified when {{channelName}} is live","Live Broadcast has ended":"Live Broadcast has ended","Get notified when {{channelName}} goes live next":"Get notified when {{channelName}} goes live next","Follow {{channelName}} on Twitch":"Follow {{channelName}} on Twitch",Follow:"Follow",Following:"Following",Unfollow:"Unfollow",Notifications:"Notifications","Turn On Notifications":"Turn On Notifications",Playlist:"Playlist",Subscribe:"Subscribe","Gift a Sub":"Gift a Sub",Close:"Close","The broadcast is down.":"The broadcast is down.","The player will automatically reload when the broadcast is back.":"The player will automatically reload when the broadcast is back.","Copy Video URL at Current Time":"Copy Video URL at Current Time","Thanks for your report":"Thanks for your report","Coming Up":"Coming Up","Now playing: ":"Now playing: ","playing {{game}} for {{viewerCount}} viewer":"playing {{game}} for {{viewerCount}} viewer","playing {{game}} for {{viewerCount}} viewer_plural":"playing {{game}} for {{viewerCount}} viewers",Chromecast:"Chromecast","Watch on Twitch":"Watch on Twitch","You must be {{age}} to view this content. Please enter your date of birth.":"You must be {{age}} to view this content. Please enter your date of birth.","Sorry, you must be over the age of {{age}} to view this content.":"Sorry, you must be over the age of {{age}} to view this content.","Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.":"Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","Clip (Alt+X)":"Clip (Alt+X)","Clips is under maintenance and will be back in a few hours.":"Clips is under maintenance and will be back in a few hours.",Clip:"Clip","Learn More":"Learn More","Make an impact with Clip Titles":"Make an impact with Clip Titles","Give your clips the perfect title to share more about your favorite moments.":"Give your clips the perfect title to share more about your favorite moments.","Clip Trimming is Here":"Clip Trimming is Here","It just got a lot easier to share the perfect moment with Clips.":"It just got a lot easier to share the perfect moment with Clips.",Auto:"Auto","HTML5 Player":"HTML5 Player","You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.":"You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.","Give Feedback":"Give Feedback","No supported video backend available; Flash is not installed":"No supported video backend available; Flash is not installed","Up Next":"Up Next",Cancel:"Cancel","Playing in {{timeRemaining}} second":"Playing in {{timeRemaining}} second","Playing in {{timeRemaining}} second_plural":"Playing in {{timeRemaining}} seconds","Mini Player":"Mini Player",ON:"ON",OFF:"OFF","By {{author}}":"By {{author}}","{{count}} video":"{{count}} video","{{count}} video_plural":"{{count}} videos","{{count}} second":"{{count}} second","{{count}} second_plural":"{{count}} seconds","{{count}} minute":"{{count}} minute","{{count}} minute_plural":"{{count}} minutes","{{count}} hour":"{{count}} hour","{{count}} hour_plural":"{{count}} hours","{{hoursText}} and {{minutesText}}":"{{hoursText}} and {{minutesText}}","{{count}} second left":"{{count}} second left","{{count}} second left_plural":"{{count}} seconds left","{{count}} minute left":"{{count}} minute left","{{count}} minute left_plural":"{{count}} minutes left","{{count}} hour left":"{{count}} hour left","{{count}} hour left_plural":"{{count}} hours left","{{hoursText}} and {{minutesText}} left":"{{hoursText}} and {{minutesText}} left","{{currentPosition}}/{{totalVideos}} video":"{{currentPosition}}/{{totalVideos}} video","{{currentPosition}}/{{totalVideos}} video_plural":"{{currentPosition}}/{{totalVideos}} videos","Video unavailable":"Video unavailable","Start watching":"Start watching","Skip this video":"Skip this video","This collection is empty.":"This collection is empty.",Quality:"Quality",Speed:"Speed",Normal:"Normal","Closed Captions Options":"Closed Captions Options",Advanced:"Advanced","Noticed a video playback issue? Let us know!":"Noticed a video playback issue? Let us know!","Sent!":"Sent!","Copy Video URL at {{time}}":"Copy Video URL at {{time}}","Copied!":"Copied!","Playing in":"Playing in","{{timeRemaining}} second":"{{timeRemaining}} second","{{timeRemaining}} second_plural":"{{timeRemaining}} seconds","Watch Now":"Watch Now","Watch Next":"Watch Next","Most Recent Video":"Most Recent Video",Settings:"Settings","Is your video buffering? Try the Auto quality option.":"Is your video buffering? Try the Auto quality option.","Your Twitch User ID":"Your Twitch User ID","Report Extension":"Report Extension","More from {{channelName}}":"More from {{channelName}}",Vodcast:"Vodcast",Premiere:"Premiere",Rerun:"Rerun","Playing pre-recorded video":"Playing pre-recorded video","Playing highlight":"Playing highlight","Playing uploaded video":"Playing uploaded video","Playing past broadcast":"Playing past broadcast","Rerun of video":"Rerun of video","Premiering video":"Premiering video","Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)":"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)","terms of service":"terms of service","Grant Access":"Grant Access","Revoke Access":"Revoke Access","You are granting {{extensionName}} the following access:":"You are granting {{extensionName}} the following access:","You are revoking the following access for {{extensionName}}:":"You are revoking the following access for {{extensionName}}:","Allows this extension to know your User ID on Twitch.":"Allows this extension to know your User ID on Twitch.","View Details":"View Details","Manage Access":"Manage Access",Access:"Access",Granted:"Granted","Active Extensions":"Active Extensions",Extensions:"Extensions",Interactions:"Interactions","Manage Permissions":"Manage Permissions",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December","Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.":"Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.","You must be logged in to use this extension feature":"You must be logged in to use this extension feature","The channel you are attempting to follow does not exist":"The channel you are attempting to follow does not exist","You are already following {{channelName}}":"You are already following {{channelName}}","You are about to follow {{channelName}}":"You are about to follow {{channelName}}","You must be logged in to use this extension feature.":"You must be logged in to use this extension feature.",'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under':'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under',Buy:"Buy","In-Extension Purchase":"In-Extension Purchase","{{extensionName}} Extension":"{{extensionName}} Extension","You seem to be offline. Please wait while we try to reconnect.":"You seem to be offline. Please wait while we try to reconnect.",Share:"Share","{{displayName}} playing {{game}}":"{{displayName}} playing {{game}}","{{numberOfViews}} view":"{{numberOfViews}} view","{{numberOfViews}} view_plural":"{{numberOfViews}} views","Keyboard Shortcuts":"Keyboard Shortcuts","Pause/Play":"Pause/Play","Back/Forward 1 frame":"Back/Forward 1 frame","Slow down/Speed up":"Slow down/Speed up","Toggle Fullscreen":"Toggle Fullscreen","Show this menu":"Show this menu","Back/Forward {{count}} second":"Back/Forward {{count}} second","Back/Forward {{count}} second_plural":"Back/Forward {{count}} seconds",Space:"Space",Esc:"Esc",Shift:"Shift","{{displayName}} streaming on Twitch":"{{displayName}} streaming on Twitch","{{displayName}}'s video on Twitch":"{{displayName}}'s video on Twitch","Full Video":"Full Video","Watch {{broadcaster}} Live":"Watch {{broadcaster}} Live","Continue Watching":"Continue Watching","Sharing is Caring":"Sharing is Caring","Embed Code":"Embed Code",Copy:"Copy",Back:"Back",Link:"Link","Check out this clip from {{displayName}}'s broadcast":"Check out this clip from {{displayName}}'s broadcast","Tap to unmute":"Tap to unmute","Click to unmute":"Click to unmute","{{time}} sec.":"{{time}} sec.","{{time}} sec._plural":"{{time}} sec.","Success!":"Success!","Bits Balance {{bitsCount}}":"Bits Balance {{bitsCount}}","{{bitsCount}} Bits":"{{bitsCount}} Bits","After confirming, your Bits balance will be {{bitsBalance}}":"After confirming, your Bits balance will be {{bitsBalance}}",Confirm:"Confirm","Buy Bits":"Buy Bits","By clicking ":"By clicking ","You need {{bitsRequired}} more Bits to proceed.":"You need {{bitsRequired}} more Bits to proceed.","Sorry, something went wrong. Please try again.":"Sorry, something went wrong. Please try again.","Safari is not currently supported for this stream. Please try Chrome or Firefox.":"Safari is not currently supported for this stream. Please try Chrome or Firefox.","Error Code":"Error Code","This premium content is not available in your region.":"This premium content is not available in your region.","Your device does not support playback of this premium content. Please try a different device.":"Your device does not support playback of this premium content. Please try a different device.","A proxy or unblocker has been detected. This premium content will not be available to you while it is in use.":"A proxy or unblocker has been detected. This premium content will not be available to you while it is in use.","We encountered a problem while loading your premium content. Please try again in a moment.":"We encountered a problem while loading your premium content. Please try again in a moment.","This channel has embedding disabled.":"This channel has embedding disabled.","Please connect to a Wi-Fi network to watch this premium content.":"Please connect to a Wi-Fi network to watch this premium content.","Command Center view: Watch with All-Access Pass":"Command Center view: Watch with All-Access Pass","Chapter Select":"Chapter Select","You can only watch this stream on the Twitch website.":"You can only watch this stream on the Twitch website.","{{broadcasterHero}} vs {{opponentHero}}":"{{broadcasterHero}} vs {{opponentHero}}","This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.":"This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.","You've declined to use this test extension. To use it, please refresh this page and select accept.":"You've declined to use this test extension. To use it, please refresh this page and select accept.",Accept:"Accept",Decline:"Decline","The video download was cancelled. Please try again.":"The video download was cancelled. Please try again.","There was a network error. Please try again.":"There was a network error. Please try again.","An error occurred. Please try again.":"An error occurred. Please try again.","Your browser encountered an error while decoding the video.":"Your browser encountered an error while decoding the video.","This video is either unavailable or not supported in this browser.":"This video is either unavailable or not supported in this browser.","This video is unavailable.":"This video is unavailable.","Your browser does not support playback of this video.":"Your browser does not support playback of this video.","{{channelName}} is live streaming for subscribers.":"{{channelName}} is live streaming for subscribers.","Subscribe now to watch and support the stream.":"Subscribe now to watch and support the stream.","Get Access":"Get Access","Ad {{adPosition}} of {{totalAds}} : ({{minutes}}:{{seconds}})":"Ad {{adPosition}} of {{totalAds}} : ({{minutes}}:{{seconds}})"}},function(e,t,n){/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.1.3
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var e=document.documentElement,t=null,n="initial",r=n;try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(r=window.sessionStorage.getItem("what-intent"))}catch(e){}var i=null,a=["input","select","textarea"],o=[],s=[16,17,18,91,93],u=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},l=!1,d=!1,f={x:null,y:null},p={2:"touch",3:"touch",4:"mouse"},h=!1;try{var m=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,m)}catch(e){}var y=function(){var e=!!h&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",g)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",g)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",g),"ontouchstart"in window&&(window.addEventListener("touchstart",k,e),window.addEventListener("touchend",v))),window.addEventListener(S(),g,e),window.addEventListener("keydown",k),window.addEventListener("keyup",k),window.addEventListener("focusin",_),window.addEventListener("focusout",w)},v=function(e){if(!l){var t=e.which,i=c[e.type];"pointer"===i&&(i=E(e));var o=!u.length&&-1===s.indexOf(t),d=u.length&&-1!==u.indexOf(t),f="keyboard"===i&&t&&(o||d)||"mouse"===i||"touch"===i;if(n!==i&&f){n=i;try{window.sessionStorage.setItem("what-input",n)}catch(e){}b("input")}if(r!==i&&f){var p=document.activeElement;if(p&&p.nodeName&&-1===a.indexOf(p.nodeName.toLowerCase())){r=i;try{window.sessionStorage.setItem("what-intent",r)}catch(e){}b("intent")}}}},b=function(t){e.setAttribute("data-what"+t,"input"===t?n:r),P(t)},g=function(e){if(O(e),!l&&!d){var t=c[e.type];if("pointer"===t&&(t=E(e)),r!==t){r=t;try{window.sessionStorage.setItem("what-intent",r)}catch(e){}b("intent")}}},_=function(n){if(!n.target.nodeName)return void w();t=n.target.nodeName.toLowerCase(),e.setAttribute("data-whatelement",t),n.target.classList&&n.target.classList.length&&e.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))},w=function(){t=null,e.removeAttribute("data-whatelement"),e.removeAttribute("data-whatclasses")},k=function(e){v(e),window.clearTimeout(i),l=!0,i=window.setTimeout(function(){l=!1},100)},E=function(e){return"number"==typeof e.pointerType?p[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},S=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},P=function(e){for(var t=0,i=o.length;t<i;t++)o[t].type===e&&o[t].fn.call(void 0,"input"===e?n:r)},T=function(e){for(var t=0,n=o.length;t<n;t++)if(o[t].fn===e)return t},O=function(e){f.x!==e.screenX||f.y!==e.screenY?(d=!1,f.x=e.screenX,f.y=e.screenY):d=!0};return"addEventListener"in window&&Array.prototype.indexOf&&function(){c[S()]="mouse",y(),b("input"),b("intent")}(),{ask:function(e){return"intent"===e?r:n},element:function(){return t},ignoreKeys:function(e){s=e},specificKeys:function(e){u=e},registerOnChange:function(e,t){o.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=T(e);(t||0===t)&&o.splice(t,1)}}}()}])})},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return a.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function i(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o=void 0,s={};for(var u in t){if(r.hasOwnProperty(u))for(o=0;o<r[u].length;o++){var c=r[u][o];s[r[u][o]]=n(c)}s[u]=n(u)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var a=n(0)},function(e,t,n){/*!
 * 
 *         SimpleBar.js - v2.6.1
 *         Scrollbars, simpler.
 *         https://grsmto.github.io/simplebar/
 *         
 *         Made by Adrien Grsmto from a fork by Jonathan Nicol
 *         Under MIT License
 *       
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=27)}([function(e,t,n){var r=n(23)("wks"),i=n(12),a=n(1).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5),i=n(11);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(6),i=n(33),a=n(34),o=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(23)("keys"),i=n(12);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(1),i=n(3),a=n(4),o=n(18),s=n(19),u=function(e,t,n){var c,l,d,f,p=e&u.F,h=e&u.G,m=e&u.S,y=e&u.P,v=e&u.B,b=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,g=h?i:i[t]||(i[t]={}),_=g.prototype||(g.prototype={});h&&(n=t);for(c in n)l=!p&&b&&void 0!==b[c],d=(l?b:n)[c],f=v&&l?s(d,r):y&&"function"==typeof d?s(Function.call,d):d,b&&o(b,c,d,e&u.U),g[c]!=d&&a(g,c,f),y&&_[c]!=d&&(_[c]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(10),i=n(1).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(1),i=n(4),a=n(2),o=n(12)("src"),s=Function.toString,u=(""+s).split("toString");n(3).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(a(n,o)||i(n,o,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){var r=n(35);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(41),i=n(9);e.exports=function(e){return r(i(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(8),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(1),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(5).f,i=n(2),a=n(0)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(9);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28);var s=r(n(53)),u=r(n(54)),c=r(n(56));n(57),Object.assign=n(58);var l=function(){function e(t,n){i(this,e),this.el=t,this.flashTimeout,this.contentEl,this.scrollContentEl,this.dragOffset={x:0,y:0},this.isVisible={x:!0,y:!0},this.scrollOffsetAttr={x:"scrollLeft",y:"scrollTop"},this.sizeAttr={x:"offsetWidth",y:"offsetHeight"},this.scrollSizeAttr={x:"scrollWidth",y:"scrollHeight"},this.offsetAttr={x:"left",y:"top"},this.globalObserver,this.mutationObserver,this.resizeObserver,this.currentAxis,this.isRtl,this.options=Object.assign({},e.defaultOptions,n),this.classNames=this.options.classNames,this.scrollbarWidth=(0,s.default)(),this.offsetSize=20,this.flashScrollbar=this.flashScrollbar.bind(this),this.onDragY=this.onDragY.bind(this),this.onDragX=this.onDragX.bind(this),this.onScrollY=this.onScrollY.bind(this),this.onScrollX=this.onScrollX.bind(this),this.drag=this.drag.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.recalculate=(0,u.default)(this.recalculate,100,{leading:!0}),this.init()}return o(e,[{key:"init",value:function(){this.el.SimpleBar=this,this.initDOM(),this.scrollbarX=this.trackX.querySelector(".".concat(this.classNames.scrollbar)),this.scrollbarY=this.trackY.querySelector(".".concat(this.classNames.scrollbar)),this.isRtl="rtl"===getComputedStyle(this.contentEl).direction,this.scrollContentEl.style[this.isRtl?"paddingLeft":"paddingRight"]="".concat(this.scrollbarWidth||this.offsetSize,"px"),this.scrollContentEl.style.marginBottom="-".concat(2*this.scrollbarWidth||this.offsetSize,"px"),this.contentEl.style.paddingBottom="".concat(this.scrollbarWidth||this.offsetSize,"px"),0!==this.scrollbarWidth&&(this.contentEl.style[this.isRtl?"marginLeft":"marginRight"]="-".concat(this.scrollbarWidth,"px")),this.recalculate(),this.initListeners()}},{key:"initDOM",value:function(){var e=this;if(Array.from(this.el.children).filter(function(t){return t.classList.contains(e.classNames.scrollContent)}).length)this.trackX=this.el.querySelector(".".concat(this.classNames.track,".horizontal")),this.trackY=this.el.querySelector(".".concat(this.classNames.track,".vertical")),this.scrollContentEl=this.el.querySelector(".".concat(this.classNames.scrollContent)),this.contentEl=this.el.querySelector(".".concat(this.classNames.content));else{for(this.scrollContentEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.scrollContentEl.classList.add(this.classNames.scrollContent),this.contentEl.classList.add(this.classNames.content);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.scrollContentEl.appendChild(this.contentEl),this.el.appendChild(this.scrollContentEl)}if(!this.trackX||!this.trackY){var t=document.createElement("div"),n=document.createElement("div");t.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),t.appendChild(n),this.trackX=t.cloneNode(!0),this.trackX.classList.add("horizontal"),this.trackY=t.cloneNode(!0),this.trackY.classList.add("vertical"),this.el.insertBefore(this.trackX,this.el.firstChild),this.el.insertBefore(this.trackY,this.el.firstChild)}this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var e=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),this.scrollbarY.addEventListener("mousedown",this.onDragY),this.scrollbarX.addEventListener("mousedown",this.onDragX),this.scrollContentEl.addEventListener("scroll",this.onScrollY),this.contentEl.addEventListener("scroll",this.onScrollX),"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver(function(t){t.forEach(function(t){(e.isChildNode(t.target)||t.addedNodes.length)&&e.recalculate()})}),this.mutationObserver.observe(this.el,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.resizeObserver=new c.default(this.recalculate.bind(this)),this.resizeObserver.observe(this.el)}},{key:"removeListeners",value:function(){this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),this.scrollbarX.removeEventListener("mousedown",this.onDragX),this.scrollbarY.removeEventListener("mousedown",this.onDragY),this.scrollContentEl.removeEventListener("scroll",this.onScrollY),this.contentEl.removeEventListener("scroll",this.onScrollX),this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"onDragX",value:function(e){this.onDrag(e,"x")}},{key:"onDragY",value:function(e){this.onDrag(e,"y")}},{key:"onDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";e.preventDefault();var n="y"===t?this.scrollbarY:this.scrollbarX,r="y"===t?e.pageY:e.pageX;this.dragOffset[t]=r-n.getBoundingClientRect()[this.offsetAttr[t]],this.currentAxis=t,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.onEndDrag)}},{key:"drag",value:function(e){var t,n,r;e.preventDefault(),"y"===this.currentAxis?(t=e.pageY,n=this.trackY,r=this.scrollContentEl):(t=e.pageX,n=this.trackX,r=this.contentEl);var i=t-n.getBoundingClientRect()[this.offsetAttr[this.currentAxis]]-this.dragOffset[this.currentAxis],a=i/n[this.sizeAttr[this.currentAxis]],o=a*this.contentEl[this.scrollSizeAttr[this.currentAxis]];r[this.scrollOffsetAttr[this.currentAxis]]=o}},{key:"onEndDrag",value:function(){document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.onEndDrag)}},{key:"resizeScrollbar",value:function(){var e,t,n,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";"x"===a?(e=this.trackX,t=this.scrollbarX,n=this.contentEl[this.scrollOffsetAttr[a]],r=this.contentSizeX,i=this.scrollbarXSize):(e=this.trackY,t=this.scrollbarY,n=this.scrollContentEl[this.scrollOffsetAttr[a]],r=this.contentSizeY,i=this.scrollbarYSize);var o=i/r,s=n/(r-i),u=Math.max(~~(o*i),this.options.scrollbarMinSize),c=~~((i-u)*s);this.isVisible[a]=i<r,this.isVisible[a]||this.options.forceVisible?(e.style.visibility="visible",this.options.forceVisible?t.style.visibility="hidden":t.style.visibility="visible","x"===a?(t.style.left="".concat(c,"px"),t.style.width="".concat(u,"px")):(t.style.top="".concat(c,"px"),t.style.height="".concat(u,"px"))):e.style.visibility="hidden"}},{key:"onScrollX",value:function(){this.flashScrollbar("x")}},{key:"onScrollY",value:function(){this.flashScrollbar("y")}},{key:"onMouseEnter",value:function(){this.flashScrollbar("x"),this.flashScrollbar("y")}},{key:"flashScrollbar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.resizeScrollbar(e),this.showScrollbar(e)}},{key:"showScrollbar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.isVisible[e]&&("x"===e?this.scrollbarX.classList.add("visible"):this.scrollbarY.classList.add("visible"),this.options.autoHide&&("number"==typeof this.flashTimeout&&window.clearTimeout(this.flashTimeout),this.flashTimeout=window.setTimeout(this.hideScrollbar.bind(this),1e3)))}},{key:"hideScrollbar",value:function(){this.scrollbarX.classList.remove("visible"),this.scrollbarY.classList.remove("visible"),"number"==typeof this.flashTimeout&&window.clearTimeout(this.flashTimeout)}},{key:"recalculate",value:function(){this.contentSizeX=this.contentEl[this.scrollSizeAttr.x],this.contentSizeY=this.contentEl[this.scrollSizeAttr.y]-(this.scrollbarWidth||this.offsetSize),this.scrollbarXSize=this.trackX[this.sizeAttr.x],this.scrollbarYSize=this.trackY[this.sizeAttr.y],this.resizeScrollbar("x"),this.resizeScrollbar("y"),this.options.autoHide||(this.showScrollbar("x"),this.showScrollbar("y"))}},{key:"getScrollElement",value:function(){return"y"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y")?this.scrollContentEl:this.contentEl}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"unMount",value:function(){this.removeListeners(),this.el.SimpleBar=null}},{key:"isChildNode",value:function(e){return null!==e&&(e===this.el||this.isChildNode(e.parentNode))}}],[{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(t){t.forEach(function(t){Array.from(t.addedNodes).forEach(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!t.SimpleBar&&new e(t,e.getElOptions(t)):Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function(t){!t.SimpleBar&&new e(t,e.getElOptions(t))}))}),Array.from(t.removedNodes).forEach(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?e.SimpleBar&&e.SimpleBar.unMount():Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function(e){e.SimpleBar&&e.SimpleBar.unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements.bind(this)):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"getElOptions",value:function(t){return Object.keys(e.htmlAttributes).reduce(function(n,r){var i=e.htmlAttributes[r];return t.hasAttribute(i)&&(n[r]=JSON.parse(t.getAttribute(i)||!0)),n},{})}},{key:"removeObserver",value:function(){this.globalObserver.disconnect()}},{key:"initDOMLoadedElements",value:function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function(t){t.SimpleBar||new e(t,e.getElOptions(t))})}},{key:"defaultOptions",get:function(){return{autoHide:!0,forceVisible:!1,classNames:{content:"simplebar-content",scrollContent:"simplebar-scroll-content",scrollbar:"simplebar-scrollbar",track:"simplebar-track"},scrollbarMinSize:25}}},{key:"htmlAttributes",get:function(){return{autoHide:"data-simplebar-auto-hide",forceVisible:"data-simplebar-force-visible",scrollbarMinSize:"data-simplebar-scrollbar-min-size"}}}]),e}();t.default=l,l.initHtmlApi()},function(e,t,n){n(29),n(46),e.exports=n(3).Array.from},function(e,t,n){"use strict";var r=n(30)(!0);n(31)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(8),i=n(9);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(32),i=n(15),a=n(18),o=n(4),s=n(2),u=n(13),c=n(36),l=n(25),d=n(45),f=n(0)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,m,y,v,b){c(n,t,m);var g,_,w,k=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",S="values"==y,P=!1,T=e.prototype,O=T[f]||T["@@iterator"]||y&&T[y],C=O||k(y),x=y?S?k("entries"):C:void 0,R="Array"==t?T.entries||O:O;if(R&&(w=d(R.call(new e)))!==Object.prototype&&w.next&&(l(w,E,!0),r||s(w,f)||o(w,f,h)),S&&O&&"values"!==O.name&&(P=!0,C=function(){return O.call(this)}),r&&!b||!p&&!P&&T[f]||o(T,f,C),u[t]=C,u[E]=h,y)if(g={values:S?C:k("values"),keys:v?C:k("keys"),entries:x},b)for(_ in g)_ in T||a(T,_,g[_]);else i(i.P+i.F*(p||P),t,g);return g}},function(e,t){e.exports=!1},function(e,t,n){e.exports=!n(7)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(37),i=n(11),a=n(25),o={};n(4)(o,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(6),i=n(38),a=n(24),o=n(14)("IE_PROTO"),s=function(){},u=function(){var e,t=n(17)("iframe"),r=a.length;for(t.style.display="none",n(44).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(5),i=n(6),a=n(39);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,u=0;s>u;)r.f(e,n=o[u++],t[n]);return e}},function(e,t,n){var r=n(40),i=n(24);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(2),i=n(20),a=n(42)(!1),o=n(14)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(21);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(20),i=n(22),a=n(43);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=i(u.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(8),i=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(2),i=n(26),a=n(14)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";var r=n(19),i=n(15),a=n(26),o=n(47),s=n(48),u=n(22),c=n(49),l=n(50);i(i.S+i.F*!n(52)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=a(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,y=void 0!==m,v=0,b=l(f);if(y&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(t=u(f.length),n=new p(t);t>v;v++)c(n,v,y?m(f[v],v):f[v]);else for(d=b.call(f),n=new p;!(i=d.next()).done;v++)c(n,v,y?o(d,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){var r=n(6);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(13),i=n(0)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){"use strict";var r=n(5),i=n(11);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(51),i=n(0)("iterator"),a=n(13);e.exports=n(3).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(21),i=n(0)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),i))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(0)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){var r,i,a;/*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */
!function(n,o){i=[],r=o,void 0!==(a="function"==typeof r?r.apply(t,i):r)&&(e.exports=a)}(0,function(){"use strict";function e(){if("undefined"==typeof document)return 0;var e,t=document.body,n=document.createElement("div"),r=n.style;return r.position="absolute",r.top=r.left="-9999px",r.width=r.height="100px",r.overflow="scroll",t.appendChild(n),e=n.offsetWidth-n.clientWidth,t.removeChild(n),e}return e})},function(e,t,n){(function(t){function n(e,t,n){function i(t){var n=m,r=y;return m=y=void 0,S=t,b=e.apply(r,n)}function a(e){return S=e,g=setTimeout(l,t),P?i(e):b}function u(e){var n=e-E,r=e-S,i=t-n;return T?w(i,v-r):i}function c(e){var n=e-E,r=e-S;return void 0===E||n>=t||n<0||T&&r>=v}function l(){var e=k();if(c(e))return d(e);g=setTimeout(l,u(e))}function d(e){return g=void 0,O&&m?i(e):(m=y=void 0,b)}function f(){void 0!==g&&clearTimeout(g),S=0,m=E=y=g=void 0}function p(){return void 0===g?b:d(k())}function h(){var e=k(),n=c(e);if(m=arguments,y=this,E=e,n){if(void 0===g)return a(E);if(T)return g=setTimeout(l,t),i(E)}return void 0===g&&(g=setTimeout(l,t)),b}var m,y,v,b,g,E,S=0,P=!1,T=!1,O=!0;if("function"!=typeof e)throw new TypeError(s);return t=o(t)||0,r(n)&&(P=!!n.leading,T="maxWait"in n,v=T?_(o(n.maxWait)||0,t):v,O="trailing"in n?!!n.trailing:O),h.cancel=f,h.flush=p,h}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||i(e)&&g.call(e)==c}function o(e){if("number"==typeof e)return e;if(a(e))return u;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=f.test(e);return n||p.test(e)?h(e.slice(2),n?2:8):d.test(e)?u:+e}var s="Expected a function",u=NaN,c="[object Symbol]",l=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=parseInt,m="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),b=Object.prototype,g=b.toString,_=Math.max,w=Math.min,k=function(){return v.Date.now()};e.exports=n}).call(t,n(55))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return parseFloat(e)||0}function i(e){return Array.prototype.slice.call(arguments,1).reduce(function(t,n){return t+r(e["border-"+n+"-width"])},0)}function a(e){for(var t=["top","right","bottom","left"],n={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=e["padding-"+o];n[o]=r(s)}return n}function o(e){var t=e.getBBox();return d(0,0,t.width,t.height)}function s(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return k;var o=getComputedStyle(e),s=a(o),c=s.left+s.right,l=s.top+s.bottom,f=r(o.width),p=r(o.height);if("border-box"===o.boxSizing&&(Math.round(f+c)!==t&&(f-=i(o,"left","right")+c),Math.round(p+l)!==n&&(p-=i(o,"top","bottom")+l)),!u(e)){var h=Math.round(f+c)-t,m=Math.round(p+l)-n;1!==Math.abs(h)&&(f-=h),1!==Math.abs(m)&&(p-=m)}return d(s.left,s.top,f,p)}function u(e){return e===document.documentElement}function c(e){return p?E(e)?o(e):s(e):k}function l(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return w(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function d(e,t,n,r){return{x:e,y:t,width:n,height:r}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,h=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),m=2,y=function(e,t){function n(){a&&(a=!1,e()),o&&i()}function r(){h(n)}function i(){var e=Date.now();if(a){if(e-s<m)return;o=!0}else a=!0,o=!1,setTimeout(r,t);s=e}var a=!1,o=!1,s=0;return i},v=["top","right","bottom","left","width","height","size","weight"],b="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),g="undefined"!=typeof MutationObserver&&!b,_=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y(this.refresh.bind(this),20)};_.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},_.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},_.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},_.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},_.prototype.connect_=function(){p&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},_.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},_.prototype.onTransitionEnd_=function(e){var t=e.propertyName;v.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},_.getInstance=function(){return this.instance_||(this.instance_=new _),this.instance_},_.instance_=null;var w=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},k=d(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof SVGGraphicsElement}:function(e){return e instanceof SVGElement&&"function"==typeof e.getBBox}}(),S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=d(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=c(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var P=function(e,t){var n=l(t);w(this,{target:e,contentRect:n})},T=function(e,t,n){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new f,this.callback_=e,this.controller_=t,this.callbackCtx_=n};T.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},T.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},T.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},T.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},T.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new P(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},T.prototype.clearActive=function(){this.activeObservations_.splice(0)},T.prototype.hasActive=function(){return this.activeObservations_.length>0};var O="undefined"!=typeof WeakMap?new WeakMap:new f,C=function(e){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=_.getInstance(),n=new T(e,t,this);O.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){C.prototype[e]=function(){return(t=O.get(this))[e].apply(t,arguments);var t}});var x=function(){return"undefined"!=typeof ResizeObserver?ResizeObserver:C}();t.default=x},function(e,t){},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}}]).default})},function(e,t,n){var r=n(567);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(318)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(317)(!1),t.push([e.i,'/*!\n * \n *         SimpleBar.js - v2.6.1\n *         Scrollbars, simpler.\n *         https://grsmto.github.io/simplebar/\n *         \n *         Made by Adrien Grsmto from a fork by Jonathan Nicol\n *         Under MIT License\n *       \n */\n[data-simplebar] {\n    position: relative;\n    z-index: 0;\n    overflow: hidden!important;\n    max-height: inherit;\n    -webkit-overflow-scrolling: touch; /* Trigger native scrolling for mobile, if not supported, plugin is used. */\n}\n\n[data-simplebar="init"] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n\n.simplebar-scroll-content {\n    overflow-x: hidden!important;\n    overflow-y: scroll;\n    min-width: 100%!important;\n    max-height: inherit!important;\n    -webkit-box-sizing: content-box!important;\n            box-sizing: content-box!important;\n}\n\n.simplebar-content {\n    overflow-y: hidden!important;\n    overflow-x: scroll;\n    -webkit-box-sizing: border-box!important;\n            box-sizing: border-box!important;\n    min-height: 100%!important;\n}\n\n.simplebar-track {\n    z-index: 1;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    width: 11px;\n}\n\n.simplebar-scrollbar {\n    position: absolute;\n    right: 2px;\n    width: 7px;\n    min-height: 10px;\n}\n\n.simplebar-scrollbar:before {\n    position: absolute;\n    content: "";\n    background: black;\n    border-radius: 7px;\n    left: 0;\n    right: 0;\n    opacity: 0;\n    -webkit-transition: opacity 0.2s linear;\n    transition: opacity 0.2s linear;\n}\n\n.simplebar-track:hover .simplebar-scrollbar:before,\n.simplebar-track .simplebar-scrollbar.visible:before {\n    /* When hovered, remove all transitions from drag handle */\n    opacity: 0.5;\n    -webkit-transition: opacity 0 linear;\n    transition: opacity 0 linear;\n}\n\n.simplebar-track.vertical {\n    top: 0;\n}\n\n.simplebar-track.vertical .simplebar-scrollbar:before {\n    top: 2px;\n    bottom: 2px;\n}\n\n.simplebar-track.horizontal {\n    left: 0;\n    width: auto;\n    height: 11px;\n}\n\n.simplebar-track.horizontal .simplebar-scrollbar:before {\n    height: 100%;\n    left: 2px;\n    right: 2px;\n}\n\n.horizontal.simplebar-track .simplebar-scrollbar {\n    right: auto;\n    top: 2px;\n    height: 7px;\n    min-height: 0;\n    min-width: 10px;\n    width: auto;\n}\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i))return e;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t){},function(e,t,n){function r(e,t){return i(e,t)}var i=n(175);e.exports=r},function(e,t){e.exports='<div id="root-player"></div>\n'},function(e,t,n){var r=n(88),i=n(573),a=r(i);e.exports=a},function(e,t,n){function r(e,t){return e&&e.length&&t&&t.length?i(e,t):e}var i=n(574);e.exports=r},function(e,t,n){function r(e,t,n,r){var c=r?o:a,d=-1,f=t.length,p=e;for(e===t&&(t=u(t)),n&&(p=i(e,s(n)));++d<f;)for(var h=0,m=t[d],y=n?n(m):m;(h=c(p,y,h,r))>-1;)p!==e&&l.call(p,h,1),l.call(e,h,1);return e}var i=n(57),a=n(166),o=n(575),s=n(85),u=n(142),c=Array.prototype,l=c.splice;e.exports=r},function(e,t){function n(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}e.exports=n},function(e,t,n){function r(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return i(s(n)?o(n):[n],a(t,1))}var i=n(138),a=n(174),o=n(142),s=n(24);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&a(e,t,n)?(t=0,n=r):(t=null==t?0:o(t),n=void 0===n?r:o(n)),i(e,t,n)):[]}var i=n(203),a=n(131),o=n(69);e.exports=r},function(e,t,n){var r=n(579),i=n(88),a=n(143),o=i(function(e,t){return a(e)?r(e,t):[]});e.exports=o},function(e,t,n){function r(e,t,n,r){var d=-1,f=a,p=!0,h=e.length,m=[],y=t.length;if(!h)return m;n&&(t=s(t,u(n))),r?(f=o,p=!1):t.length>=l&&(f=c,p=!1,t=new i(t));e:for(;++d<h;){var v=e[d],b=null==n?v:n(v);if(v=r||0!==v?v:0,p&&b===b){for(var g=y;g--;)if(t[g]===b)continue e;m.push(v)}else f(t,b,r)||m.push(v)}return m}var i=n(140),a=n(184),o=n(185),s=n(57),u=n(85),c=n(141),l=200;e.exports=r},function(e,t,n){"use strict";(function(e){function n(e){return parseFloat(e)||0}function r(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.reduce(function(t,r){return t+n(e["border-"+r+"-width"])},0)}function i(e){for(var t=["top","right","bottom","left"],r={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=e["padding-"+o];r[o]=n(s)}return r}function a(e){var t=e.getBBox();return l(0,0,t.width,t.height)}function o(e){var t=e.clientWidth,a=e.clientHeight;if(!t&&!a)return k;var o=w(e).getComputedStyle(e),u=i(o),c=u.left+u.right,d=u.top+u.bottom,f=n(o.width),p=n(o.height);if("border-box"===o.boxSizing&&(Math.round(f+c)!==t&&(f-=r(o,"left","right")+c),Math.round(p+d)!==a&&(p-=r(o,"top","bottom")+d)),!s(e)){var h=Math.round(f+c)-t,m=Math.round(p+d)-a;1!==Math.abs(h)&&(f-=h),1!==Math.abs(m)&&(p-=m)}return l(u.left,u.top,f,p)}function s(e){return e===w(e).document.documentElement}function u(e){return f?E(e)?a(e):o(e):k}function c(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return _(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function l(e,t,n,r){return{x:e,y:t,width:n,height:r}}var d=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=null);for(var r=0,i=n.__entries__;r<i.length;r+=1){var a=i[r];e.call(t,a[1],a[0])}},Object.defineProperties(t.prototype,n),t}()}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,p=function(){return void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),h=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),m=2,y=function(e,t){function n(){a&&(a=!1,e()),o&&i()}function r(){h(n)}function i(){var e=Date.now();if(a){if(e-s<m)return;o=!0}else a=!0,o=!1,setTimeout(r,t);s=e}var a=!1,o=!1,s=0;return i},v=["top","right","bottom","left","width","height","size","weight"],b="undefined"!=typeof MutationObserver,g=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y(this.refresh.bind(this),20)};g.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},g.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},g.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},g.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},g.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),b?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},g.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},g.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),v.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},g.getInstance=function(){return this.instance_||(this.instance_=new g),this.instance_},g.instance_=null;var _=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},w=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||p},k=l(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof w(e).SVGGraphicsElement}:function(e){return e instanceof w(e).SVGElement&&"function"==typeof e.getBBox}}(),S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=l(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=u(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var P=function(e,t){var n=c(t);_(this,{target:e,contentRect:n})},T=function(e,t,n){if(this.activeObservations_=[],this.observations_=new d,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};T.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},T.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},T.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},T.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},T.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new P(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},T.prototype.clearActive=function(){this.activeObservations_.splice(0)},T.prototype.hasActive=function(){return this.activeObservations_.length>0};var O="undefined"!=typeof WeakMap?new WeakMap:new d,C=function(e){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=g.getInstance(),n=new T(e,t,this);O.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){C.prototype[e]=function(){return(t=O.get(this))[e].apply(t,arguments);var t}});var x=function(){return void 0!==p.ResizeObserver?p.ResizeObserver:C}();t.a=x}).call(t,n(68))},function(e,t){}])});