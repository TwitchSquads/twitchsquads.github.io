(window.webpackJsonp=window.webpackJsonp||[]).push([[87,39],{"+LJB":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("0Log"),r=n("/aPz"),a=n("0Lz3");function o(e,t,n,o){return{topic:n?Object(r.c)(n):"",type:i.PubsubMessageType.BitsLeaderboardEvent,mutator:function(e,t){if(!t||!n)return t;var i=e.top.map(function(e){return Object(a.b)(e,n.id)});if(t.user){if(t.user.tournament&&t.user.tournament.teamLeaderboard&&(t.user.tournament.teamLeaderboard.items.edges=i),t.user.tournament&&t.user.tournament.globalLeaderboard&&(t.user.tournament.globalLeaderboard.items.edges=i,o&&e.entry_context&&e.entry_context.entry.entry_key===o&&t.user.tournament.self&&t.user.tournament.self.globalLeaderboardItem)){var r=Object(a.b)(e.entry_context.entry,n.id);t.user.tournament.self.globalLeaderboardItem=r.node}if(t.user.cheer&&t.user.cheer.leaderboard&&(t.user.cheer.leaderboard.items.edges=i,o&&e.entry_context&&e.entry_context.entry&&e.entry_context.entry.entry_key===o&&t.user.self&&t.user.self.bitsLeaderboardItem)){var s=Object(a.b)(e.entry_context.entry,n.id);t.user.self.bitsLeaderboardItem=s.node}}return t},skip:!n,query:e,variables:{channelID:t}}}},"+Mtq":function(e,t,n){},"+kC+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ChatLine_SubsOnlyUpsell_UserSubscriptionProducts($login: String!) {\nuser(login: $login) {\nid\nsubscriptionProducts {\nid\nurl\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"+pBb":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"i",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"n",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"q",function(){return b}),n.d(t,"s",function(){return v}),n.d(t,"r",function(){return E}),n.d(t,"v",function(){return k}),n.d(t,"u",function(){return C}),n.d(t,"w",function(){return S}),n.d(t,"a",function(){return y}),n.d(t,"o",function(){return N}),n.d(t,"p",function(){return _}),n.d(t,"t",function(){return I}),n.d(t,"K",function(){return T}),n.d(t,"F",function(){return O}),n.d(t,"P",function(){return D}),n.d(t,"M",function(){return A}),n.d(t,"I",function(){return w}),n.d(t,"D",function(){return R}),n.d(t,"J",function(){return M}),n.d(t,"E",function(){return L}),n.d(t,"H",function(){return U}),n.d(t,"C",function(){return B}),n.d(t,"L",function(){return F}),n.d(t,"G",function(){return P}),n.d(t,"z",function(){return x}),n.d(t,"y",function(){return j}),n.d(t,"B",function(){return H}),n.d(t,"N",function(){return V}),n.d(t,"A",function(){return G}),n.d(t,"Q",function(){return W}),n.d(t,"x",function(){return q}),n.d(t,"O",function(){return z}),n.d(t,"S",function(){return Y}),n.d(t,"R",function(){return K});var i=n("Tznh"),r="chat.CHAT_HIDDEN",a="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",l="chat.AUTOMOD_ACTIONS_ENABLED",c="chat.AUTOMOD_ACTIONS_DISABLED",d="chat.EMOTE_PICKER_CLOSED",u="chat.EMOTE_PICKER_OPENED",m="chat.CLOSE_CHAT_RULES",p="chat.MODERATION_ACTIONS_ENABLED",h="chat.MODERATION_ACTIONS_DISABLED",f="chat.MOD_ICONS_ENABLED",g="chat.MOD_ICONS_DISABLED",b="chat.SHOW_CHAT_RULES",v="chat.TIMESTAMPS_ENABLED",E="chat.TIMESTAMPS_DISABLED",k="chat.VIEWER_CHAT_FILTER_ENABLED",C="chat.VIEWER_CHAT_FILTER_DISABLED",S="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",y="chat.ADD_COMMAND",N="chat.REMOVE_COMMAND",_="chat.RENDER_SENT_CHAT_MESSAGE",I="chat.UNHIDE_IGNORED_COMMAND";function T(){return{type:v}}function O(){return{type:E}}function D(){return{type:a}}function A(){return{type:r}}function w(){return{type:l}}function R(){return{type:c}}function M(){return{type:p}}function L(){return{type:h}}function U(){return{type:f}}function B(){return{type:g}}function F(e){return{type:k,source:e||i.c.Other}}function P(e){return{type:C,source:e||i.c.Other}}function x(e,t){return{type:S,settings:e,source:t||i.c.Other}}function j(e,t){return{type:s,channelLogin:e,duration:t}}function H(){return{type:d}}function V(){return{type:u}}function G(){return{type:m}}function W(){return{type:b}}function q(e,t,n){return{type:y,command:e.toLowerCase(),handler:t,channelLogin:n}}function z(e,t,n){return{type:N,command:e.toLowerCase(),handler:t,channelLogin:n}}function Y(e){return{type:_,customEvent:e}}function K(e){return{type:I,userID:e}}},"/Bd0":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var i,r=n("mrSG"),a=n("/7QA"),o=n("J9w5"),s=n("I6K6"),l=n("sgJZ");function c(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,i,c,d,u,m,p,h,f,g;return r.__generator(this,function(r){switch(r.label){case 0:if(n=null,i=null,c=null,d=null,u=null,!t.channelID)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.q.apollo.client.query({query:l,variables:{id:t.channelID}})];case 2:return d=r.sent(),[3,4];case 3:return p=r.sent(),a.k.warn("Failed to make query for channel info in FollowEvent reporting.",{err:p,channelID:t.channelID}),[3,4];case 4:(c=d&&d.data&&d.data.user)?u=c.hosting.stream&&c.hosting.stream.game?c.hosting.stream.game.name:c.stream&&c.stream.game&&c.stream.game.name:a.k.warn("Query for channel info in FollowEvent reporting returned no data.",{channelID:t.channelID}),r.label=5;case 5:if(!(h=a.p.getVideoPlayerTrackingData().vodID))return[3,10];r.label=6;case 6:return r.trys.push([6,8,,9]),[4,a.q.apollo.client.query({query:o,variables:{id:h}})];case 7:return n=r.sent(),[3,9];case 8:return f=r.sent(),a.k.warn("Failed to make query for VOD info in FollowEvent reporting.",{err:f,currentVODID:h}),[3,9];case 9:(i=n&&n.data&&n.data.video)?m=Object(s.a)(i.broadcastType):(m=null,a.k.warn("Query for video info in FollowEvent reporting return no data.",{currentVODID:h})),r.label=10;case 10:return g={channel:t.channelLogin,channel_id:t.channelID,channel_game:u,cta_visible:a.p.getVideoPlayerTrackingData().followCTAVisible,host_channel:t.hostChannelLogin,host_channel_id:t.hostChannelID,game:t.game,partner:c?c.isPartner:null,src:t.src,vod_id:h,vod_type:m},a.p.track(e,g),[2]}})})}!function(e){e.Channel="channel",e.TheatreMode="theatre_mode"}(i||(i={}))},"/aPz":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return l}),n.d(t,"k",function(){return c}),n.d(t,"n",function(){return d}),n.d(t,"L",function(){return u}),n.d(t,"M",function(){return m}),n.d(t,"r",function(){return p}),n.d(t,"F",function(){return h}),n.d(t,"K",function(){return f}),n.d(t,"w",function(){return g}),n.d(t,"x",function(){return b}),n.d(t,"s",function(){return v}),n.d(t,"z",function(){return E}),n.d(t,"B",function(){return k}),n.d(t,"p",function(){return C}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return y}),n.d(t,"G",function(){return N}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return I}),n.d(t,"I",function(){return T}),n.d(t,"J",function(){return O}),n.d(t,"o",function(){return D}),n.d(t,"q",function(){return A}),n.d(t,"H",function(){return w}),n.d(t,"N",function(){return R}),n.d(t,"v",function(){return M}),n.d(t,"C",function(){return L}),n.d(t,"f",function(){return U}),n.d(t,"g",function(){return B}),n.d(t,"h",function(){return F}),n.d(t,"D",function(){return P}),n.d(t,"l",function(){return x}),n.d(t,"u",function(){return j}),n.d(t,"A",function(){return H}),n.d(t,"m",function(){return V}),n.d(t,"y",function(){return G}),n.d(t,"t",function(){return W}),n.d(t,"E",function(){return q});var i=n("/7QA"),r=n("0Log"),a=n("geRD");function o(e){return r.PubsubTopic.BroadcastSettingsUpdate+"."+e}function s(e){return r.PubsubTopic.ChatRoom+"."+e}function l(e){return r.PubsubTopic.ChatRoomsChannel+"."+e}function c(e){return r.PubsubTopic.ChatRoomsUser+"."+e}function d(e){return r.PubsubTopic.ExtensionAssets+"."+e}function u(e){return r.PubsubTopic.VideoPlayback+"."+e}function m(e){return r.PubsubTopic.VideoThumbnailProcessing+"."+e}function p(e){return r.PubsubTopic.ImageUpload+"."+e}function h(e){return r.PubsubTopic.UploadService+"."+e}function f(e){return r.PubsubTopic.VideoPlaybackById+"."+e}function g(e){return r.PubsubTopic.PayoutOnboardingEvents+"."+e}function b(e){return r.PubsubTopic.Presence+"."+e}function v(e,t){return r.PubsubTopic.ModerationActionsByUserAndChannel+"."+e+"."+t}function E(e){return r.PubsubTopic.Raid+"."+e}function k(e){return r.PubsubTopic.StreamChange+"."+e}function C(e){return r.PubsubTopic.Friendship+"."+e}function S(e){return r.PubsubTopic.ChannelBitsPinEvents+"."+e}function y(e){return r.PubsubTopic.BitsLeaderboardEvents+"."+e.id}function N(e){return r.PubsubTopic.UserBitsUpdates+"."+e}function _(){return r.PubsubTopic.BitsCampaignEvents+".updates"}function I(e){return r.PubsubTopic.ChannelBitsPinEvents+"."+e}function T(e){return r.PubsubTopic.UserPropertiesUpdates+"."+e}function O(e){return r.PubsubTopic.UserSubscribeEvents+"."+e}function D(e){return"follows."+e}function A(e){return r.PubsubTopic.CampaignGlobalEvents+"."+e}function w(e){return r.PubsubTopic.CampaignUserEvents+"."+e}function R(e){return r.PubsubTopic.Whispers+"."+e}function M(e){return r.PubsubTopic.OnsiteNotifications+"."+e}function L(e){return r.PubsubTopic.StreamChatRoom+"."+e}function U(e){return r.PubsubTopic.ChannelEventUpdates+"."+e}function B(e){return r.PubsubTopic.ChannelSquadInvites+"."+e}function F(e){return r.PubsubTopic.ChannelSquadUpdates+"."+e}function P(e){return r.PubsubTopic.SubscribersCSV+"."+e}function x(e){return r.PubsubTopic.CheerbombEventsTopic+"."+e}function j(e){return r.PubsubTopic.MysteryGift+"."+e}function H(e){return r.PubsubTopic.SquadUpdates+"."+e}function V(e){return r.PubsubTopic.DashboardActivityFeed+"."+e}function G(e){return r.PubsubTopic.PurchaseFulfillmentEvents+"."+e}function W(e){return r.PubsubTopic.MultiviewChanletUpdate+"."+e}function q(e){return i.m.subscribe({topic:e.topic,onMessage:function(t){t.type&&!e.type&&!e.types||t.type&&e.type&&t.type!==e.type||t.type&&e.types&&!e.types.includes(t.type)||Object(a.f)(e.query,e.variables,function(n){return e.mutator(t,n)},function(n){return!!e.skipMessage&&e.skipMessage(t,n)})}})}},"/gva":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserBannedStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:135}};n.loc.source={body:"query CurrentUserBannedStatus($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"/i69":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/7QA"),s=n("gcd7"),l=n("QVaV"),c=n("iyGE"),d=n("a2UF"),u=n("vSeP"),m=n("WytW"),p=n("AREq"),h=n("Av0x"),f=n("hnjF"),g=n("sUnt"),b=600,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(e){var n=Object(m.i)("/ban "+e);if(n){var i=t.userLogin(n.banTarget),r=n.reason||void 0;if(i){var a=Object(o.d)("Unable to ban user.","BanCommandHandler");return{deferred:t.props.banUserMutation(i,void 0,r).then(function(e){var n=e.banUserFromChatRoom;return n?n.error?{notice:Object(p.a)({login:i,code:n.error.code})}:t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{userLogin} is now banned from this channel.",{userLogin:i},"BanCommandHandler")}:{notice:a}}).catch(function(){return{notice:a}})}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to ban.","BanCommandHandler")})}}return{deferred:Promise.resolve({notice:Object(o.d)("Usage: /ban [login] [reason]","BanCommandHandler")})}},t.unbanUser=function(e){if(e&&0!==e.length){var n=t.userLogin(e),i=Object(o.d)("Unable to unban user.","BanCommandHandler");return{deferred:t.props.unbanUserMutation(n).then(function(e){var r=e.unbanUserFromChatRoom;return r?r.error?{notice:Object(h.a)(n,r.error.code)}:t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{bannedUserLogin} is no longer banned from this channel.",{bannedUserLogin:n},"BanCommandHandler")}:{notice:i}}).catch(function(){return{notice:i}})}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to unban.","BanCommandHandler")})}},t.timeoutUser=function(e){var n=Object(m.m)("/timeout "+e);if(n){var i,r=t.userLogin(n.banTarget),a=n.reason||void 0,s=void 0;if(n.rawDuration&&n.durationSeconds?(i=n.durationSeconds,s=n.rawDuration===String(n.durationSeconds)?n.durationSeconds:n.rawDuration):n.rawDuration&&!n.validArguments?(s=n.rawDuration,i=b):(i=b,s=b),r){var l=Object(o.d)("Unable to timeout user.","BanCommandHandler");return{deferred:t.props.banUserMutation(r,s,a).then(function(e){var a=e.banUserFromChatRoom;if(!a)return{notice:l};if(a.error){var s=a.error.minTimeoutDurationSeconds,c=a.error.maxTimeoutDurationSeconds;return{notice:Object(p.a)({login:r,code:a.error.code,enteredDuration:n.rawDuration||void 0,isTimeout:!0,minTimeoutDuration:s||void 0,maxTimeoutDuration:c||void 0})}}return t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:r,duration:i||b},"BanCommandHandler")}}).catch(function(){return{notice:l}})}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to timeout.","BanCommandHandler")})}}return{deferred:Promise.resolve({notice:Object(o.d)("Usage: /timeout [login] [duration in seconds] [reason]","BanCommandHandler")})}},t.untimeoutUser=function(e){if(e){var n=t.userLogin(e),i=Object(o.d)("Unable to untimeout user.","BanCommandHandler");return{deferred:t.props.unbanUserMutation(n).then(function(e){var r=e.unbanUserFromChatRoom;return r?r.error?{notice:Object(h.a)(n,r.error.code,!0)}:t.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{login} is no longer timed out in this channel.",{login:n},"BanCommandHandler")}:{notice:i}}).catch(function(){return{notice:i}})}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to untimeout.","BanCommandHandler")})}},t.userLogin=function(e){return Object(l.b)(e)?e:t.props.activeChattersAPI?t.props.activeChattersAPI.getActiveChatterLoginFromDisplayName(e)||e:t.props.displayNameToLogin&&t.props.displayNameToLogin(e)||e},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement(g.a,{display:f.d.Hide},r.createElement(s.a,{channelLogin:this.props.channelLogin,command:"ban",handler:this.banUser}),r.createElement(s.a,{channelLogin:this.props.channelLogin,command:"unban",handler:this.unbanUser}),r.createElement(s.a,{channelLogin:this.props.channelLogin,command:"timeout",handler:this.timeoutUser}),r.createElement(s.a,{channelLogin:this.props.channelLogin,command:"untimeout",handler:this.untimeoutUser}))},t}(r.Component),E=function(e){return{channelID:e.channelID}},k=Object(a.compose)(u.a,Object(d.a)(E),Object(c.a)(E))(v);n.d(t,"a",function(){return k})},"04j6":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_ChatEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:116}};n.loc.source={body:"query Core_Services_Spade_ChatEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"08uX":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("fvjX"),s=n("x7UT"),l=n("0Log"),c=n("/aPz"),d=n("f00E"),u=n("5zXJ"),m=n("/7QA"),p=n("8SX2"),h=n("oK83"),f=n("hnjF"),g=n("Z2sP"),b=n("sUnt"),v=n("Ws8v"),E=n("X2PJ"),k=n("+80q");n("XUhy");!function(e){e.Container="notification-selector"}(i||(i={}));var C,S=function(e){var t=a.createElement(p.a,{contentID:"",login:e.data.userLogin,sourceType:h.b.mega_cheer_notification},e.data.displayName),n=Object(m.d)("{gifterButton} MegaCheered {bitsAmount} Bits and shared rewards to {giftedAmount} others in chat!",{gifterButton:t,bitsAmount:Object(m.f)(e.data.bitsAmount),giftedAmount:e.data.selectedCount},"MegaCheerNotificationCard");return a.createElement(v.a,{className:"mega-cheer-notification-card","data-test-selector":i.Container,background:E.a.Base,display:f.d.Flex,alignItems:f.b.Center,flexDirection:f.e.Column},a.createElement(b.a,{display:f.d.Flex,flexDirection:f.e.Row,alignItems:f.b.Center,overflow:f.i.Hidden},a.createElement(f.g,{className:"mega-cheer-notification__icon"},a.createElement("img",{src:e.iconURL})),a.createElement(k.a,{fontSize:E.d.Size7,color:E.c.Alt2,className:"mega-cheer-notification-card__text"},n)),a.createElement(g.a,{animationDirection:g.b.Down,size:g.c.Small,animationDuration:e.progressDuration,onAnimationEnd:e.onProgressBarEnd}))},y=n("Tvwe"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cards:[]},t.onCardClose=function(){t.popCard()},t}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=[],n=e.pubsub.messages.megaNotificationEvent;if(n&&n!==this.props.pubsub.messages.megaNotificationEvent){var i=n.data;i.bitsAmount>=5e3?t.push(a.createElement(S,{data:i,iconURL:u.h+"/owl-2019/notifications/MegaCheer-04.png",progressDuration:10,onProgressBarEnd:this.onCardClose})):i.bitsAmount>=1e3&&t.push(a.createElement(S,{data:i,iconURL:u.h+"/owl-2019/notifications/MegaCheer-03.png",progressDuration:5,onProgressBarEnd:this.onCardClose})),t=t.map(function(e){return a.cloneElement(e,{key:Object(d.b)()})}),this.state.cards.length>=5&&this.popCard(),this.setState(function(e){return{cards:e.cards.concat(t)}})}},t}(y.a),_=Object(o.compose)(Object(s.a)([{topic:function(e){return Object(c.l)(e.channelID)},mapMessageTypesToProps:(C={},C[l.PubsubMessageType.CheerbombEvent]="megaNotificationEvent",C)}]))(N);n.d(t,"a",function(){return _})},"0FG4":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var i,r=n("RcPG"),a=n("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,t,n){var o,s,l=n.type===i.Position?t:e,c=n.map[l];if(c){var d=(o=e,s=c.id,{images:{sources:{"1x":Object(a.d)(s,1),"2x":Object(a.d)(s,2),"4x":Object(a.d)(s,4)},themed:!1},alt:o,emoteID:s});return{type:r.a.Emote,content:d}}return null}var l={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function c(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n];if(r&&r.emotes)for(var a=0,s=r.emotes;a<s.length;a++){var c=s[a];if(c&&c.id&&c.token)for(var d=0,u=l[c.token]||[c.token];d<u.length;d++){var m=u[d];t[m]&&r.id===o||(t[m]={id:c.id,token:m})}}}return t}},"0Hf3":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return v});var i,r,a,o,s=n("mrSG"),l=n("/7QA"),c=n("DMoW"),d=n("2xye"),u=n("E/0f"),m=n("oK83");function p(e){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(n){return t={target_user_id:e.targetUserID,target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin,click_text:h(e.clickText),action:e.action},l.p.track(d.SpadeEventType.ChatProfileCardClick,t),[2]})})}function h(e){switch(e){case u.c.Messages:return i.Messages;case u.c.Timeouts:return i.Timeouts;case u.c.Bans:return i.Bans;case u.c.ModComments:return i.ModComments;default:return e}}function f(e){return s.__awaiter(this,void 0,void 0,function(){var t,n,i,r;return s.__generator(this,function(a){return t=e.data,n=t.channelUser,i=t.targetUser,r={target_user_id:i&&i.id||"",target_login:i&&i.login||e.targetLogin,channel_id:n&&n.id||e.channelID,channel_login:n&&n.login||e.channelLogin,profile_card_type:g(e),ui_context:m.b[e.sourceType]},l.p.track(d.SpadeEventType.ChatProfileCardOpen,r),[2]})})}function g(e){return e.data.currentUser&&e.data.channelUser&&e.data.currentUser.id===e.data.channelUser.id?a.Broadcaster:e.data.channelUser&&e.data.channelUser.self&&e.data.channelUser.self.isModerator?e.data.channelUser.modLogsRoleAccess&&e.data.channelUser.modLogsRoleAccess.accessLevel!==c.X.NONE?a.ModWithChatlogs:a.ModWithoutChatlogs:a.RegularViewer}function b(e,t){return s.__awaiter(this,void 0,void 0,function(){var n,i,r,a,c;return s.__generator(this,function(s){return n=e.data,i=n.channelUser,r=n.targetUser,a=e.isPopout,c={comment_uuid:t.id,ui_context:a?o.Popout:o.Card,target_user_id:r&&r.id,target_login:r&&r.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:t.author&&t.author.id,from_user_login:t.author&&t.author.login},l.p.track(d.SpadeEventType.ClientModCommentAdd,c),[2]})})}function v(e,t){return s.__awaiter(this,void 0,void 0,function(){var n,i,r,a,c;return s.__generator(this,function(s){return n=e.data,i=n.channelUser,r=n.targetUser,a=e.isPopout,c={comment_uuid:t.id,ui_context:a?o.Popout:o.Card,target_user_id:r&&r.id,target_login:r&&r.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:t.author&&t.author.id,from_user_login:t.author&&t.author.login},l.p.track(d.SpadeEventType.ClientModCommentDelete,c),[2]})})}!function(e){e.Messages="messages",e.Timeouts="timeouts",e.Bans="bans",e.ModComments="mod_comments",e.PopOut="popout",e.Whisper="whisper"}(i||(i={})),function(e){e.Expand="expand",e.Collapse="collapse"}(r||(r={})),function(e){e.RegularViewer="regular_viewer",e.Broadcaster="broadcaster",e.ModWithChatlogs="mod_with_chatlogs",e.ModWithoutChatlogs="mod_without_chatlogs"}(a||(a={})),function(e){e.Card="chat_profile_card",e.Popout="chat_profile_card_popout"}(o||(o={}))},"0Log":function(e,t,n){"use strict";var i=n("VSaV");n.o(i,"FrienshipChangeType")&&n.d(t,"FrienshipChangeType",function(){return i.FrienshipChangeType}),n.o(i,"InvitationNetworkType")&&n.d(t,"InvitationNetworkType",function(){return i.InvitationNetworkType}),n.o(i,"InvitationRejectedReason")&&n.d(t,"InvitationRejectedReason",function(){return i.InvitationRejectedReason}),n.o(i,"InvitationStatus")&&n.d(t,"InvitationStatus",function(){return i.InvitationStatus}),n.o(i,"ModerationActions")&&n.d(t,"ModerationActions",function(){return i.ModerationActions}),n.o(i,"PubsubMessageType")&&n.d(t,"PubsubMessageType",function(){return i.PubsubMessageType}),n.o(i,"PubsubTopic")&&n.d(t,"PubsubTopic",function(){return i.PubsubTopic}),n.o(i,"PurchaseFulfillmentStatus")&&n.d(t,"PurchaseFulfillmentStatus",function(){return i.PurchaseFulfillmentStatus}),n.o(i,"SquadStatus")&&n.d(t,"SquadStatus",function(){return i.SquadStatus}),n.o(i,"TargetedModerationActions")&&n.d(t,"TargetedModerationActions",function(){return i.TargetedModerationActions});var r=n("By5U");n.o(r,"FrienshipChangeType")&&n.d(t,"FrienshipChangeType",function(){return r.FrienshipChangeType}),n.o(r,"InvitationNetworkType")&&n.d(t,"InvitationNetworkType",function(){return r.InvitationNetworkType}),n.o(r,"InvitationRejectedReason")&&n.d(t,"InvitationRejectedReason",function(){return r.InvitationRejectedReason}),n.o(r,"InvitationStatus")&&n.d(t,"InvitationStatus",function(){return r.InvitationStatus}),n.o(r,"ModerationActions")&&n.d(t,"ModerationActions",function(){return r.ModerationActions}),n.o(r,"PubsubMessageType")&&n.d(t,"PubsubMessageType",function(){return r.PubsubMessageType}),n.o(r,"PubsubTopic")&&n.d(t,"PubsubTopic",function(){return r.PubsubTopic}),n.o(r,"PurchaseFulfillmentStatus")&&n.d(t,"PurchaseFulfillmentStatus",function(){return r.PurchaseFulfillmentStatus}),n.o(r,"SquadStatus")&&n.d(t,"SquadStatus",function(){return r.SquadStatus}),n.o(r,"TargetedModerationActions")&&n.d(t,"TargetedModerationActions",function(){return r.TargetedModerationActions});var a=n("WQCf");n.d(t,"FrienshipChangeType",function(){return a.a}),n.d(t,"InvitationNetworkType",function(){return a.b}),n.d(t,"InvitationRejectedReason",function(){return a.c}),n.d(t,"InvitationStatus",function(){return a.d}),n.d(t,"ModerationActions",function(){return a.e}),n.d(t,"PubsubMessageType",function(){return a.f}),n.d(t,"PubsubTopic",function(){return a.g}),n.d(t,"PurchaseFulfillmentStatus",function(){return a.h}),n.d(t,"SquadStatus",function(){return a.i}),n.d(t,"TargetedModerationActions",function(){return a.j})},"0Lz3":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var i=n("mrSG"),r=n("DMoW"),a=n("uYEN"),o=n("5zXJ"),s=n("XmgI");function l(e){var t=[],n={};return e.reduce(function(e,t){return t&&e.push(t),e},[]).forEach(function(e){Object(s.e)(e.prefix)&&(e=i.__assign({},e,{type:r.x.THIRD_PARTY}));var l,c,u,m=e.tiers.reduce(function(e,t){return t&&e.push(d(t)),e},[]);"Cheer"===e.prefix&&m.push((l=[r.v.DARK,r.v.LIGHT],c=["static","animated"],u=[],[1,1.5,2,3,4].forEach(function(e){l.forEach(function(t){c.forEach(function(n){u.push({__typename:"CheermoteImage",id:"",url:o.f+"/cheer/"+t.toLowerCase()+"/"+n+"/100000/"+e+"."+("static"===n?"png":"gif"),isAnimated:"animated"===n,theme:t,dpiScale:e})})})}),d({__typename:"CheermoteTier",id:"Cheer:100000",bits:1e5,canCheer:!1,canShowInBitsCard:!1,color:o.j[a.a.Yellow],images:u}))),m.sort(function(e,t){return t.bits-e.bits});var p=i.__assign({},e,{indexedTiers:new Map(m.map(function(e){return[e.bits,e]})),orderedTiers:m});t.push(p),n[p.prefix.toLowerCase()]=p}),{indexedActions:n,orderedActions:t}}function c(e,t){return{cursor:""+e.rank,node:{id:t+"_"+e.entry_key,entryKey:e.entry_key,rank:e.rank,score:e.score,__typename:"BitsLeaderboardItem"},__typename:"BitsLeaderboardItemEdge"}}function d(e){var t=new Map,n=new Map,r=new Map,a=new Map;return e.images.forEach(function(e){if(!e)return null;"LIGHT"===e.theme?e.isAnimated?n.set(e.dpiScale,e.url):t.set(e.dpiScale,e.url):e.isAnimated?a.set(e.dpiScale,e.url):r.set(e.dpiScale,e.url)}),i.__assign({indexedImages:{LIGHT:{static:t,animated:n},DARK:{static:r,animated:a}}},e)}},"0WFu":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return d});var i,r,a=n("/7QA"),o=n("3Bft"),s=n("kRBY");function l(e){return[o.a.Prime,o.a.Custom].includes(e)?null:parseInt(e,10)/1e3}function c(e){var t=e instanceof Date?e:new Date(e);return Math.round((t.getTime()-Date.now())/864e5)}function d(e){var t=a.b.get(e,r.Off);return t===r.On||!(t!==r.Staff||!Object(s.g)(a.q.store.getState()))}!function(e){e.Prime2Paid="prime_2_paid"}(i||(i={})),function(e){e.Off="off",e.On="on",e.Staff="staff"}(r||(r={}))},"0iXB":function(e,t,n){},"1MDS":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h});var i=n("mrSG"),r=n("/7QA"),a=n("2xye"),o=n("oK83"),s=n("P5MF"),l=n("nR4f"),c=n("P6kH"),d={Unknown:"unknown",Chat:"chat",Room:"room",Whisper:"whisper",Vod:"vod"},u={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},m={Available:"available",CreatorBanned:"creator_banned",LimitedTimeEmote:"limited_time_emote",GlobalEmote:"global_emote",Prime:"prime",Turbo:"turbo",OtherUnlockable:"other_unlockable"};function p(e){return i.__awaiter(this,void 0,void 0,function(){var t,n,o,d,u,m,p,h,g,b,v,E,k,C,S,y;return i.__generator(this,function(i){switch(i.label){case 0:t={emoteID:e.emoticonID},n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.q.apollo.client.query({query:l,variables:t})];case 2:return n=i.sent(),[3,4];case 3:return o=i.sent(),r.k.warn(o,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:d=n&&n.data&&n.data.emote||null,n&&!d&&r.k.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),u=n&&n.data?Object(c.d)(n.data):c.a.Unknown,m=d&&d.subscriptionProduct&&d.subscriptionProduct.owner&&d.subscriptionProduct.owner.displayName||"",p=d&&d.subscriptionProduct&&d.subscriptionProduct.owner&&d.subscriptionProduct.owner.id||"",u===c.a.OWL2019&&(m=c.b,p=c.c),h={channelID:p},g=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.q.apollo.client.query({query:s,variables:h})];case 6:return g=i.sent(),[3,8];case 7:return b=i.sent(),r.k.warn(b,"Failed to make query for channel info in EmoteCard reporting.",{channelID:p}),[3,8];case 8:return v=g&&g.data&&g.data.user||null,g&&!v&&r.k.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:p}),E=!!v&&!!v.hasPrime,k=v&&v.self,C=!!k&&!!k.subscriptionBenefit,S=!!k&&!!k.canPrimeSubscribe,y={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:m,emote_channel_id:p,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:C,is_subscribed_tier:k&&k.subscriptionBenefit&&k.subscriptionBenefit.tier||"",emote_tier:d&&d.subscriptionProduct&&d.subscriptionProduct.tier||"",emote_status:f(u),has_prime:E,can_subscribe:S,msg_id:e.msgID},r.p.track(a.SpadeEventType.EmoteCardInteraction,y),[2]}})})}function h(e){switch(e){case o.a.chat:return d.Chat;case o.a.whisper:return d.Whisper;case o.a.vod:return d.Vod;case o.a.room:return d.Room;case o.a.unknown:default:return d.Unknown}}function f(e){switch(e){case c.a.Prime:return m.Prime;case c.a.Turbo:return m.Turbo;case c.a.OWL2019:case c.a.Subscription:return m.Available;case c.a.LimitedTime:return m.LimitedTimeEmote;case c.a.Unavailable:return m.CreatorBanned;case c.a.Global:return m.GlobalEmote;case c.a.Unknown:default:return m.OtherUnlockable}}},"1Rv/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1VX3":function(e,t,n){"use strict";var i=n("W7Hf");n.d(t,"a",function(){return i.a})},"2+sX":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("hnjF"),l=n("ygYM"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isError:!1,options:null,balloonID:""},n.logger=o.q.logger.withCategory("balloon-layer"),n.historyUnlisten=null,n.handleHistoryChange=function(){n.hideBalloon()},i=n,n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.historyUnlisten=o.q.history.listen(this.handleHistoryChange)},t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({isError:!0},function(){o.q.stats.recordComponentError("BalloonLayer"),n.logger.error(e,"A unhandled exception occurred in the component hierarchy",{info:t})})},t.prototype.componentDidUpdate=function(e,t){var n=t.options,i=n&&n.onBalloonUpdate,r=this.state.options,a=r&&r.onBalloonUpdate;n!==r&&(i&&i(this.state.balloonID),a&&a!==i&&a(this.state.balloonID))},t.prototype.componentWillUnmount=function(){this.historyUnlisten&&this.historyUnlisten()},t.prototype.render=function(){if(this.state.isError)return null;var e=null;if(this.state.options){var t={left:this.state.options.from.x,top:this.state.options.from.y};e=a.createElement(s.g,{className:"balloon-layer",position:s.j.Fixed,zIndex:s.n.Above},a.createElement("div",{style:t},a.createElement(l.a,{direction:this.state.options.direction?this.state.options.direction:l.b.Right,size:this.state.options.size||l.c.Large,show:!0,tailOffset:this.state.options.tailOffset},this.state.options.content)))}return e},t.prototype.showBalloon=function(e,t){this.setState({options:e,balloonID:t})},t.prototype.hideBalloon=function(){this.setState({options:null,balloonID:""})},t}(a.Component);function d(e,t){if(i&&e.ref){var n=function(e,t){var n=r.__assign({},e),i=0;e.y+t+20>window.innerHeight&&(n.y=window.innerHeight-t-20,i=e.y-n.y);return{coords:n,offset:i}}(function(e,t){var n=t.getBoundingClientRect();switch(e){case l.b.Bottom:case l.b.BottomLeft:return{x:n.left,y:n.bottom};case l.b.BottomCenter:return{x:n.left+n.width/2,y:n.bottom};case l.b.BottomRight:return{x:n.right,y:n.bottom};case l.b.Left:case l.b.Top:case l.b.TopLeft:return{x:n.left,y:n.top};case l.b.LeftCenter:return{x:n.left,y:n.top+n.height/2};case l.b.TopCenter:return{x:n.left+n.width/2,y:n.top};case l.b.TopRight:case l.b.Right:return{x:n.right,y:n.top};case l.b.RightCenter:return{x:n.right,y:n.top+n.height/2};default:return{x:n.left,y:n.bottom}}}(e.direction,e.ref),e.contentHeight);i.showBalloon({content:e.content,direction:e.direction,size:e.size,from:{x:n.coords.x,y:n.coords.y},tailOffset:n.offset,timeout:e.timeout,onBalloonUpdate:e.onBalloonUpdate},t)}}function u(){i&&i.hideBalloon()}var m=n("4VQm"),p=n("2Ygb"),h=n("f00E"),f=400;function g(){return function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.balloonID=Object(h.a)(),e.scrollListenerRegistered=!1,e.hoveringBalloon=!1,e.currentBalloonID="",e.show=function(t){e.clearTimeoutAndRun(function(){t.closeOnScroll?e.addScrollListener():e.scrollListenerRegistered&&e.removeScrollListener(),e.autoclose=t.autoclose,d({direction:t.direction,ref:t.ref,content:e.getBalloonContent(t.content),contentHeight:t.contentHeight,autoclose:t.autoclose,size:t.size,onBalloonUpdate:e.handleBalloonUpdate},e.balloonID)},t.timeout)},e.hide=function(t){e.clearTimeoutAndRun(function(){(!e.hoveringBalloon||t&&t.force)&&(e.removeScrollListener(),e.balloonID===e.currentBalloonID&&u())},t&&t.timeout)},e.clearTimeoutAndRun=function(t,n){void 0===n&&(n=0),e.displayTimeout&&(clearTimeout(e.displayTimeout),e.displayTimeout=0),e.displayTimeout=setTimeout(function(){t(),e.displayTimeout=0},n)},e.setRef=function(t){e.balloonRef!==t&&(e.removeMouseoverListeners(),e.balloonRef=t,e.addMouseoverListeners(t))},e.addMouseoverListeners=function(t){t&&(t.addEventListener("mouseenter",e.handleMouseEnter,!0),t.addEventListener("mouseleave",e.handleMouseLeave))},e.removeMouseoverListeners=function(){e.balloonRef&&(e.balloonRef.removeEventListener("mouseenter",e.handleMouseEnter,!0),e.balloonRef.removeEventListener("mouseleave",e.handleMouseLeave))},e.handleMouseEnter=function(){e.hoveringBalloon=!0},e.handleMouseLeave=function(){e.hoveringBalloon=!1,e.displayTimeout||e.hide({timeout:f})},e.handleBalloonUpdate=function(t){e.balloonID!==t&&(e.removeScrollListener(),e.hoveringBalloon=!1,e.removeMouseoverListeners()),e.currentBalloonID=t},e}return r.__extends(n,t),n.prototype.componentWillUnmount=function(){this.removeScrollListener()},n.prototype.render=function(){var t={balloonLayer:{show:this.show,hide:this.hide}};return a.createElement(e,r.__assign({},this.props,t))},n.prototype.checkVisible=function(e,t){t&&t.type!==m.a.Resize&&this.scrollListenerRegistered&&this.hide()},n.prototype.getBalloonContent=function(e){return a.createElement("div",{ref:this.autoclose&&this.setRef||void 0},e)},n.prototype.addScrollListener=function(){this.unregister=this.props.registerReceiver(this),this.scrollListenerRegistered=!0},n.prototype.removeScrollListener=function(){this.unregister&&(this.unregister(),this.scrollListenerRegistered=!1)},n.displayName=Object(p.a)(n.name,e),n}(a.Component);return Object(m.c)(function(e){return{registerReceiver:e.registerReceiver}})(t)}}n.d(t,"a",function(){return c}),n.d(t,!1,function(){}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,!1,function(){}),n.d(t,"e",function(){return g}),n.d(t,!1,function(){}),n.d(t,"b",function(){return f})},"222m":function(e,t,n){},"26nv":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:155}};n.loc.source={body:"query Chat_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nlogin\ndisplayName\nchatSettings {\nrules\n}\nself {\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"2C+f":function(e,t,n){},"2D+f":function(e,t,n){},"2Dht":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:347}};n.loc.source={body:"query WhisperThread($id: ID!) {\nwhisperThread(id: $id) {\nid\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nunreadMessagesCount\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n}\nsentAt\neditedAt\ndeletedAt\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"2EzP":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("XIZb"),r=Object(i.a)("MessageHandler"),a=(r.InnerProvider,r.withChatServiceProvider),o=r.withContext,s=a,l=o(function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}})},"2e6W":function(e,t,n){},"2rlx":function(e,t,n){"use strict";var i=n("pVnL"),r=n.n(i),a=n("o0o1"),o=n.n(a),s=n("yXPU"),l=n.n(s),c=n("MVZn"),d=n.n(c),u=n("VbXa"),m=n.n(u),p=n("q1tI"),h=n("hnjF"),f=n("fNzW"),g=n("hCFK"),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).refHandler=function(e){t.props.refDelegate&&t.props.refDelegate(e,t.props.id)},t.onExitComplete=function(){t.props.onExitComplete&&t.props.onExitComplete(t.props.id)},t.onTransformEnd=function(){t.props.onTransformEnd&&t.props.onTransformEnd(t.props.id)},t}return m()(t,e),t.prototype.render=function(){var e,t=this.props.transition.duration||g.b.Medium,n=!this.props.moveStyles&&!this.props.prepareForTransform,i=((e={})["tw-transition--"+t]=n,e),r={};return!1===this.props.transition.show&&void 0===this.props.exitStyles?r.position="absolute":!1===this.props.transition.show&&this.props.exitStyles?r=this.props.exitStyles:this.props.moveStyles&&(r=this.props.moveStyles),p.createElement("div",{key:this.props.id,ref:this.refHandler,className:Object(f.a)(i),style:r,onTransitionEnd:this.onTransformEnd},p.createElement(g.a,{show:!!this.props.transition.show,type:this.props.transition.type||g.c.ScaleOver,transitionInitialMount:!!this.props.transition.transitionInitialMount,duration:t,onExitComplete:this.onExitComplete},this.props.child))},t}(p.Component);b.displayName="TransitionGroupItem",n.d(t,"a",function(){return v});var v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).state={childMap:{},initialRenderComplete:!1},t.containerRef=void 0,t.childRefMap={},t.currentlyTransitioningKeys=[],t.setContainerRef=function(e){t.containerRef=e},t.setItemRef=function(e,n){e&&(t.childRefMap[n]=e)},t.onTransformEnd=function(e){t.currentlyTransitioningKeys=t.currentlyTransitioningKeys.filter(function(t){return t!==e})},t.deleteChild=function(e){e in t.state.childMap&&(delete t.childRefMap[e],t.setState(function(t){var n=d()({},t.childMap);return delete n[e],{childMap:n}}))},t.measureItems=function(e){var n={};return e.filter(function(e){return e in t.childRefMap}).forEach(function(e){e in n||(n[e]=t.childRefMap[e].getBoundingClientRect())}),n},t.setTransforms=function(){var e=l()(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){t.setState(function(e){var i=e.childMap,r=d()({},i),a=n.moved,o=n.exited,s=n.container,l=a,c=t.measureItems(Object.keys(a));return Object.keys(l).forEach(function(e){var t=l[e].left-c[e].left,n=l[e].top-c[e].top;r[e].moveStyles={transform:"translate3d("+t+"px, "+n+"px,0)"},r[e].prepareForTransform=!1}),Object.keys(o).forEach(function(e){var t=o[e],n=t.left-(s?s.left:0),i=t.top-(s?s.top:0);r[e].exitStyles={top:i+"px",left:n+"px",position:"absolute",width:t.width+"px",height:t.height+"px"}}),{childMap:r}},e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.clearMoveStyles=function(e){t.setState(function(t){var n=d()({},t.childMap);return e.forEach(function(e){return n[e].moveStyles=void 0}),{childMap:n}})},t.ensureLayoutReflow=function(){var e=t.childRefMap[Object.keys(t.childRefMap)[0]];e&&e.scrollTop},t}m()(t,e),t.getDerivedStateFromProps=function(e,t){var n,i,r=t.childMap,a=(n=e.children,i={},p.Children.map(n,function(e){return e}).forEach(function(e){if(null!==e.key){var t={id:e.key,transition:{show:!0},child:e};i[e.key]=t}}),i);if(!t.initialRenderComplete)return{childMap:a,initialRenderComplete:!0};var o=function(e,t){var n=Object.keys(e).filter(function(t){return!0===e[t].transition.show});return Object.keys(t).filter(function(t,i){return n[i]!==t&&t in e})}(r,a),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}(r,a);return Object.keys(s).forEach(function(e){var t=e in r,n=e in a,i=o.includes(e);t&&(s[e].moveStyles=r[e].moveStyles,s[e].exitStyles=r[e].exitStyles,s[e].transition=r[e].transition),s[e].prepareForTransform=i,n&&!t?(s[e].transition.show=!0,s[e].transition.transitionInitialMount=!0):!n&&t?s[e].transition.show=!1:n&&t&&!1===s[e].transition.show&&(s[e].transition.show=!0,s[e].exitStyles=void 0)}),{childMap:s}};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){var e=this.state.childMap,t=Object.keys(e).filter(function(t){return!0===e[t].prepareForTransform}),n=Object.keys(e).filter(function(t){return!1===e[t].transition.show&&!e[t].exitStyles});return 0===t.length&&0===n.length?null:{moved:this.measureItems([].concat(t,this.currentlyTransitioningKeys)),exited:this.measureItems(n),container:n.length&&this.containerRef?this.containerRef.getBoundingClientRect():void 0}},n.componentDidUpdate=function(e,t,n){var i=this;if(n&&0!==Object.keys(n).length){var r=Object.keys(n.moved);this.setTransforms(n).then(function(){r&&(i.ensureLayoutReflow(),i.clearMoveStyles(r),i.currentlyTransitioningKeys=r.filter(function(e){return!(e in n.exited)}))})}},n.render=function(){var e=this;return this.state.childMap?p.createElement(h.g,{position:h.j.Relative},p.createElement("div",{className:this.props.className,ref:this.setContainerRef},Object.keys(this.state.childMap).map(function(t){var n=e.state.childMap[t];return p.createElement(b,r()({},n,{key:t,transition:d()({},n.transition,{duration:e.props.duration,type:e.props.transitionType}),refDelegate:e.setItemRef,onExitComplete:e.deleteChild,onTransformEnd:e.onTransformEnd}))}))):null},t}(p.Component);v.displayName="TransitionGroup"},"34IA":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewerCardModLogsMessagesBySender"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"senderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messagesBySender"},arguments:[{kind:"Argument",name:{kind:"Name",value:"senderID"},value:{kind:"Variable",name:{kind:"Name",value:"senderID"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}},{kind:"Argument",name:{kind:"Name",value:"includeMessageCount"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"modLogsMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"targetedModAction"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:561}};i.loc.source={body:'#import "twilight/features/chat/components/viewer-card/viewer-card-mod-logs/fragments/targeted-mod-action-fragment.gql"\n#import "twilight/features/chat/components/viewer-card/viewer-card-mod-logs/fragments/mod-logs-message-fragment.gql"\nquery ViewerCardModLogsMessagesBySender($senderID: ID! $channelLogin: String! $cursor: Cursor) {\nchannel: user(login: $channelLogin) {\nid\nmodLogs {\nmessagesBySender(senderID: $senderID first: 50 order: DESC includeMessageCount: false after: $cursor) {\nedges {\nnode {\n...modLogsMessage\n...targetedModAction\n}\ncursor\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})}i.definitions=i.definitions.concat(a(n("jCkG").definitions)),i.definitions=i.definitions.concat(a(n("MfJU").definitions)),e.exports=i},"35qb":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};n.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"3Bft":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"}},"3CMh":function(e,t,n){"use strict";var i,r=n("TSYQ"),a=n("q1tI"),o=n("/7QA"),s=n("XmgI"),l=n("4h+t"),c=n("x1M1"),d=n("hnjF");n("0iXB");!function(e){e[e.Large=4]="Large",e[e.Medium=3]="Medium",e[e.Small=2]="Small",e[e.ExtraSmall=1.5]="ExtraSmall",e[e.ExtremelySmall=1]="ExtremelySmall"}(i||(i={}));var u=function(e){var t=e.bitsConfig&&e.bitsConfig.indexedActions[e.prefix.toLowerCase()];t||(t=Object(l.b)());var n=t.orderedTiers.find(function(t){return t.bits<=(e.amount||100)});n||(n=t.orderedTiers[0]);var u=e.display===d.d.Inline||e.display===d.d.InlineFlex||e.display===d.d.InlineBlock,m=null,p=r("cheermote-for-amount__cheer-amount",{"cheermote-for-amount__display--table-cell":!u},{"cheermote-for-amount__cheer-amount--medium":e.size===i.Medium},{"cheermote-for-amount__cheer-amount--small":e.size===i.Small||e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-amount--extremely-small":e.size===i.ExtremelySmall});if(void 0!==e.amount&&e.showAmount){var h=e.formattedNumber?Object(o.f)(e.amount):e.amount;m=a.createElement(d.g,{padding:e.size===i.Small?0:void 0,textAlign:e.size===i.Small?d.k.Center:void 0},a.createElement("strong",{className:p,style:{color:n.color}},h))}var f=r("cheermote-for-amount__cheer-image",{"cheermote-for-amount__display--table-cell":!u},{"cheermote-for-amount__cheer--inline":u},{"cheermote-for-amount__cheer-image--small":e.size===i.Small},{"cheermote-for-amount__cheer-image--extra-small":e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-image--extremely-small":e.size===i.ExtremelySmall}),g=a.createElement(c.a,{className:f,sources:Object(s.d)(n,e.size||i.Large,e.animated)});return e.showImage||(g=null),a.createElement(d.g,{className:"cheermote-for-amount",alignItems:e.alignItems,display:e.display},a.createElement("span",null,g,m))};n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u})},"3GF+":function(e,t,n){"use strict";var i=n("q1tI"),r=n("hnjF");n("jPLR");function a(e){e.stopPropagation()}var o=function(e){return i.createElement(r.g,{fullWidth:e.fullWidth,display:r.d.InlineBlock,className:e.className},i.createElement("div",{className:"viewer-card-drag-cancel",onMouseDown:a},e.children))};n.d(t,"a",function(){return o})},"3HtZ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Mods"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query Mods($login: String!) {\nuser(login: $login) {\nid\nmods(first: 100) {\nedges {\nnode {\nid\nlogin\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"3Law":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("1H2c"),c=n("hnjF"),d=n("7uM4"),u=n("3aAs"),m=(n("Jc5C"),function(e){var t,n="tw-"+Object(l.a)();return e.tabIndex&&(t=e.tabIndex),a.createElement("div",r()({className:Object(o.a)("tw-search-input")},Object(s.a)(e)),a.createElement(c.g,{display:c.d.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:n},"Search")),a.createElement(u.a,{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:"off",disabled:e.disabled,error:e.error,icon:d.b.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:t,size:e.size,type:u.b.Search,value:e.value,overlay:e.overlay}))});m.displayName="SearchInput",m.displayName="SearchInput"},"3YIm":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendWhisper"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendWhisperInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendWhisper"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:352}};n.loc.source={body:"mutation SendWhisper($input: SendWhisperInput!) {\nsendWhisper(input: $input) {\nmessage {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n__typename\n}\nsentAt\neditedAt\ndeletedAt\nthread {\nid\nparticipants {\nid\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n__typename\n}\nerror {\ncode\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"3aAs":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return g});var i,r,a=n("pVnL"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),c=n("vCsY"),d=n("IbuL"),u=n("hnjF"),m=n("X2PJ"),p=n("sUnt"),h=n("Ws8v"),f=n("2nDl");n("SbbE");!function(e){e[e.Text=0]="Text",e[e.Number=1]="Number",e[e.Email=2]="Email",e[e.Password=3]="Password",e[e.Search=4]="Search"}(i||(i={})),function(e){e.Default="",e.Left="tw-input--rounded-left",e.Right="tw-input--rounded-right"}(r||(r={}));var g=function(e){var t,n;e.tabIndex&&(n=e.tabIndex);var a=f.c.Default;e.size&&(a=e.size);var g={"tw-input":!0,"tw-input--small":e.size===f.c.Small,"tw-input--large":e.size===f.c.Large,"tw-input--error":e.error,"tw-input--overlay":e.overlay},b=e.size?f.a[e.size]:m.b.Medium,v={topLeft:b,topRight:b,bottomLeft:b,bottomRight:b};e.rounding&&(g[e.rounding]=!0,e.rounding===r.Left?(v.topRight=m.b.None,v.bottomRight=m.b.None):e.rounding===r.Right&&(v.topLeft=m.b.None,v.bottomLeft=m.b.None)),e.icon&&(t=s.createElement(h.a,{className:"tw-input__icon",position:u.j.Absolute,attachLeft:e.icon&&!e.iconRight,attachRight:e.iconRight,attachTop:!0,zIndex:u.n.Default,color:m.c.Alt2,display:u.d.Flex,alignItems:u.b.Center,justifyContent:u.h.Center,fullHeight:!0},s.createElement(d.a,{asset:e.icon})));var E=e.pattern?e.pattern.toString():void 0;return s.createElement(p.a,o()({position:u.j.Relative},Object(c.a)(e)),t,s.createElement(m.e,{display:u.d.Block,borderRadius:v,padding:{left:e.icon&&!e.iconRight?3:1,right:e.iconRight?3:1,y:e.size===f.c.Small?void 0:.5},fontSize:f.b[a],fullWidth:!0,textAlign:e.textAlign},s.createElement("input",{type:i[e.type].toLowerCase(),className:Object(l.a)(g),placeholder:e.placeholder,"aria-label":e.ariaLabel,autoCapitalize:e.autoCapitalize?"on":"off",autoCorrect:e.autoCorrect?"on":"off",autoComplete:e.autoComplete,autoFocus:e.autoFocus,"data-a-target":"tw-input",defaultValue:e.defaultValue,disabled:e.disabled,id:e.id,list:e.list,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onClick:e.onClick,onFocus:e.onFocus,onKeyDown:e.onKeyDown,pattern:E,max:e.max,maxLength:e.maxLength,min:e.min,readOnly:e.readOnly,ref:e.refDelegate,required:e.required,spellCheck:e.spellCheck,step:e.step,tabIndex:n,value:e.value})))};g.displayName="Input",g.displayName="Input"},"3ag2":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsLeaderboardEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsLeaderboardItemEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsLeaderboardEdgeNode"},directives:[]}]}}]}}],loc:{start:0,end:177}};i.loc.source={body:'#import "twilight/features/bits/models/bits-leaderboard-node-fragment.gql"\nfragment bitsLeaderboardEdge on BitsLeaderboardItemEdge {\ncursor\nnode {\n...bitsLeaderboardEdgeNode\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("xTLu").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},"3qL/":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i,r=n("mrSG"),a=n("/7QA");function o(e){return r.__awaiter(this,void 0,void 0,function(){var t,n,o,s,l;return r.__generator(this,function(r){switch(r.label){case 0:if(t=a.b.get("bits_truex_partner_hash",""),!(n=a.b.get("bits_truex_api_url",""))||!t)return a.k.warn("Truex API info missing from dynamic settings"),[2,i.Error];r.label=1;case 1:return r.trys.push([1,5,,6]),[4,fetch(n+"?placement.key="+t+"&user.uid="+e+"&max_activities=1")];case 2:return(o=r.sent()).ok?[4,o.json()]:[3,4];case 3:if((s=r.sent())&&Array.isArray(s)&&s.length)return[2,i.Available];r.label=4;case 4:return[2,i.Unavailable];case 5:return l=r.sent(),a.k.warn("Failed checking ad availability from TrueX, probably due to AdBlock",l),[2,i.AdBlocked];case 6:return[2]}})})}!function(e){e[e.Error=0]="Error",e[e.AdBlocked=1]="AdBlocked",e[e.Unavailable=2]="Unavailable",e[e.Available=3]="Available"}(i||(i={}))},"3sMn":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("1rIY"),s=(i=Object(o.a)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,isSettingsOpen:!1,updateChatConfigState:function(e){return null}})).InnerProvider,l=i.withContext,c=function(e){function t(t){var n=e.call(this,t)||this;return n.updateChatConfigState=function(e){null===n.updateFrame&&(n.setState(function(t){return r.__assign({},t,e)}),n.updateFrame=setTimeout(function(){n.updateFrame=null},0))},n.updateFrame=null,n.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,isSettingsOpen:!1,updateChatConfigState:n.updateChatConfigState},n}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(s,{value:this.state},this.props.children)},t}(a.Component),d=c;n.d(t,!1,function(){return s}),n.d(t,"b",function(){return l}),n.d(t,!1,function(){return c}),n.d(t,"a",function(){return d})},"3tQW":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("fvjX"),l=n("/7QA"),c=n("yR8l"),d=n("geRD"),u=n("kRBY"),m=n("1rIY"),p=n("F6GT"),h=n("GSWs"),f=n("4+lN"),g="useHighContrastColors",b=(i=Object(m.a)("HighContrastSettingContext",{setValue:function(){return null},value:!0})).InnerProvider,v=i.withContext,E=function(e){function t(t){var n=e.call(this,t)||this;n.setValue=function(e){if(n.setState({localOverride:e}),l.n.set(g,e),n.props.isLoggedIn){var t=r.__assign({},Object(d.a)({isReadableChatColorsEnabled:e}),{optimisticResponse:{setReadableChatColorsEnabled:{__typename:"SetReadableChatColorsEnabledPayload",isReadableChatColorsEnabled:e}},update:function(t){var n;try{n=t.readQuery({query:f})}catch(e){return}n&&n.currentUser&&n.currentUser.chatUISettings&&(n.currentUser.chatUISettings.isReadableChatColorsEnabled=e,t.writeQuery({query:f,data:n}))}});n.props.setReadableChatColors(t)}},n.state={};var i=Object(p.b)().useHighContrastColors;return void 0!==i&&(Object(p.a)("useHighContrastColors"),l.n.set(g,i)),n}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(b,{value:{setValue:this.setValue,value:this.value}},this.props.children)},t.prototype.componentDidUpdate=function(e){this.hasData(this.props)&&!this.hasData(e)&&(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?l.n.set(g,this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled):this.setValue(this.value))},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled:l.n.get(g,!0)},enumerable:!0,configurable:!0}),t}(a.Component);var k=Object(s.compose)(Object(o.connect)(function(e){return{isLoggedIn:Object(u.f)(e)}}),Object(c.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(c.a)(h,{name:"setReadableChatColors"}))(E);n.d(t,!1,function(){return b}),n.d(t,"b",function(){return v}),n.d(t,!1,function(){return E}),n.d(t,"a",function(){return k})},"4+Ji":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var i=n("/7QA"),r="owl_season2_freetrial_end_date",a="twilight.multiview_owl_ftue_done",o="owl_channel_logins",s=new Date(Date.now()-31536e6).toString();function l(e){return i.b.get(o,[]).includes(e)}function c(){var e=i.b.get(r,s);return new Date(e)}},"4+lN":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsReadableChatColors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query SyncedSettingsReadableChatColors {\ncurrentUser {\nid\nchatUISettings {\nisReadableChatColorsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"4G6/":function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var i=60,r=60*i,a=24*r,o=7*a,s=4*o+2*a,l=3,c=/([a-zA-Z])([0-9])/gi,d=/([0-9])([a-zA-Z])/gi,u=/^mo(nths?)?/,m=/^w(eeks?)?/,p=/^d(ays?)?/,h=/^h(ours?)?/,f=/^m(inutes?)?/;function g(e){if(!e)return"0s";var t=e,n="";if(t>s){var l=Math.floor(t/s);t-=l*s,n+=l+"mo"}if(t>o){var c=Math.floor(t/o);t-=c*o,n+=c+"w"}if(t>a){var d=Math.floor(t/a);t-=d*a,n+=d+"d"}if(t>r){var u=Math.floor(t/r);t-=u*r,n+=u+"h"}if(t>i){var m=Math.floor(t/i);t-=m*i,n+=m+"m"}return t>0&&(n+=t+"s"),n}function b(e){var t=0,n=e.replace(c,"$1 $2").replace(d,"$1 $2").split(/\W+/);if(n.length%2!=0)return null;for(var g=0;g<n.length;g+=2){var b=n[g],v=parseInt(b,10);if(Number.isNaN(v)||b.length>l)return null;var E=n[g+1];if(E.match(u))t+=v*s;else if(E.match(m))t+=v*o;else if(E.match(p))t+=v*a;else if(E.match(h))t+=v*r;else{if(!E.match(f))return null;t+=v*i}}return t}},"4HoE":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ModUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:125}};n.loc.source={body:"mutation ModUser($input: ModUserInput!){\nmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"4VQm":function(e,t,n){"use strict";var i=n("bJDk");n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c})},"4h+t":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var i=n("DMoW"),r=n("uYEN"),a=n("5zXJ"),o={Cheer:i.x.FIRST_PARTY,Kreygasm:i.x.FIRST_PARTY,Kappa:i.x.FIRST_PARTY,Muxy:i.x.THIRD_PARTY,Streamlabs:i.x.THIRD_PARTY,SwiftRage:i.x.FIRST_PARTY,VoHiYo:i.x.FIRST_PARTY},s=[i.v.LIGHT,i.v.DARK],l=[1,1.5,2,3,4],c=null;function d(){if(!c){var e=[],t={};Object.keys(o).forEach(function(n){var i=p(n,o[n]);e.push(i),t[n.toLowerCase()]=i}),c={orderedActions:e,indexedActions:t}}return c}var u=null;function m(){return u||(u=function(e){if(c)return c.indexedActions[e.toLowerCase()];return p(e,o[e])}("Cheer")),u}function p(e,t){var n=[r.a.Red,r.a.Blue,r.a.Green,r.a.Purple,r.a.Gray],i=new Map,a=[];if("Cheer"===e){var o=h(e,r.a.Yellow);i.set(r.a.Yellow,o),a.push(o)}return a.push.apply(a,n.map(function(t){var n=h(e,t);return i.set(t,n),n})),{__typename:"Cheermote",id:"",prefix:e,type:t,campaign:null,tiers:a,orderedTiers:a,indexedTiers:i}}function h(e,t){for(var n=[],i={},r=0,o=s;r<o.length;r++)for(var c=o[r],d=0,u=l;d<u.length;d++){var m=u[d];i[c]||(i[c]={animated:new Map,static:new Map});var p=f(e,c,!0,t,m);n.push(p),i[c].animated.set(m,p.url);var h=f(e,c,!1,t,m);n.push(h),i[c].static.set(m,h.url)}return{__typename:"CheermoteTier",id:e+";"+t,canCheer:t<=a.o,canShowInBitsCard:!0,bits:t,color:a.j[t],images:n,indexedImages:i}}function f(e,t,n,i,r){var a=n?"gif":"png";return{__typename:"CheermoteImage",id:"",theme:t,isAnimated:n,dpiScale:r,url:"https://d3aqoihi2n8ty8.cloudfront.net/actions/"+e.toLowerCase()+"/"+t.toLowerCase()+"/"+(n?"animated":"static")+"/"+i+"/"+r+"."+a}}},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"4zGI":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedCheerMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedCheerInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"mutation Chat_DenyRejectedCheerMessage($input: DenyRejectedCheerInput!) {\ndenyRejectedCheer(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"5Czc":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsUserSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsUserSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstCheerTutorial"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAbandoned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSkipped"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96}};n.loc.source={body:"fragment bitsUserSettings on BitsUserSettings {\nfirstCheerTutorial {\nhasAbandoned\nhasSkipped\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"5Siz":function(e,t,n){"use strict";var i;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),function(e){e.PopoutChat="popout_chat",e.Chat="chat",e.LiveDashButton="live_dashboard_button",e.LiveDashHotkey="live_dashboard_hotkey",e.LiveDashChat="live_dashboard_chat"}(i||(i={}));var r=140},"5cw2":function(e,t,n){},"5zXJ":function(e,t,n){"use strict";n.d(t,"u",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"s",function(){return c}),n.d(t,"m",function(){return d}),n.d(t,"o",function(){return u}),n.d(t,"p",function(){return m}),n.d(t,"n",function(){return p}),n.d(t,"q",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"t",function(){return v}),n.d(t,"r",function(){return E}),n.d(t,"i",function(){return k}),n.d(t,"a",function(){return C}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return N}),n.d(t,"b",function(){return _});var i,r=n("uYEN"),a={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s=o+"/cheer",l=o+"/actions",c="bonus",d=8e5,u=1e5,m=25e4,p=500,h=1e3,f="cheer",g=r.a.Purple,b=((i={})[r.a.Gray]="#979797",i[r.a.Purple]="#9c3ee8",i[r.a.Green]="#1db2a5",i[r.a.Blue]="#0099fe",i[r.a.Red]="#f43021",i[r.a.Yellow]="#f3a71a",i),v="bits_sponsored_cheermotes",E="bits_sponsored_cheermotes_announcement",k="bits_charity_event",C="bits_project_marley",S="AnAnonymousCheerer",y="ananonymouscheerer",N="407665396",_="Anon"},"5zf8":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l});var i,r,a=n("/7QA");function o(e,t){switch(e){case i.Second:return Object(a.d)("{secondCount, plural, one {# second} other {# seconds}}",{secondCount:t},"formatDuration");case i.Minute:return Object(a.d)("{minuteCount, plural, one {# minute} other {# minutes}}",{minuteCount:t},"formatDuration");case i.Hour:return Object(a.d)("{hourCount, plural, one {# hour} other {# hours}}",{hourCount:t},"formatDuration");case i.Day:return Object(a.d)("{dayCount, plural, one {# day} other {# days}}",{dayCount:t},"formatDuration");case i.Week:return Object(a.d)("{weekCount, plural, one {# week} other {# weeks}}",{weekCount:t},"formatDuration");case i.Month:return Object(a.d)("{monthCount, plural, one {# month} other {# months}}",{monthCount:t},"formatDuration");default:return""}}function s(e,t){switch(e){case i.Second:return Object(a.d)("{secondCount}s",{secondCount:t},"formatDuration");case i.Minute:return Object(a.d)("{minuteCount}m",{minuteCount:t},"formatDuration");case i.Hour:return Object(a.d)("{hourCount}h",{hourCount:t},"formatDuration");case i.Day:return Object(a.d)("{dayCount}d",{dayCount:t},"formatDuration");case i.Week:return Object(a.d)("{weekCount}w",{weekCount:t},"formatDuration");case i.Month:return Object(a.d)("{monthCount}mo",{monthCount:t},"formatDuration");default:return""}}function l(e,t){var n;switch(void 0===t&&(t=r.Humanized),t===r.ClockAuto&&(t=e>=3600?r.ClockHMS:r.ClockMS),t){case r.ClockHM:case r.ClockHMS:n=i.Hour;break;case r.ClockMS:n=i.Minute}var l=2;t===r.ClockHMS&&(l=3);var d=function(e,t){void 0===t&&(t=i.Month);var n={};return n.seconds=e,e<60||t===i.Second?n:(n.minutes=Math.floor(e/60),n.seconds=e%60,n.minutes<60||t===i.Minute?n:(n.hours=Math.floor(n.minutes/60),n.minutes=n.minutes%60,n.hours<24||t===i.Hour?n:(n.days=Math.floor(n.hours/24),n.hours=n.hours%24,n.days<7||t===i.Day?n:n.days<=26||t===i.Week?(n.weeks=Math.floor(n.days/7),n.days=n.days%7,n):(n.months=Math.round((n.days+3)/30),n))))}(e,n),u=Object.keys(d);if(u.forEach(function(e,n){t!==r.Humanized&&t!==r.HumanizedShort||d[e]||delete d[e],n<u.length-l&&delete d[e]}),t===r.Humanized)return function(e){return e.months?o(i.Month,e.months):e.weeks&&e.days?o(i.Week,e.weeks)+" "+o(i.Day,e.days):e.weeks?o(i.Week,e.weeks):e.days&&e.hours?o(i.Day,e.days)+" "+o(i.Hour,e.hours):e.days?o(i.Day,e.days):e.hours&&e.minutes?o(i.Hour,e.hours)+" "+o(i.Minute,e.minutes):e.hours?o(i.Hour,e.hours):e.minutes&&e.seconds?o(i.Minute,e.minutes)+" "+o(i.Second,e.seconds):e.minutes?o(i.Minute,e.minutes):o(i.Second,e.seconds||0)}(d);if(t===r.HumanizedShort)return function(e){return e.months?s(i.Month,e.months):e.weeks&&e.days?""+s(i.Week,e.weeks)+s(i.Day,e.days):e.weeks?s(i.Week,e.weeks):e.days&&e.hours?""+s(i.Day,e.days)+s(i.Hour,e.hours):e.days?s(i.Day,e.days):e.hours&&e.minutes?""+s(i.Hour,e.hours)+s(i.Minute,e.minutes):e.hours?s(i.Hour,e.hours):e.minutes&&e.seconds?""+s(i.Minute,e.minutes)+s(i.Second,e.seconds):e.minutes?s(i.Minute,e.minutes):s(i.Second,e.seconds||0)}(d);var m=":",p=!1;switch(a.q.intl.getLanguageCode()){case"cy":case"da":case"fi":case"id":case"nb":case"si":m=".";break;case"af":case"fr":case"lt":p=!0}var h=d.seconds||0,f=d.minutes||0,g=d.hours||0;switch(t){case r.ClockHM:case r.ClockHMS:var b=(p?c(g,2):g)+m+c(f,2);return t===r.ClockHMS&&(b+=m+c(h,2)),b;case r.ClockMS:return(p?c(f,2):f)+m+c(h,2)}}function c(e,t){var n=e.toString();return n.length<t?"0".repeat(t-n.length)+n:n}!function(e){e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.Month=5]="Month"}(i||(i={})),function(e){e[e.Humanized=0]="Humanized",e[e.HumanizedShort=1]="HumanizedShort",e[e.ClockAuto=2]="ClockAuto",e[e.ClockHM=3]="ClockHM",e[e.ClockMS=4]="ClockMS",e[e.ClockHMS=5]="ClockHMS"}(r||(r={}))},"60o1":function(e,t,n){"use strict";function i(e,t){var n=e,i=!1;return n?n.split("").map(function(e){return e.charCodeAt(0)>127}).reduce(function(e,t){return e||t})&&(i=!0):n=t,{userDisplayName:n,isIntl:i}}n.d(t,"a",function(){return i})},"6MRn":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsPinnedCheerV2_LeaderboardEntry"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"profileImageWidth"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"profileImageWidth"}}}],directives:[]}]}}]}}],loc:{start:0,end:168}};n.loc.source={body:"query BitsPinnedCheerV2_LeaderboardEntry($userID: ID! $profileImageWidth: Int!) {\nuser(id: $userID) {\nid\ndisplayName\nlogin\nprofileImageURL(width:$profileImageWidth)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"6ZXE":function(e,t,n){},"6j5V":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("RcPG");function r(e){return{type:i.a.Text,content:e}}},"7APm":function(e,t,n){},"7NxT":function(e,t,n){"use strict";n("DLhE")},"7SjK":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("TSYQ"),o=n("/7QA"),s=n("GnwI"),l=n("hnjF"),c=n("X2PJ"),d=n("7uM4"),u=n("Ws8v"),m=n("b7S+"),p=(n("GOKC"),r.createElement(u.a,{alignItems:l.b.Center,background:c.a.Overlay,borderRadius:c.b.Small,className:"emote-button__lock",color:c.c.Overlay,"data-test-selector":"emote-button-lock",display:l.d.InlineFlex,justifyContent:l.h.Center,position:l.j.Absolute,zIndex:l.n.Above},r.createElement(d.a,{asset:d.b.Lock,height:10,width:10}))),h=function(e){var t=a("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,i=n.displayName,c=n.srcSet;if(!c)return null;var d=r.createElement("img",{className:"emote-picker__image",srcSet:c,alt:i});if(e.isCriticalImage){for(var u=c.split(" ")[0],h={},f=0,g=c.split(",");f<g.length;f++){var b=g[f].trim().split(" "),v=b[1],E=b[0];h[v]=E}d=r.createElement(s.CriticalImage,{className:"emote-picker__emote-image",src:u,srcSet:h,alt:i||""})}return r.createElement("div",{className:"emote-button"},r.createElement(m.a,{label:i||Object(o.d)("Emote","EmoteButton"),direction:m.c.Bottom},r.createElement(l.g,{display:l.d.Flex,alignItems:l.b.Center,justifyContent:l.h.Center},r.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":i,name:i,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":i},r.createElement("figure",null,e.locked?p:null,d)))))},f=n("sUnt"),g=(n("VrOd"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickEmote=function(e){t.props.onClickEmote&&t.props.onClickEmote(e,t.props.context)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.emotes.map(function(t,n){return r.createElement(f.a,{key:"emote-button-padder-"+t.id+"--"+n,padding:{left:e.props.spaced?.5:0}},r.createElement(h,{key:"emote-button-"+t.id+"--"+n,emote:t,isCriticalImage:0===n,locked:e.props.locked||t.isLocked,onClick:e.props.locked?void 0:e.handleClickEmote}))});return r.createElement(f.a,{display:l.d.Flex,flexWrap:l.f.Wrap,justifyContent:l.h.Center},t)},t}(r.PureComponent));n.d(t,"a",function(){return g})},"7TkE":function(e,t,n){e.exports=n.p+"assets/gift-open-ba127d9c110a18648ca1.png"},"7pYF":function(e,t,n){},"8/mp":function(e,t,n){"use strict";var i=n("4VQm"),r=n("HAa/"),a=n("mrSG"),o=n("q1tI"),s=n("/MKj"),l=n("fvjX"),c=n("hnjF"),d=n("sUnt"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyles=function(){if(n.props.disableStickiness)return{position:"relative"};var e=n.state,t=e.anchoredBottom,i=e.anchoredTop,r=e.top,a=e.width,o=t||i,s="absolute";return window.outerWidth<(n.props.disableStickinessBelowWidth||0)?(s="inherit",o=!1):o&&(s="fixed"),{position:s,top:i?"inherit":r,width:o?a:"inherit"}},n.lockBottom=function(e){n.element&&n.setState({anchoredBottom:!0,top:window.innerHeight-e,width:n.element.getBoundingClientRect().width})},n.lockTop=function(){n.element&&n.setState({anchoredTop:!0,width:n.element.getBoundingClientRect().width})},n.resizeStickyColumn=function(){n.unlock(n.state.lastOffset||0),n.checkBounding(!0,0)},n.setRef=function(e){return n.element=e},n.state={anchoredBottom:!1,anchoredTop:!1,lastOffset:void 0,offsetTop:void 0,top:void 0,width:void 0},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){if(this.element){var e=this.element.getBoundingClientRect();this.setState({offsetTop:e.top})}this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillReceiveProps=function(e){this.props.sideNavExpanded!==e.sideNavExpanded&&this.resizeStickyColumn()},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return o.createElement(d.a,{position:c.j.Relative,fullWidth:!0},o.createElement("div",{className:"sticky-container",ref:this.setRef,style:this.getStyles()},this.props.children))},t.prototype.checkVisible=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,o,s;return a.__generator(this,function(a){return!t||t.type!==i.a.Resize&&t.type!==i.a.Wheel&&t.type!==i.a.Scroll||(e=this.state.anchoredBottom||this.state.anchoredTop,n=t.offset>=(this.state.lastOffset||0),t.type===i.a.Resize?(this.unlock(t.offset),this.checkBounding(n,t.offset)):t.wheelEvent&&t.type===i.a.Wheel&&e?(r=t.wheelEvent,o=r.deltaY,r.deltaMode!==WheelEvent.DOM_DELTA_PIXEL&&(o=16*r.deltaY),s=o+t.offset,this.props.yScrollTo(s),this.checkBounding(o>0,t.offset)):t.type!==i.a.Scroll||t.offset===this.state.lastOffset||e||this.checkBounding(n,t.offset)),[2]})})},t.prototype.checkBounding=function(e,t){e&&this.state.anchoredTop&&this.unlock(t),!e&&this.state.anchoredBottom&&this.unlock(t),this.state.anchoredBottom||this.state.anchoredTop||this.shouldLock(e),this.setState({lastOffset:t})},t.prototype.shouldLock=function(e){if(this.element){var t=this.element.getBoundingClientRect(),n=this.state.offsetTop||0;if(t.height<window.innerHeight-n)this.lockTop();else{var i=t.top<n,r=t.top>=window.innerHeight,a=t.bottom<n,o=t.bottom+(this.props.bottomPixelThreshold||0)>=window.innerHeight,s=!r&&!i,l=!o&&!a;!s&&!l||s&&l||(!e&&s&&this.lockTop(),e&&l&&this.lockBottom(t.height+(this.props.bottomPixelThreshold||0))),i&&a&&this.lockBottom(t.height+(this.props.bottomPixelThreshold||0)),r&&o&&this.lockTop()}}},t.prototype.unlock=function(e){if(this.element){var t,n=this.state,i=n.offsetTop,r=n.width,a=this.element.getBoundingClientRect(),o=window.innerHeight-(i||0),s=r;t="inherit",a.height<=o?s="inherit":this.state.anchoredTop?t=e:this.state.anchoredBottom&&(t=e-a.height+o-(this.props.bottomPixelThreshold||0)),this.setState({top:t,width:s,anchoredBottom:!1,anchoredTop:!1})}},t}(o.Component),m=Object(l.compose)(Object(s.connect)(function(e){return{sideNavExpanded:e.ui.sideNavExpanded}}),Object(i.c)(function(e){return{registerReceiver:e.registerReceiver,yScrollTo:e.yScrollTo}}))(u),p=n("TSYQ"),h=n("bJDk"),f=(n("v+fc"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTriggerVisible=function(e,t){var n=t.top,i=t.top+t.height;return!(e.bottom<n||e.top>i)},t.setWrapRef=function(e){return t.wrapElement=e},t.setRef=function(e){return t.element=e},t}return a.__extends(t,e),t.prototype.render=function(){var e=p({"scrollable-trigger__trigger-area":!0}),t={height:this.props.pixelThreshold||100};return o.createElement("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef},o.createElement("div",{className:e,ref:this.setRef,style:t}))},t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.componentWillReceiveProps=function(){this.props.requestVisibilityCheck(this)},t.prototype.checkVisible=function(e,t){if(this.wrapElement&&this.element){var n=this.element.getBoundingClientRect();this.isTriggerVisible(n,e)?this.props.visible():this.props.notVisible&&this.props.notVisible()}},t}(o.Component)),g=Object(h.c)(function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}})(f);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return r.a}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return g})},"8BsE":function(e,t,n){},"8EUQ":function(e,t,n){"use strict";var i={};n.d(i,"SUB_CHECKOUT__PRODUCT_KEY",function(){return o}),n.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",function(){return s}),n.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",function(){return l}),n.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",function(){return c}),n.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",function(){return d}),n.d(i,"clearSubscriptionCheckoutKeys",function(){return m}),n.d(i,"showLoginModalWithCheckoutDispatch",function(){return p});var r=n("/7QA"),a=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",l="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",c="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",d="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",u=[o,s,l,c,d];function m(){u.forEach(function(e){return r.o.remove(e)})}function p(e){return function(){return Object(a.e)(e,{onClose:m})}}n.d(t,"a",function(){return i})},"8FNT":function(e,t,n){},"8SX2":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("8Ad5"),o=n("fezU"),s=n("+80q"),l=n("X2PJ"),c=(n("rVcM"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==a.a.Space&&e.keyCode!==a.a.Enter||t.props.onUsernameClick(t.props.login,t.props.sourceType,t.props.contentID,e.currentTarget.getBoundingClientRect().bottom)},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement("span",{className:"chatter-name",onClick:this.openViewerCard,onKeyDown:this.openViewerCard,role:"button",tabIndex:0},r.createElement(s.a,{bold:!0,color:l.c.Base,type:s.e.Span},this.props.children))},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(r.Component));var d=Object(o.b)(function(e){return{onUsernameClick:e.onShowViewerCard}})(c);n.d(t,!1,function(){return c}),n.d(t,"a",function(){return d})},"8in3":function(e,t,n){"use strict";var i=n("fezU"),r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("ZS2+"),l=n("uy8m"),c=n("4rCz"),d=n("1MDS"),u=n("0Hf3"),m=n("o8Ti"),p=n("3GF+"),h=n("oK83"),f=n("7d/q"),g=n("Ws8v"),b=n("sUnt"),v=n("hnjF"),E=n("7uM4"),k=n("b7S+"),C=n("X2PJ"),S=n("XQbB"),y=(n("2D+f"),function(e){function t(t){var i=e.call(this,t)||this;return i.ViewerCard=s.a.wrap(function(){return n.e(205).then(n.bind(null,"q3Qz"))},"ViewerCard",{placeholder:o.createElement(g.a,{background:C.a.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(S.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.ExtensionMessageCard=s.a.wrap(function(){return n.e(204).then(n.bind(null,"n3tJ"))},"ExtensionMessageCard",{placeholder:o.createElement(g.a,{background:C.a.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(S.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.EmoteCard=s.a.wrap(function(){return n.e(203).then(n.bind(null,"unmP"))},"EmoteCard",{placeholder:o.createElement(g.a,{fullHeight:!0,fullWidth:!0,padding:2},o.createElement(S.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.onDragStart=function(e){i.cardContainerRef&&i.layerRef&&e.button===l.a.Left&&(window.addEventListener("mousemove",i.onDrag),window.addEventListener("mouseup",i.onDragEnd),window.addEventListener("selectstart",i.cancelSelection),i.setState({dragging:!0}),i.initCardX=i.cardContainerRef.offsetLeft,i.initCardY=i.cardContainerRef.offsetTop,i.initMouseX=e.clientX,i.initMouseY=e.clientY)},i.onDrag=function(e){i.nextTop=i.initCardY+e.clientY-i.initMouseY,i.nextLeft=i.initCardX+e.clientX-i.initMouseX,i.rafHandle||(i.rafHandle=requestAnimationFrame(function(){i.rafHandle=0,i.cardContainerRef&&(i.cardContainerRef.style.top=i.nextTop+"px",i.cardContainerRef.style.left=i.nextLeft+"px")}))},i.openPopout=function(){if(i.props.viewerCardOptions){var e=i.props.viewerCardOptions.targetID,t=window.open("/popout/"+i.props.channelLogin+"/viewercard/"+e+"?popout=","_blank","right=50,top=50,width=340,height=520,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");Object(u.c)({targetLogin:e,targetUserID:null,channelID:i.props.channelID,channelLogin:i.props.channelLogin,clickText:u.b.PopOut}),t&&(t.focus(),i.props.hideViewerCard())}},i.onDragEnd=function(){i.removeDragListeners(),i.setState({dragging:!1})},i.removeDragListeners=function(){window.removeEventListener("mousemove",i.onDrag),window.removeEventListener("mouseup",i.onDragEnd),window.removeEventListener("selectstart",i.cancelSelection)},i.cancelSelection=function(e){e.preventDefault()},i.hideEmoteCard=function(){i.props.viewerCardOptions&&i.props.viewerCardOptions.viewerCardType===h.c.Emote&&Object(d.c)({emoteLocation:Object(d.b)(i.props.viewerCardOptions.emoteSourceType),emoticonID:i.props.viewerCardOptions.emoteID,chatChannel:i.props.channelLogin,chatChannelID:i.props.channelID?i.props.channelID:"",referrerUserID:i.props.viewerCardOptions.targetID,action:d.a.Close,msgID:i.props.viewerCardOptions.sourceID}),i.props.hideViewerCard()},i.state={dragging:!1,viewerCardComponentLoaded:!1,modLogsEnabled:!1},i}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.hideViewerCard(),this.rafHandle&&cancelAnimationFrame(this.rafHandle),this.removeDragListeners()},t.prototype.componentWillReceiveProps=function(e){this.setState({modLogsEnabled:Object(m.a)(e.channelID)}),this.props.viewerCardOptions&&e.viewerCardOptions&&(e.viewerCardOptions.targetID===this.props.viewerCardOptions.targetID&&e.viewerCardOptions.initialTopOffset===this.props.viewerCardOptions.initialTopOffset||this.cardContainerRef&&(this.cardContainerRef.style.left="0px"))},t.prototype.render=function(){var e=this,t={"viewer-card-layer":!0,"viewer-card-layer--dragging":this.state.dragging},n={"viewer-card-layer__draggable":!0,"viewer-card-layer__draggable--dragging":this.state.dragging},i=null,r={};if(this.props.viewerCardOptions){if(this.layerRef){var s=this.layerRef.getBoundingClientRect(),l=Math.min(this.props.viewerCardOptions.initialTopOffset-s.top,s.height-240);r={top:Math.max(l,0)+"px"}}switch(this.props.viewerCardOptions.viewerCardType){case h.c.Extension:i=o.createElement(this.ExtensionMessageCard,{channelID:this.props.channelID,extensionID:this.props.viewerCardOptions.targetID,extensionVersion:this.props.viewerCardOptions.extensionVersion,hideMessageCard:this.props.hideViewerCard});break;case h.c.Viewer:i=o.createElement(this.ViewerCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,targetLogin:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.sourceType,sourceID:this.props.viewerCardOptions.sourceID,confirmModerationAction:this.props.confirmModerationAction,hideViewerCard:this.props.hideViewerCard});break;case h.c.Emote:i=o.createElement(this.EmoteCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,referrerID:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.emoteSourceType,sourceID:this.props.viewerCardOptions.sourceID,emoteID:this.props.viewerCardOptions.emoteID,emoteCode:this.props.viewerCardOptions.emoteCode,hideViewerCard:this.hideEmoteCard});break;default:i=null}}var d=null;if(i){var u=Object(c.d)("Hide","ViewerCard"),m=o.createElement(f.a,{icon:E.b.Close,onClick:this.props.hideViewerCard,ariaLabel:u,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"close-viewer-card"}),g=this.state.modLogsEnabled&&(this.props.isModerator||this.props.isOwner),S=Object(c.d)("Popout","ViewerCard"),y=g?o.createElement(k.a,{label:Object(c.d)("Open in popout","ViewerCard"),"data-test-selector":"popout-viewer-card"},o.createElement(f.a,{icon:E.b.Popout,onClick:this.openPopout,ariaLabel:S,overlay:this.state.viewerCardComponentLoaded})):null;d=o.createElement(C.e,{background:C.a.Base,className:a(n),position:v.j.Absolute},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(t){e.cardContainerRef=t},style:r,"data-a-target":"viewer-card-positioner"},i,o.createElement(b.a,{position:v.j.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(p.a,null,y,m)))),this.props.viewerCardOptions.viewerCardType===h.c.Emote&&(m=o.createElement(f.a,{icon:E.b.Close,onClick:this.hideEmoteCard,ariaLabel:u,overlay:this.state.viewerCardComponentLoaded,type:f.c.Secondary,"data-test-selector":"close-viewer-card"}),d=o.createElement(C.e,{className:a(n),position:v.j.Absolute,borderRadius:C.b.Large},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(t){e.cardContainerRef=t},style:r,"data-a-target":"viewer-card-positioner"},i,o.createElement(b.a,{position:v.j.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(p.a,null,m)))))}return o.createElement(v.g,{className:a(t),fullHeight:!0,fullWidth:!0,position:v.j.Relative,zIndex:v.n.Above},o.createElement("div",{onMouseUp:this.onDragEnd,ref:function(t){e.layerRef=t}},d))},t}(o.Component));var N=Object(i.b)(function(e){return{viewerCardOptions:e.viewerCardOptions,hideViewerCard:e.hideViewerCard}})(y);n.d(t,"a",function(){return N})},"8jSG":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"blockedUsers"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:56}};n.loc.source={body:"fragment blockedUsers on User {\nid\nblockedUsers {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"8nkl":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetBitsUserSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetBitsUserSettingsInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setBitsUserSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUserSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsUserSettings"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:237}};i.loc.source={body:'#import "twilight/features/bits/models/bits-user-settings-fragment.gql"\nmutation SetBitsUserSettings($input: SetBitsUserSettingsInput!){\nsetBitsUserSettings(input: $input) {\ncurrentUser {\nid\nbitsUserSettings {\n...bitsUserSettings\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("5Czc").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},"8qOS":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n("mrSG"),r=n("q1tI"),a=n("fvjX"),o=n("/7QA"),s=n("yR8l"),l=n("geRD"),c=n("2Ygb"),d=n("4G6/"),u=n("AREq"),m=n("Av0x"),p=n("4w0E"),h=n("1Rv/"),f=n("HzXE"),g=600;function b(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.banUser=function(t,n){var i=t?Object(o.d)("Unable to timeout user.","ViewerCardModActions"):Object(o.d)("Unable to ban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(i),Promise.reject(i);var r=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!r)return e.surfaceError(i),Promise.reject(i);var a=null;"number"==typeof t?a=Object(d.a)(t):"string"==typeof t&&(a=t);var s=e.props.channelID;return e.props.banUserMutation(Object(l.a)({channelID:s,bannedUserLogin:r,expiresIn:a,reason:n})).then(function(n){var i=n&&n.data&&n.data.banUserFromChatRoom&&n.data.banUserFromChatRoom.error;if(e.updateUserBanStatusQuery(n.data),i&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login){var r=i.minTimeoutDurationSeconds,a=i.maxTimeoutDurationSeconds;e.surfaceError(Object(u.a)({login:e.props.userBanStatusData.targetUser.login,code:i.code,isTimeout:!!t,minTimeoutDuration:r||void 0,maxTimeoutDuration:a||void 0}))}return n.data}).catch(function(t){throw e.surfaceError(i),t})},e.unbanUser=function(t){var n=t?Object(o.d)("Unable to untimeout user.","ViewerCardModActions"):Object(o.d)("Unable to unban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(n),Promise.reject(n);var i=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!i)return e.surfaceError(n),Promise.reject(n);var r=e.props.channelID;return e.props.unbanUserMutation(Object(l.a)({channelID:r,bannedUserLogin:i})).then(function(t){var n=t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.error;return e.updateUserBanStatusQuery(null),n&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login&&e.surfaceError(Object(m.a)(e.props.userBanStatusData.targetUser.login,n.code)),t.data}).catch(function(t){throw e.surfaceError(n),t})},e.updateUserBanStatusQuery=function(t){var n=e.props,i=n.channelID,r=n.targetID;Object(l.f)(f,{channelID:i,targetUserID:r},function(e){var n=e&&e.targetUser||null;return t&&t.banUserFromChatRoom?{targetUser:n,chatRoomBanStatus:t.banUserFromChatRoom.ban}:{targetUser:n,chatRoomBanStatus:null}})},e.surfaceError=function(t){e.props.surfaceError&&e.props.surfaceError(t)},e}return i.__extends(n,t),n.prototype.render=function(){var t=this,n={userBanStatus:this.props.userBanStatusData,banUser:function(e,n){return t.banUser(e,n)},timeoutUser:function(e,n){return t.banUser(e||g,n)},unbanUser:function(){return t.unbanUser()},untimeoutUser:function(){return t.unbanUser(!0)}};return r.createElement(e,i.__assign({},this.props,n))},n}(r.Component)).displayName=Object(c.a)(t.name,e),t}function v(e){return Object(a.compose)(Object(s.a)(p,{name:"banUserMutation"}),Object(s.a)(h,{name:"unbanUserMutation"}),Object(s.a)(f,{name:"userBanStatusData",options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.targetID}}}}),b)(e)}},"986b":function(e,t,n){},"9KaG":function(e,t,n){},"9MrB":function(e,t,n){"use strict";var i=n("R3G4");n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b})},"9P+5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_UserData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query Chat_UserData {\nuser {\nid\ndisplayName\nlogin\nroles {\nisGlobalMod\nisSiteAdmin\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"9Rmp":function(e,t,n){},"9o5F":function(e,t,n){"use strict";var i=n("/MKj"),r=n("fvjX"),a=n("y5D0"),o=n("mrSG"),s=n("q1tI"),l=n("/7QA"),c=n("1/iK"),d=n("tKDy"),u=n("X2PJ"),m=n("+80q"),p=n("Ws8v"),h=n("Jsra"),f=n("sUnt"),g=n("hnjF"),b=n("7d/q"),v=n("7uM4"),E="auth-context-balloon-content_login-button",k="auth-context-balloon-content_signup-button",C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onLoginClick=function(){Object(d.t)({page:d.f.Bubble,source:t.props.source,target:d.e.LoginButton,action:d.d.Click}),t.props.login()},t.onSignupClick=function(){Object(d.t)({page:d.f.Bubble,source:t.props.source,target:d.e.SignupButton,action:d.d.Click}),t.props.signup()},t}return o.__extends(t,e),t.prototype.render=function(){return s.createElement(s.Fragment,null,this.renderCloseButton(),s.createElement(f.a,{padding:{y:2,left:2,right:2}},s.createElement(f.a,{margin:{bottom:.5}},s.createElement(m.a,{fontSize:u.d.Size4,bold:!0,lineHeight:m.b.Heading},this.getHeaderText())),s.createElement(f.a,{margin:{bottom:1}},s.createElement(m.a,{fontSize:u.d.Size5,color:u.c.Alt2},this.getBodyText())),s.createElement(f.a,{display:g.d.Flex},s.createElement(p.a,{fontSize:u.d.Size5,margin:{right:.5}},s.createElement(h.a,{"data-test-selector":E,autoFocus:!0,onClick:this.onLoginClick},Object(l.d)("Log In","AuthContextBalloon"))),s.createElement(f.a,{display:g.d.Flex,alignItems:g.b.Center,margin:{right:.5}},s.createElement(m.a,{fontSize:u.d.Size5},"•")),s.createElement(p.a,{fontSize:u.d.Size5},s.createElement(h.a,{"data-test-selector":k,onClick:this.onSignupClick},Object(l.d)("Sign Up","AuthContextBalloon"))))))},t.prototype.renderCloseButton=function(){var e=null;return this.props.source===c.a.Chat&&(e=s.createElement(f.a,{position:g.j.Absolute,attachRight:!0,attachTop:!0,padding:.5},s.createElement(b.a,{icon:v.b.Close,size:b.b.Small,type:b.c.Secondary,onClick:this.props.onCloseBalloon}))),e},t.prototype.getHeaderText=function(){return this.props.source===c.a.FollowButton?this.props.targetUserDisplayName?Object(l.d)("Like {userDisplayName}?",{userDisplayName:this.props.targetUserDisplayName},"AuthContextBalloon"):Object(l.d)("Like this user?","AuthContextBalloon"):this.props.targetUserDisplayName?Object(l.d)("Want to chat with {userDisplayName}?",{userDisplayName:this.props.targetUserDisplayName},"AuthContextBalloon"):Object(l.d)("Want to chat in this channel?","AuthContextBalloon")},t.prototype.getBodyText=function(){return this.props.source===c.a.FollowButton?Object(l.d)("Log in to follow and get updates when they go live.","AuthContextBalloon"):Object(l.d)("Log in to be part of the live conversation.","AuthContextBalloon")},t}(s.Component);var S=Object(i.connect)(null,function(e,t){return Object(r.bindActionCreators)({login:function(){return Object(a.e)(t.source,{postLoginAction:t.postLoginAction,onClose:t.onCloseModal})},signup:function(){return Object(a.g)(t.source,{postLoginAction:t.postLoginAction,onClose:t.onCloseModal})}},e)})(C);n.d(t,"a",function(){return S})},"9qaG":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return b});var i,r,a,o=n("pVnL"),s=n.n(o),l=n("VbXa"),c=n.n(l),d=n("q1tI"),u=n("fNzW"),m=n("vCsY"),p=n("tlKs"),h=n("hnjF"),f=n("X2PJ"),g=n("G3YM");n("UOUE");!function(e){e.Default="",e.Small="tw-core-button--small",e.Large="tw-core-button--large"}(i||(i={})),function(e){e.Primary="tw-core-button--primary",e.Hollow="tw-core-button--hollow",e.Text="tw-core-button--text",e.Destructive="tw-core-button--destructive"}(r||(r={})),function(e){e.Default="",e.Left="tw-core-button--rounded-left",e.Right="tw-core-button--rounded-right"}(a||(a={}));var b=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e,t={"tw-core-button":!0,"tw-core-button--overlay":this.props.overlay,"tw-core-button--padded":!this.props.noPadding,"tw-core-button--disabled":this.props.disabled,"tw-core-button--border":!this.props.border};this.props.border&&(t["tw-core-button--border-top"]=!!this.props.border.top,t["tw-core-button--border-bottom"]=!!this.props.border.bottom,t["tw-core-button--border-left"]=!!this.props.border.left,t["tw-core-button--border-right"]=!!this.props.border.right);var n=((e={})[i.Small]=f.b.Small,e[i.Default]=f.b.Medium,e[i.Large]=f.b.Large,e),r=this.props.size?n[this.props.size]:f.b.Medium,o={topLeft:r,topRight:r,bottomLeft:r,bottomRight:r};this.props.rounding&&(t[this.props.rounding]=!0),this.props.rounding===a.Left?(o.topRight=f.b.None,o.bottomRight=f.b.None):this.props.rounding===a.Right&&(o.topLeft=f.b.None,o.bottomLeft=f.b.None),this.props.size&&(t[this.props.size]=!0),this.props.type&&(t[this.props.type]=!0);var l=d.createElement(g.a,{dropdown:this.props.dropdown,icon:this.props.icon,size:this.props.size},this.props.children);return d.createElement(f.e,{borderRadius:o,fullWidth:this.props.fullWidth,display:h.d.InlineFlex,position:h.j.Relative,alignItems:h.b.Center,justifyContent:h.h.Center,verticalAlign:h.l.Middle,overflow:h.i.Hidden},d.createElement(p.a,s()({},this.props,{className:Object(u.a)(this.props.className,t)},Object(m.a)(this.props)),l))},t}(d.Component);b.displayName="CoreButton"},"9sGC":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("uIkQ"),s=n("cys1"),l=n("oK83"),c=n("QVaV"),d=(n("HWU2"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUsernameClick=function(e){t.props.onUsernameClick&&t.props.onUsernameClick(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.sender,t=[r.createElement("span",{key:"username-display",className:"message-author__display-name","data-test-selector":"message-username",style:{color:e.chatColor||void 0}},e.displayName)];e.displayName&&!Object(c.b)(e.displayName)&&t.push(r.createElement("span",{key:"username-login",style:{color:e.chatColor||void 0},className:"message-author__intl-login","data-test-selector":"message-username-canonical"}," ("+e.login+")"));var n=this.props.onUsernameClick?"message-author__username--clickable":"message-author__username";return r.createElement("span",{onClick:this.handleUsernameClick,className:n},t)},t}(r.Component)),u=n("fvjX"),m=n("8qOS"),p=n("vLL+"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){},t}return i.__extends(t,e),t.prototype.render=function(){return this.props.message.sender&&this.props.message.sender.login?r.createElement(p.a,{canDelete:!1,isMessageDeleted:!!this.props.message.deletedAt,onBanUser:this.banUser,onDelete:this.deleteMessage,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,renderNewVersion:!1,senderLogin:this.props.message.sender.login,isMessageBanned:this.props.userBanStatus&&!!this.props.userBanStatus.chatRoomBanStatus||!1}):null},t}(r.Component),f=Object(u.compose)(m.a)(h),g=n("fxMP"),b=n("sUnt"),v=n("Jsra");n("QfRJ");n.d(t,"b",function(){return E}),n.d(t,"a",function(){return k});var E="message-timestamp",k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={shouldShowDeletedBody:!1},t.showDeleted=function(e){e&&e.preventDefault(),t.setState({shouldShowDeletedBody:!0})},t}return i.__extends(t,e),t.prototype.shouldComponentUpdate=function(e,t){return e.showModerationIcons!==this.props.showModerationIcons||(e.showTimestamps!==this.props.showTimestamps||(t.shouldShowDeletedBody!==this.state.shouldShowDeletedBody||(e.hasModPermissions!==this.props.hasModPermissions||e.message.deletedAt!==this.props.message.deletedAt)))},t.prototype.render=function(){if(!this.props.message.sender||!this.props.message.id)return r.createElement(b.a,{padding:{x:2,y:.5}},Object(a.d)("unable to properly render message","Message"));var e=this.props.message.sender.displayBadges,t={},n=": ";return this.props.message.content.text.startsWith(g.a)&&(t={color:this.props.message.sender.chatColor||void 0},n=" "),r.createElement(b.a,{padding:this.props.padding||{x:2,y:.5}},r.createElement("div",{id:this.props.message.id,className:"message",style:t},this.renderTimestamp(),this.renderModerationIcons(),r.createElement(o.b,{badgeSets:this.props.badgeSets,badgesToRender:e}),r.createElement(d,{messageID:this.props.message.id,sender:this.props.message.sender,onUsernameClick:this.props.onUsernameClick}),r.createElement("span",{key:"separator"},n),this.renderMessageBody()))},t.prototype.renderMessageBody=function(){if(!this.props.message.deletedAt||this.state.shouldShowDeletedBody){var e={forceClipsNetworkRequest:!0,messageAuthorID:this.props.message.sender.id,messageSourceID:this.props.message.id,emoteSourceType:l.a.room};return Object(s.f)(Object(g.e)(this.props.message,this.props.bitsConfig,this.props.currentUserLogin),e)}var t=Object(a.d)("message deleted","Message"),n=this.props.hasModPermissions?r.createElement(v.a,{onClick:this.showDeleted,"data-test-selector":"show-deleted"},"<"+t+">"):"<"+t+">";return r.createElement("span",{key:"deleted",className:"message--deleted","data-test-selector":"deleted-message"},n)},t.prototype.renderTimestamp=function(){return this.props.showTimestamps?r.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":E},Object(s.a)(new Date(this.props.message.sentAt))):null},t.prototype.renderModerationIcons=function(){return this.props.showModerationIcons&&this.props.hasModPermissions&&this.props.channelID&&this.props.message.sender&&this.props.message.sender.id?r.createElement(f,{message:this.props.message,channelID:this.props.channelID,targetID:this.props.message.sender.id,surfaceError:this.props.surfaceError}):null},t}(r.Component)},"9yes":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedChatMessageInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"mutation Chat_AllowRejectedChatMessage($input: AllowRejectedChatMessageInput!) {\nallowRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},AKV8:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i,r=n("mrSG"),a=n("yR8l"),o=n("4HoE");function s(e){var t=this;return Object(a.a)(o,{props:function(n){return{modUserMutation:function(i){return r.__awaiter(t,void 0,void 0,function(){var t;return r.__generator(this,function(r){if(t=e(n.ownProps).channelID,n.mutate&&t)return[2,n.mutate({variables:{input:{channelID:t,targetLogin:i}}}).then(function(e){return e.data})];throw new Error("modUser mutation is not ready")})})}}}})}!function(e){e.ChannelNotFound="CHANNEL_NOT_FOUND",e.Forbidden="FORBIDDEN",e.UserAlreadyModded="TARGET_ALREADY_MOD",e.UserBanned="TARGET_IS_CHAT_BANNED",e.UserNotFound="TARGET_NOT_FOUND"}(i||(i={}))},AREq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("/7QA"),r=n("DMoW"),a=n("4G6/");function o(e){var t=e.login,n=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,l=e.maxTimeoutDuration,c=e.isTimeout;if(void 0===c&&(c=!1),c)switch(n){case r.d.FORBIDDEN:return Object(i.d)("You don't have permissions to timeout {login}.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_ADMIN:return Object(i.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case r.d.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is already banned in this channel.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot timeout anonymous users.","BanUserErrorCode");case r.d.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case r.d.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_MOD:return Object(i.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_SELF:return Object(i.d)("You cannot timeout yourself.","BanUserErrorCode");case r.d.TARGET_IS_STAFF:return Object(i.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case r.d.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case r.d.DURATION_INVALID:var d=Object(i.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),u=Object(i.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:l||0},"BanUserErrorCode"),m=Object(i.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==l){var p=Object(a.b)(o);if(!p||Number.isNaN(p))return d;if(p<s||p>l)return u}return d}return m;default:throw new Error("Unrecognized operation result.")}else switch(n){case r.d.FORBIDDEN:return Object(i.d)("You don't have permissions to ban {login}.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_ADMIN:return Object(i.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case r.d.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is currently banned in this channel.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot ban anonymous users.","BanUserErrorCode");case r.d.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot ban the broadcaster.","BanUserErrorCode");case r.d.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_MOD:return Object(i.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case r.d.TARGET_IS_SELF:return Object(i.d)("You cannot ban yourself.","BanUserErrorCode");case r.d.TARGET_IS_STAFF:return Object(i.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case r.d.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},"Aa/l":function(e,t,n){},AaQW:function(e,t,n){},AcdH:function(e,t,n){},Ar2k:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("/0dD"),l=n("76Lv"),c=n("sUnt"),d=n("ygYM"),u=(n("f0/i"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e,t=((e={})[Object(l.b)(s.a.Dark)]=this.props.forceDarkTheme,e),n=r.__assign({direction:d.b.Right,show:!0},this.props.balloonProps);return o.createElement(c.a,{className:a("rich-content-tooltip",t)},this.props.children,o.createElement(d.a,r.__assign({},n),o.createElement("div",{ref:this.props.refCallback,className:"rich-content-tooltip__pointer-target"},o.createElement(c.a,{padding:.5},this.props.content))))},t}(o.Component)),m=n("/7QA"),p=n("b7S+"),h=(n("lX3L"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={isError:!1,options:null,richOptions:null,hovering:!1},n.logger=m.q.logger.withCategory("tooltip-layer"),n.clearTimeoutAndRun=function(e,t){void 0===t&&(t=0),n.displayTimeout&&(clearTimeout(n.displayTimeout),n.displayTimeout=0),n.displayTimeout=setTimeout(function(){e(),n.displayTimeout=0},t)},n.setRef=function(e){n.removeEventListeners(),n.addEventListeners(e),n.ref=e},n.addEventListeners=function(e){e&&(e.addEventListener("mouseenter",n.handleMouseEnter),e.addEventListener("mouseleave",n.handleMouseLeave),e.addEventListener("click",n.handleMouseClick))},n.removeEventListeners=function(){n.ref&&(n.ref.removeEventListener("mouseenter",n.handleMouseEnter),n.ref.removeEventListener("mouseleave",n.handleMouseLeave),n.ref.removeEventListener("click",n.handleMouseClick))},n.handleMouseEnter=function(){n.setState({hovering:!0})},n.handleMouseLeave=function(){n.setState({hovering:!1},function(){n.displayTimeout||n.hideTooltip()})},n.handleMouseClick=function(){n.setState({hovering:!1},function(){n.hideTooltip(!0)})},i=n,n}return r.__extends(t,e),t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({isError:!0},function(){m.q.stats.recordComponentError("TooltipLayer"),n.logger.error(e,"A unhandled exception occurred in the component hierarchy",{info:t})})},t.prototype.render=function(){if(this.state.isError)return null;var e=this.state.options&&this.state.options.from||this.state.richOptions&&this.state.richOptions.from;if(!e)return null;var t=this.state.richOptions?2:0,n=e.getBoundingClientRect(),i={transform:"translate("+Math.floor(n.left)+"px, "+Math.floor(n.top)+"px)",width:n.width+t,height:n.height},a=o.createElement("div",{style:{width:i.width,height:i.height}}),s=null;return this.state.options?s=o.createElement(p.a,{direction:this.state.options.direction,align:this.state.options.align,label:this.state.options.label,width:this.state.options.width,show:!0},a):this.state.richOptions&&(s=o.createElement(u,{content:this.state.richOptions.richContent,refCallback:this.state.richOptions.allowHover&&this.setRef||void 0,forceDarkTheme:this.state.richOptions.forceDarkTheme,balloonProps:r.__assign({},this.state.richOptions.balloonProps,{show:!0})},a)),o.createElement("div",{className:"tooltip-layer",style:i},s)},t.prototype.showTooltip=function(e){var t=this;this.clearTimeoutAndRun(function(){t.setState({options:e,richOptions:null})}),this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=0)},t.prototype.showRichTooltip=function(e){var t=this;this.clearTimeoutAndRun(function(){t.setState({richOptions:e,options:null})},e&&e.delayOpenMS&&!this.hoverTimeout?e.delayOpenMS:0),this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=0)},t.prototype.hideTooltip=function(e){var t=this;e||this.state.hovering||this.displayTimeout||(this.hoverTimeout=setTimeout(function(){clearTimeout(t.hoverTimeout),t.hoverTimeout=0},1e3)),this.clearTimeoutAndRun(function(){t.state.hovering||t.setState({options:null,richOptions:null})},!e&&this.state.richOptions&&this.state.richOptions.allowHover?400:0)},t}(o.Component));function f(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.logger=m.k.withCategory("TooltipLayer"),e.show=function(t){i?i.showTooltip(t):e.logger.error(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e.showRich=function(t){i?i.showRichTooltip(t):e.logger.error(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e.hide=function(){i?i.hideTooltip():e.logger.error(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e}return r.__extends(n,t),n.prototype.render=function(){var t={tooltipLayer:{show:this.show,showRich:this.showRich,hide:this.hide}};return o.createElement(e,r.__assign({},this.props,t))},n.displayName="WithTooltipLayerManipulation("+(e.displayName||e.name||"Component")+")",n}(o.Component)}}n.d(t,"a",function(){return u}),n.d(t,!1,function(){}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,!1,function(){})},Av0x:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("/7QA"),r=n("DMoW");function a(e,t,n){if(void 0===n&&(n=!1),n)switch(t){case r.kb.FORBIDDEN:return Object(i.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case r.kb.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case r.kb.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(t){case r.kb.FORBIDDEN:return Object(i.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case r.kb.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case r.kb.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},"B/KH":function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.ChannelPage="channelPage",e.ChannelClipsPage="channelClipsPage",e.ChannelCollectionsPage="channelCollectionsPage",e.ChannelFollowingPage="channelFollowingPage",e.ChannelFollowersPage="channelFollowersPage",e.ChannelEventsPage="channelEventsPage",e.ChannelVideosOverviewPage="channelVideosOverviewPage",e.CommandCenter="commandCenter",e.DashboardLivePage="dashboardLivePage",e.Embed="embed",e.Popout="popout",e.SquadMode="squadMode",e.TheatreMode="theatreMode"}(i||(i={}))},BJwa:function(e,t,n){"use strict";var i=n("mrSG"),r=n("TSYQ"),a=n("q1tI"),o=n("9C/b"),s=n("fvjX"),l=n("/7QA"),c=n("ZS2+"),d=n("yR8l"),u=n("eDVu"),m=n("0Log"),p=n("/0dD"),h=n("6j5V"),f=n("/aPz"),g=n("DMoW"),b=n("uIkQ"),v=n("5zXJ"),E=n("ZVTe"),k=n("cys1"),C=n("X2PJ"),S=n("+80q"),y=n("sUnt"),N=n("Ws8v"),_=n("hnjF"),I=n("dEDE"),T=function(e){return a.createElement(N.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:_.d.Block,flexDirection:_.e.Column},a.createElement(y.a,{padding:{bottom:.5}},a.createElement(S.a,{color:C.c.Alt2},Object(l.d)("<x:strong>Anonymous Cheering</x:strong> only supports the anonymous Cheermote. Your Cheer will be modified to appear as shown below.",{"x:strong":function(e){return a.createElement(S.a,{type:S.e.Span,color:C.c.Link,bold:!0},e)}},"InvalidAnonymousCheerPrompt")),a.createElement(y.a,{margin:{y:1}},a.createElement(b.b,{badgeSets:e.badgeSets,badgesToRender:{"anonymous-cheerer":"1"}}),a.createElement(E.a,{userData:{isIntl:!1,userDisplayName:v.c,userID:v.e,userLogin:v.d,userType:"global_mod"}}),": ",Object(k.f)(e.messageParts))),a.createElement(y.a,{display:_.d.Flex,flexDirection:_.e.Row},a.createElement(I.a,{onClick:e.onCheerAnyway},Object(l.d)("Continue","InvalidAnonymousCheerPrompt")),a.createElement(y.a,{padding:{left:.5}},a.createElement(I.a,{onClick:e.onEditCheer,type:I.d.Hollow},Object(l.d)("Edit","InvalidAnonymousCheerPrompt")))))},O=n("4rCz"),D=n("7uM4"),A=(n("e7rh"),function(e){return a.createElement(N.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:_.d.Block,flexDirection:_.e.Column},a.createElement(y.a,{padding:{bottom:.5}},a.createElement(b.b,{badgeSets:e.badgeSets,badgesToRender:{twitchbot:"1"}}),a.createElement(E.a,{userData:{color:"#6441A5",isIntl:!1,userDisplayName:"AutoMod",userID:"automod",userLogin:"automod",userType:"global_mod"}}),a.createElement(S.a,{type:S.e.Span,color:C.c.Alt2},Object(O.d)(": Your text may be removed by moderation. Bits will still be sent to the streamer. Review the highlighted text or continue below.","BitsAutoModOffenderPrompt"))),a.createElement(y.a,{display:_.d.Flex,flexDirection:_.e.Row},a.createElement(y.a,{padding:{right:.5}},a.createElement(I.a,{onClick:e.onEditCheer},a.createElement(y.a,{padding:{x:2}},Object(O.d)("Edit","BitsAutoModOffender")))),a.createElement(I.a,{onClick:e.onCheerAnyway,type:I.d.Hollow},Object(O.d)("Cheer Anyway","BitsAutoModOffender")),a.createElement(y.a,{className:"bits-auto-mod-offender-prompt__notification-icon",display:_.d.Flex,flexDirection:_.e.Column,justifyContent:_.h.End,alignSelf:_.c.End,margin:{left:"auto",right:.5}},a.createElement(D.a,{asset:D.b.NotificationWarning}))))}),w=n("qnat"),R=n("H31v"),M=n("oJmH"),L=n("/MKj"),U=n("u5aL"),B=n("8Ad5"),F=n("5zf8"),P=n("oe5X"),x=n("1/iK"),j=n("f00E"),H=n("y5D0"),V=n("kz7j"),G=n("kRBY"),W=n("9o5F"),q=n("tKDy"),z=n("okS7"),Y=n("ry0r"),K=n("17x9"),Q=n("uu1w"),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=Q.a.Hashtag,t.canBeTriggeredByTab=!1,t.getMatches=function(e){return e.startsWith("#")&&null!==t.props.hashTags.edges?t.props.hashTags.edges.filter(function(t){return t.node.id.includes(e)}).map(function(n){return{current:e,replacement:n.node.id,element:t.genearateHashtagDisplay(n.node.id)}}):null},t.genearateHashtagDisplay=function(e){return a.createElement(y.a,{padding:{right:.5},key:"hashtag:"+e},a.createElement(S.a,null,e))},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.unregister=this.context.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t.contextTypes={registerAutocompleteProvider:K.func},t}(a.Component),Z=n("XmgI"),$=n("ebRM"),J=n("RiD7"),ee=n("i4un"),te=n("tFCv"),ne=n("3sMn"),ie=n("7d/q"),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickSettings=function(){t.props.updateChatConfigState({isSettingsOpen:!t.props.isSettingsOpen})},t}return i.__extends(t,e),t.prototype.render=function(){return a.createElement(ie.a,{"data-a-target":"chat-settings",icon:D.b.Gear,ariaLabel:Object(l.d)("Chat settings","SettingsIconButton"),onClick:this.onClickSettings})},t}(a.PureComponent);var ae=Object(s.compose)(Object(ne.b)(function(e){return{updateChatConfigState:function(t){return e.updateChatConfigState(t)},isSettingsOpen:e.isSettingsOpen}}))(re),oe=n("+pBb"),se=n("QVaV"),le=n("vSeP"),ce=5,de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=Q.a.Mention,t.canBeTriggeredByTab=!0,t.getMatches=function(e,n){return n||e.startsWith("@")?t.getMentions(e,n):null},t.getMentions=function(e,n){if(!t.props.activeChattersAPI)return[];var i=n?e:e.substring(1);return t.props.activeChattersAPI.getActiveChatters(i,ce).map(function(i){return{current:e,replacement:(n?"":"@")+(i.displayName||i.login),element:t.renderMention(i)}})},t.renderMention=function(e){return a.createElement("span",null,Object(se.a)(e.login,e.displayName||null))},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.unregister=this.context.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t.contextTypes={registerAutocompleteProvider:K.func},t}(a.Component),ue=Object(le.a)(de),me=n("jBwP"),pe=n("knbN"),he=n("2xye");var fe,ge=n("dIU+"),be=n("QjI3"),ve=n("Jsra"),Ee=n("ygYM");!function(e){e.ChatRestrictedHeader="chat-restricted-header"}(fe||(fe={}));var ke=function(e){function t(t){var n=e.call(this,t)||this;return n.renderBalloon=function(e,t){if(!n.props.showBalloon)return null;var i=null;return t&&(i=a.createElement(y.a,{display:_.d.Flex,margin:{top:1}},t,a.createElement(y.a,null))),a.createElement(U.a,{onClickOut:n.handleBalloonClickOut},a.createElement(Ee.a,{direction:Ee.b.TopLeft,offsetY:"-0.5rem",size:Ee.c.Medium,show:n.props.showBalloon,tailOffset:50},a.createElement(N.a,{color:C.c.Base,padding:1},e,i)))},n.onRestrictionsUpdate=function(){if(n.props.chatRestrictionsAPI){var e=n.props.chatRestrictionsAPI.getRestrictions();if(e&&0!==e.length){var t=e[0],i=null;t===g.u.FOLLOWERS_ONLY&&(i=n.props.chatRestrictionsAPI.getRemainingFollowSeconds()),n.setState({reason:t,followSecondsRemaining:i})}else n.setState({reason:null})}else n.setState({reason:null})},n.handleBalloonClickOut=function(e){n.rootRef&&n.rootRef.contains(e.target)&&e.stopPropagation(),n.props.closeBalloon()},n.handleActionClick=function(){null!==n.state.reason&&function(e){var t;switch(e.restriction){case g.u.SUBSCRIBERS_ONLY:t="subscribe";break;case g.u.VERIFIED_ONLY:t="go_to_settings";break;case g.u.FOLLOWERS_ONLY:t="follow";break;default:return}var n={action_type:t,channel:e.channelLogin,channel_id:e.channelID};l.p.track(he.SpadeEventType.ChatInputRestrictedAction,n)}({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,restriction:n.state.reason})},n.setRootRef=function(e){return n.rootRef=e},n.state={reason:null,followSecondsRemaining:null},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.showBalloon&&this.trackImpression(),this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.onRestrictionsUpdate())},t.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},t.prototype.componentWillReceiveProps=function(e){e.showBalloon&&!this.props.showBalloon&&this.trackImpression(),this.props.chatRestrictionsAPI!==e.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),e.chatRestrictionsAPI&&(e.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.onRestrictionsUpdate()))},t.prototype.render=function(){var e="",t=null,n=null;switch(this.state.reason){case g.u.SUBSCRIBERS_ONLY:e=Object(l.d)("Subscribers-Only Chat","ChatModeHeader"),t=Object(l.d)("Only {streamer}'s subscribers can chat right now. Subscribe and join in!",{streamer:this.props.channelDisplayName||this.props.channelLogin},"ChatModeHeader"),n=a.createElement("div",{onClick:this.handleActionClick},a.createElement(be.SubscribeButton,{balloonDirection:Ee.b.TopRight,channelLogin:this.props.channelLogin,subLocation:"channel_page"}));break;case g.u.VERIFIED_ONLY:e=Object(l.d)("Verified Accounts Only Chat","ChatModeHeader"),t=Object(l.d)("Verify your account in Settings to chat!","ChatModeHeader"),n=a.createElement(I.a,{onClick:this.handleActionClick,linkTo:"/settings/security",targetBlank:!0},Object(l.d)("Go to Settings","ChatModeHeader"));break;case g.u.FOLLOWERS_ONLY:if(e=Object(l.d)("Followers-Only Chat","ChatModeHeader"),this.props.followerDurationSeconds>0&&null!==this.state.followSecondsRemaining){var i=Object(F.b)(this.props.followerDurationSeconds),r=Object(F.b)(this.state.followSecondsRemaining);t=Object(l.d)("You need to be a follower for {timeRequired} to chat, and you have {timeRemaining} left.",{timeRequired:i,timeRemaining:r},"ChatModeHeader")}else t=Object(l.d)("You need to be a follower of {streamer} to chat.",{streamer:this.props.channelDisplayName||this.props.channelLogin},"ChatModeHeader"),n=a.createElement(ge.a,{channelLogin:this.props.channelLogin,onFollow:this.handleActionClick,onUnfollow:this.handleActionClick,followUIType:ge.b.IconAndText,unfollowUIType:ge.b.IconAndText,balloonDirection:Ee.b.TopRight,hideDropdownWhenFollowing:!0});break;case g.u.SLOW_MODE:default:return null}return a.createElement("div",{ref:this.setRootRef},a.createElement(N.a,{borderTop:!0,color:C.c.Alt2,display:_.d.Flex,fontSize:C.d.Size6,padding:{y:.5},position:_.j.Relative,"data-test-selector":fe.ChatRestrictedHeader},a.createElement(ve.a,{hoverColorInherit:!0,hoverUnderlineNone:!0,onClick:this.props.openBalloon,type:ve.b.Inherit},a.createElement(S.a,{bold:!0},e)),a.createElement(y.a,{margin:{left:.5}},a.createElement(ie.a,{icon:D.b.NotificationInfo,onClick:this.props.openBalloon,type:ie.c.Secondary})),this.renderBalloon(t,n)))},t.prototype.trackImpression=function(){this.state.reason&&function(e){var t;switch(e.restriction){case g.u.SUBSCRIBERS_ONLY:t="subscriber_mode";break;case g.u.VERIFIED_ONLY:t="verified_mode";break;case g.u.FOLLOWERS_ONLY:t=e.requiredDuration?"follow_mode_timer":"follow_mode";break;default:return}var n={channel:e.channelLogin,channel_id:e.channelID,impression_type:t};l.p.track(he.SpadeEventType.ChatInputRestrictedImpression,n)}({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,restriction:this.state.reason,requiredDuration:this.props.followerDurationSeconds})},t}(a.Component);Object(s.compose)(ke);var Ce,Se=Object(s.compose)(Object(me.b)(function(e){return{followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode}}),pe.a)(ke),ye=function(){return a.createElement(Ee.a,{direction:Ee.b.TopLeft,offsetY:"11px",show:!0},a.createElement(y.a,{padding:1,"data-test-selector":"manage-moderation-settings-tooltip"},Object(l.d)("Mods can now update AutoMod levels as well as Blocked and Permitted Terms.","ManageModerationSettingsChat")))},Ne=n("9MrB");n("ZuCe");!function(e){e.AUTOMOD="automod",e.ANONYMOUS_CHEERING="anonymous-cheering",e.UNKNOWN="unknown"}(Ce||(Ce={}));var _e,Ie=function(e){var t=e.moderatedReason,n=void 0===t?Ce.UNKNOWN:t,i=e.moderatedMessageParts,o=r("moderated-message-fake-input__container",n);return a.createElement(N.a,{position:_.j.Relative,borderRadius:C.b.Medium,className:o},a.createElement(N.a,{className:"moderated-message-fake-input__content",display:_.d.Block,overflow:_.i.Auto,color:C.c.Alt,background:C.a.Alt,fullWidth:!0},a.createElement(C.e,{padding:{y:.5,left:1},fullHeight:!0},a.createElement("div",{style:{paddingRight:"6rem"}},Object(k.f)(i)))),a.createElement(N.a,{position:_.j.Absolute,display:_.d.Flex,flexDirection:_.e.Row,attachRight:!0,attachTop:!0},a.createElement(y.a,{display:_.d.InlineFlex,alignItems:_.b.Center,className:"moderated-message-fake-input__icon",padding:.5},a.createElement(D.a,{asset:D.b.Bits,type:D.c.Inherit})),a.createElement(y.a,{display:_.d.InlineFlex,alignItems:_.b.Center,className:"moderated-message-fake-input__icon",padding:.5},a.createElement(D.a,{asset:D.b.Emoticons,type:D.c.Inherit}))))},Te=n("ilCE");n("MVDO");function Oe(e,t){var n=t.action?{action:t.action}:{},r=i.__assign({raid_upsell_source_id:Number(t.sourceChannelID),raid_upsell_target_id:Number(t.targetChannelID)},n);l.p.track(e,r)}!function(e){e.Host="host",e.Raid="raid",e.Dismiss="dismiss"}(_e||(_e={}));var De=n("D7An"),Ae="raid-now-upsell";var we,Re={"data-test-selector":"dismiss"},Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDismissUpsell=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Oe(he.SpadeEventType.RaidUpsellClick,i.__assign({},e,{action:_e.Dismiss})),t.props.closeRaidUpsell()},t.handleSendHostMsgFromUpsell=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Oe(he.SpadeEventType.RaidUpsellClick,i.__assign({},e,{action:_e.Host})),t.handleSendHostMsg()},t.handleSendHostMsg=function(){t.props.send("/host "+t.props.targetChannelLogin),t.props.closeRaidUpsell()},t.handleSendRaidMsg=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Oe(he.SpadeEventType.RaidUpsellClick,i.__assign({},e,{action:_e.Raid})),t.props.send("/raid "+t.props.targetChannelLogin),t.props.closeRaidUpsell()},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.componentDidUpdate=function(e){if(e.data.loading!==this.props.data.loading&&!this.props.data.loading){if(!this.channelDisplayName||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf)return this.handleSendHostMsg();t={sourceChannelID:this.props.data.sourceChannel.id,targetChannelID:this.props.data.targetChannel.id},Oe(he.SpadeEventType.RaidUpsellImpression,t),l.n.set(Ae,!0)}var t},t.prototype.render=function(){var e=this.props.data.loading,t=this.channelDisplayName;return e||!t||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf?null:a.createElement(y.a,{className:"raid-upsell-prompt",padding:1,margin:{x:2}},a.createElement(y.a,{display:_.d.Flex,justifyContent:_.h.Between},a.createElement(y.a,{display:_.d.Flex},a.createElement(y.a,{className:"raid-upsell-prompt__notification",margin:{top:.5}},a.createElement(D.a,{asset:D.b.NotificationInfo})),a.createElement(y.a,{margin:{x:1}},a.createElement(S.a,{type:S.e.H6,bold:!0},Object(l.d)("How about raiding {channelDisplayName}?",{channelDisplayName:t},"RaidUpsellPrompt")),a.createElement(S.a,{type:S.e.P,color:C.c.Alt2},Object(l.d)("Now you can raid whenever you want instead of waiting 30 seconds.","RaidUpsellPrompt")))),a.createElement(N.a,{color:C.c.OverlayAlt},a.createElement(ie.a,i.__assign({},Re,{icon:D.b.Close,size:ie.b.Small,ariaLabel:Object(l.d)("Dismiss","RaidUpsellPrompt"),onClick:this.handleDismissUpsell})))),a.createElement(Le,{onSendHostMsg:this.handleSendHostMsgFromUpsell,onSendRaidMsg:this.handleSendRaidMsg}))},Object.defineProperty(t.prototype,"channelDisplayName",{get:function(){var e=this.props.data.targetChannel;return e&&e.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isViewersCountWithinRange",{get:function(){var e=this.props.data.sourceChannel,t=e&&e.stream&&e.stream.viewersCount;return t&&t>=3&&t<1e5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttemptingToHostSelf",{get:function(){return this.props.targetChannelLogin===this.props.sourceChannelLogin},enumerable:!0,configurable:!0}),t}(a.Component),Le=function(e){return a.createElement(y.a,{display:_.d.Flex,justifyContent:_.h.End,margin:{top:1}},a.createElement(y.a,{margin:{right:1}},a.createElement(I.a,{type:I.d.Hollow,size:I.b.Small,onClick:e.onSendHostMsg},a.createElement(y.a,{padding:{x:2}},Object(l.d)("Host","RaidUpsellPrompt")))),a.createElement(y.a,null,a.createElement(I.a,{size:I.b.Small,onClick:e.onSendRaidMsg},a.createElement(y.a,{padding:{x:2}},Object(l.d)("Raid","RaidUpsellPrompt")))))},Ue=Object(d.a)(Te,{options:function(e){return{variables:{targetChannelLogin:e.targetChannelLogin,sourceChannelLogin:e.sourceChannelLogin}}}})(Me),Be=n("gTu3"),Fe=n("RcPG"),Pe=n("YXxK"),xe=n("WytW"),je=n("lNGo"),He=n("ySk3"),Ve=n("x0gr"),Ge=n("mmRu"),We=n("cpJf"),qe=n("GzyO"),ze=n("GnwI"),Ye=n("Z2sP"),Ke=n("EOIh"),Qe=n("FS60"),Xe=/\S/;!function(e){e[e.Bits=0]="Bits",e[e.ChatRestriction=1]="ChatRestriction",e[e.Emotes=2]="Emotes",e[e.None=3]="None"}(we||(we={}));var Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.cancelDelayedSend=null,n.confirmDelayedSend=null,n.hasConfirmedInEmbed=!1,n.hasSeenConfirmationPrompt=!1,n.renderSlowModeProgressBar=function(){if(n.state.chatRestrictedReason===g.u.SLOW_MODE){var e=n.state.slowModeSecondsRemaining/n.props.slowModeDuration*100;return a.createElement(y.a,{position:_.j.Absolute,attachBottom:!0,fullWidth:!0},a.createElement(Ye.a,{borderRadius:C.b.Small,size:Ye.c.Small,value:e,mask:!0}))}return null},n.incrementAndHideAutomodTooltipCounter=function(){var e=l.n.get("automodChatCogTooltipSeenNumTimes",0)+1;l.n.set("automodChatCogTooltipSeenNumTimes",e),n.setState({showAutomodSettingsTooltip:!1})},n.setChatInputRef=function(e){return n.chatInputRef=e},n.setAutocompleteInputRef=function(e){return n.autocompleteInputRef=e},n.onCheerInvalid=function(e){n.state.bitsCardError!==e&&(n.setState({bitsCardError:e}),e&&n.trackBitsCardInteraction(J.c.UserViewingCheerError,{bitsCardError:e}))},n.onSendCheerWhenSendDisabled=function(){n.trackBitsCardInteraction(J.c.SendInvalidCheerAttemptButtonDisabled,{bitsCardError:n.state.bitsCardError})},n.onAnonymousCheerToggle=function(e){n.setState({isAnonymousCheer:e})},n.onChatSettingsToggle=function(e){n.handleModerationSettingsToggle(e),e||Object(Ve.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode})},n.handleModerationSettingsToggle=function(e){if(!e){var t=l.n.get("autoModToolTipSeen",0)+1;n.setState({showAutomodSettingsTooltip:!1}),l.n.set("autoModToolTipSeen",t)}},n.onKeyDown=function(e){var t=e.charCode||e.keyCode;switch(n.props.onKeyDown&&t!==B.a.Enter&&n.props.onKeyDown(e),n.props.bitsSendHasError&&n.props.clearBitsSendError(),t){case B.a.Enter:return void(e.shiftKey||(e.preventDefault(),n.onMessageSend()));case B.a.Esc:return void(n.state.showCard===we.Bits&&n.setState({showCard:we.None}));default:return}},n.onMessageValueUpdate=function(e){n.setState({value:e})},n.onInputFocus=function(){n.props.onInputFocus&&n.props.onInputFocus(),n.state.hasInteractedOrPageload||n.setState({hasInteractedOrPageload:!0})},n.onMouseEnterInput=function(){n.state.hasInteractedOrPageload||n.setState({hasInteractedOrPageload:!0})},n.onChatCommand=function(e){n.props.onChatCommand(e),n.trackChatEvent(n.props.emotePickerSessionID)},n.confirmEmbedAction=function(e,t,i){var r=n,a=r.hasConfirmedInEmbed;if(r.hasSeenConfirmationPrompt)return a;var o=window.confirm(n.confirmationMessage(e,t,i));return n.hasSeenConfirmationPrompt=!0,n.hasConfirmedInEmbed=o,n.setState({hasSeenAndRejectedEmbedPrompt:!o}),o},n.confirmationMessage=function(e,t,n){return Object(l.d)('Hi {displayName}. You are attempting to send "{message}" in {channelLogin}\'s chat via an embedded version of Twitch Chat. Are you sure you want to do this? This setting will persist until you refresh the page',{displayName:e,message:t,channelLogin:n},"ChatInput")},n.onMessageSend=function(){return i.__awaiter(n,void 0,void 0,function(){var e,t,n,r,a,o,s,c=this;return i.__generator(this,function(i){switch(i.label){case 0:return e=this.state.chatRestrictedReason,this.isTypingCommand()||this.isTypingCheer()||null===e?this.props.authToken?this.props.channelID?(t=Xe.test(this.state.value))?this.state.isSendingBits?(l.k.debug("[ChatInput] Supressing chat message send. Bits spending is still in progress."),[2]):this.props.isEmbedded&&(this.props.isCurrentUserModerator||this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.isPartner)&&this.props.sessionUser&&!this.confirmEmbedAction(this.props.sessionUser.displayName,this.state.value||"",this.props.channelLogin)?(l.k.debug("[ChatInput] Embed Confirmation check failed. Not sending message"),[2]):(this.resetAndUpdateRenderSentChatMessageEvent(),this.state.value.split(/\s+/).forEach(function(e){c.props.emoteMap&&c.props.emoteMap.hasOwnProperty(e)&&Object(qe.a)(c.props.emoteMap[e])}),this.props.data&&this.props.data.currentUser?(n=Object($.a)(this.state.messageCheers),r=Object(j.a)(),0===n.total?(this.sendRegularMessage(),this.state.messageCheers&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.ZeroBits),[2]):this.props.data.channel?this.props.data.channel.cheer?this.props.data.channel.cheer.settings?this.props.bitsConfig?(this.state.bitsCardError&&(this.onSendCheerWhenSendDisabled(),this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.BitsCardDisabled)),(a=Object($.g)({messageBits:n,balance:this.props.data.currentUser.bitsBalance||0,cheerMinimumBits:this.props.data.channel.cheer.settings.cheerMinimumBits,emoteMinimumBits:this.props.data.channel.cheer.settings.emoteMinimumBits,inputValue:this.state.value,bitsConfig:this.props.bitsConfig})).canSpend?this.props.sendCheer?(this.setState({isSendingBits:!0}),n.total>=v.q?[4,new Promise(function(e){var t=setTimeout(e,v.u.UNDO_PROMPT_DURATION),n=function(n){void 0===n&&(n=!1),clearTimeout(t),c.cancelDelayedSend=null,c.confirmDelayedSend=null,e(n)};c.cancelDelayedSend=function(){return n(!0)},c.confirmDelayedSend=function(){return n(!1)}})]:[3,2]):(l.k.warn("[Chat Input] No GraphQL mutation for sending cheers attached."),[2]):(l.k.warn("[Chat Input] Spending bits forbidden.",a),a.cheerAboveMaxBitsPerEmote&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.AboveMaxEmote),a.totalAboveBalance&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.BitsUnavailable),a.totalBelowCheerMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.BelowMin),a.totalBelowEmoteMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.BelowMinEmote),a.inputLongerThanMaxBitsMessage&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.InputAboveMaxLength),a.inputStartsWithCommand&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.InputCommandStart),a.cheerContainsInvalidDisplayOnlyCheermotes&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.InvalidBitsMessage),[2])):(l.k.warn("[Chat Input] Bits Config is undefined"),this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.MissingBitsConfig),[2]):(l.k.warn("[Chat Input] Cheer Settings are undefined."),[2]):(l.k.warn("[Chat Input] Cheer is null."),[2]):(l.k.warn("[Chat Input] User is null."),[2])):(this.sendRegularMessage(),[2])):(l.k.debug("[ChatInput] Supressing chat message send. Input failed to pass validation.",{hasSendableInput:t,value:this.state.value}),[2]):(l.k.warn("[ChatInput] Attempt to send a message before channel ID"),[2]):(this.handleLogin(),[2]):(this.setState({showCard:we.ChatRestriction}),[2]);case 1:if(i.sent())return this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.Canceled),this.setState({isSendingBits:!1}),this.chatInputRef.focus(),[2];i.label=2;case 2:return i.trys.push([2,4,,5]),o={id:r,targetID:this.props.channelID,bits:n.total,content:this.state.value,isAutoModEnabled:!0,shouldCheerAnyway:this.props.forceSendCheer,isAnonymous:this.state.isAnonymousCheer},this.props.clearBitsSendError(),[4,this.props.sendCheer({variables:{input:o}})];case 3:return(s=i.sent()).data.sendCheer&&s.data.sendCheer.validationError?(this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,s.data.sendCheer.validationError),this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Object(je.a)(s.data.sendCheer.validationError.code)),this.setState({isSendingBits:!1,showCard:we.None,bitsCardError:s.data.sendCheer.validationError.code}),this.chatInputRef&&this.chatInputRef.focus(),[2]):[3,5];case 4:return i.sent(),this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,{code:g.Ua.UNKNOWN}),this.trackCheerErrorEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer,Pe.c.Unknown),this.setState({isSendingBits:!1,bitsCardError:g.Ua.UNKNOWN}),this.chatInputRef&&this.chatInputRef.focus(),[2];case 5:return this.props.onSendCheerSuccess(),this.trackCheerEvent(this.props.emotePickerSessionID,n.total,this.state.value,r,this.state.isAnonymousCheer),this.setState({isSendingBits:!1,bitsCardError:void 0,showCard:we.None,value:""}),this.chatInputRef&&this.chatInputRef.focus(),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),[2]}})})},n.handleAuthContextBalloonClose=function(){n.setState({showAuthContextBalloon:!1}),Object(q.t)({page:q.f.Bubble,source:x.a.Chat,target:q.e.Exit,action:q.d.Click})},n.onEmotePickerToggle=function(){n.setState(function(e){return e.messageCheers.length?e:{showCard:e.showCard===we.Emotes?we.None:we.Emotes}})},n.onClickOut=function(){n.setState(function(e){return e.showCard===we.Emotes?{showCard:we.None}:e})},n.onBitsIconClick=function(){n.state.showCard===we.Bits?n.trackBitsCardInteraction(J.c.CloseCard):n.trackBitsCardInteraction(J.c.OpenCard),n.setState({showCard:n.state.showCard===we.Bits?we.None:we.Bits})},n.onShowViewersList=function(){n.state.showCard!==we.None&&n.setState({showCard:we.None}),n.props.showViewersList()},n.onBitsClose=function(){n.state.showCard===we.Bits&&n.setState({showCard:we.None}),n.trackBitsCardInteraction(J.c.CloseCard)},n.onChatRestrictionBalloonClose=function(){n.state.showCard===we.ChatRestriction&&n.setState({showCard:we.None})},n.onChatRestrictionBalloonOpen=function(){n.setState({showCard:we.ChatRestriction})},n.onClickEmote=function(e){var t=n.state.value;n.state.value&&n.state.value.length>0&&!n.state.value.endsWith(" ")&&(t+=" "),t+=e+" ",n.autocompleteInputRef&&n.autocompleteInputRef.setValue(t)},n.onEmotePickerDataLoaded=function(e){e&&n.setState({showEmotePickerButton:!0})},n.trackCheerEvent=function(e,t,i,r,a){Object(je.d)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,emotePickerSessionID:e,isAnonymousCheer:a,isHostMode:n.props.isHostMode,player:n.props.isPopout?Pe.a.Embed:Pe.a.Web,subOnlyMode:n.props.subsOnlyMode,viewerContext:n.props.viewerContext,bitsValue:t,cheermote:i,transactionID:r})},n.trackCheerErrorEvent=function(e,t,i,r,a,o){Object(je.c)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,emotePickerSessionID:e,isHostMode:n.props.isHostMode,isAnonymousCheer:a,player:n.props.isPopout?Pe.a.Embed:Pe.a.Web,subOnlyMode:n.props.subsOnlyMode,viewerContext:n.props.viewerContext,bitsValue:t,cheermote:i,transactionID:r,errorType:o})},n.trackBitsCardInteraction=function(e,t){var i={actionName:e,actionType:t&&t.actionType,emoteType:t&&t.emoteType,emoteLevel:t&&t.emoteLevel,location:t&&t.location,displayedBalance:n.props.data&&n.props.data.currentUser&&n.props.data.currentUser.bitsBalance||0,bitsCardError:t&&t.bitsCardError,channelId:n.props.data&&n.props.data.channel&&n.props.data.channel.id||"",userId:n.props.data&&n.props.data.currentUser&&n.props.data.currentUser.id||""};Object(J.k)(i)},n.resetAndUpdateRenderSentChatMessageEvent=function(){n.props.latencyTracking.resetCustomEvents(V.a.Chat);var e=n.props.latencyTracking.registerCustomEvent({benchmark:400,group:V.a.Chat,key:V.b.ChatRenderSent,label:V.c.RenderSent,start:V.d.Registration});n.props.updateRenderSentChatMessageEvent(e)},n.isCurrentUserBanned=function(){if(n.props.data&&!n.props.data.loading&&!n.props.data.error&&n.props.data.channel){var e=n.props.data.channel.self;if(e&&e.banStatus&&e.banStatus.isPermanent)return!0}return!1},n.onRestrictionsUpdate=function(){var e=null,t=0;if(n.props.chatRestrictionsAPI){var i=n.props.chatRestrictionsAPI.getRestrictions();i&&i.length>0&&(e=i[0],t=n.props.chatRestrictionsAPI.getRemainingSlowModeSeconds())}n.setState({chatRestrictedReason:e,slowModeSecondsRemaining:t})},n.isTypingCommand=function(){return"/"===n.state.value.substr(0,1)&&"/me"!==n.state.value.substr(0,3)},n.isTypingCheer=function(){return n.state.messageCheers.length>0},n.state={hasInteractedOrPageload:t.firstPageLoaded,hasSeenAndRejectedEmbedPrompt:!1,isSendingBits:!1,messageCheers:[],showAuthContextBalloon:!1,showBuyBits:!1,showCard:we.None,showEmotePickerButton:!!t.authToken,showAutomodSettingsTooltip:!1,showMergedInput:!1,value:"",chatRestrictedReason:null,slowModeSecondsRemaining:0,isAnonymousCheer:!1},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.getPendingMessage()&&this.restorePendingMessage(),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)},t.prototype.componentWillUpdate=function(e,t){var n=this;if(t.value!==this.state.value&&this.props.bitsConfig){var i=[];Object(Z.g)(t.value,this.props.bitsConfig,!1).forEach(function(e){e.type===Fe.a.Emote&&(i.push(e.content),e.content.alt&&Object(Z.e)(e.content.alt)&&n.setState({isAnonymousCheer:!0}))}),i.length&&t.showCard===we.Emotes&&this.setState({showCard:we.None}),!this.isTypingCheer()&&i.length&&i.length>=1&&this.trackBitsCardInteraction(J.c.OpenCardViaCheering),this.setState({messageCheers:Object(Z.b)(i,this.props.bitsConfig)})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.props.chatRestrictionsAPI!==e.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),e.chatRestrictionsAPI&&e.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)),!this.props.firstPageLoaded&&e.firstPageLoaded&&(this.setState({hasInteractedOrPageload:!0}),this.props.isCurrentUserModerator&&l.n.get("automodChatCogTooltipSeenNumTimes",0)<3&&this.setState({showAutomodSettingsTooltip:!0},function(){setTimeout(t.incrementAndHideAutomodTooltipCounter,15e3)}))},t.prototype.componentDidUpdate=function(){this.props.forceSendCheer&&this.onMessageSend()},t.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},t.prototype.render=function(){var e=this.isCurrentUserBanned(),t=Object(l.d)("Send a message","ChatInput");if(e)return a.createElement(y.a,{padding:{bottom:2,x:2}},a.createElement(N.a,{padding:{bottom:1,x:2},borderTop:!0}),a.createElement(y.a,{textAlign:_.k.Center},a.createElement(S.a,{color:C.c.Alt,"data-test-selector":"current-user-banned-text",bold:!0},Object(l.d)("You are currently banned from this channel.","ChatInput"))),this.renderButtonContainer(!0,null));if(this.state.hasSeenAndRejectedEmbedPrompt)return a.createElement(y.a,{className:"chat-input",display:this.props.hidden?_.d.Hide:_.d.Block,padding:{x:2,bottom:2}},a.createElement(S.a,{"data-test-selector":"chat-embed-denied-text"},Object(l.d)("You rejected the prompt to send messages in this embedded version of Twitch Chat. If this was done in error, please refresh the page.","ChatInput")),this.renderButtonContainer(!0,null));var n=[];this.props.bitsConfig&&n.push(a.createElement(ie.a,{key:"bits",icon:D.b.Bits,ariaLabel:Object(l.d)("Bits","ChatInput"),type:ie.c.Secondary,onClick:this.onBitsIconClick,"data-a-target":"bits-button"})),this.state.showEmotePickerButton&&n.push(a.createElement(Ge.b,{key:"emote-picker",onClick:this.onEmotePickerToggle,isActive:this.state.showCard===we.Emotes}));var i=null;this.state.hasInteractedOrPageload&&(i=a.createElement(Ge.c,{channelOwnerID:this.props.channelID,emotePickerSource:We.a.Chat,onClickEmote:this.onClickEmote,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.onEmotePickerToggle,visible:this.state.showCard===we.Emotes}));var r=null;this.state.hasInteractedOrPageload&&this.props.bitsConfig&&(r=a.createElement(Y.a,{bitsConfig:this.props.bitsConfig,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentCheers:this.state.messageCheers,isSending:this.state.isSendingBits,isStaff:this.props.isStaff,isAnonymous:this.state.isAnonymousCheer,onCancelSend:this.cancelDelayedSend,onClickCheermote:this.onClickEmote,onConfirmSend:this.confirmDelayedSend,onUserClose:this.onBitsClose,trackBitsCardInteraction:this.trackBitsCardInteraction,visible:this.state.showCard===we.Bits,cheerMessageAutoModded:this.props.isTextInputDisabled,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.state.value,onCheerInvalid:this.onCheerInvalid,onAnonymousToggle:this.onAnonymousCheerToggle}));var o=null;this.props.data&&this.props.data.channel&&this.props.data.channel.cheer&&this.props.data.channel.cheer.hashtags&&this.state.messageCheers.length>0&&(o=a.createElement(X,{hashTags:this.props.data.channel.cheer.hashtags}));var s=null;this.props.moderatedMessageParts&&this.props.moderatedMessageParts.length>0&&(s=a.createElement(Ie,{moderatedReason:this.props.moderatedReason,moderatedMessageParts:this.props.moderatedMessageParts}));var c=this.state.chatRestrictedReason,d=null;if(this.props.slowMode&&(t=Object(l.d)("Send a message (chat is in slow mode)","ChatInput")),c===g.u.SLOW_MODE){var u=Object(F.b)(this.state.slowModeSecondsRemaining,F.a.HumanizedShort);d=Object(l.d)("You can chat in {duration}",{duration:u},"ChatInput")}var m=!(this.isTypingCommand()||this.isTypingCheer())&&null!==c,p=null;this.state.showAuthContextBalloon&&(p=a.createElement(Ee.a,{show:this.state.showAuthContextBalloon,direction:Ee.b.TopLeft,size:Ee.c.Medium},a.createElement(U.a,{onClickOut:this.handleAuthContextBalloonClose},a.createElement(W.a,{source:x.a.Chat,targetUserDisplayName:this.props.channelDisplayName,onCloseModal:this.clearPendingMessage,onCloseBalloon:this.handleAuthContextBalloonClose}))));var h=a.createElement(a.Fragment,null,a.createElement(z.b,{componentType:z.a.TextArea,suggestionSource:z.c.Chat,onValueUpdate:this.onMessageValueUpdate,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,componentRefDelegate:this.setChatInputRef,refDelegate:this.setAutocompleteInputRef,paddingRight:30*n.length,placeholder:t,noResize:!0,"data-a-target":"chat-input","data-test-selector":"chat-input",disabled:this.state.isSendingBits||this.props.isTextInputDisabled,containerElement:this.props.containerElement},a.createElement(z.d,{emotes:this.props.emotes}),a.createElement(ue,null),o),a.createElement(y.a,{position:_.j.Absolute,attachRight:!0,attachTop:!0},n),this.renderSlowModeProgressBar());return this.state.showMergedInput&&(h=a.createElement(N.a,{background:C.a.Base,border:!0,borderRadius:C.b.Large,display:_.d.Block,fullWidth:!0,padding:1,elevation:3,zIndex:_.n.Below},a.createElement(y.a,{position:_.j.Relative},h))),a.createElement(y.a,{className:"chat-input",display:this.props.hidden?_.d.Hide:_.d.Block,padding:{x:2,bottom:2}},s,a.createElement(Se,{channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,closeBalloon:this.onChatRestrictionBalloonClose,openBalloon:this.onChatRestrictionBalloonOpen,showBalloon:this.state.showCard===we.ChatRestriction}),a.createElement(U.a,{onClickOut:this.onClickOut},a.createElement(C.e,{display:this.props.moderatedMessageParts?_.d.Hide:_.d.Block,position:_.j.Relative,zIndex:_.n.Default},a.createElement("div",{onMouseEnter:this.onMouseEnterInput},i,r,p,h)),this.renderButtonContainer(m,d)))},t.prototype.renderButtonContainer=function(e,t){return void 0===e&&(e=!1),a.createElement(y.a,{className:"chat-input__buttons-container","data-test-selector":"chat-input-buttons-container",display:this.props.hideChatInputButtons?_.d.Hide:_.d.Flex,justifyContent:_.h.Between,margin:{top:1}},a.createElement(y.a,{display:_.d.Flex,flexDirection:_.e.Row},a.createElement(y.a,{position:_.j.Relative},a.createElement(te.a,{onToggle:this.onChatSettingsToggle,onShowChatRules:this.props.onShowChatRules,channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,authToken:this.props.authToken,isCurrentUserModerator:this.props.isCurrentUserModerator,onChatCommand:this.onChatCommand,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,channelID:this.props.channelID,containerElement:this.props.containerElement}),this.renderChatCogTooltips()),a.createElement(ae,null),a.createElement(ie.a,{ariaLabel:Object(l.d)("Users in Chat","ChatInput"),"data-a-target":"chat-viewer-list","data-test-selector":"chat-viewer-list",icon:D.b.ViewerList,onClick:this.onShowViewersList})),a.createElement(y.a,{display:_.d.Flex,alignItems:_.b.Center,alignContent:_.a.Center,flexDirection:_.e.Row},a.createElement(y.a,{margin:{right:1}},a.createElement(S.a,{color:C.c.Alt2},t)),this.renderSendButton(e)))},t.prototype.renderSendButton=function(e){var t;return void 0===e&&(e=!1),t=this.state.value&&null!==Object(xe.n)(this.state.value)?Object(l.d)("Whisper","ChatInput"):Object(l.d)("Chat","ChatInput"),a.createElement(I.a,{onClick:this.onMessageSend,"data-a-target":"chat-send-button","data-test-selector":"chat-send-button",disabled:this.state.isSendingBits||this.props.isTextInputDisabled||e},t)},t.prototype.renderChatCogTooltips=function(){return this.state.showAutomodSettingsTooltip?a.createElement(ye,null):null},t.prototype.sendRegularMessage=function(){var e,t,n=this;if(this.props.onSendMessage){var i=Object(xe.k)(this.state.value);if(i&&(e="test"===l.q.experiments.getAndTrackAssignment(De.b.RaidUpsell),t=l.n.get(Ae,!1),e&&!t))return this.setState({showCard:we.None},function(){n.trackChatEvent(n.props.emotePickerSessionID),n.autocompleteInputRef&&n.autocompleteInputRef.setValue(""),n.props.openRaidUpsellFromHost(i.recipientLogin)});this.props.onSendMessage(this.state.value)&&(this.trackChatEvent(this.props.emotePickerSessionID),this.trackMentions(),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),this.setState({showCard:we.None}))}},t.prototype.handleLogin=function(){var e=Object(ee.b)(),t={onClose:this.clearPendingMessage,targetChannel:this.props.channelDisplayName};e!==ee.a.Balloon?(e===ee.a.TwoStep?t.modalType=q.f.TwoStep:e===ee.a.Split&&(t.modalType=q.f.Combined),this.login(t)):this.state.showAuthContextBalloon||(this.storePendingMessage(this.state.value),this.setState({showAuthContextBalloon:!0}),Object(q.u)({page:q.f.Bubble,source:x.a.Chat}))},t.prototype.login=function(e){Object(ee.b)()!==ee.a.Control&&this.storePendingMessage(this.state.value),this.props.login(e)},t.prototype.trackChatEvent=function(e){Object(je.b)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,emotePickerSessionID:e,isHostMode:this.props.isHostMode,player:this.props.isPopout?Pe.a.Embed:Pe.a.Web,subOnlyMode:this.props.subsOnlyMode,viewerContext:this.props.viewerContext})},t.prototype.trackMentions=function(){if(this.state.value&&this.props.sessionUser)for(var e=0,t=Object(P.a)(this.state.value,{mentions:{senderLogin:this.props.sessionUser.login,sessionUser:this.props.sessionUser}});e<t.length;e++){var n=t[e];n.type===Fe.a.Mention&&n.content.currentUserMentionRelation!==Be.a.Recipient&&Object(He.a)({channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,mentionedUserDisplayName:n.content.recipient,userLogin:this.props.sessionUser.login})}else l.k.warn("[ChatInput] trackMentions was called in a nonsensical state.")},t.prototype.storePendingMessage=function(e){l.n.set("pending_chat_message",e)},t.prototype.getPendingMessage=function(){return l.n.get("pending_chat_message","")},t.prototype.clearPendingMessage=function(){l.n.set("pending_chat_message","")},t.prototype.restorePendingMessage=function(){var e=this.getPendingMessage();e&&this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.clearPendingMessage())},t}(a.Component);var $e=Object(M.compose)(Object(d.a)(Qe,{name:"sendCheer"}),Object(d.a)(Ke,{skip:function(e){return!e.firstPageLoaded}}),pe.a,Object(ze.withLatencyTracking)("ChatInput",{autoReportInteractive:!0}),Object(L.connect)(function(e){return{emotePickerSessionID:e.chat.emotePickerSessionID,sessionUser:Object(G.e)(e)}},function(e){return Object(s.bindActionCreators)({login:function(e){return Object(H.e)(x.a.Chat,e)},updateRenderSentChatMessageEvent:oe.S},e)}),Object(me.b)(function(e){return{slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}}),Object(ne.b)(function(e){return{hideChatInputButtons:e.hideChatInputButtons}}),Object(Ne.b)(function(e){return e}))(Ze),Je=n("r2XO"),et=n("GHzV"),tt=(n("9Rmp"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfirm=function(){t.markRoomSeen(),t.props.onCloseChatRules()},t}return i.__extends(t,e),t.prototype.render=function(){return a.createElement(y.a,{className:"chat-rules",position:_.j.Relative},a.createElement(N.a,{border:!0,background:C.a.Base,margin:{bottom:1}},a.createElement(y.a,{padding:1},a.createElement(y.a,{margin:{bottom:1}},a.createElement(S.a,{type:S.e.H6},Object(l.d)("Chat Rules:","ChatRules"))),a.createElement(y.a,null,a.createElement("ul",null,this.props.chatRules.map(function(e,t){return a.createElement("li",{key:t},e)}))),a.createElement(y.a,{margin:{top:1},display:_.d.Flex,justifyContent:_.h.Center},a.createElement(I.a,{size:I.b.Small,onClick:this.onClickConfirm},Object(l.d)("Ok, got it!","ChatRules"))))))},t.prototype.markRoomSeen=function(){var e=l.n.get("chat_rules_shown",{});e[this.props.channelLogin]=!0,l.n.set("chat_rules_shown",e)},t}(a.Component)),nt=n("8in3"),it=n("Y3y8"),rt=(n("7NxT"),n("fxMP")),at=n("j+2s");n("kPCN");n.d(t,"a",function(){return ot}),n.d(t,"b",function(){return mt});var ot="chat-room-header-label",st="chat_rules_shown",lt=l.k.withCategory("chat-room"),ct=c.a.wrap(function(){return n.e(201).then(n.bind(null,"A39y"))},"ChatViewers"),dt=c.a.wrap(function(){return n.e(200).then(n.bind(null,"Y9qK"))},"NewChatterRitual",{failSilently:!0,placeholder:null}),ut=function(e){function t(t){var n=e.call(this,t)||this;n.hasAcceptedModerationConfirmation=!1,n.closeViewersList=function(){n.setState({showViewersList:!1})},n.showViewersList=function(){n.props.closeRoomPicker&&n.props.closeRoomPicker(),n.setState({showViewersList:!0})},n.confirmModerationAction=function(){return!(n.props.isEmbedded&&!n.hasAcceptedModerationConfirmation)||(n.hasAcceptedModerationConfirmation=window.confirm(Object(l.d)("Do you want to enable the ability to timeout and ban on embedded version of Twitch Chat? This setting will persist until you refresh the page.","ChatRoom")),n.hasAcceptedModerationConfirmation)},n.onChatInputFocus=function(){var e=l.n.get(st,{});n.props.chatRules&&n.props.chatRules.length>0&&!e[n.props.channelLogin]&&n.onShowChatRules()},n.onShowChatRules=function(){n.props.authToken&&n.props.onShowChatRules()},n.setChatListElement=function(e){n.setState({chatListElement:e})},n.shouldHideChatInput=function(){return n.state.showViewersList},n.openRaidUpsellFromHost=function(e){return n.closeRaidUpsell(function(){n.setState({raidUpsellTarget:e})})},n.closeRaidUpsell=function(e){return n.setState({raidUpsellTarget:null},function(){e&&e()})},n.onSendCheerError=function(e,t){switch(t.code){case g.Ua.AUTO_MOD_MESSAGE:n.setState({moderatedReason:Ce.AUTOMOD,forceSendCheer:!1,moderatedMessageParts:Object(rt.g)(t.messageContent.fragments,!1)});break;case g.Ua.INVALID_ANONYMOUS_MESSAGE:n.setState({moderatedReason:Ce.ANONYMOUS_CHEERING,forceSendCheer:!1,anonymousCheerMessageParts:Object(rt.g)(t.messageContent.fragments,!1,n.props.currentUserLogin,n.props.bitsConfig),moderatedMessageParts:[Object(h.a)(e)]});break;default:n.setState({bitsSendErrorCode:t.code,bitsSendHasError:!0})}},n.clearBitsSendError=function(){n.setState({bitsSendErrorCode:g.Ua.UNKNOWN,bitsSendHasError:!1})},n.clearCheerErrorPrompts=function(){n.setState({forceSendCheer:!1,moderatedReason:null,moderatedMessageParts:null,anonymousCheerMessageParts:null})},n.onBitsAutoModCheerAnyway=function(){n.setState({moderatedReason:null,forceSendCheer:!0})},n.onInvalidAnonymousCheerPromptCheerAnyway=function(){n.setState({moderatedReason:null,forceSendCheer:!0})};var i=new b.c([],[],n.props.channelLogin);return n.state={showViewersList:!1,raidUpsellTarget:null,badgeSets:i,forceSendCheer:!1,bitsSendErrorCode:g.Ua.UNKNOWN,bitsSendHasError:!1,moderatedMessageParts:null,anonymousCheerMessageParts:null},n}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.props.onCloseChatRules()},t.prototype.componentWillUnmount=function(){this.props.onCloseChatRules()},t.prototype.render=function(){if(this.props.isBackground)return null;if(this.props.isHidden&&!this.props.isPopout)return a.createElement(N.a,{alignItems:_.b.Center,borderLeft:!0,display:_.d.Flex,flexDirection:_.e.Column,fullHeight:!0,fullWidth:!0,justifyContent:_.h.Center,color:C.c.Base,position:_.j.Relative},a.createElement(y.a,{margin:{bottom:1}},a.createElement(S.a,{fontSize:C.d.Size5},Object(l.d)("Chat is hidden.","ChatRoom"))),a.createElement(I.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button","data-test-selector":"show-chat-button"},Object(l.d)("Show Chat","ChatRoom")));var e=this.props.bitsConfig&&this.props.firstPageLoaded&&this.props.channelID&&a.createElement(w.a,{bitsConfig:this.props.bitsConfig,channelID:this.props.channelID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,userID:this.props.userID}),t=this.state.showViewersList&&a.createElement(N.a,{attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,background:C.a.Alt2,position:_.j.Absolute,zIndex:_.n.Default},a.createElement(y.a,{padding:{y:1}},a.createElement(y.a,{position:_.j.Absolute,attachLeft:!0,margin:{left:1}},a.createElement(ie.a,{icon:D.b.Close,ariaLabel:Object(l.d)("Close","ChatRoom"),onClick:this.closeViewersList,"data-test-selector":"close-viewer-list"}))),a.createElement(ct,{channelLogin:this.props.channelLogin,closeViewersList:this.closeViewersList,isCurrentUserBanned:this.props.currentUserBannedStatusData&&this.props.currentUserBannedStatusData.channel&&this.props.currentUserBannedStatusData.channel.self&&this.props.currentUserBannedStatusData.channel.self.banStatus&&this.props.currentUserBannedStatusData.channel.self.banStatus.isPermanent||!1,"data-test-selector":"chat-viewers"})),n=!!this.props.authToken&&!this.props.isEmbedded,i=null;this.props.isChatRulesOpen&&this.props.chatRules&&this.props.chatRules.length&&(i=a.createElement(y.a,{padding:{x:2}},a.createElement(tt,{chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,onCloseChatRules:this.props.onCloseChatRules})));var o=r({"chat-room":!0,"chat-room__base-background":!!this.props.useBaseBackground});return a.createElement(_.g,{"data-test-selector":"chat-room-component-layout","data-a-target":this.props.theme===p.a.Dark?"chat-theme-dark":"chat-theme-light",flexShrink:1,flexGrow:1,display:_.d.Flex,flexDirection:_.e.Column,fullWidth:!0},a.createElement("section",{"data-test-selector":"chat-room-section",className:o,role:"complementary","aria-labelledby":ot},a.createElement(N.a,{display:_.d.Flex,flexDirection:_.e.Column,flexWrap:_.f.NoWrap,position:_.j.Relative,flexGrow:1,fullHeight:!0,color:C.c.Base,className:"chat-room__content"},this.props.chatRoomHeader,e,a.createElement(Je.a,{badgeSets:this.state.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,containerRef:this.setChatListElement,confirmModerationAction:this.confirmModerationAction,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isEmbedded:this.props.isEmbedded,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,onPushMessage:this.props.onPushMessage,theme:this.props.theme}),a.createElement(y.a,{className:"chat-room__notifications",position:_.j.Absolute,zIndex:_.n.Default,fullWidth:!0},this.props.children),i,t,this.state.raidUpsellTarget&&a.createElement(et.a,null,a.createElement(Ue,{send:this.props.onSendMessage,targetChannelLogin:this.state.raidUpsellTarget,sourceChannelLogin:this.props.channelLogin,closeRaidUpsell:this.closeRaidUpsell})),this.props.firstPageLoaded&&this.props.channelID&&a.createElement(dt,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,onPushMessage:this.props.onPushMessage,onSendMessage:this.props.onSendMessage}),this.state.moderatedReason===Ce.AUTOMOD&&a.createElement(A,{badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onBitsAutoModCheerAnyway}),this.state.moderatedReason===Ce.ANONYMOUS_CHEERING&&a.createElement(T,{messageParts:this.state.anonymousCheerMessageParts||[],badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onInvalidAnonymousCheerPromptCheerAnyway}),a.createElement($e,{authToken:this.props.authToken,bitsConfig:n?this.props.bitsConfig:void 0,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,emotes:this.props.emotes,emoteMap:this.props.emoteMap,firstPageLoaded:this.props.firstPageLoaded,hidden:this.shouldHideChatInput(),isCurrentUserModerator:this.props.isCurrentUserModerator,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatCommand:this.props.onSendMessage,onShowChatRules:this.props.authToken&&this.props.chatRules&&this.props.chatRules.length?this.onShowChatRules:void 0,userBadges:this.props.userBadges,showViewersList:this.showViewersList,onSendMessage:this.props.onSendMessage,onInputFocus:this.onChatInputFocus,containerElement:this.state.chatListElement,openRaidUpsellFromHost:this.openRaidUpsellFromHost,onSendCheerError:this.onSendCheerError,onSendCheerSuccess:this.clearCheerErrorPrompts,isTextInputDisabled:!!this.state.moderatedReason,forceSendCheer:this.state.forceSendCheer,moderatedReason:this.state.moderatedReason,moderatedMessageParts:this.state.moderatedMessageParts,bitsSendErrorCode:this.state.bitsSendErrorCode,bitsSendHasError:this.state.bitsSendHasError,clearBitsSendError:this.clearBitsSendError}),a.createElement(y.a,{className:"chat-room__viewer-card",fullHeight:!0,fullWidth:!0,position:_.j.Absolute,"data-a-target":"chat-user-card"},a.createElement(nt.a,{isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,confirmModerationAction:this.confirmModerationAction,onSendMessage:this.props.onSendMessage,channelID:this.props.channelID,channelLogin:this.props.channelLogin,isModerator:!!this.props.isCurrentUserModerator&&this.props.isCurrentUserModerator,isOwner:this.props.isOwnChannel})))))},t.prototype.componentWillReceiveProps=function(e){if(e.data&&e.data.badges&&e.data.user&&e.data.user.broadcastBadges&&this.setState({badgeSets:new b.c(e.data.badges,e.data.user.broadcastBadges,e.channelLogin)}),e.data&&e.data.user&&e.data.user.self&&e.data.user.self.displayBadges){var t={};e.data.user.self.displayBadges.forEach(function(e){e&&(t[e.setID]=e.version)}),l.q.tmi.client.updateChannelBadges(e.channelLogin,t)}},t}(a.Component),mt=Object(s.compose)(Object(d.a)(at,{skip:function(e){return!e.firstPageLoaded},options:function(e){return{name:"data",variables:{channelLogin:e.channelLogin}}}}),Object(it.a)(),Object(u.a)(function(e){return{query:at,variables:{channelLogin:e.channelLogin},topic:Object(f.G)(e.userID),type:m.PubsubMessageType.UserBitsBadgeUpdate,skip:!e.firstPageLoaded||!e.userID,mutator:function(t,n){if(lt.debug("Received bits-user-update-v1 pubsub update",{data:n,event:t}),!n.badges||t.message_type===R.b.Balance||null===t.data.newest_version||t.data.channel_id!==e.channelID)return n;var i=n.badges.find(function(e){return!!e&&e.setID===t.data.set_id&&e.version===t.data.newest_version});return i&&n.user&&n.user.self&&n.user.self.displayBadges&&(n.user.self.displayBadges=n.user.self.displayBadges.map(function(e){return e&&e.setID===i.setID&&e.version!==i.version?i:e}),(!n.user.self.selectedBadge||i.setID===R.a.Bits&&n.user.self.selectedBadge.setID===R.a.Bits)&&(n.user.self.selectedBadge=i),n.user.self.selectedBadge&&(i.setID!==R.a.Leaderboard||n.user.self.selectedBadge.setID!==R.a.Bits&&n.user.self.selectedBadge.setID!==R.a.Leaderboard)||(n.user.self.selectedBadge=i)),n}}}),o.a)(ut)},Ba7Q:function(e,t,n){"use strict";var i,r=n("/MKj"),a=n("kRBY"),o=n("mrSG"),s=n("TSYQ"),l=n("q1tI"),c=n("oJmH"),d=n("/7QA"),u=n("yR8l"),m=n("geRD"),p=n("JcRA"),h=n("Ar2k"),f=n("7uM4"),g=n("hnjF"),b=n("X2PJ"),v=n("sUnt"),E=n("Ws8v"),k=n("dEDE"),C=n("+80q"),S=n("K/KT"),y=n("b7S+"),N=n("htqZ"),_=(n("q5AV"),n("i46O"));!function(e){e.Toggle="type_toggle",e.Button="type_button"}(i||(i={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFollowing:!1,disableNotifications:!0},t.toggleNotificationsEnabled=function(){var e=t.getFollowData();if(e){var n=e&&e.id||"",i={disableNotifications:!t.state.disableNotifications,targetID:n},r={followUser:{__typename:"FollowUserPayload",follow:{__typename:"Follow",user:{__typename:"User",id:n,self:{__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!t.state.disableNotifications}}}}}};t.props.followUser(Object(m.b)(i,r)),t.setState(function(e){return{disableNotifications:!e.disableNotifications}})}},t.setButtonContainerRef=function(e){t.buttonContainerRef!==e&&(t.removeEventListeners(),t.buttonContainerRef=e,t.addEventListeners())},t.onMouseEnter=function(){if(t.buttonContainerRef&&t.props.showTooltips){var e=t.state.disableNotifications?Object(d.d)("Turn notifications on","LiveNotificationsToggle"):Object(d.d)("Turn notifications off","LiveNotificationsToggle");t.props.tooltipLayer.show({from:t.buttonContainerRef,label:e,direction:y.c.Right})}},t.onMouseLeave=function(){t.props.tooltipLayer.hide()},t}return o.__extends(t,e),t.prototype.componentWillMount=function(){var e=this.getFollowData();if(e){var t=e.self&&e.self.follower&&e.self.follower.disableNotifications;this.setState({isFollowing:null!==t||!1,disableNotifications:t})}},t.prototype.componentWillReceiveProps=function(e){var t=null;e.followData&&e.followData?t=e.followData:!e.data||e.data.loading||e.data.error||(t=e.data.user),t&&this.setState({isFollowing:t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications||!1,disableNotifications:!(t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications)||t.self.follower.disableNotifications})},t.prototype.componentDidMount=function(){this.addEventListeners()},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){return this.props.toggleType&&this.props.toggleType===i.Button?this.renderTypeButton():this.renderTypeToggle()},t.prototype.renderTypeButton=function(){var e=this.state.disableNotifications,t=e?f.b.NotificationBellOff:f.b.NotificationBell,n=e?f.b.NotificationBell:f.b.NotificationBellOff,i=s("live-notifications__btn");return l.createElement(E.a,{className:i,refDelegate:this.setButtonContainerRef},l.createElement(p.a,{tabIndex:this.props.tabIndex||0,icon:t,iconOnHover:n,type:k.d.Text,onClick:this.toggleNotificationsEnabled}))},t.prototype.renderTypeToggle=function(){var e,t;return this.state.isFollowing?this.state.disableNotifications?(t="live-notifications-toggle__status-text--disabled",e=Object(d.d)("Opt in to notifications to receive updates on this channel's activity, including when they go live.","LiveNotificationsToggle")):(t="live-notifications-toggle__status-text--enabled",e=Object(d.d)("You will be notified on this channel's activity, including when they go live.","LiveNotificationsToggle")):(e=Object(d.d)("Follow this channel to receive notifications when they go live.","LiveNotificationsToggle"),t="live-notifications-toggle__status-text--not-following"),l.createElement(E.a,{color:b.c.Base,display:g.d.Flex,flexWrap:g.f.Wrap},l.createElement(v.a,{display:g.d.Flex,flexWrap:g.f.NoWrap,fullWidth:!0,justifyContent:g.h.Between},l.createElement(v.a,{display:g.d.Flex,padding:{right:2}},l.createElement("span",null,l.createElement(C.a,{fontSize:b.d.Size4,bold:!0},Object(d.d)("Notifications","LiveNotificationsToggle")))),l.createElement(v.a,{display:g.d.Flex,flexShrink:0},l.createElement(S.a,{onChange:this.toggleNotificationsEnabled,checked:!this.state.disableNotifications,"data-test-selector":"live-notifications-toggle__toggle","data-a-target":"notifications-toggle",disabled:!this.state.isFollowing}))),l.createElement(v.a,{display:g.d.InlineFlex,padding:{bottom:1}},l.createElement(C.a,{type:C.e.Span,color:b.c.Alt2,"data-test-selector":t},e)))},t.prototype.getFollowData=function(){return this.props.followData||this.props.data&&this.props.data.user},t.prototype.addEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.addEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.removeEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.removeEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.removeEventListener("mouseleave",this.onMouseLeave))},t}(l.Component),T=Object(c.compose)(Object(u.a)(_,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!(e.firstPageLoaded&&e.isLoggedIn&&e.channelLogin&&!e.followData)}}),Object(u.a)(N,{name:"followUser"}),Object(h.c)())(I);var O=Object(r.connect)(function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:Object(a.f)(e)}})(T);n.d(t,"a",function(){return O}),n.d(t,"b",function(){return i})},BhFH:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("mrSG"),r=n("yR8l"),a=n("8jSG"),o=n("cMjZ"),s=n("kSkr");function l(){var e=this;return Object(r.a)(s,{props:function(t){return{blockUserMutation:function(n,r,s,l){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return t.mutate?[4,t.mutate({variables:{input:{targetUserID:n,sourceContext:s,reason:r}},optimisticResponse:{blockUser:{__typename:"BlockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=e.readFragment({id:Object(o.a)(l),fragment:a});t&&(t.blockedUsers.push({id:n,__typename:"User"}),e.writeFragment({id:Object(o.a)(l),fragment:a,data:t}))}})]:[3,2];case 1:return e.sent(),[3,3];case 2:throw new Error("blockUserMutation is not ready");case 3:return[2]}})})}}}})}},By5U:function(e,t){},C9w8:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=new Set(["alt","src","srcSet","sizes","onError","onLoad","refHandler"]);function r(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var a=n[r];i.has(a)&&(t[a]=e[a])}return t}},CA5B:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VIPs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vips"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query VIPs($login: String!) {\nuser(login: $login) {\nid\nvips(first: 100) {\nedges {\nnode {\nid\nlogin\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},CGUg:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("X2PJ"),c=n("Ws8v"),d=(n("rljb"),function(e){return a.createElement(c.a,r()({className:Object(o.a)({"tw-typeset":!0}),fontSize:e.baseFontSize||l.d.Size5},Object(s.a)(e)),e.children)});d.displayName="Typeset",d.displayName="Typeset"},CK1f:function(e,t,n){},CZEr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_UnfollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfollowUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfollowUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"mutation FollowButton_UnfollowUser($input: UnfollowUserInput!) {\nunfollowUser(input: $input) {\n# This mutation returns the unmutated follower edge.\n# We actually do not care about any field returned here.\nfollow {\ndisableNotifications\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},CbHG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextProvider_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:69}};n.loc.source={body:"query ChatFilterContextProvider_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"CpU+":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("yR8l"),a=n("JiJH");function o(){var e=this;return Object(r.a)(a,{props:function(t){return{unVIPUserMutation:function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return t.mutate&&t.ownProps.channelID?[4,t.mutate({variables:{input:{channelID:t.ownProps.channelID,revokeeLogin:n}}})]:[2];case 1:return[2,e.sent().data]}})})}}}})}},CtjF:function(e,t,n){},CzFK:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"l",function(){return d}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return m}),n.d(t,"j",function(){return p}),n.d(t,"m",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"n",function(){return g});var i="whispers.THREAD_OPENED",r="whispers.THREAD_CLOSED",a="whispers.THREAD_COLLAPSED",o="whispers.THREAD_EXPANDED",s="whispers.THREAD_FOCUSED",l="whispers.THREAD_UNFOCUSED",c="whispers.CONTENT_RESIZED";function d(e,t){return{type:i,data:e,contentWidth:t}}function u(e,t){return{type:r,threadID:e,contentWidth:t}}function m(e,t){return{type:a,threadID:e,contentWidth:t}}function p(e,t){return{type:o,threadID:e,contentWidth:t}}function h(e){return{type:c,contentWidth:e}}function f(e,t){return{type:s,threadID:e,contentWidth:t}}function g(e,t){return{type:l,threadID:e,contentWidth:t}}},D91L:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/MKj"),s=n("/7QA"),l=n("gcd7"),c=n("BhFH"),d=n("iS14"),u=n("DMoW"),m=n("TvOw"),p=n("kRBY"),h=n("NNSq"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getInvalidUserMessage=function(){return Object(s.d)("No user matching that login.","IgnoreCommandHandler")},t.blockUser=function(e){return e?e===t.props.currentUserLogin?{deferred:Promise.resolve({notice:Object(s.d)("You cannot ignore yourself.","IgnoreCommandHandler")})}:{deferred:Object(h.a)(e).then(function(e){if(!e)return{notice:t.getInvalidUserMessage()};try{t.props.blockUserMutation(e,m.a.Other,u.k.CHAT,t.props.user)}catch(e){return{notice:Object(s.d)("Unable to ignore user","IgnoreCommandHandler")}}return{notice:Object(s.d)("User successfully ignored","IgnoreCommandHandler")}})}:{deferred:Promise.resolve({notice:Object(s.d)("Please specify a user to ignore","IgnoreCommandHandler")})}},t.unblockUser=function(e){return e?e===t.props.currentUserLogin?{deferred:Promise.resolve({notice:Object(s.d)("You cannot unignore yourself.","IgnoreCommandHandler")})}:{deferred:Object(h.a)(e).then(function(e){if(!e)return{notice:t.getInvalidUserMessage()};try{t.props.unblockUserMutation(e,t.props.user)}catch(e){return{notice:Object(s.d)("Unable to unignore user","IgnoreCommandHandler")}}return{notice:Object(s.d)("User successfully unignored","IgnoreCommandHandler")}})}:{deferred:Promise.resolve({notice:Object(s.d)("Please specify a user to unignore","IgnoreCommandHandler")})}},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement("span",{style:{display:"none"}},r.createElement(l.a,{command:"ignore",handler:this.blockUser,channelLogin:this.props.channelLogin}),r.createElement(l.a,{command:"unignore",handler:this.unblockUser,channelLogin:this.props.channelLogin}))},t}(r.Component);var g=Object(a.compose)(Object(o.connect)(function(e){return{user:Object(p.e)(e)}}),Object(d.a)(),Object(c.a)())(f);n.d(t,"a",function(){return g})},"DB+C":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_EmotePicker_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaignProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domains"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:393}};n.loc.source={body:"query EmotePicker_EmotePicker_UserSubscriptionProducts($channelOwnerID: ID!) {\nuser(id: $channelOwnerID) {\nid\nlogin\ncampaignProperties {\ndomains\n}\ndisplayName\nprofileImageURL(width: 28)\nsubscriptionProducts {\nid\nname\ntier\nurl\nemotes {\nid\nsetID\ntoken\n}\nprice\nemoteSetID\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nsubscriptionBenefit {\nid\nplatform\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},DLhE:function(e,t,n){"use strict";var i=n("mrSG"),r=n("G1cX"),a=n("/7QA"),o=n("f00E"),s=n("+pBb"),l=n("F6GT"),c=n("2xye"),d=n("VJH5");function u(e,t){a.p.track(c.SpadeEventType.ChatFilterSettingsChanged,{chat_filter_is_active:e.viewerChatFilterEnabled,from_menu:t,toggle_aggressive_language:e.viewerChatFilterSettings[d.a.Aggressive],toggle_explicit_language:e.viewerChatFilterSettings[d.a.Sexual],toggle_identity_language:e.viewerChatFilterSettings[d.a.Identity],toggle_profane_language:e.viewerChatFilterSettings[d.a.Profanity]})}function m(e){return e.chat.renderSent}function p(e,t){var n=[];if(e.chat&&e.chat.commandHandlers){var i=e.chat.commandHandlers[t]||{};for(var r in i)i[r]&&n.push(r)}return n}function h(e){return-1===Object.values(e).indexOf(!0)}function f(e){Object(l.c)("viewerChatFilterEnabled",e.viewerChatFilterEnabled),Object(l.c)("viewerChatFilterSettings",e.viewerChatFilterSettings)}n.d(t,"b",function(){return m}),n.d(t,"a",function(){return p}),a.q.store.registerReducer("chat",function(e,t){var n,a,c;switch(void 0===e&&(n=Object(l.b)(),e=i.__assign({},n,{commandHandlers:{},emoteSets:[],emotePickerSessionID:null,isChatRulesOpen:!1,isHidden:!1,renderSent:null,unhideIgnoredUsers:[]})),t.type){case s.d:return i.__assign({},e,{isHidden:!0});case s.e:return i.__assign({},e,{isHidden:!1});case s.f:return i.__assign({},e,{isChatRulesOpen:!1});case s.i:return i.__assign({},e,{emoteSets:t.emoteSets});case s.g:return i.__assign({},e,{emotePickerSessionID:null});case s.h:return i.__assign({},e,{emotePickerSessionID:Object(o.b)()});case s.j:return i.__assign({},e,{lastUsedFollowerDurations:i.__assign({},e.lastUsedFollowerDurations,(a={},a[t.channelLogin]=t.duration,a))});case s.q:return i.__assign({},e,{isChatRulesOpen:!0});case s.b:return i.__assign({},e,{showAutoModActions:!1});case s.c:return i.__assign({},e,{showAutoModActions:!0});case s.k:return i.__assign({},e,{showModerationActions:!1});case s.l:return i.__assign({},e,{showModerationActions:!0});case s.m:return i.__assign({},e,{showModIcons:!1});case s.n:return i.__assign({},e,{showModIcons:!0});case s.r:return i.__assign({},e,{showTimestamps:!1});case s.s:return i.__assign({},e,{showTimestamps:!0});case s.u:var m=i.__assign({},e,{viewerChatFilterEnabled:!1});return f(m),u(m,t.source),m;case s.v:return f(m=h(e.viewerChatFilterSettings)?i.__assign({},e,{viewerChatFilterEnabled:!0,viewerChatFilterSettings:(c={},c[d.a.Aggressive]=!0,c[d.a.Identity]=!0,c[d.a.Profanity]=!0,c[d.a.Sexual]=!0,c)}):i.__assign({},e,{viewerChatFilterEnabled:!0})),u(m,t.source),m;case s.w:return f(m=i.__assign({},e,{viewerChatFilterEnabled:!h(t.settings),viewerChatFilterSettings:i.__assign({},e.viewerChatFilterSettings,t.settings)})),u(m,t.source),m;case s.a:return r(e,function(e){return e.commandHandlers},function(e){var n,i=e[t.channelLogin];if(i){var r=i[t.command];r?r.push(t.handler):i[t.command]=[t.handler]}else e[t.channelLogin]=((n={})[t.command]=[t.handler],n);return e});case s.o:return r(e,function(e){return e.commandHandlers},function(e){var n=e[t.channelLogin];if(!n)return e;var i=n[t.command];if(!i)return e;var r=i.indexOf(t.handler);return i.splice(r,1),0===i.length&&delete n[t.command],0===Object.keys(n).length&&delete e[t.channelLogin],e});case s.p:return i.__assign({},e,{renderSent:t.customEvent});case s.t:return i.__assign({},e,{unhideIgnoredUsers:e.unhideIgnoredUsers.concat([t.userID])});default:return e}})},DMoW:function(e,t,n){"use strict";var i,r,a,o,s,l,c,d,u,m,p,h,f,g,b,v,E,k,C,S,y,N,_,I,T,O,D,A,w,R,M,L,U,B,F,P,x,j,H,V,G,W,q,z,Y,K,Q,X,Z,$,J,ee,te,ne,ie,re,ae,oe,se,le,ce,de,ue,me,pe,he,fe,ge,be,ve,Ee,ke,Ce,Se,ye,Ne,_e,Ie,Te,Oe,De,Ae,we,Re,Me,Le,Ue,Be,Fe,Pe,xe,je,He,Ve,Ge,We,qe,ze,Ye,Ke,Qe,Xe,Ze,$e,Je,et,tt,nt,it,rt,at,ot,st,lt,ct,dt,ut,mt,pt,ht,ft,gt,bt,vt,Et,kt,Ct,St,yt,Nt,_t,It,Tt,Ot,Dt,At,wt,Rt,Mt,Lt,Ut,Bt,Ft,Pt,xt,jt,Ht,Vt,Gt,Wt,qt,zt,Yt,Kt,Qt,Xt,Zt,$t,Jt,en,tn,nn;n.d(t,"Ma",function(){return i}),n.d(t,"k",function(){return r}),n.d(t,"Pa",function(){return s}),n.d(t,"V",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"p",function(){return f}),n.d(t,"pb",function(){return g}),n.d(t,"ob",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"j",function(){return E}),n.d(t,"W",function(){return k}),n.d(t,"f",function(){return C}),n.d(t,"x",function(){return S}),n.d(t,"v",function(){return y}),n.d(t,"m",function(){return N}),n.d(t,"o",function(){return _}),n.d(t,"q",function(){return I}),n.d(t,"Oa",function(){return D}),n.d(t,"Na",function(){return A}),n.d(t,"z",function(){return w}),n.d(t,"qb",function(){return R}),n.d(t,"Za",function(){return M}),n.d(t,"H",function(){return L}),n.d(t,"e",function(){return U}),n.d(t,"Ua",function(){return B}),n.d(t,"cb",function(){return F}),n.d(t,"gb",function(){return P}),n.d(t,"Ra",function(){return x}),n.d(t,"La",function(){return H}),n.d(t,"Qa",function(){return G}),n.d(t,"Y",function(){return W}),n.d(t,"X",function(){return q}),n.d(t,"d",function(){return z}),n.d(t,"J",function(){return Y}),n.d(t,"kb",function(){return K}),n.d(t,"u",function(){return Q}),n.d(t,"I",function(){return X}),n.d(t,"eb",function(){return Z}),n.d(t,"w",function(){return $}),n.d(t,"Ca",function(){return J}),n.d(t,"fb",function(){return ee}),n.d(t,"Ba",function(){return te}),n.d(t,"Aa",function(){return ne}),n.d(t,"mb",function(){return ie}),n.d(t,"C",function(){return re}),n.d(t,"s",function(){return ae}),n.d(t,"db",function(){return oe}),n.d(t,"O",function(){return se}),n.d(t,"a",function(){return le}),n.d(t,"P",function(){return ce}),n.d(t,"S",function(){return de}),n.d(t,"Fa",function(){return ue}),n.d(t,"Ga",function(){return me}),n.d(t,"Ea",function(){return he}),n.d(t,"Ha",function(){return fe}),n.d(t,"jb",function(){return ve}),n.d(t,"Ta",function(){return ke}),n.d(t,"Sa",function(){return Se}),n.d(t,"Ia",function(){return Ie}),n.d(t,"ib",function(){return Te}),n.d(t,"nb",function(){return Ue}),n.d(t,"B",function(){return Be}),n.d(t,"A",function(){return Fe}),n.d(t,"tb",function(){return He}),n.d(t,"sb",function(){return Ve}),n.d(t,"hb",function(){return qe}),n.d(t,"h",function(){return Ye}),n.d(t,"i",function(){return Ke}),n.d(t,"g",function(){return Qe}),n.d(t,"R",function(){return $e}),n.d(t,"Z",function(){return Je}),n.d(t,"rb",function(){return et}),n.d(t,"t",function(){return it}),n.d(t,"N",function(){return rt}),n.d(t,"bb",function(){return ot}),n.d(t,"Va",function(){return ct}),n.d(t,"y",function(){return dt}),n.d(t,"r",function(){return ut}),n.d(t,"T",function(){return mt}),n.d(t,"ab",function(){return ft}),n.d(t,"G",function(){return Et}),n.d(t,"Wa",function(){return yt}),n.d(t,"Xa",function(){return Nt}),n.d(t,"Ya",function(){return _t}),n.d(t,"U",function(){return Lt}),n.d(t,"Ja",function(){return Ut}),n.d(t,"Ka",function(){return Bt}),n.d(t,"Da",function(){return xt}),n.d(t,"l",function(){return Wt}),n.d(t,"n",function(){return zt}),n.d(t,"M",function(){return Yt}),n.d(t,"L",function(){return Qt}),n.d(t,"Q",function(){return Xt}),n.d(t,"lb",function(){return Zt}),n.d(t,"F",function(){return $t}),n.d(t,"E",function(){return Jt}),n.d(t,"K",function(){return en}),n.d(t,"D",function(){return tn}),function(e){e.CHANNEL_FEED_COMMENT_REPORT="CHANNEL_FEED_COMMENT_REPORT",e.CHANNEL_FEED_POST_REPORT="CHANNEL_FEED_POST_REPORT",e.CHAT_REPORT="CHAT_REPORT",e.CLIP_REPORT="CLIP_REPORT",e.COLLECTION_REPORT="COLLECTION_REPORT",e.CURSE_PRIVATE_GROUP="CURSE_PRIVATE_GROUP",e.CURSE_PUBLIC_GROUP="CURSE_PUBLIC_GROUP",e.CURSE_WHISPER="CURSE_WHISPER",e.EMOTE_REPORT="EMOTE_REPORT",e.EVENT_REPORT="EVENT_REPORT",e.EXTENSION_REPORT="EXTENSION_REPORT",e.LIVE_UP_REPORT="LIVE_UP_REPORT",e.RAID_REPORT="RAID_REPORT",e.ROOM_REPORT="ROOM_REPORT",e.SINGS_DUET_SEED_REPORT="SINGS_DUET_SEED_REPORT",e.SINGS_GROUP_BIO_REPORT="SINGS_GROUP_BIO_REPORT",e.SINGS_GROUP_CHAT_REPORT="SINGS_GROUP_CHAT_REPORT",e.SINGS_GROUP_NAME_REPORT="SINGS_GROUP_NAME_REPORT",e.SINGS_VOD_COMMENT_REPORT="SINGS_VOD_COMMENT_REPORT",e.USER_REPORT="USER_REPORT",e.VOD_COMMENT_REPORT="VOD_COMMENT_REPORT",e.VOD_REPORT="VOD_REPORT",e.WHISPER_REPORT="WHISPER_REPORT"}(i||(i={})),function(e){e.CHAT="CHAT",e.WHISPER="WHISPER"}(r||(r={})),function(e){e.CHANNEL_NOT_FOUND="CHANNEL_NOT_FOUND",e.FORBIDDEN="FORBIDDEN",e.TARGET_ALREADY_MOD="TARGET_ALREADY_MOD",e.TARGET_IS_CHAT_BANNED="TARGET_IS_CHAT_BANNED",e.TARGET_NOT_FOUND="TARGET_NOT_FOUND"}(a||(a={})),function(e){e.CHANNEL_NOT_FOUND="CHANNEL_NOT_FOUND",e.FORBIDDEN="FORBIDDEN",e.TARGET_NOT_FOUND="TARGET_NOT_FOUND",e.TARGET_NOT_MOD="TARGET_NOT_MOD"}(o||(o={})),function(e){e.CHANNEL_NOT_FOUND="CHANNEL_NOT_FOUND",e.FORBIDDEN="FORBIDDEN",e.REVOKEE_NOT_FOUND="REVOKEE_NOT_FOUND",e.REVOKEE_NOT_VIP="REVOKEE_NOT_VIP"}(s||(s={})),function(e){e.CHANNEL_NOT_FOUND="CHANNEL_NOT_FOUND",e.FORBIDDEN="FORBIDDEN",e.GRANTEE_ALREADY_VIP="GRANTEE_ALREADY_VIP",e.GRANTEE_CHAT_BANNED="GRANTEE_CHAT_BANNED",e.GRANTEE_NOT_FOUND="GRANTEE_NOT_FOUND",e.MAX_VIPS_REACHED="MAX_VIPS_REACHED",e.VIP_ACHIEVEMENT_INCOMPLETE="VIP_ACHIEVEMENT_INCOMPLETE"}(l||(l={})),function(e){e.PLAYING="PLAYING",e.STREAMING="STREAMING",e.WATCHING="WATCHING"}(c||(c={})),function(e){e.AWAY="AWAY",e.BUSY="BUSY",e.IDLE="IDLE",e.OFFLINE="OFFLINE",e.ONLINE="ONLINE"}(d||(d={})),function(e){e.IDLE="IDLE",e.OFFLINE="OFFLINE",e.ONLINE="ONLINE"}(u||(u={})),function(e){e.AWAY="AWAY",e.BUSY="BUSY",e.OFFLINE="OFFLINE",e.ONLINE="ONLINE"}(m||(m={})),function(e){e.AR="AR",e.BG="BG",e.CS="CS",e.DA="DA",e.DE="DE",e.EL="EL",e.EN="EN",e.EN_GB="EN_GB",e.ES="ES",e.ES_MX="ES_MX",e.FI="FI",e.FR="FR",e.HI="HI",e.HU="HU",e.IT="IT",e.JA="JA",e.KO="KO",e.NL="NL",e.NO="NO",e.PL="PL",e.PT="PT",e.PT_BR="PT_BR",e.RO="RO",e.RU="RU",e.SK="SK",e.SV="SV",e.TH="TH",e.TR="TR",e.VI="VI",e.ZH="ZH",e.ZH_CN="ZH_CN",e.ZH_TW="ZH_TW"}(p||(p={})),function(e){e.AR="AR",e.ASL="ASL",e.BG="BG",e.CA="CA",e.CS="CS",e.DA="DA",e.DE="DE",e.EL="EL",e.EN="EN",e.ES="ES",e.FI="FI",e.FR="FR",e.HI="HI",e.HU="HU",e.ID="ID",e.IT="IT",e.JA="JA",e.KO="KO",e.MS="MS",e.NL="NL",e.NO="NO",e.OTHER="OTHER",e.PL="PL",e.PT="PT",e.RO="RO",e.RU="RU",e.SK="SK",e.SV="SV",e.TH="TH",e.TL="TL",e.TR="TR",e.UK="UK",e.VI="VI",e.ZH="ZH",e.ZH_HK="ZH_HK"}(h||(h={})),function(e){e.ARCHIVE="ARCHIVE",e.HIGHLIGHT="HIGHLIGHT",e.PAST_PREMIERE="PAST_PREMIERE",e.PREMIERE_UPLOAD="PREMIERE_UPLOAD",e.UPLOAD="UPLOAD"}(f||(f={})),function(e){e.PENDING="PENDING",e.REJECTED="REJECTED",e.VERIFIED="VERIFIED"}(g||(g={})),function(e){e.INCORRECT_CODE="INCORRECT_CODE",e.TOO_MANY_FAILED_ATTEMPTS="TOO_MANY_FAILED_ATTEMPTS"}(b||(b={})),function(e){e.GET_BITS="GET_BITS",e.GET_TURBO="GET_TURBO",e.SUBSCRIBE="SUBSCRIBE",e.VISIT_URL="VISIT_URL"}(v||(v={})),function(e){e.ACQUIRED="ACQUIRED",e.CHEERED="CHEERED",e.NEW_USER="NEW_USER",e.SKIPPED="SKIPPED",e.UNKNOWN="UNKNOWN"}(E||(E={})),function(e){e.ALLTIME="ALLTIME",e.MONTH="MONTH",e.WEEK="WEEK"}(k||(k={})),function(e){e.AD="AD",e.BUNDLE="BUNDLE"}(C||(C={})),function(e){e.CUSTOM="CUSTOM",e.DISPLAY_ONLY="DISPLAY_ONLY",e.FIRST_PARTY="FIRST_PARTY",e.RENDER_ONLY="RENDER_ONLY",e.SPONSORED="SPONSORED",e.THIRD_PARTY="THIRD_PARTY",e.UNKNOWN="UNKNOWN"}(S||(S={})),function(e){e.DARK="DARK",e.LIGHT="LIGHT"}(y||(y={})),function(e){e.GAME_TRAILER="GAME_TRAILER",e.MISC_TRAILER="MISC_TRAILER",e.PAY_TO_STREAM="PAY_TO_STREAM"}(N||(N={})),function(e){e.AVAILABLE="AVAILABLE",e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.LIVE="LIVE"}(_||(_={})),function(e){e.ENGAGE_COMMAND_CENTER="ENGAGE_COMMAND_CENTER",e.ENGAGE_STREAM="ENGAGE_STREAM"}(I||(I={})),function(e){e.FIXED_VALUE_OFF="FIXED_VALUE_OFF",e.NONE="NONE",e.PERCENT_OFF="PERCENT_OFF"}(T||(T={})),function(e){e.CHEER="CHEER"}(O||(O={})),function(e){e.ALL_ACCESS_PASS="ALL_ACCESS_PASS",e.SUB_ONLY_LIVE="SUB_ONLY_LIVE",e.UNKNOWN="UNKNOWN"}(D||(D={})),function(e){e.ALL="ALL",e.PRODUCT="PRODUCT",e.SITE_ADMIN="SITE_ADMIN",e.STAFF="STAFF",e.UNKNOWN="UNKNOWN"}(A||(A={})),function(e){e.CREATED="CREATED",e.CREATING="CREATING",e.FAILED="FAILED"}(w||(w={})),function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC"}(R||(R={})),function(e){e.ENDED="ENDED",e.LIVE="LIVE",e.PENDING="PENDING",e.UNKNOWN="UNKNOWN"}(M||(M={})),function(e){e.ARCHIVES_DISABLED="ARCHIVES_DISABLED",e.BROADCASTER_NOT_LIVE="BROADCASTER_NOT_LIVE",e.BROADCAST_FORMAT_INVALID_PREMIERE="BROADCAST_FORMAT_INVALID_PREMIERE",e.BROADCAST_FORMAT_INVALID_RERUN="BROADCAST_FORMAT_INVALID_RERUN",e.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",e.MAX_DESCRIPTION_LENGTH_EXCEEDED="MAX_DESCRIPTION_LENGTH_EXCEEDED",e.USER_UNAUTHORIZED="USER_UNAUTHORIZED",e.VOD_NOT_READY="VOD_NOT_READY"}(L||(L={})),function(e){e.SHARED="SHARED",e.SHOW="SHOW",e.SKIPPED="SKIPPED"}(U||(U={})),function(e){e.AMOUNT_BELOW_MIN_BITS="AMOUNT_BELOW_MIN_BITS",e.ANONYMOUS_CHEERMOTE_NOT_ALLOWED="ANONYMOUS_CHEERMOTE_NOT_ALLOWED",e.AUTO_MOD_MESSAGE="AUTO_MOD_MESSAGE",e.AUTO_MOD_PENDING="AUTO_MOD_PENDING",e.CHANNEL_BLOCKED_TERMS="CHANNEL_BLOCKED_TERMS",e.CHANNEL_INELIGIBLE="CHANNEL_INELIGIBLE",e.EMOTE_AMOUNT_BELOW_MIN_BITS="EMOTE_AMOUNT_BELOW_MIN_BITS",e.INSUFFICIENT_BALANCE="INSUFFICIENT_BALANCE",e.INVALID_ANONYMOUS_MESSAGE="INVALID_ANONYMOUS_MESSAGE",e.INVALID_BITS_AMOUNT="INVALID_BITS_AMOUNT",e.INVALID_BITS_MESSAGE="INVALID_BITS_MESSAGE",e.INVALID_EVENT_ID="INVALID_EVENT_ID",e.MESSAGE_LENGTH_EXCEEDED="MESSAGE_LENGTH_EXCEEDED",e.REQUEST_THROTTLED="REQUEST_THROTTLED",e.TOO_LARGE_BITS_EMOTE="TOO_LARGE_BITS_EMOTE",e.TOO_LARGE_CHEER="TOO_LARGE_CHEER",e.UNKNOWN="UNKNOWN",e.USER_BANNED="USER_BANNED",e.USER_INELIGIBLE="USER_INELIGIBLE",e.USER_SUSPENDED="USER_SUSPENDED",e.ZALGO_MESSAGE="ZALGO_MESSAGE"}(B||(B={})),function(e){e.MONTH="MONTH",e.ONE_TIME="ONE_TIME",e.WEEK="WEEK",e.YEAR="YEAR"}(F||(F={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.UNKNOWN="UNKNOWN"}(P||(P={})),function(e){e.NEW_CHATTER="NEW_CHATTER"}(x||(x={})),function(e){e.TOKEN_NOT_AVAILABLE="TOKEN_NOT_AVAILABLE",e.TOKEN_NOT_FOUND="TOKEN_NOT_FOUND"}(j||(j={})),function(e){e.FOLLOWER_ONLY_MODE_ENFORCEMENT_FAILED="FOLLOWER_ONLY_MODE_ENFORCEMENT_FAILED",e.SUB_ONLY_MODE_ENFORCEMENT_FAILED="SUB_ONLY_MODE_ENFORCEMENT_FAILED",e.TOKEN_NOT_AVAILABLE="TOKEN_NOT_AVAILABLE",e.TOKEN_NOT_FOUND="TOKEN_NOT_FOUND",e.USER_CHAT_BANNED="USER_CHAT_BANNED",e.USER_CHAT_TIMED_OUT="USER_CHAT_TIMED_OUT"}(H||(H={})),function(e){e.TOKEN_NOT_AVAILABLE="TOKEN_NOT_AVAILABLE",e.TOKEN_NOT_FOUND="TOKEN_NOT_FOUND"}(V||(V={})),function(e){e.AVAILABLE="AVAILABLE",e.DISMISSED="DISMISSED",e.ELIGIBLE="ELIGIBLE",e.REDEEMED="REDEEMED"}(G||(G={})),function(e){e.ALLOW_MESSAGE="ALLOW_MESSAGE",e.BAN_USER="BAN_USER",e.CHANGE_CHANNEL_RULES="CHANGE_CHANNEL_RULES",e.COMMENT="COMMENT",e.DENY_MESSAGE="DENY_MESSAGE",e.INVALID_ACTION="INVALID_ACTION",e.SET_CHANNEL_MODE="SET_CHANNEL_MODE",e.TIMEOUT_USER="TIMEOUT_USER",e.UNBAN_USER="UNBAN_USER",e.UNTIMEOUT_USER="UNTIMEOUT_USER",e.UPDATE_MODERATED_TERMS="UPDATE_MODERATED_TERMS"}(W||(W={})),function(e){e.NONE="NONE",e.READ="READ",e.WRITE="WRITE"}(q||(q={})),function(e){e.DURATION_INVALID="DURATION_INVALID",e.FORBIDDEN="FORBIDDEN",e.TARGET_ALREADY_BANNED="TARGET_ALREADY_BANNED",e.TARGET_IS_ADMIN="TARGET_IS_ADMIN",e.TARGET_IS_ANONYMOUS="TARGET_IS_ANONYMOUS",e.TARGET_IS_BROADCASTER="TARGET_IS_BROADCASTER",e.TARGET_IS_GLOBAL_MOD="TARGET_IS_GLOBAL_MOD",e.TARGET_IS_MOD="TARGET_IS_MOD",e.TARGET_IS_SELF="TARGET_IS_SELF",e.TARGET_IS_STAFF="TARGET_IS_STAFF",e.TARGET_IS_VIP="TARGET_IS_VIP",e.TARGET_NOT_FOUND="TARGET_NOT_FOUND"}(z||(z={})),function(e){e.FORBIDDEN="FORBIDDEN",e.SUCCESS="SUCCESS",e.SUCCESS_STAFF="SUCCESS_STAFF",e.TARGET_IS_BROADCASTER="TARGET_IS_BROADCASTER",e.TARGET_IS_MODERATOR="TARGET_IS_MODERATOR"}(Y||(Y={})),function(e){e.FORBIDDEN="FORBIDDEN",e.TARGET_NOT_BANNED="TARGET_NOT_BANNED",e.TARGET_NOT_FOUND="TARGET_NOT_FOUND"}(K||(K={})),function(e){e.FOLLOWERS_ONLY="FOLLOWERS_ONLY",e.SLOW_MODE="SLOW_MODE",e.SUBSCRIBERS_ONLY="SUBSCRIBERS_ONLY",e.VERIFIED_ONLY="VERIFIED_ONLY"}(Q||(Q={})),function(e){e.EUR="EUR",e.GBP="GBP",e.USD="USD"}(X||(X={})),function(e){e.CHANSUB="CHANSUB",e.TEAMSUB="TEAMSUB",e.TURBO="TURBO"}(Z||(Z={})),function(e){e.BLOCK_SAVED_PAYMENT_METHOD="BLOCK_SAVED_PAYMENT_METHOD",e.EXCEEDED_VELOCITY_LIMITS="EXCEEDED_VELOCITY_LIMITS",e.VERIFIED_SAVED_PAYMENT_METHOD="VERIFIED_SAVED_PAYMENT_METHOD"}($||($={})),function(e){e.APPLE_IAP="APPLE_IAP",e.GOOGLE_IAB="GOOGLE_IAB",e.PRIME="PRIME",e.RECURLY="RECURLY",e.XSOLLA_V3="XSOLLA_V3",e.ZUORA="ZUORA"}(J||(J={})),function(e){e.ACTIVE="ACTIVE",e.CANCELLED="CANCELLED",e.INACTIVE="INACTIVE"}(ee||(ee={})),function(e){e.AMAZON="AMAZON",e.APPLE_IAP="APPLE_IAP",e.CREDIT_CARD="CREDIT_CARD",e.GOOGLE_IAB="GOOGLE_IAB",e.PAYPAL="PAYPAL"}(te||(te={})),function(e){e.AMERICAN_EXPRESS="AMERICAN_EXPRESS",e.DISCOVER="DISCOVER",e.MASTERCARD="MASTERCARD",e.VISA="VISA"}(ne||(ne={})),function(e){e.FAILED_AUTOMOD="FAILED_AUTOMOD",e.TOO_LONG="TOO_LONG",e.USER_NOT_FOUND="USER_NOT_FOUND"}(ie||(ie={})),function(e){e.CATEGORY="CATEGORY",e.CLIP="CLIP",e.LIVE_CHANNEL="LIVE_CHANNEL",e.VOD="VOD"}(re||(re={})),function(e){e.MULTIVIEW_ADMIN="MULTIVIEW_ADMIN",e.SET_CHANNEL_RESTRICTION="SET_CHANNEL_RESTRICTION"}(ae||(ae={})),function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB"}(oe||(oe={})),function(e){e.COMPONENT="COMPONENT",e.HIDDEN="HIDDEN",e.PANEL="PANEL",e.VIDEO_OVERLAY="VIDEO_OVERLAY"}(se||(se={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.REJECTED_PERMISSIONS="REJECTED_PERMISSIONS"}(le||(le={})),function(e){e.NONE="NONE",e.OPTIONAL="OPTIONAL",e.REQUIRED="REQUIRED"}(ce||(ce={})),function(e){e.APPROVED="APPROVED",e.ASSETS_UPLOADED="ASSETS_UPLOADED",e.DELETED="DELETED",e.DEPRECATED="DEPRECATED",e.IN_REVIEW="IN_REVIEW",e.IN_TEST="IN_TEST",e.PENDING_ACTION="PENDING_ACTION",e.READY_FOR_REVIEW="READY_FOR_REVIEW",e.REJECTED="REJECTED",e.RELEASED="RELEASED",e.UPLOADING="UPLOADING"}(de||(de={})),function(e){e.AFFILIATE="AFFILIATE",e.CUSTOM_PARTNER="CUSTOM_PARTNER",e.EXTENSIONS_DEVELOPER="EXTENSIONS_DEVELOPER",e.PREMIUM_PARTNER="PREMIUM_PARTNER",e.STANDARD_PARTNER="STANDARD_PARTNER",e.UNPAID_PARTNER="UNPAID_PARTNER"}(ue||(ue={})),function(e){e.AGREEMENT_NOT_STARTED="AGREEMENT_NOT_STARTED",e.AGREEMENT_PENDING_UPGRADE="AGREEMENT_PENDING_UPGRADE",e.CANCELED="CANCELED",e.COMPLETED="COMPLETED",e.PAYOUT_METHOD_NOT_STARTED="PAYOUT_METHOD_NOT_STARTED",e.PAYOUT_METHOD_PENDING="PAYOUT_METHOD_PENDING",e.REGISTRATION_NOT_STARTED="REGISTRATION_NOT_STARTED",e.REVIEW_PENDING="REVIEW_PENDING",e.ROYALTY_TAX_INTERVIEW_ACTION_REQUIRED="ROYALTY_TAX_INTERVIEW_ACTION_REQUIRED",e.ROYALTY_TAX_INTERVIEW_FAILED="ROYALTY_TAX_INTERVIEW_FAILED",e.ROYALTY_TAX_INTERVIEW_MISMATCH="ROYALTY_TAX_INTERVIEW_MISMATCH",e.ROYALTY_TAX_INTERVIEW_NOT_STARTED="ROYALTY_TAX_INTERVIEW_NOT_STARTED",e.ROYALTY_TAX_INTERVIEW_PENDING="ROYALTY_TAX_INTERVIEW_PENDING",e.SERVICE_TAX_INTERVIEW_ACTION_REQUIRED="SERVICE_TAX_INTERVIEW_ACTION_REQUIRED",e.SERVICE_TAX_INTERVIEW_FAILED="SERVICE_TAX_INTERVIEW_FAILED",e.SERVICE_TAX_INTERVIEW_MISMATCH="SERVICE_TAX_INTERVIEW_MISMATCH",e.SERVICE_TAX_INTERVIEW_NOT_STARTED="SERVICE_TAX_INTERVIEW_NOT_STARTED",e.SERVICE_TAX_INTERVIEW_PENDING="SERVICE_TAX_INTERVIEW_PENDING"}(me||(me={})),function(e){e.FORBIDDEN="FORBIDDEN",e.INTERNAL_ERROR="INTERNAL_ERROR",e.INVALID_AGREEMENT_VERSION="INVALID_AGREEMENT_VERSION",e.UNAUTHENTICATED="UNAUTHENTICATED"}(pe||(pe={})),function(e){e.AFFILIATE="AFFILIATE",e.EXTENSIONS_DEVELOPER="EXTENSIONS_DEVELOPER",e.PARTNER="PARTNER"}(he||(he={})),function(e){e.CUSTOM="CUSTOM",e.LEGACY="LEGACY",e.PREMIUM="PREMIUM",e.STANDARD="STANDARD"}(fe||(fe={})),function(e){e.FORBIDDEN="FORBIDDEN",e.INTERNAL_ERROR="INTERNAL_ERROR",e.INVALID_FORMAT="INVALID_FORMAT",e.UNAUTHENTICATED="UNAUTHENTICATED"}(ge||(ge={})),function(e){e.BIRTHDATE="BIRTHDATE",e.CITY="CITY",e.COMPANY_NAME="COMPANY_NAME",e.COUNTRY_CODE="COUNTRY_CODE",e.EMAIL="EMAIL",e.FIRST_NAME="FIRST_NAME",e.LAST_NAME="LAST_NAME",e.MIDDLE_NAME="MIDDLE_NAME",e.PARENT_EMAIL="PARENT_EMAIL",e.PARENT_NAME="PARENT_NAME",e.POSTAL="POSTAL",e.STATE_CODE="STATE_CODE",e.STREET_ADDRESS="STREET_ADDRESS",e.STREET_ADDRESS_2="STREET_ADDRESS_2"}(be||(be={})),function(e){e.CITY="CITY",e.COUNTRY="COUNTRY",e.EMAIL="EMAIL",e.NAME="NAME",e.POSTAL="POSTAL",e.STATE="STATE",e.STREET_ADDRESS="STREET_ADDRESS",e.STREET_ADDRESS_2="STREET_ADDRESS_2"}(ve||(ve={})),function(e){e.ROYALTY="ROYALTY",e.SERVICE="SERVICE"}(Ee||(Ee={})),function(e){e.BROADCASTER="BROADCASTER",e.EVERYONE="EVERYONE",e.MODERATOR="MODERATOR",e.SUBSCRIBER="SUBSCRIBER"}(ke||(ke={})),function(e){e.MAX_ROOMS_LIMIT_EXCEEDED="MAX_ROOMS_LIMIT_EXCEEDED",e.NAME_CONTAINS_INVALID_CHARACTERS="NAME_CONTAINS_INVALID_CHARACTERS",e.NAME_INAPPROPRIATE="NAME_INAPPROPRIATE",e.NAME_LENGTH_INVALID="NAME_LENGTH_INVALID",e.NAME_NOT_UNIQUE="NAME_NOT_UNIQUE",e.ROLES_INVALID="ROLES_INVALID",e.TOPIC_INAPPROPRIATE="TOPIC_INAPPROPRIATE",e.TOPIC_LENGTH_INVALID="TOPIC_LENGTH_INVALID"}(Ce||(Ce={})),function(e){e.ADMIN="ADMIN",e.BROADCASTER="BROADCASTER",e.GLOBALMOD="GLOBALMOD",e.MOD="MOD",e.REGULAR="REGULAR",e.STAFF="STAFF"}(Se||(Se={})),function(e){e.FORBIDDEN="FORBIDDEN",e.NAME_CONTAINS_INVALID_CHARACTERS="NAME_CONTAINS_INVALID_CHARACTERS",e.NAME_INAPPROPRIATE="NAME_INAPPROPRIATE",e.NAME_LENGTH_INVALID="NAME_LENGTH_INVALID",e.NAME_NOT_UNIQUE="NAME_NOT_UNIQUE",e.ROLES_INVALID="ROLES_INVALID",e.ROOM_NOT_FOUND="ROOM_NOT_FOUND",e.TOPIC_INAPPROPRIATE="TOPIC_INAPPROPRIATE",e.TOPIC_LENGTH_INVALID="TOPIC_LENGTH_INVALID"}(ye||(ye={})),function(e){e.AUTO_MOD_ENFORCEMENT_FAILED="AUTO_MOD_ENFORCEMENT_FAILED",e.EMOTE_ONLY_MODE_ENFORCEMENT_FAILED="EMOTE_ONLY_MODE_ENFORCEMENT_FAILED",e.FORBIDDEN="FORBIDDEN",e.R9K_MODE_ENFORCEMENT_FAILED="R9K_MODE_ENFORCEMENT_FAILED",e.RATE_LIMIT_FAILED="RATE_LIMIT_FAILED",e.SLOW_MODE_ENFORCEMENT_FAILED="SLOW_MODE_ENFORCEMENT_FAILED",e.SPAM_ENFORCEMENT_FAILED="SPAM_ENFORCEMENT_FAILED",e.USER_CHAT_BANNED="USER_CHAT_BANNED",e.USER_CHAT_TIMED_OUT="USER_CHAT_TIMED_OUT",e.USER_SUSPENDED="USER_SUSPENDED",e.ZALGO_ENFORCEMENT_FAILED="ZALGO_ENFORCEMENT_FAILED"}(Ne||(Ne={})),function(e){e.FORBIDDEN="FORBIDDEN",e.ROOM_NOT_FOUND="ROOM_NOT_FOUND",e.SLOW_MODE_DURATION_INVALID="SLOW_MODE_DURATION_INVALID"}(_e||(_e={})),function(e){e.DNR_TO_RESUB_NONRECURRING="DNR_TO_RESUB_NONRECURRING",e.DNR_TO_RESUB_RECURRING="DNR_TO_RESUB_RECURRING",e.GIFT_TO_PAID="GIFT_TO_PAID",e.PRIME_TO_PAID="PRIME_TO_PAID"}(Ie||(Ie={})),function(e){e.CONTENT="CONTENT",e.TOP="TOP"}(Te||(Te={})),function(e){e.AWAY="AWAY",e.BUSY="BUSY",e.OFFLINE="OFFLINE",e.ONLINE="ONLINE"}(Oe||(Oe={})),function(e){e.CLAIMABLE_GIFT_CREATION_ERROR="CLAIMABLE_GIFT_CREATION_ERROR",e.GIFT_CREATION_ERROR="GIFT_CREATION_ERROR",e.MAX_GIFTS_FOR_OFFER_EXCEEDED="MAX_GIFTS_FOR_OFFER_EXCEEDED",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(De||(De={})),function(e){e.CLAIM_CODE="CLAIM_CODE",e.DIRECT_ENTITLEMENT="DIRECT_ENTITLEMENT",e.EXTERNAL="EXTERNAL"}(Ae||(Ae={})),function(e){e.TOO_MANY_RECENT_SPENDS="TOO_MANY_RECENT_SPENDS",e.UNABLE_TO_SPEND="UNABLE_TO_SPEND"}(we||(we={})),function(e){e.OFFER_ALREADY_CLAIMED="OFFER_ALREADY_CLAIMED",e.UNKNOWN="UNKNOWN"}(Re||(Re={})),function(e){e.ERROR_STATUS="ERROR_STATUS",e.GIFT_CLAIMED="GIFT_CLAIMED",e.GIFT_CLAIM_PENDING="GIFT_CLAIM_PENDING"}(Me||(Me={})),function(e){e.GIFT_NOT_CLAIMABLE="GIFT_NOT_CLAIMABLE",e.NON_EXISTENT_GIFT="NON_EXISTENT_GIFT",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.USER_DOES_NOT_OWN_GIFT="USER_DOES_NOT_OWN_GIFT"}(Le||(Le={})),function(e){e.OFFERS_FAILED_TO_UPDATE="OFFERS_FAILED_TO_UPDATE",e.UNKNOWN="UNKNOWN"}(Ue||(Ue={})),function(e){e.DEFAULT="DEFAULT",e.SERIES="SERIES"}(Be||(Be={})),function(e){e.ALL_TIME="ALL_TIME",e.LAST_DAY="LAST_DAY",e.LAST_MONTH="LAST_MONTH",e.LAST_WEEK="LAST_WEEK",e.TRENDING="TRENDING"}(Fe||(Fe={})),function(e){e.ALL_TIME="ALL_TIME",e.LAST_DAY="LAST_DAY",e.LAST_MONTH="LAST_MONTH",e.LAST_WEEK="LAST_WEEK"}(Pe||(Pe={})),function(e){e.CREATED_AT_ASC="CREATED_AT_ASC",e.CREATED_AT_DESC="CREATED_AT_DESC",e.TRENDING="TRENDING",e.VIEWS_ASC="VIEWS_ASC",e.VIEWS_DESC="VIEWS_DESC"}(xe||(xe={})),function(e){e.GAME_CHANGE="GAME_CHANGE",e.HEARTHSTONE_VCA="HEARTHSTONE_VCA",e.OVERWATCH_VCA="OVERWATCH_VCA",e.PUBG_VCA="PUBG_VCA",e.STREAM_MARKER="STREAM_MARKER",e.VCA="VCA"}(je||(je={})),function(e){e.HIGH="HIGH",e.LOW="LOW",e.MEDIUM="MEDIUM"}(He||(He={})),function(e){e.NOT_PERMITTED="NOT_PERMITTED",e.NOT_RESTRICTED="NOT_RESTRICTED",e.PERMITTED="PERMITTED",e.TEMPORARY="TEMPORARY"}(Ve||(Ve={})),function(e){e.BODY_EMPTY="BODY_EMPTY",e.NOT_DELIVERED="NOT_DELIVERED",e.TARGET_BANNED="TARGET_BANNED",e.TARGET_RESTRICTED="TARGET_RESTRICTED"}(Ge||(Ge={})),function(e){e.ALREADY_LINKED="ALREADY_LINKED",e.CODE_EXPIRED="CODE_EXPIRED",e.CODE_INCORRECT="CODE_INCORRECT"}(We||(We={})),function(e){e.ALL="ALL",e.CATEGORY="CATEGORY"}(qe||(qe={})),function(e){e.all="all",e.ps4="ps4",e.xbox="xbox"}(ze||(ze={})),function(e){e.AMAZON="AMAZON",e.ANDROID="ANDROID",e.IOS="IOS",e.PAYPAL="PAYPAL",e.XSOLLA="XSOLLA"}(Ye||(Ye={})),function(e){e.BILLING_INFO_NOT_FOUND="BILLING_INFO_NOT_FOUND",e.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",e.PRICING_ID_NOT_FOUND="PRICING_ID_NOT_FOUND",e.PURCHASE_INELIGIBLE="PURCHASE_INELIGIBLE",e.UNKNOWN_USER_RESIDENCE="UNKNOWN_USER_RESIDENCE",e.USER_UNAUTHORIZED="USER_UNAUTHORIZED"}(Ke||(Ke={})),function(e){e.AMAZON_PAY="AMAZON_PAY",e.PAYPAL="PAYPAL",e.XSOLLA="XSOLLA"}(Qe||(Qe={})),function(e){e.ASC="ASC",e.DESC="DESC"}(Xe||(Xe={})),function(e){e.TIME="TIME",e.VIEWS="VIEWS"}(Ze||(Ze={})),function(e){e.PROMPT_FOR_PERMISSIONS="PROMPT_FOR_PERMISSIONS",e.REQUIRES_CONFIGURATION="REQUIRES_CONFIGURATION"}($e||($e={})),function(e){e.DEFAULT="DEFAULT",e.EXTENSION="EXTENSION"}(Je||(Je={})),function(e){e.ALL_VIDEOS="ALL_VIDEOS",e.COLLECTION="COLLECTION",e.GAME="GAME",e.LATEST_BROADCASTS="LATEST_BROADCASTS",e.LATEST_NON_BROADCASTS="LATEST_NON_BROADCASTS",e.LONG_VIDEOS="LONG_VIDEOS",e.SHORT_VIDEOS="SHORT_VIDEOS",e.TOP_CLIPS="TOP_CLIPS"}(et||(et={})),function(e){e.ALREADY_CLAIMED="ALREADY_CLAIMED",e.REQUEST_THROTTLED="REQUEST_THROTTLED",e.UNAUTHORIZED="UNAUTHORIZED",e.UNKNOWN="UNKNOWN"}(tt||(tt={})),function(e){e.BITS_KEY_CODE="BITS_KEY_CODE"}(nt||(nt={})),function(e){e.BROADCASTER="BROADCASTER",e.EDITOR="EDITOR",e.MODERATOR="MODERATOR",e.REGULAR="REGULAR",e.SUBSCRIBER="SUBSCRIBER"}(it||(it={})),function(e){e.ACTIVE="ACTIVE",e.PENDING="PENDING",e.REJECTED="REJECTED",e.UNKNOWN="UNKNOWN",e.UNSET="UNSET"}(rt||(rt={})),function(e){e.ACTIVE="ACTIVE",e.PENDING="PENDING"}(at||(at={})),function(e){e.ERR_INVALID_PREFIX_LENGTH="ERR_INVALID_PREFIX_LENGTH",e.ERR_INVALID_PREFIX_REGEX="ERR_INVALID_PREFIX_REGEX",e.ERR_INVALID_PREFIX_STATE="ERR_INVALID_PREFIX_STATE",e.ERR_INVALID_USER="ERR_INVALID_USER",e.ERR_NOT_IN_GOOD_STANDING="ERR_NOT_IN_GOOD_STANDING",e.ERR_PREFIX_NOT_UNIQUE="ERR_PREFIX_NOT_UNIQUE",e.ERR_PREFIX_UPDATE_TOO_SOON="ERR_PREFIX_UPDATE_TOO_SOON",e.ERR_UNKNOWN="ERR_UNKNOWN"}(ot||(ot={})),function(e){e.ERR_INVALID_BADGE_SIZE="ERR_INVALID_BADGE_SIZE",e.ERR_INVALID_USER="ERR_INVALID_USER",e.ERR_UNKNOWN="ERR_UNKNOWN"}(st||(st={})),function(e){e.ERR_BADGE_EXISTS="ERR_BADGE_EXISTS",e.ERR_BADGE_TIMEOUT="ERR_BADGE_TIMEOUT",e.ERR_INVALID_BADGE_IMAGE_1X_ID="ERR_INVALID_BADGE_IMAGE_1X_ID",e.ERR_INVALID_BADGE_IMAGE_2X_ID="ERR_INVALID_BADGE_IMAGE_2X_ID",e.ERR_INVALID_BADGE_IMAGE_4X_ID="ERR_INVALID_BADGE_IMAGE_4X_ID",e.ERR_INVALID_BADGE_REQUIRED_TENURE_MONTHS="ERR_INVALID_BADGE_REQUIRED_TENURE_MONTHS",e.ERR_INVALID_USER="ERR_INVALID_USER",e.ERR_UNKNOWN="ERR_UNKNOWN"}(lt||(lt={})),function(e){e.ALL="ALL",e.NETWORK="NETWORK",e.NONE="NONE"}(ct||(ct={})),function(e){e.BOUNTY_ALREADY_CLAIMED="BOUNTY_ALREADY_CLAIMED",e.BOUNTY_LIMIT_REACHED="BOUNTY_LIMIT_REACHED",e.INVALID_PARAMETER="INVALID_PARAMETER",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(dt||(dt={})),function(e){e.BOUNTY_NOT_LIVE="BOUNTY_NOT_LIVE",e.INVALID_PARAMETER="INVALID_PARAMETER",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(ut||(ut={})),function(e){e.NONE="NONE",e.OPTIONAL="OPTIONAL"}(mt||(mt={})),function(e){e.CUSTOM="CUSTOM",e.PRIME="PRIME",e.T_1000="T_1000",e.T_2000="T_2000",e.T_3000="T_3000"}(pt||(pt={})),function(e){e.INVALID_PARAMETER="INVALID_PARAMETER",e.UNAUTHORIZED="UNAUTHORIZED",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(ht||(ht={})),function(e){e.BOUNTY_NOT_LIVE="BOUNTY_NOT_LIVE",e.INVALID_PARAMETER="INVALID_PARAMETER",e.STREAM_TITLE_BANNED_WORDS="STREAM_TITLE_BANNED_WORDS",e.STREAM_TITLE_TOO_LONG="STREAM_TITLE_TOO_LONG",e.UNAUTHORIZED="UNAUTHORIZED",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(ft||(ft={})),function(e){e.INVITATION_CANNOT_BE_ACCEPTED="INVITATION_CANNOT_BE_ACCEPTED",e.INVITATION_NOT_FOUND="INVITATION_NOT_FOUND",e.SQUAD_NOT_FOUND="SQUAD_NOT_FOUND",e.UNAUTHORIZED="UNAUTHORIZED",e.USER_CANNOT_ACCESS_SQUADS="USER_CANNOT_ACCESS_SQUADS"}(gt||(gt={})),function(e){e.INVITATION_CANNOT_BE_REJECTED="INVITATION_CANNOT_BE_REJECTED",e.INVITATION_NOT_FOUND="INVITATION_NOT_FOUND",e.SQUAD_NOT_FOUND="SQUAD_NOT_FOUND",e.UNAUTHORIZED="UNAUTHORIZED"}(bt||(bt={})),function(e){e.UNAUTHORIZED="UNAUTHORIZED"}(vt||(vt={})),function(e){e.INVITATION_ALREADY_EXISTS="INVITATION_ALREADY_EXISTS",e.INVITATION_BLOCKED="INVITATION_BLOCKED",e.INVITATION_INVALID="INVITATION_INVALID",e.SQUAD_FULL="SQUAD_FULL",e.UNAUTHORIZED="UNAUTHORIZED",e.USER_ALREADY_IN_SQUAD="USER_ALREADY_IN_SQUAD",e.USER_CANNOT_ACCESS_SQUADS="USER_CANNOT_ACCESS_SQUADS"}(Et||(Et={})),function(e){e.SQUAD_CANNOT_BE_UPDATED="SQUAD_CANNOT_BE_UPDATED",e.SQUAD_NOT_FOUND="SQUAD_NOT_FOUND",e.SQUAD_TOO_FEW_MEMBERS="SQUAD_TOO_FEW_MEMBERS",e.UNAUTHORIZED="UNAUTHORIZED"}(kt||(kt={})),function(e){e.UNAUTHORIZED="UNAUTHORIZED",e.USER_NOT_IN_SQUAD="USER_NOT_IN_SQUAD"}(Ct||(Ct={})),function(e){e.UNAUTHORIZED="UNAUTHORIZED",e.USER_NOT_IN_SQUAD="USER_NOT_IN_SQUAD"}(St||(St={})),function(e){e.IN_NETWORK="IN_NETWORK",e.OUT_OF_NETWORK="OUT_OF_NETWORK"}(yt||(yt={})),function(e){e.RECIPIENT_CANNOT_ACCESS_SQUAD_STREAM="RECIPIENT_CANNOT_ACCESS_SQUAD_STREAM",e.RECIPIENT_CANNOT_BE_INVITED="RECIPIENT_CANNOT_BE_INVITED",e.RECIPIENT_REJECTED="RECIPIENT_REJECTED"}(Nt||(Nt={})),function(e){e.ACCEPTED="ACCEPTED",e.DELETED="DELETED",e.PENDING="PENDING",e.REJECTED="REJECTED",e.UNKNOWN="UNKNOWN"}(_t||(_t={})),function(e){e.INVITATION_CANNOT_BE_DELETED="INVITATION_CANNOT_BE_DELETED",e.INVITATION_NOT_FOUND="INVITATION_NOT_FOUND",e.SQUAD_NOT_FOUND="SQUAD_NOT_FOUND",e.UNAUTHORIZED="UNAUTHORIZED"}(It||(It={})),function(e){e.CHANNEL_NOT_FOUND="CHANNEL_NOT_FOUND",e.TARGET_USER_ALREADY_EDITOR="TARGET_USER_ALREADY_EDITOR",e.TARGET_USER_NOT_FOUND="TARGET_USER_NOT_FOUND"}(Tt||(Tt={})),function(e){e.CHANNEL_NOT_FOUND="CHANNEL_NOT_FOUND",e.TARGET_USER_NOT_FOUND="TARGET_USER_NOT_FOUND"}(Ot||(Ot={})),function(e){e.BASELINE="BASELINE",e.HIGH="HIGH",e.MAIN="MAIN"}(Dt||(Dt={})),function(e){e.CSGO_SKILL="CSGO_SKILL",e.LOL_SUMMONER_RANK="LOL_SUMMONER_RANK",e.RELEVANCE="RELEVANCE",e.VIEWER_COUNT="VIEWER_COUNT"}(At||(At={})),function(e){e.HYPE="HYPE",e.STARTTIME="STARTTIME"}(wt||(wt={})),function(e){e.PREMIERE="PREMIERE",e.SEGMENT="SEGMENT",e.SINGLE="SINGLE",e.TIMETABLE="TIMETABLE"}(Rt||(Rt={})),function(e){e.CANCELLED="CANCELLED",e.FAILED="FAILED",e.SCHEDULED="SCHEDULED",e.STARTED="STARTED",e.SUCCESS="SUCCESS",e.UNKNOWN="UNKNOWN",e.UNSCHEDULED="UNSCHEDULED"}(Mt||(Mt={})),function(e){e.ALL="ALL",e.LIVE="LIVE"}(Lt||(Lt={})),function(e){e.ALREADY_WATCHED="ALREADY_WATCHED",e.NOT_INTERESTED="NOT_INTERESTED",e.OFFENSIVE="OFFENSIVE",e.OTHER="OTHER",e.UNSPECIFIED="UNSPECIFIED"}(Ut||(Ut={})),function(e){e.CATEGORY="CATEGORY",e.CHANNEL="CHANNEL",e.SHELF="SHELF",e.UNSPECIFIED="UNSPECIFIED",e.VOD="VOD"}(Bt||(Bt={})),function(e){e.PRICE_ASC="PRICE_ASC",e.PRICE_DESC="PRICE_DESC",e.PURCHASE_DATE_ASC="PURCHASE_DATE_ASC",e.PURCHASE_DATE_DESC="PURCHASE_DATE_DESC"}(Ft||(Ft={})),function(e){e.ALL="ALL",e.SUBSCRIPTIONS="SUBSCRIPTIONS"}(Pt||(Pt={})),function(e){e.BITS="BITS",e.SUBSCRIPTION="SUBSCRIPTION"}(xt||(xt={})),function(e){e.MONKEYS="MONKEYS",e.PURPLE="PURPLE",e.ROBOTS="ROBOTS"}(jt||(jt={})),function(e){e.ALL="ALL",e.GIFT="GIFT",e.PLATFORM="PLATFORM"}(Ht||(Ht={})),function(e){e.INVALID_USER_ID="INVALID_USER_ID",e.UNAUTHORIZED="UNAUTHORIZED"}(Vt||(Vt={})),function(e){e.DELETED="DELETED",e.PENDING_REVIEW="PENDING_REVIEW",e.PENDING_REVIEW_SPAM="PENDING_REVIEW_SPAM",e.PUBLISHED="PUBLISHED",e.UNPUBLISHED="UNPUBLISHED"}(Gt||(Gt={})),function(e){e.APPROVED="APPROVED",e.COMPLETED="COMPLETED",e.LIVE="LIVE",e.PENDING="PENDING",e.REJECTED="REJECTED"}(Wt||(Wt={})),function(e){e.DAR="DAR",e.DCM="DCM",e.SIZMEK="SIZMEK"}(qt||(qt={})),function(e){e.BOX_ART="BOX_ART",e.COVER="COVER"}(zt||(zt={})),function(e){e.ITEM="ITEM",e.LINK_NOTIFICATION="LINK_NOTIFICATION"}(Yt||(Yt={})),function(e){e.SERVICE_DEPENDENCY_FAILURE="SERVICE_DEPENDENCY_FAILURE",e.UNKNOWN="UNKNOWN",e.USER_UNAUTHORIZED="USER_UNAUTHORIZED"}(Kt||(Kt={})),function(e){e.CANNOT_FIND_URL_IN_MANIFEST="CANNOT_FIND_URL_IN_MANIFEST",e.INVALID_IMAGE_URL="INVALID_IMAGE_URL",e.INVALID_VERSION="INVALID_VERSION",e.UNAUTHORIZED="UNAUTHORIZED"}(Qt||(Qt={})),function(e){e.CUSTOM="CUSTOM",e.HOSTED="HOSTED",e.NONE="NONE"}(Xt||(Xt={})),function(e){e.ANCHOR_REQUIRED="ANCHOR_REQUIRED",e.INVALID_AUTHOR_EMAIL="INVALID_AUTHOR_EMAIL",e.INVALID_AUTHOR_NAME_LENGTH="INVALID_AUTHOR_NAME_LENGTH",e.INVALID_BITS_SUPPORT_LEVEL="INVALID_BITS_SUPPORT_LEVEL",e.INVALID_COMPONENT_ASPECT_HEIGHT="INVALID_COMPONENT_ASPECT_HEIGHT",e.INVALID_COMPONENT_ASPECT_WIDTH="INVALID_COMPONENT_ASPECT_WIDTH",e.INVALID_COMPONENT_VIEWER_PATH="INVALID_COMPONENT_VIEWER_PATH",e.INVALID_CONFIG_VIEWER_PATH="INVALID_CONFIG_VIEWER_PATH",e.INVALID_DESCRIPTION_LENGTH="INVALID_DESCRIPTION_LENGTH",e.INVALID_LIVE_CONFIG_VIEWER_PATH="INVALID_LIVE_CONFIG_VIEWER_PATH",e.INVALID_MOBILE_VIEWER_PATH="INVALID_MOBILE_VIEWER_PATH",e.INVALID_NAME_LENGTH="INVALID_NAME_LENGTH",e.INVALID_PANEL_HEIGHT="INVALID_PANEL_HEIGHT",e.INVALID_PANEL_VIEWER_PATH="INVALID_PANEL_VIEWER_PATH",e.INVALID_PRIVACY_URI="INVALID_PRIVACY_URI",e.INVALID_SUMMARY_LENGTH="INVALID_SUMMARY_LENGTH",e.INVALID_SUPPORT_EMAIL="INVALID_SUPPORT_EMAIL",e.INVALID_TERMS_URI="INVALID_TERMS_URI",e.INVALID_TESTING_BASE_URI="INVALID_TESTING_BASE_URI",e.INVALID_VERSION="INVALID_VERSION",e.INVALID_VIDEO_OVERLAY_VIEWER_PATH="INVALID_VIDEO_OVERLAY_VIEWER_PATH",e.INVALID_ZOOM="INVALID_ZOOM",e.MAX_BROADCASTERS="MAX_BROADCASTERS",e.MAX_TESTERS="MAX_TESTERS",e.MAX_WHITELISTED_CONFIG_URLS="MAX_WHITELISTED_CONFIG_URLS",e.MAX_WHITELISTED_PANEL_URLS="MAX_WHITELISTED_PANEL_URLS",e.UNAUTHORIZED="UNAUTHORIZED"}(Zt||(Zt={})),function(e){e.INVALID_VERSION="INVALID_VERSION",e.UNAUTHORIZED="UNAUTHORIZED"}($t||($t={})),function(e){e.INVALID_VERSION="INVALID_VERSION",e.NOT_ENOUGH_UPLOAD_DISCOVERY_IMAGE="NOT_ENOUGH_UPLOAD_DISCOVERY_IMAGE",e.NOT_ENOUGH_UPLOAD_LOGO_IMAGE="NOT_ENOUGH_UPLOAD_LOGO_IMAGE",e.NOT_ENOUGH_UPLOAD_SCREENSHOT_IMAGE="NOT_ENOUGH_UPLOAD_SCREENSHOT_IMAGE",e.NOT_ENOUGH_UPLOAD_TASKBAR_IMAGE="NOT_ENOUGH_UPLOAD_TASKBAR_IMAGE",e.TOO_MANY_UPLOAD_DISCOVERY_IMAGE="TOO_MANY_UPLOAD_DISCOVERY_IMAGE",e.TOO_MANY_UPLOAD_LOGO_IMAGE="TOO_MANY_UPLOAD_LOGO_IMAGE",e.TOO_MANY_UPLOAD_SCREENSHOT_IMAGE="TOO_MANY_UPLOAD_SCREENSHOT_IMAGE",e.TOO_MANY_UPLOAD_TASKBAR_IMAGE="TOO_MANY_UPLOAD_TASKBAR_IMAGE",e.UNAUTHORIZED="UNAUTHORIZED"}(Jt||(Jt={})),function(e){e.EXTENSION_NOT_FOUND="EXTENSION_NOT_FOUND",e.MISSING_EXTENSION_ID="MISSING_EXTENSION_ID",e.UNAUTHORIZED="UNAUTHORIZED"}(en||(en={})),function(e){e.INVALID_NAME="INVALID_NAME",e.NAME_IN_USE="NAME_IN_USE"}(tn||(tn={})),function(e){e.MISSING_ASSET_HASH="MISSING_ASSET_HASH",e.MISSING_REVIEW_NOTES="MISSING_REVIEW_NOTES",e.MISSING_TEST_CHANNEL="MISSING_TEST_CHANNEL",e.UNAUTHORIZED="UNAUTHORIZED"}(nn||(nn={}))},DnOo:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/7QA"),s=n("SDEh"),l=n("8EUQ"),c=n("GnwI"),d=n("br9A"),u=n("dEDE"),m=n("vCsY"),p=n("7uM4"),h="subscribe-button__subscribe-tier-button",f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.openCheckout(),t.props.handleSubAction({action:d.a.ClickCheckout,checkoutButtonTier:t.props.tierPrice})},t.openCheckout=function(){t.props.isMobileCheckout||o.o.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.productName)},t}return i.__extends(t,e),t.prototype.render=function(){if(this.props.isSubbedToTier){var e=Object(o.d)("Subscribed","SubTierButton");return r.createElement(u.a,{ariaLabel:e,"data-test-selector":h,disabled:!0,icon:p.b.Star},e)}var t;return t=this.props.isEsportChannel?Object(o.d)("Get the 2019 All-Access Pass Now","SubTierButton"):this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:Object(o.d)("Subscribe","SubTierButton"),r.createElement(u.a,i.__assign({ariaLabel:t+" "+this.props.tierPrice,"data-test-selector":h,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:this.props.tierPrice},Object(m.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(s.b)()||void 0}),t)},t}(r.Component),g=Object(a.compose)(Object(c.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(f);n.d(t,!1,function(){return h}),n.d(t,"a",function(){return g})},"E/0f":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("DMoW"),s=n("0Hf3"),l=n("/7QA"),c=n("hnjF"),d=n("sUnt"),u=n("7uM4"),m=n("+80q"),p=n("X2PJ"),h=function(){return a.createElement(d.a,{flexGrow:1,padding:{x:1,y:2}},a.createElement(d.a,{alignItems:c.b.Center,display:c.d.Flex,justifyContent:c.h.Center,textAlign:c.k.Center,flexDirection:c.e.Column},a.createElement(d.a,null,a.createElement(u.a,{asset:u.b.DeadGlitch,width:36,height:36})),a.createElement(d.a,{padding:{x:3,y:0},margin:{x:3,y:0}},a.createElement(m.a,{color:p.c.Alt2,fontSize:p.d.Size5},Object(l.d)("There was an unexpected error while loading. Please try again later.","ViewerCardModLogsFeature")))))},f=n("Ws8v"),g=n("XQbB"),b=n("5zf8"),v=n("wp5a"),E=n("b7S+"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLabel=function(){if(!t.props.banStatus)return"";if(t.props.banStatus.isPermanent)return Object(l.d)("Banned","ViewerCardModLogsFeature");if(t.props.banStatus.expiresAt){var e=new Date(t.props.banStatus.createdAt).valueOf(),n=new Date(t.props.banStatus.expiresAt).valueOf(),i=Object(b.b)((n-e)/1e3,b.a.Humanized);return Object(l.d)("Timeout {duration}",{duration:i},"ViewerCardModLogsFeature")}return Object(l.d)("Unknown","ViewerCardModLogsFeature")},t}return r.__extends(t,e),t.prototype.render=function(){if(!this.props.banStatus)return null;var e=a.createElement(m.a,{bold:!0,type:m.e.Span},this.props.channelName);return a.createElement(f.a,{fullWidth:!0,background:p.a.Alt,borderTop:!0,padding:{y:.5,x:1},alignItems:c.b.Baseline},a.createElement(m.a,{fontSize:p.d.Size4,type:m.e.Span},a.createElement(v.a,{type:v.b.Alert,label:this.getLabel()})),a.createElement(m.a,{type:m.e.Span},Object(l.d)(" in {channelName}",{channelName:e},"ViewerCardModLogsFeature")),a.createElement(m.a,{color:p.c.Alt2,type:m.e.Span},this.modActionLabel))},Object.defineProperty(t.prototype,"modActionLabel",{get:function(){if(!this.props.banStatus||!this.props.banStatus.moderator)return"";var e=a.createElement(m.a,{bold:!0,type:m.e.Span},this.props.banStatus.moderator.displayName),t=new Date(this.props.banStatus.createdAt),n=t&&(Date.now()-t.getTime())/36e5,i=Object(l.d)(" {timestamp, date, short} at {timestamp, time, short} ",{timestamp:t},"ViewerCardModLogsFeature"),r=i;if(n&&n<12){var o=Object(l.h)(t,{style:"best fit"});r=a.createElement(E.a,{label:i},o)}return Object(l.d)(" {spacer} by {modDisplay} {spacer} {timeElement}",{spacer:"•",modDisplay:e,timeElement:r},"ViewerCardModLogsFeature")},enumerable:!0,configurable:!0}),t}(a.Component),C=n("TSYQ"),S=n("fvjX"),y=n("GnwI"),N=n("i4Ys"),_=n("PL8s"),I=(n("fGoN"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.preventDefault(),t.props.onClick(t.props.value)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=C("viewer-card-mod-drawer-tab",{"viewer-card-mod-drawer-tab--active":this.props.isActive});return a.createElement(d.a,{"data-test-selector":"viewer-card-mod-drawer-tab",className:e,display:c.d.Flex,flexGrow:2,flexShrink:1},a.createElement(c.g,{flexGrow:1,flexDirection:c.e.Column,textAlign:c.k.Left},a.createElement(N.a,{blurAfterClick:!0,replace:!0,type:N.b.Alpha,"data-action":this.props.value,onClick:this.onClick,linkTo:"not-a-location"},a.createElement(d.a,{className:"viewer-card-mod-drawer-tab__title",padding:.5},this.props.loading?a.createElement(_.a,null):a.createElement(m.a,{bold:!0,color:p.c.Link,fontSize:p.d.Size5},this.props.count),a.createElement(m.a,{fontSize:this.props.fontSize},this.props.label)))))},t}(a.Component)),T=Object(S.compose)(Object(y.withLatencyTracking)("ViewerCardModDrawerTab"))(I),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=p.d.Size6,t=Object(l.d)("Messages","ViewerCardModLogsFeature"),n=Object(l.d)("Timeouts","ViewerCardModLogsFeature"),i=Object(l.d)("Bans","ViewerCardModLogsFeature"),r=Object(l.d)("Mod Comments","ViewerCardModLogsFeature");[t,n,i,r].every(function(t){return!("string"==typeof t&&t.length>=24)||(e=p.d.Size7,!1)});var o=this.props.data&&this.props.data.loading;return a.createElement(f.a,{fullWidth:!0,display:c.d.Flex,padding:{top:.5},className:"viewer-card-mod-drawer-tabs"},a.createElement(T,{count:this.getMessageCountString(),label:t,fontSize:e,isActive:this.props.currentPage===ke.Messages,onClick:this.props.changeTab,value:ke.Messages,loading:o}),a.createElement(T,{count:this.getTimeoutCount(),label:n,fontSize:e,isActive:this.props.currentPage===ke.Timeouts,onClick:this.props.changeTab,value:ke.Timeouts,loading:o}),a.createElement(T,{count:this.getChannelBanCount(),label:i,fontSize:e,isActive:this.props.currentPage===ke.Bans,onClick:this.props.changeTab,value:ke.Bans,loading:o}),a.createElement(T,{count:this.getCommentsCountString(),label:r,fontSize:e,isActive:this.props.currentPage===ke.ModComments,onClick:this.props.changeTab,value:ke.ModComments,loading:o}))},t.prototype.getTimeoutCount=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.timeouts&&e.timeouts.actionCount||0,n=e&&e.timeouts&&e.timeouts.pageInfo&&e.timeouts.pageInfo.hasNextPage;return t>=99&&n?"99+":""+t},t.prototype.getChannelBanCount=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.bans&&e.bans.actionCount||0,n=e&&e.bans&&e.bans.pageInfo&&e.bans.pageInfo.hasNextPage;return t>=99&&n?"99+":""+t},t.prototype.getCommentsCountString=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.comments&&e.comments.edges||[],n=e&&e.comments&&e.comments.pageInfo&&e.comments.pageInfo.hasNextPage;return t.length>=99&&n?"99+":""+t.length},t.prototype.getMessageCountString=function(){var e=this.props.data&&this.props.data.channelUser&&this.props.data.channelUser.modLogs,t=e&&e.messages&&e.messages.messageCount||0;return t>=999?"999+":""+t},t}(a.Component),D=n("r538"),A=n("/MKj"),w=n("XDQu"),R=n("3tQW"),M=n("kY/a"),L=n("8/mp"),U=n("HAa/"),B=n("a1OF"),F=n("uG/k"),P=n("3aAs"),x=n("dEDE"),j=2,H=500,V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:!1,commentText:"",sendingComment:!1},t.onInputChange=function(e){t.setState({commentText:e.currentTarget.value})},t.handleKeyPress=function(e){if("Enter"===e.key)return t.onSend()},t.onSend=function(){var e=t.state.commentText;if(!(t.state.sendingComment||t.state.commentText.length<j||t.state.commentText.length>H))return t.setState({sendingComment:!0}),t.props.onCreateComment(e).then(function(){t.setState({commentText:"",error:!1,sendingComment:!1})}).catch(function(){t.setState({error:!0,sendingComment:!1})})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=H-this.state.commentText.length,t=!!this.state.commentText&&e<=20;return a.createElement(f.a,{padding:{x:1,bottom:1,top:.5},className:"viewer-card-mod-logs-comment-input"},this.state.error&&a.createElement(m.a,{color:p.c.Error},Object(l.d)("Sorry, something went wrong. Please try again later.","ViewerCardModLogsFeature")),t&&a.createElement(f.a,{display:c.d.Flex,borderTop:!0},e<0?a.createElement(u.a,{asset:u.b.NotificationError,width:20,type:u.c.Alert}):a.createElement(u.a,{asset:u.b.Warning,width:20,type:u.c.Warn}),a.createElement(d.a,{padding:.5},a.createElement(m.a,{"data-test-selector":"viewer-card-mod-logs-comment-input-chars-remaining",color:e>=0?p.c.Alt2:p.c.Error},Object(l.d)("{charsRemaining} characters remaining",{charsRemaining:e},"ViewerCardModLogsFeature")))),a.createElement(d.a,{display:c.d.Flex,alignItems:c.b.Start},a.createElement(d.a,{flexGrow:1,padding:{right:.5},position:c.j.Relative},a.createElement(P.a,{"data-test-selector":"viewer-card-mod-logs-comment-text-input",error:this.state.error,icon:u.b.Whisper,type:P.b.Text,value:this.state.commentText,placeholder:Object(l.d)("Add a comment","ViewerCardModLogsFeature"),onChange:this.onInputChange,onKeyDown:this.handleKeyPress})),a.createElement(x.a,{"data-test-selector":"viewer-card-mod-logs-comment-input-button",onClick:this.onSend,disabled:e<0||this.state.sendingComment},Object(l.d)("Add","ViewerCardModLogsFeature"))))},t}(a.Component),G=Object(S.compose)(Object(y.withLatencyTracking)("ViewerCardModLogsCommentInput"))(V),W=n("oe5X"),q=n("cys1"),z=n("EE1E"),Y=n("Jsra"),K=n("7d/q"),Q=(n("6ZXE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onDeleteComment=function(){if(t.props.comment)return t.props.onDeleteComment(t.props.comment.id)},t.onMouseEnter=function(){t.props.showDelete&&t.setState({hover:!0})},t.onMouseOut=function(){t.props.showDelete&&t.setState({hover:!1})},t}return r.__extends(t,e),t.prototype.render=function(){if(!this.props.comment||!this.props.comment.details||!this.props.comment.details.text)return null;var e,t=new Date(this.props.comment.timestamp),n=(Date.now()-t.getTime())/36e5,i=Object(l.j)(t,{year:"numeric",month:"numeric",day:"numeric"}),r=Object(l.h)(t,{style:"best fit"});e=n&&n<24?a.createElement(E.a,{label:i,"data-test-selector":"viewer-card-mod-comment-timestamp-tooltip"},r):a.createElement(a.Fragment,null,i);var o=this.renderCommentParts(this.props.comment.details.text),s=this.props.comment&&this.props.comment.author&&this.props.comment.author.chatColor;s&&this.props.useHighContrastColors&&(s="#"+Object(z.a)(s,this.props.theme));var h=C("viewer-card-mod-logs-comment-line",{"viewer-card-mod-logs-comment-line-deleteable":this.props.showDelete});return a.createElement(c.g,{"data-test-selector":"viewer-card-mod-comment",position:c.j.Relative,display:c.d.Flex,alignItems:c.b.Start,padding:{x:1,y:.5},className:h},a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseOut},a.createElement(u.a,{asset:u.b.NavMessages,type:u.c.Alt2}),a.createElement(f.a,{padding:{left:1}},a.createElement(m.a,{color:p.c.Base,wordBreak:m.f.BreakWord,"data-test-selector":"viewer-card-mod-comment-text"},o),a.createElement(f.a,{color:p.c.Alt2,display:c.d.Flex,alignItems:c.b.Center},a.createElement(Y.a,{blurAfterClick:!0,hoverUnderlineNone:!0,targetBlank:!0,type:Y.b.Inherit,"data-test-selector":"viewer-card-mod-comment-author",to:"/"+(this.props.comment&&this.props.comment.author&&this.props.comment.author.login)},a.createElement(m.a,{fontSize:p.d.Size7},a.createElement("span",{style:s?{color:s}:void 0},this.props.comment&&this.props.comment.author&&this.props.comment.author.displayName))),a.createElement(d.a,{padding:{x:.5}},"•"),a.createElement(f.a,{"data-test-selector":"viewer-card-mod-comment-timestamp",fontSize:p.d.Size7},e))),this.state.hover&&a.createElement(f.a,{position:c.j.Absolute,padding:{x:1,bottom:.5},className:"viewer-card-mod-logs-comment-line-delete"},a.createElement(K.a,{blurAfterClick:!0,"data-test-selector":"viewer-card-mod-comment-delete",icon:u.b.Trash,size:K.b.Small,type:K.c.Alert,onClick:this.onDeleteComment}))))},t.prototype.renderCommentParts=function(e){return Object(q.f)(Object(W.a)(e))},t}(a.Component));!function(e){e.NoComments="no-comments",e.Loading="loading",e.Error="error",e.CommentList="comment-list"}(i||(i={}));var X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={comments:[],cursor:null,hasMoreLeft:!0,loading:!1},t.initialLoad=null,t.saveScrollRef=function(e){return t.scroll=e},t.loadMore=function(){return r.__awaiter(t,void 0,void 0,function(){var e=this;return r.__generator(this,function(t){return!this.state.loading&&this.state.hasMoreLeft?[2,new Promise(function(t){e.setState({loading:!0},t)}).then(function(){return e.props.loadMore({channelID:e.props.channelID,targetID:e.props.targetID,cursor:e.state.cursor})}).then(function(t){return new Promise(function(n){e.setState({cursor:t.cursor,comments:e.state.comments.concat(t.comments),loading:!1,hasMoreLeft:!(!t.cursor||t.cursor===e.state.cursor)},n)})}).catch(function(){return new Promise(function(t){e.setState({error:!0},t)})}).then(function(){return Promise.resolve()})]:[2,Promise.resolve()]})})},t.onCreateComment=function(e){return t.props.onCreateComment(e).then(function(e){e&&t.setState(r.__assign({},t.state,{comments:[e].concat(t.state.comments)}))})},t.onDeleteComment=function(e){return t.props.onDeleteComment(e).then(function(){t.setState(r.__assign({},t.state,{comments:t.state.comments.filter(function(t){return t.id!==e})}))})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.initialLoad?(this.props.latencyTracking.reportInteractive(),this.scrollToBottom()):this.initialLoad=this.loadMore()},t.prototype.getSnapshotBeforeUpdate=function(){return this.scroll&&this.scroll.scrollContent&&this.scroll.scrollContent.scrollHeight&&(this.prevScrollHeight=this.scroll.scrollContent.scrollHeight),null},t.prototype.componentDidUpdate=function(e,t){if(this.initialLoad){if(this.state.comments&&t.comments&&this.state.comments.length>t.comments.length){var n=this.state.comments[0]&&this.state.comments[0],i=t.comments[0]&&t.comments[0];if(n&&i&&n.id===i.id){if(this.scroll&&this.scroll.scrollContent&&this.prevScrollHeight&&this.prevScrollHeight!==this.scroll.scrollContent.scrollHeight){var r=this.scroll.scrollContent.scrollHeight-this.prevScrollHeight;this.scroll.scrollContent.scrollTop=r}}else this.scrollToBottom()}}else this.initialLoad=this.loadMore()},t.prototype.render=function(){var e=this;if(this.state.error)return a.createElement(d.a,{fullHeight:!0,fullWidth:!0,"data-test-selector":i.Error},a.createElement(h,null));if(!this.initialLoad||this.state.loading&&0===this.state.comments.length)return a.createElement(d.a,{padding:{x:1,y:2}},a.createElement(g.a,{delay:0,fillContent:!0,size:g.b.Large,"data-test-selector":i.Loading}));var t=this.props.currentUser&&this.props.currentUser.id,n=this.state.comments.map(function(n){var i=n.channel&&n.channel.id;return a.createElement(Q,{key:n.id,comment:n,theme:e.props.theme,showDelete:!!t&&!!i&&i===t,useHighContrastColors:e.props.useHighContrastColors,onDeleteComment:e.onDeleteComment})}).reverse(),r=!!this.state.hasMoreLeft&&!this.state.loading;return a.createElement(d.a,{display:c.d.Flex,flexDirection:c.e.Column,flexGrow:1,flexShrink:1,className:"mod-logs-entry-list"},a.createElement(c.g,{flexGrow:1,flexShrink:1},n.length?a.createElement(L.b,{suppressScrollX:!0,scrollRef:this.saveScrollRef},a.createElement(d.a,null,a.createElement(L.a,{loadMore:this.loadMore,enabled:r,orientation:U.b.Down,contentLength:n.length,pixelThreshold:200}),a.createElement(d.a,{key:"comments-list-start",padding:.5}),n,a.createElement(d.a,{key:"comments-list-end",padding:.5}))):this.renderEmptyState()),a.createElement(G,{onCreateComment:this.onCreateComment}))},t.prototype.renderEmptyState=function(){return a.createElement(d.a,{flexGrow:1,"data-test-selector":i.NoComments,padding:{x:1,y:2}},a.createElement(d.a,{alignItems:c.b.Center,display:c.d.Flex,justifyContent:c.h.Center,textAlign:c.k.Center,flexDirection:c.e.Column},a.createElement(d.a,null,a.createElement(F.a,{src:Object(B.d)(Ce.id,2),alt:Ce.alt})),a.createElement(d.a,{padding:{x:4,y:0},margin:{x:4,y:0}},a.createElement(m.a,{color:p.c.Alt2,fontSize:p.d.Size5},Object(l.d)("There are no mod comments for this user.","ViewerCardModLogsFeature")))))},t.prototype.scrollToBottom=function(){this.scroll&&this.scroll.scrollToBottom()},t}(a.Component),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMore=function(e){return Object(D.e)(Object(D.c)(l.q.apollo.client.link,{query:M,variables:e})).then(function(e){var t=e.data&&e.data.channelUser&&e.data.channelUser.modLogs&&e.data.channelUser.modLogs.comments,n=null,i=t&&t.edges&&t.edges.map(function(e){return n=e.cursor,e.node})||[];return{cursor:n,comments:i}})},t}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(X,r.__assign({},this.props,{loadMore:this.loadMore}))},t}(a.Component);var $,J=Object(S.compose)(Object(A.connect)(function(e){return{theme:Object(w.a)(e)}}),Object(R.b)(function(e){return{useHighContrastColors:e.value}}),Object(y.withLatencyTracking)("ViewerCardModLogsCommentsList"))(Z),ee=n("yR8l"),te=n("uIkQ"),ne=n("w4P5"),ie=n("XmgI"),re=function(e){var t=new Date(e.dateString);return"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime())?null:a.createElement(d.a,{display:c.d.Flex,alignItems:c.b.Center},a.createElement(f.a,{margin:{right:1,left:1},flexGrow:1,borderBottom:!0}),a.createElement(m.a,{color:p.c.Alt2},Object(l.c)(t)),a.createElement(f.a,{margin:{right:1,left:1},flexGrow:1,borderBottom:!0}))},ae=function(e){return e.entryDetails&&e.entryDetails.reason?a.createElement(d.a,{className:"targeted-mod-action__reason",padding:{x:1,y:0}},a.createElement(m.a,{italic:!0,type:m.e.Span},e.entryDetails.reason)):null},oe=n("9sGC"),se=(n("k7qK"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e,t=this.props.entry,n=new Date(t.timestamp).valueOf(),i=this.renderTimestamp(n),r=t.user&&t.user.login||"unknown",s=t.target&&t.target.login||"unknown",c=t.details&&t.details.durationSeconds||"unknown";switch(t.action){case o.Y.BAN_USER:e=Object(l.d)("{modLogin} banned {target}.",{modLogin:a.createElement(m.a,{bold:!0,type:m.e.Span},r),target:s},"ViewerCardModLogsFeature");break;case o.Y.TIMEOUT_USER:e=Object(l.d)("{modLogin} timed out {target} for {duration} seconds.",{modLogin:a.createElement(m.a,{bold:!0,type:m.e.Span},r),target:s,duration:c},"ViewerCardModLogsFeature");break;case o.Y.UNBAN_USER:e=Object(l.d)("{modLogin} unbanned {target}.",{modLogin:a.createElement(m.a,{bold:!0,type:m.e.Span},r),target:s},"ViewerCardModLogsFeature");break;case o.Y.UNTIMEOUT_USER:e=Object(l.d)("{modLogin} removed timeout on {target}.",{modLogin:a.createElement(m.a,{bold:!0,type:m.e.Span},r),target:s},"ViewerCardModLogsFeature");break;default:return null}return a.createElement(d.a,{className:"targeted-mod-action",padding:{x:1,y:.5}},i,a.createElement(m.a,{type:m.e.Span},e),a.createElement(ae,{entryDetails:t.details}))},t.prototype.renderTimestamp=function(e){return a.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":oe.b},Object(q.a)(new Date(e),!0))},t}(a.Component)),le=n("1VX3"),ce=(n("lXDb"),["scroll","wheel","mousewheel","DOMMouseScroll","keyup","mousedown"]),de=10,ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disableInfiniteTrigger:!0,isAutoScrolling:!0},t.saveScrollRef=function(e){return t.scroll=e},t.handleScrollEvent=function(e){if(t.scroll&&t.scroll.scrollContent&&(e.which>0||"mousedown"===e.type||"mousewheel"===e.type||"wheel"===e.type)){var n=t.scroll.scrollContent.scrollHeight-t.scroll.scrollContent.scrollTop-t.scroll.scrollContent.offsetHeight;n<=de&&!t.state.isAutoScrolling?t.setState({isAutoScrolling:!0}):n>de&&t.state.isAutoScrolling&&t.setState({isAutoScrolling:!1})}},t.handleClickMoreMessages=function(){t.setState({isAutoScrolling:!0},t.scrollToBottom)},t.loadMore=function(){return t.isLoadingMore=!0,t.props.loadMore()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({disableInfiniteTrigger:!1}),this.scroll&&this.scroll.scrollContent&&(this.scrollToBottom(),ce.forEach(function(t){e.scroll.scrollContent&&e.scroll.scrollContent.addEventListener(t,e.handleScrollEvent)}))},t.prototype.componentWillUnmount=function(){var e=this;ce.forEach(function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.removeEventListener(t,e.handleScrollEvent)})},t.prototype.componentWillReceiveProps=function(e){if(e.isBulkLoad&&this.isLoadingMore&&this.scroll&&this.scroll.scrollContent&&(this.prevScrollTop=this.scroll.scrollContent.scrollTop),e.isBulkLoad&&!this.isLoadingMore&&this.scroll&&this.scroll.scrollContent){var t=this.props.messages[this.props.messages.length-1]&&this.props.messages[this.props.messages.length-1].id;if(t&&document.getElementById(t)){var n=document.getElementById(t).offsetTop;this.prevScrollTop=this.scroll.scrollContent.scrollTop-n}else this.prevScrollTop=this.scroll.scrollContent.scrollTop}},t.prototype.componentDidUpdate=function(e){if(e.messages!==this.props.messages&&(this.state.isAutoScrolling&&this.scrollToBottom(),this.props.isBulkLoad&&e.messages&&this.props.messages))if(this.isLoadingMore){var t=e.messages[0]&&e.messages[0].id,n=this.props.messages[0]&&this.props.messages[0].id;if(t&&n&&t!==n){var i=document.getElementById(t);if(i&&this.scroll&&this.scroll.scrollContent){var r=i.offsetTop;this.scroll.scrollContent.scrollTop=this.prevScrollTop+r}}}else{var a=e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].id,o=this.props.messages[this.props.messages.length-1]&&this.props.messages[this.props.messages.length-1].id;if(a&&o&&a!==o){var s=document.getElementById(a);if(s&&this.scroll&&this.scroll.scrollContent){r=s.offsetTop;this.scroll.scrollContent.scrollTop=this.prevScrollTop+r}}}},t.prototype.render=function(){var e=this.renderLines();return a.createElement(d.a,{className:"message-list mod-logs-entry-list",display:c.d.Flex,flexDirection:c.e.Column,flexWrap:c.f.NoWrap,overflow:c.i.Hidden,flexGrow:1},a.createElement(L.b,{className:"message-list__lines",scrollRef:this.saveScrollRef},a.createElement(d.a,{flexGrow:1,fullHeight:!0,overflow:c.i.Hidden},a.createElement(L.a,{"data-test-selector":"backward-infinite-scroll",enabled:!this.state.disableInfiniteTrigger,loadMore:this.loadMore,pixelThreshold:400,orientation:U.b.Down,contentLength:e.length,forceLoadMoreContent:this.props.hasMoreLeft,requestCap:2}),a.createElement(d.a,{key:"message-list-start",padding:.5}),e,a.createElement(d.a,{key:"message-list-end",padding:.5}))),a.createElement(d.a,{position:c.j.Relative,margin:{x:2}},this.moreMessages()))},t.prototype.moreMessages=function(){return this.state.isAutoScrolling?null:a.createElement(f.a,{alignItems:c.b.Center,attachBottom:!0,display:c.d.Flex,fullWidth:!0,background:p.a.Overlay,justifyContent:c.h.Center,position:c.j.Absolute,borderRadius:p.b.Medium,margin:{bottom:1}},a.createElement(x.a,{onClick:this.handleClickMoreMessages,overlay:!0,type:x.d.Text,fullWidth:!0},Object(l.d)("More messages below.","ViewerCardModLogsFeature")))},t.prototype.scrollToBottom=function(){this.scroll.scrollToBottom()},t.prototype.renderLines=function(){var e=this;return this.props.messages.slice().reduce(function(t,n,i){var r=i>0&&e.props.messages[i-1],o="Message"===n.__typename&&new Date(n.sentAt).toLocaleDateString()||"ModLogsTargetedModActionsEntry"===n.__typename&&new Date(n.timestamp).toLocaleDateString(),s=r&&"Message"===r.__typename&&new Date(r.sentAt).toLocaleDateString()||r&&"ModLogsTargetedModActionsEntry"===r.__typename&&new Date(r.timestamp).toLocaleDateString();return 0===i&&o&&t.push(a.createElement(re,{key:i+"-"+o,dateString:o})),s&&o&&s!==o&&t.push(a.createElement(re,{key:i+"-"+o,dateString:o})),"Message"===n.__typename?t.push(a.createElement(le.a,{channelID:null,key:n.id,badgeSets:e.props.badgeSets,bitsConfig:e.props.bitsConfig,hasModPermissions:!1,message:n,showTimestamps:!0,showModerationIcons:!1,onUsernameClick:null,padding:{x:1,y:.5}})):"ModLogsTargetedModActionsEntry"===n.__typename&&t.push(a.createElement(se,{key:n.id,entry:n})),t},[])},t}(a.Component);!function(e){e.NoMessages="no-messages",e.Loading="loading",e.Error="error",e.MessageList="message-list"}($||($={}));var me,pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cursor:null,messages:[],loading:!1,hasMoreLeft:!0,error:!1},t.initialLoad=null,t.loadMore=function(){return!t.state.loading&&t.state.hasMoreLeft?new Promise(function(e){t.setState({loading:!0},e)}).then(function(){return t.props.loadMore({senderID:t.props.senderID,channelLogin:t.props.channelLogin,cursor:t.state.cursor})}).then(function(e){return new Promise(function(n){t.setState({messages:e.messages.concat(t.state.messages),cursor:e.cursor,error:e.error,loading:!1,hasMoreLeft:!(!e.cursor||e.cursor===t.state.cursor)},n)})}).catch(function(){return new Promise(function(e){t.setState({error:!0},e)})}).then(function(){return Promise.resolve()}):Promise.resolve()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.initialLoad||(this.initialLoad=this.loadMore())},t.prototype.componentDidUpdate=function(e){this.initialLoad||(this.initialLoad=this.loadMore())},t.prototype.render=function(){return this.state.error?a.createElement(d.a,{fullHeight:!0,fullWidth:!0,"data-test-selector":$.Error},a.createElement(h,null)):!this.initialLoad||this.state.loading&&0===this.state.messages.length?a.createElement(d.a,{padding:{x:1,y:2}},a.createElement(g.a,{delay:0,fillContent:!0,size:g.b.Large,"data-test-selector":$.Loading})):0===this.state.messages.length?a.createElement(d.a,{display:c.d.Flex,flexDirection:c.e.Column,flexGrow:1,flexShrink:1,padding:{x:1,y:2},"data-test-selector":$.NoMessages},a.createElement(d.a,{display:c.d.Flex,alignItems:c.b.Center,justifyContent:c.h.Center,textAlign:c.k.Center,flexDirection:c.e.Column},a.createElement(d.a,null,a.createElement(F.a,{src:Object(B.d)(Ce.id,2),alt:Ce.alt})),a.createElement(d.a,{padding:{x:4,y:0},margin:{x:4,y:0}},a.createElement(m.a,{color:p.c.Alt2,fontSize:p.d.Size5},Object(l.d)("This user hasn't chatted in the channel.","ViewerCardModLogsFeature"))))):a.createElement(f.a,{background:p.a.Base,className:"mod-logs-entry-list",fullWidth:!0,"data-test-selector":$.MessageList,display:c.d.Flex,flexDirection:c.e.Column,flexGrow:1,flexShrink:1},a.createElement(ue,{badgeSets:this.props.badgeSets,bitsConfig:ie.a,isBulkLoad:!0,hasMoreLeft:this.state.hasMoreLeft,messages:this.state.messages,loadMore:this.loadMore}))},t}(a.Component),he=n("34IA"),fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMore=function(e){return Object(D.e)(Object(D.c)(l.q.apollo.client.link,{query:he,variables:e})).then(function(e){var t=e.data&&e.data.channel&&e.data.channel.modLogs&&e.data.channel.modLogs.messagesBySender,n=null,i=[];return t&&t.edges&&t.edges.forEach(function(e){if(!e||!e.node)return null;"ModLogsMessage"===e.node.__typename?i.unshift(r.__assign({},e.node,{__typename:"Message"})):"ModLogsTargetedModActionsEntry"===e.node.__typename&&i.unshift(e.node),n=e.cursor||n}),{cursor:n,messages:i}})},t}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(pe,r.__assign({},this.props,{loadMore:this.loadMore}))},t}(a.Component),ge=Object(S.compose)(Object(ee.a)(ne,{options:function(e){return{variables:r.__assign({},e)}},props:function(e){var t=new te.c([]);if(e.data){var n=e.data,i=n.badges,r=n.channel;i&&r&&r.broadcastBadges&&r.login&&(t=new te.c(i,r.broadcastBadges,r.login))}return{badgeSets:t}}}))(fe);!function(e){e.DateSeparator="viewer-card-mod-logs-date-separator",e.EmptyState="viewer-card-mod-logs-mod-actions-empty-state",e.OutOfSyncState="viewer-card-mod-logs-mod-actions-out-of-sync-state",e.RefetchButtonIcon="viewer-card-mod-logs-mod-actions-out-of-sync-state"}(me||(me={}));var be="64138",ve="SeemsGood",Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1},t.sprinkleDateSeparators=function(e){return e&&e.edges&&e.edges.reduce(function(e,t,n,i){if(!t.node)return e;var r=new Date(t.node.timestamp).toLocaleDateString(),o=i[n+1],s="";return o&&o.node&&(s=new Date(o.node.timestamp).toLocaleDateString()),e.push(a.createElement(se,{key:t.node.action+"."+t.node.timestamp,entry:t.node})),s&&r!==s&&e.push(a.createElement(re,{key:""+r,"data-test-selector":me.DateSeparator,dateString:r})),n===i.length-1&&e.push(a.createElement(re,{key:""+r,"data-test-selector":me.DateSeparator,dateString:r})),e},[])},t.iconClick=function(){return r.__awaiter(t,void 0,void 0,function(){var e=this;return r.__generator(this,function(t){switch(t.label){case 0:return this.setState({loading:!0}),[4,this.props.refetch().then(function(){e.setState({loading:!1})},function(){e.setState({loading:!1})})];case 1:return t.sent(),[2]}})})},t.saveScrollRef=function(e){return t.scroll=e},t.scrollToBottom=function(){t.scroll&&t.scroll.scrollToBottom()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.scrollToBottom()},t.prototype.componentDidUpdate=function(){this.scrollToBottom()},t.prototype.render=function(){if(this.state.loading)return a.createElement(g.a,{delay:0,fillContent:!0,size:g.b.Large});var e=this.props.modActions,t=this.sprinkleDateSeparators(e);return a.createElement(d.a,{className:"mod-logs-entry-list",flexGrow:1,flexShrink:1,display:c.d.Flex,flexDirection:c.e.Column},t&&t.length>0?a.createElement(L.b,{suppressScrollX:!0,scrollRef:this.saveScrollRef},a.createElement(d.a,null,a.createElement(d.a,{key:"targeted-mod-actions-list-start",padding:.5}),t.reverse(),a.createElement(d.a,{key:"targeted-mod-actions-list-end",padding:.5}))):this.renderEmptyState())},t.prototype.renderEmptyState=function(){var e,t,n;switch(this.props.page){case ke.Bans:e=Object(l.d)("This user has not been banned in the channel.","ViewerCardModLogsFeature"),t=Object(l.d)("Bans are currently out of sync. See the current status below or refresh.","ViewerCardModLogsBans"),n=Boolean(this.props.banStatus&&this.props.banStatus.isPermanent);break;case ke.Timeouts:e=Object(l.d)("This user has not been timed out in the channel.","ViewerCardModLogsFeature"),t=Object(l.d)("Timeouts are currently out of sync. See the current status below or refresh.","ViewerCardModLogsTimeouts"),n=Boolean(this.props.banStatus&&this.props.banStatus.expiresAt);break;default:e="",t="",n=!1}var i=n?t:e,r=a.createElement(d.a,{padding:{x:1,y:0},margin:{x:1,y:0}},a.createElement(m.a,{color:p.c.Alt2,fontSize:p.d.Size5},i)),o=a.createElement(d.a,{padding:{top:1}},a.createElement(x.a,{type:x.d.Hollow,blurAfterClick:!0,icon:u.b.Refresh,onClick:this.iconClick,ariaLabel:Object(l.d)("Refresh Chat Logs","ViewerCardModLogs"),"data-test-selector":me.RefetchButtonIcon})),s=a.createElement(d.a,null,a.createElement(F.a,{src:Object(B.d)(be,2),alt:ve})),h=r;return n&&(s=r,h=o),a.createElement(d.a,{padding:{x:n?1:3,y:3},"data-test-selector":n?me.OutOfSyncState:me.EmptyState},a.createElement(d.a,{alignItems:c.b.Center,display:c.d.Flex,justifyContent:c.h.Center,textAlign:c.k.Center,flexDirection:c.e.Column},s,h))},t}(a.Component);n("NWfm"),n("OxSk");n.d(t,"a",function(){return Ce}),n.d(t,"c",function(){return ke}),n.d(t,"b",function(){return Se});var ke,Ce={id:"114836",alt:"Jebaited"};!function(e){e[e.Messages=0]="Messages",e[e.Timeouts=1]="Timeouts",e[e.Bans=2]="Bans",e[e.ModComments=3]="ModComments"}(ke||(ke={}));var Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentPage:null},t.refetchTargetedModActions=function(){return r.__awaiter(t,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}})})},t.onTabClick=function(e){var n=s.a.Expand,i=e;e===t.state.currentPage&&(i=t.props.isPopoutCard?i:null,n=t.props.isPopoutCard?null:s.a.Collapse),t.props.data&&t.props.data.targetUser&&t.props.permissionsData.channel&&Object(s.c)({targetUserID:t.props.data.targetUser.id,targetLogin:t.props.data.targetUser.login,channelID:t.props.permissionsData.channel.id,channelLogin:t.props.permissionsData.channel.login,clickText:e,action:n}),t.onTabChange(i)},t.onTabChange=function(e){t.setState({currentPage:e})},t.onCreateComment=function(e){return t.props.createModComment({variables:{input:{channelID:t.props.channelID,targetID:t.props.targetID,text:e}}}).then(function(e){var n=e&&e.data.createModeratorComment&&e.data.createModeratorComment.comment;return n&&Object(s.e)(t.props,n),Promise.resolve(n)}).catch(function(){return Promise.reject()})},t.onDeleteComment=function(e){return t.props.deleteModComment({variables:{input:{ID:e}}}).then(function(e){var n=e.data.deleteModeratorComment&&e.data.deleteModeratorComment.comment;return n?(Object(s.f)(t.props,n),Promise.resolve()):Promise.reject()}).catch(function(){return Promise.reject()})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(),this.props.isPopoutCard&&this.onTabChange(ke.Messages)},t.prototype.render=function(){var e=this.props.permissionsData.channel&&this.props.permissionsData.channel.modLogsRoleAccess&&this.props.permissionsData.channel.modLogsRoleAccess.accessLevel===o.X.WRITE,t=this.props.permissionsData.channel&&this.props.permissionsData.currentUser&&this.props.permissionsData.channel.id===this.props.permissionsData.currentUser.id;return e||t?a.createElement(d.a,{className:"viewer-card-mod-logs","data-test-selector":"viewer-card-mod-drawer",display:c.d.Flex,flexDirection:c.e.Column,flexGrow:1,flexShrink:1},a.createElement(f.a,{borderTop:!0,margin:{x:1},flexGrow:0},a.createElement(O,{data:this.props.data,currentPage:this.state.currentPage,changeTab:this.onTabClick,"data-test-selector":"viewer-card-mod-drawer-tab-bar"})),this.renderPage(),a.createElement(f.a,{flexGrow:0},a.createElement(k,{banStatus:this.props.banStatusData.chatRoomBanStatus,channelName:this.props.channelLogin}))):null},t.prototype.renderPage=function(){var e=this.props.data&&this.props.data.targetUser&&this.props.data.targetUser.id;if(!e)return null;if(this.props.data.error)return a.createElement(d.a,{fullHeight:!0,fullWidth:!0},a.createElement(h,null));if(this.props.data.loading)return a.createElement(g.a,{delay:0,fillContent:!0,size:g.b.Large});var t=this.props.data.channelUser&&this.props.data.channelUser.modLogs;if(!t)return null;var n=null;switch(this.state.currentPage){case ke.Messages:n=a.createElement(ge,{key:e,channelLogin:this.props.channelLogin,senderID:e});break;case ke.ModComments:n=a.createElement(J,{channelID:this.props.channelID,targetID:e,currentUser:this.props.permissionsData.currentUser,onCreateComment:this.onCreateComment,onDeleteComment:this.onDeleteComment});break;case ke.Bans:n=a.createElement(Ee,{modActions:t.bans,page:ke.Bans,banStatus:this.props.banStatusData.chatRoomBanStatus,refetch:this.refetchTargetedModActions});break;case ke.Timeouts:n=a.createElement(Ee,{modActions:t.timeouts,page:ke.Timeouts,banStatus:this.props.banStatusData.chatRoomBanStatus,refetch:this.refetchTargetedModActions});break;default:return null}return a.createElement(f.a,{className:this.props.isPopoutCard?"viewer-card-mod-logs-page viewer-card-mod-logs-page--popout":"viewer-card-mod-logs-page","data-test-selector":"viewer-card-mod-drawer-page",background:p.a.Base,display:c.d.Flex,flexDirection:c.e.Column,flexGrow:1,flexShrink:1},n)},t}(a.Component)},E78O:function(e,t,n){},ECxT:function(e,t,n){},EE1E:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var i=n("EN5X"),r=n("G7cy"),a=n("m7BI"),o=n("E8D/"),s=n("DtRd"),l=n("R4sh"),c=n("/0dD"),d=n("76Lv"),u=4.5,m=[250,249,250],p=[15,14,17],h=.1,f=50,g="7A7A7A",b=36,v={};function E(e,t){var n=s(e),E=k(r(n));if(void 0===t&&(t=Object(d.d)()),E in v[t])return v[t][E];if(t===c.a.Dark&&n.every(function(e){return e<b}))return g;var C=t===c.a.Light?m:p,S=Object(l.a)(n,C);if(S>u)return E;for(var y=[n[0],n[1],n[2]],N=f;N>=0&&S<u;N--){var _=a(y);t===c.a.Light?_[0]-=_[0]*h:_[0]+=_[0]*h,y=o(i(_)),S=Object(l.a)(y,C)}var I=k(r(y));return v[t][E]=I,I}function k(e){return"#"===e[0]?e.substr(1):e}v[c.a.Dark]={},v[c.a.Light]={}},EOIh:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatInput"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hashtags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:339}};n.loc.source={body:"query ChatInput($channelLogin: String! $isEmbedded: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nisPartner @include(if: $isEmbedded)\n}\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\n}\n}\ncheer {\nid\nhashtags {\nedges {\ncursor\nnode {\nid\ndescription\nimageURL\n}\n}\n}\nsettings {\nemoteMinimumBits\ncheerMinimumBits\nevent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Epr8:function(e,t,n){},F6GT:function(e,t,n){"use strict";var i=n("mrSG"),r=n("/7QA"),a="control",o=n("VJH5");n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return u});var s="chatSettings";function l(){var e,t=r.n.get(s,{});return i.__assign({lastUsedFollowerDurations:{},showAutoModActions:!0,showMessageFlags:!0,showModerationActions:!0,showModIcons:!1,showTimestamps:!1,viewerChatFilterSettings:(e={},e[o.a.Aggressive]=!0,e[o.a.Identity]=!0,e[o.a.Profanity]=!0,e[o.a.Sexual]=!0,e),zachModeStatus:a},t)}function c(e,t){var n=l();n[e]=t,r.n.set(s,n)}function d(e){var t=l();delete t[e],r.n.set(s,t)}function u(e,t){var n=l();n.lastUsedFollowerDurations[e]=t,r.n.set(s,n)}},F9eG:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"cheer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeUpperTiers"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"includeSponsored"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchedPercent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"minimumBitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsTotal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsPercentageRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canBeSponsored"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canCheer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShowInBitsCard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnimated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dpiScale"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:401}};n.loc.source={body:"fragment cheer on User {\ncheer {\nid\nemotes (includeUpperTiers: true includeSponsored: true) {\nid\nprefix\ntype\ncampaign {\nid\nbrandImageURL\nbrandName\nthresholds {\nid\nminimumBits\nmatchedPercent\n}\nminimumBitsAmount\nbitsTotal\nbitsUsed\nbitsPercentageRemaining\nuserLimit\nself {\nid\nbitsUsed\ncanBeSponsored\n}\n}\ntiers {\nid\nbits\ncolor\ncanCheer\ncanShowInBitsCard\nimages {\nid\nurl\ntheme\nisAnimated\ndpiScale\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},FAYk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmodUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmodUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmodUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"mutation UnmodUser($input: UnmodUserInput!){\nunmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},FS60:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatInput_SendCheer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendCheerInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validationError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:377}};n.loc.source={body:"mutation ChatInput_SendCheer($input: SendCheerInput!) {\nsendCheer(input: $input) {\nid\ncurrentUser {\nid\nbitsBalance\n}\nvalidationError {\ncode\nmessage\nmessageContent {\ntext\nfragments {\ntext\ncontent {\n... on AutoMod {\ntopics {\ntype\nweight\n}\n}\n... on CheermoteToken {\nbitsAmount\nprefix\ntier\n}\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"FZ/2":function(e,t,n){"use strict";var i,r=n("/MKj"),a=n("XDQu"),o=n("mrSG"),s=n("q1tI"),l=n("/7QA"),c=n("/0dD"),d=n("5zXJ"),u=n("ebRM"),m=n("RiD7"),p=n("sUnt"),h=n("+80q"),f=n("hnjF"),g=n("dEDE"),b=n("uG/k"),v=n("X2PJ");n("UrjJ");!function(e){e.PromoSection="spring-sale-promo",e.PromoDetails="promo-details",e.PromoButton="promo-button"}(i||(i={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePromoBuy=function(){var e=Object(u.b)({trackBitsCardInteraction:t.props.trackBitsCardInteraction,channelID:t.props.channelID,purchaseUrl:t.props.offer.url,bitsAmount:String(t.props.offer.bits),location:m.d.ChatTooltip});e&&t.props.onPromoBuyClose(e)},t}return o.__extends(t,e),t.prototype.render=function(){var e="",t="";return this.props.isBitsCard?(t=d.h+"/spring-sale-2019/BitsCard_Cheermotes.png",e="spring-sale-promo-light-bits-card",this.props.theme===c.a.Dark&&(e="spring-sale-promo-dark-bits-card")):(t=d.h+"/spring-sale-2019/GetBitsBtn_Cheermotes.png",e="spring-sale-promo-light-buy-card",this.props.theme===c.a.Dark&&(e="spring-sale-promo-dark-buy-card")),s.createElement(p.a,{className:e,"data-test-selector":i.PromoSection,display:f.d.Flex,flexGrow:1,flexDirection:f.e.Column,justifyContent:f.h.Center,alignItems:f.b.Center,padding:1},s.createElement(p.a,{padding:{bottom:1}},s.createElement(h.a,{fontSize:v.d.Size4,bold:!0},Object(l.d)("Limited Time Offer!","Bits--SpringSaleIntro"))),s.createElement(b.a,{src:t,alt:Object(l.d)("Spring Sale Cheermotes","Bits--SpringSaleIntro")}),s.createElement(p.a,{padding:{top:1,left:5,right:5},textAlign:f.k.Center},s.createElement(h.a,{"data-test-selector":i.PromoDetails},Object(l.d)("From now through {date}, get {bitsAmount} Bits for {price}.",{date:Object(l.c)(new Date("2019-03-31T23:59:59Z"),{month:"numeric",day:"numeric"}),bitsAmount:this.props.offer.bits,price:this.props.offer.price},"Bits--SpringSaleIntro"))),s.createElement(p.a,{padding:{top:1,bottom:1}},s.createElement(g.a,{"data-test-selector":i.PromoButton,onClick:this.handlePromoBuy},Object(l.d)("Purchase {bitsAmount} Bits",{bitsAmount:this.props.offer.bits},"Bits--SpringSaleIntro"))),s.createElement(p.a,{textAlign:f.k.Center},s.createElement(h.a,{fontSize:v.d.Size7},Object(l.d)("Limit one purchase per customer.","Bits--SpringSaleIntro"))))},t}(s.Component);n.d(t,"a",function(){return k});var k=Object(r.connect)(function(e){return{theme:Object(a.a)(e)}})(E)},Ff8q:function(e,t,n){"use strict";function i(e){var t={};return e.forEach(function(e){t[e.from]={startIndex:e.from,id:e.emoteID}}),t}function r(e){return e.startsWith("@")?e.slice(1):e}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},G3YM:function(e,t,n){"use strict";var i=n("VbXa"),r=n.n(i),a=n("q1tI"),o=n("IbuL"),s=n("hnjF"),l=n("sUnt"),c=n("7uM4"),d=n("fNzW"),u=n("9qaG"),m=(n("dqbU"),function(e){var t,n={"tw-core-button-icon":!0},i=((t={})[u.c.Small]="tw-core-button-icon--small",t[u.c.Default]="",t[u.c.Large]="tw-core-button-icon--large",t);return e.size&&(n[i[e.size]]=!0),a.createElement(l.a,{className:Object(d.a)(n),display:s.d.InlineFlex,alignItems:s.b.Center},a.createElement(o.a,{fill:!0,asset:e.icon}))});m.displayName="CoreButtonIcon",m.displayName="CoreButtonIcon",n.d(t,"a",function(){return p});var p=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e;return e=this.props.dropdown||this.props.icon?a.createElement(l.a,{display:s.d.Flex,alignItems:s.b.Center,flexGrow:this.props.dropdown?1:0},this.props.icon?a.createElement(l.a,{margin:this.props.icon&&(this.props.children||this.props.dropdown)?{right:.5}:0,display:s.d.Flex,alignItems:s.b.Center},a.createElement(m,{icon:this.props.icon,size:this.props.size})):"",this.props.children?a.createElement(l.a,{flexGrow:this.props.dropdown?1:0},this.props.children):"",this.props.dropdown?a.createElement(l.a,{margin:{left:.5},display:s.d.Flex,alignItems:s.b.Center},a.createElement(o.a,{asset:c.b.GlyphArrDown})):""):this.props.children,a.createElement(a.Fragment,null,e)},t}(a.Component);p.displayName="CoreButtonLabel"},GHzV:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("3sMn"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){return this.props.hideOnboardingPrompts?null:this.props.children},t}(r.Component);var s=Object(a.b)(function(e){return{hideOnboardingPrompts:e.hideOnboardingPrompts}})(o);n.d(t,!1,function(){return o}),n.d(t,"a",function(){return s})},GLn2:function(e,t,n){},GOKC:function(e,t,n){},GPTu:function(e,t,n){},GSWs:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetReadableChatColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetReadableChatColorsEnabledInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setReadableChatColorsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"mutation SyncedSettingsSetReadableChatColors($input: SetReadableChatColorsEnabledInput!) {\nsetReadableChatColorsEnabled(input:$input) {\nisReadableChatColorsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Gcqi:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsCard_Bits"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUserState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUserSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsUserSettings"},directives:[]}]}}]}}]}}],loc:{start:0,end:187}};i.loc.source={body:'#import "twilight/features/bits/models/bits-user-settings-fragment.gql"\nquery BitsCard_Bits {\ncurrentUser {\nid\nbitsBalance\nlogin\nbitsUserState\nbitsUserSettings {\n...bitsUserSettings\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("5Czc").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},GzyO:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return p});var i=n("mrSG"),r=n("/7QA"),a=n("OpME"),o="twilight.emote_picker_history",s=24,l=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"88",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function c(e){var t=h(),n=t[e.id];n?(n.uses++,n.lastUpdatedAt=Date.now()):t[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},r.n.set(o,t)}function d(){var e=h();if(!(Object.keys(e).length>=s)){for(var t={},n=0;n<l.length;n++){var a=l[n];e[a.id]||(t[a.id]={emote:a,lastUpdatedAt:n,uses:0})}var c=i.__assign({},t,e);r.n.set(o,c)}}function u(){return Object(a.b)(l)}function m(e){var t=h(),n=[],i=!1;return Object.keys(t).forEach(function(r){var a=t[r];if(void 0!==a&&void 0!==e[a.emote.token]){var o=e[a.emote.token].id;o!==r&&(a.emote.id=o,t[o]=a,delete t[o],i=!0),n.push(a)}}),i&&r.n.set(o,t),n.sort(function(e,t){return e.uses>t.uses?-1:t.uses>e.uses?1:e.lastUpdatedAt>t.lastUpdatedAt?-1:t.lastUpdatedAt>e.lastUpdatedAt?1:0}),Object(a.b)(n.slice(0,24).map(function(e){return e.emote}))}function p(){var e=h(),t={};return Object.keys(e).forEach(function(n){void 0!==e[n]&&(t[e[n].emote.token]={count:e[n].uses})}),t}function h(){var e=r.n.get(o,{})||{};return e.undefined&&(delete e.undefined,r.n.set(o,e)),e}},H0r1:function(e,t,n){},H31v:function(e,t,n){"use strict";var i,r;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),function(e){e.Bits="bits",e.Leaderboard="bits-leader"}(i||(i={})),function(e){e.Badge="badge_update",e.Balance="balance_update",e.FirstPurchase="first_bits_purchase",e.BadgeNotification="badge_update_notification"}(r||(r={}))},"HAa/":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("4VQm");n("miXC");!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(i||(i={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasPendingLoadMoreRequest:!1,loadedMore:!0},t.isTriggerVisible=function(e,t){var n=t.top,i=t.top+t.height;return!(e.bottom<n||e.top>i)},t.getOrientation=function(){return void 0===t.props.orientation?i.Up:t.props.orientation},t.setWrapRef=function(e){return t.wrapElement=e},t.setRef=function(e){return t.element=e},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.getOrientation(),t=a({"scrollable-trigger__trigger-area":!0,"scrollable-trigger__trigger-area--up":e===i.Up,"scrollable-trigger__trigger-area--down":e===i.Down}),n={height:this.props.pixelThreshold||100};return o.createElement("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef},o.createElement("div",{className:t,ref:this.setRef,style:n}))},t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.componentWillReceiveProps=function(e){!this.props.enabled&&e.enabled&&this.props.requestVisibilityCheck(this)},t.prototype.checkVisible=function(e,t,n){return r.__awaiter(this,void 0,void 0,function(){var t,i,a,o,s=this;return r.__generator(this,function(r){switch(r.label){case 0:if(void 0===n&&(n=this.props.requestCap||5),!(this.wrapElement&&this.element&&(this.state.loadedMore||this.props.forceLoadMoreContent)&&!this.state.hasPendingLoadMoreRequest&&this.props.enabled&&n>0))return[3,4];if(t=this.element.getBoundingClientRect(),i=this.props.contentLength,a=this.wrapElement.offsetTop,!this.isTriggerVisible(t,e))return[3,4];this.setState({hasPendingLoadMoreRequest:!0}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return r.sent(),this.setState({hasPendingLoadMoreRequest:!1}),requestAnimationFrame(function(){var t;s.element&&(t=void 0!==s.props.contentLength&&void 0!==i?s.props.contentLength>i:s.wrapElement.offsetTop>a,s.setState({loadedMore:t}),n&&(t||s.props.forceLoadMoreContent)&&s.checkVisible(e,void 0,n-1))}),[3,4];case 3:throw o=r.sent(),this.element&&this.setState({hasPendingLoadMoreRequest:!1}),o;case 4:return[2]}})})},t}(o.Component),c=Object(s.c)(function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}})(l);n.d(t,"b",function(){return i}),n.d(t,!1,function(){return l}),n.d(t,"a",function(){return c})},HGFl:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return c});var i=n("NAv5"),r={RFC3399:"YYYY-MM-DDTHH:mm:ssZ",timeString:"h:mma"};function a(e,t){return Object(i.format)(e,t)}function o(e,t){var n=new Date;return n.setHours(e.hours),n.setMinutes(e.minutes),n.setSeconds(0),a(n,t)}function s(e){return Object(i.parse)(e)}function l(e){var t=e.split(":");if(2!==t.length)throw new Error("invalid time string: "+e);var n=parseInt(t[0],10),i=parseInt(t[1].substring(0,2),10),r=t[1].substring(t[1].length-2);if(12===n&&"am"===r&&(n=0),"pm"===r&&n<12&&(n+=12),isNaN(n)||n<0||n>23||isNaN(i)||i<0||i>59)throw new Error("invalid time string: "+e);return{hours:n,minutes:i}}function c(e){return e.hours>-1&&e.hours<24&&e.minutes>-1&&e.minutes<60&&(!e.seconds||e.seconds>-1&&e.seconds<60)}},HSpZ:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return h});var i,r,a,o,s,l=n("pVnL"),c=n.n(l),d=n("q1tI"),u=n("fNzW"),m=n("vCsY"),p=n("hnjF");n("YphD");!function(e){e.Short="tw-animation--delay-short",e.Medium="tw-animation--delay-medium",e.Long="tw-animation--delay-long",e.ExtraLong="tw-animation--delay-extra-long"}(i||(i={})),function(e){e.Short="tw-animation--duration-short",e.Medium="tw-animation--duration-medium",e.Long="tw-animation--duration-long",e.ExtraLong="tw-animation--duration-extra-long"}(r||(r={})),function(e){e.Both="tw-animation--fill-mode-both",e.None="tw-animation--fill-mode-none",e.Forwards="tw-animation--fill-mode-forwards",e.Backwards="tw-animation--fill-mode-backwards"}(a||(a={})),function(e){e.Ease="tw-animation--timing-ease",e.Linear="tw-animation--timing-linear",e.EaseIn="tw-animation--timing-ease-in",e.EaseOut="tw-animation--timing-ease-out",e.EaseInOut="tw-animation--timing-ease-in-out"}(o||(o={})),function(e){e.Bounce="tw-animation--bounce",e.BounceIn="tw-animation--bounce-in",e.BounceOut="tw-animation--bounce-out",e.FadeIn="tw-animation--fade-in",e.FadeOut="tw-animation--fade-out",e.SlideInTop="tw-animation--slide-in-top",e.SlideInRight="tw-animation--slide-in-right",e.SlideInBottom="tw-animation--slide-in-bottom",e.SlideInLeft="tw-animation--slide-in-left",e.SlideOutTop="tw-animation--slide-out-top",e.SlideOutRight="tw-animation--slide-out-right",e.SlideOutBottom="tw-animation--slide-out-bottom",e.SlideOutLeft="tw-animation--slide-out-left"}(s||(s={}));var h=function(e){var t={"tw-animation":!0,"tw-animation--animate":e.enabled,"tw-animation--loop":e.loop};return e.delay&&(t[e.delay]=!0),e.duration?t[e.duration]=!0:t[r.Short]=!0,e.fillMode?t[e.fillMode]=!0:t[a.Both]=!0,e.timing?t[e.timing]=!0:t[o.Ease]=!0,e.type&&(t[e.type]=!0),d.createElement(p.g,c()({className:Object(u.a)(t)},Object(m.a)(e)),d.createElement("div",{onAnimationStart:e.onAnimationStart,onAnimationEnd:e.onAnimationEnd,"data-a-target":"tw-animation-target"},e.children))};h.displayName="Animation",h.displayName="Animation"},HWU2:function(e,t,n){},HfAM:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:469}};i.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("35qb").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},HiyX:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};n.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},HjUq:function(e,t,n){},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:283}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},I8wU:function(e,t,n){},IIop:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("XIZb"),r=Object(i.a)("ChatConnection"),a=r.withChatServiceProvider,o=r.withContext,s=a,l=o(function(e){return{chatConnectionAPI:e.serviceAPI,setChatConnectionAPI:e.setServiceAPI}})},IKE4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};n.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},IRJ5:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/MKj"),s=n("/7QA"),l=n("gcd7"),c=n("yR8l"),d=n("5zf8"),u=n("DMoW"),m=n("2xye"),p=n("eAdp"),h=n("gMwc"),f=n("5Siz"),g=n("Y5lD");function b(){return Object(s.d)("An unexpected error occurred. Try again.","BookmarkCommandHandler")}function v(){return Object(s.d)("You can only add stream markers during live streams. Try again when the channel is live streaming.","BookmarkCommandHandler")}var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bookmark=function(e){if(void 0===e&&(e=""),t.props.markersData)return{deferred:t.props.markersData.refetch().then(function(){var n=t.props.markersData,i=n.user&&n.user.stream&&n.user.stream.id,r=n.user&&n.user.stream&&n.user.stream.createdAt;return i?t.createBookmarkHelper(i,e,r):Promise.resolve({notice:v()})})}},t.createBookmarkHelper=function(e,n,i){var r=n.substring(0,f.a).trim();return t.props.createVideoBookmark({variables:{input:{broadcastID:e,description:r,medium:t.props.isPopout?"popout_chat":"chat",platform:m.SpadePlatform.Web}}}).then(function(e){var t=e.data&&e.data.createVideoBookmark;if(t&&t.error&&t.error.code)switch(t.error.code){case u.H.ARCHIVES_DISABLED:return{notice:Object(s.d)("Past Broadcast storage must be enabled in order to add stream markers. Enable via Channel Settings and try again.","BookmarkCommandHandler")};case u.H.BROADCAST_FORMAT_INVALID_PREMIERE:case u.H.BROADCAST_FORMAT_INVALID_RERUN:return{notice:Object(s.d)("You can only add stream markers during live streams. Try again when the channel is live streaming and not running a Premiere or Rerun.","BookmarkCommandHandler")};case u.H.BROADCASTER_NOT_LIVE:return{notice:v()};case u.H.USER_UNAUTHORIZED:return{notice:Object(s.d)("You don't have permission to create stream markers for this channel.","BookmarkCommandHandler")};case u.H.INTERNAL_SERVER_ERROR:case u.H.VOD_NOT_READY:default:return{notice:b()}}var n=null===i?null:Object(d.b)(Object(g.a)(i),d.a.ClockHMS),a=""!==r;return{notice:n&&a?Object(s.d)('Successfully added a stream marker at {time}: "{description}"',{description:r,time:n},"BookmarkCommandHandler"):n?Object(s.d)("Successfully added a stream marker at {time}",{time:n},"BookmarkCommandHandler"):a?Object(s.d)('Successfully added a stream marker: "{description}"',{description:r},"BookmarkCommandHandler"):Object(s.d)("Successfully added a stream marker","BookmarkCommandHandler")}}).catch(function(){return{notice:b()}})},t}return i.__extends(t,e),t.prototype.render=function(){return this.props.markersData?r.createElement(l.a,{channelLogin:this.props.channelLogin,command:"marker",handler:this.bookmark}):null},t}(r.Component);var k=Object(a.compose)(Object(o.connect)(function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),Object(c.a)(p,{name:"createVideoBookmark"}),Object(c.a)(h,{name:"markersData",skip:function(e){return!e.firstPageLoaded}}))(E);n.d(t,"a",function(){return k})},J9w5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:81}};n.loc.source={body:"query Core_Services_Spade_Video($id: ID!) {\nvideo(id: $id) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},JGCS:function(e,t,n){},Jc5C:function(e,t,n){},JcRA:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("HSpZ"),o=n("hnjF"),s=n("sUnt"),l=n("vCsY"),c=n("dEDE"),d=n("7uM4"),u=300,m=function(e){function t(t){var n=e.call(this,t)||this;return n.enqueueTextBufferFlush=function(e){var t=function(){n.setState(function(e){return{currentText:e.textBuffer,textBuffer:""}},function(){n.triggerTextTransition(),n.enqueueAnimationEndNotification(u)})};if(n.textBufferFlushTimout&&clearTimeout(n.textBufferFlushTimout),e<=0)return t();n.textBufferFlushTimout=setTimeout(t,e)},n.enqueueAnimationEndNotification=function(e){n.props.onAnimationEnd&&(n.animationNotificationTimeout&&clearTimeout(n.animationNotificationTimeout),n.animationNotificationTimeout=setTimeout(n.props.onAnimationEnd,e))},n.onClick=function(e){n.state.isIconAnimationEnabled||n.props.onClick&&(n.setState({isFocused:!1}),n.props.onClick(e))},n.setTextRef=function(e){n.textRef=e},n.onFocus=function(){var e=n.props.text||"";n.setState({textBuffer:void 0!==n.props.textOnHover?n.props.textOnHover:e,isFocused:!0})},n.onBlur=function(){n.setState({textBuffer:n.props.text||"",isFocused:!1})},n.onIconAnimationComplete=function(){n.setState({isIconAnimationEnabled:!1})},n.state={textBuffer:"",currentText:t.text||"",currentIcon:t.icon,currentIconOnHover:t.iconOnHover,isFocused:!1,offsetPixels:0,isIconAnimationEnabled:!1},n}return i.__extends(t,e),t.getDerivedStateFromProps=function(e,t){var n={};return t.currentText!==e.text&&t.currentText!==e.textOnHover&&(n.textBuffer=e.text||""),t.currentIcon!==e.icon&&(n.currentIcon=e.icon,n.isIconAnimationEnabled=!0),t.currentIconOnHover!==e.iconOnHover&&(n.currentIconOnHover=e.iconOnHover,n.isIconAnimationEnabled=!0),Object.keys(n).length>0?n:null},t.prototype.getSnapshotBeforeUpdate=function(e,t){return this.state.currentText!==t.currentText&&this.textRef&&(this.prevTextSize=this.textRef.getBoundingClientRect().width),null},t.prototype.componentDidUpdate=function(e,t){var n=this.props.text!==e.text,i=t.isIconAnimationEnabled&&!this.state.isIconAnimationEnabled;n&&this.enqueueTextBufferFlush(this.props.delayText||0),i&&this.enqueueAnimationEndNotification(0)},t.prototype.render=function(){var e=void 0===this.props.fullWidthButton||this.props.fullWidthButton;return r.createElement(o.g,{fullWidth:e,overflow:o.i.Hidden},r.createElement("div",{onMouseEnter:this.onFocus,onMouseLeave:this.onBlur,onFocus:this.onFocus,onBlur:this.onBlur},r.createElement(c.a,i.__assign({fullWidth:e,blurAfterClick:!0,onClick:this.onClick,type:this.getCurrentType(),tabIndex:this.props.tabIndex,ariaLabel:this.props.ariaLabel},Object(l.a)(this.props)),r.createElement(s.a,{display:o.d.Flex,justifyContent:o.h.Center,alignItems:o.b.Center},this.renderIcon(),this.renderText()))))},t.prototype.renderIcon=function(){var e=this.state.currentText?.5:0;return r.createElement(o.g,{display:o.d.Flex,justifyContent:o.h.Center,alignItems:o.b.Center,margin:{right:e}},r.createElement("div",{style:{transform:this.getIconTransform(),transition:this.getIconTransition()}},r.createElement(a.a,{enabled:this.state.isIconAnimationEnabled,onAnimationEnd:this.onIconAnimationComplete,duration:a.c.Long,type:a.f.BounceIn},r.createElement(s.a,{display:o.d.Flex,justifyContent:o.h.Center,alignItems:o.b.Center},r.createElement(d.a,{type:d.c.Inherit,asset:this.getIcon()})))))},t.prototype.renderText=function(){return r.createElement("span",{ref:this.setTextRef,style:{opacity:this.getTextOpacity(),transition:this.getTextTransition()}},this.state.currentText)},t.prototype.getIconTransform=function(){var e="scale(1)",t="translateX(0px)";return this.state.isFocused&&(e="scale(1.2)"),Math.abs(this.state.offsetPixels)>15&&(t="translateX("+this.state.offsetPixels/2+"px)"),t+" "+e},t.prototype.getIconTransition=function(){return 0===this.state.offsetPixels?u+"ms transform ease":void 0},t.prototype.getTextOpacity=function(){return 0!==this.state.offsetPixels?0:1},t.prototype.getTextTransition=function(){return 0!==this.state.offsetPixels?void 0:u+"ms opacity ease"},t.prototype.getCurrentType=function(){return this.state.isFocused&&this.props.typeOnHover?this.props.typeOnHover:this.props.type},t.prototype.getIcon=function(){return this.state.isFocused&&this.state.currentIconOnHover?this.state.currentIconOnHover:this.state.currentIcon},t.prototype.triggerTextTransition=function(){var e=this;if(this.textRef){var t=this.textRef.getBoundingClientRect().width;this.setState({offsetPixels:t-this.prevTextSize},function(){e.prevTextSize=t,requestAnimationFrame(function(){requestAnimationFrame(function(){e.setState({offsetPixels:0})})})})}},t}(r.Component);n.d(t,"a",function(){return m})},JiJH:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnVIPUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevokeVIPInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revokeVIP"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"revokee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:126}};n.loc.source={body:"mutation UnVIPUser($input: RevokeVIPInput!){\nrevokeVIP(input: $input) {\nchannel {\nid\n}\nrevokee {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},JzSO:function(e,t,n){},"K/KT":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("1H2c"),c=(n("oDQa"),function(e){var t,n=Object(l.a)(),i={"tw-toggle":!0,"tw-toggle--error":e.error};return e.tabIndex&&(t=e.tabIndex),a.createElement("div",r()({className:Object(o.a)(i)},Object(s.a)(e)),a.createElement("input",{className:"tw-toggle__input",autoFocus:e.autoFocus,checked:e.checked,defaultValue:e.defaultValue,disabled:e.disabled,id:e.id?e.id:n,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,tabIndex:t,type:"checkbox",ref:e.refDelegate,value:e.value,"data-a-target":"tw-toggle"}),a.createElement("label",{htmlFor:e.id?e.id:n,className:"tw-toggle__button"}))});c.displayName="Toggle",c.displayName="Toggle"},KGti:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"j",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return g}),n.d(t,"f",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return E}),n.d(t,"k",function(){return k}),n.d(t,"m",function(){return C}),n.d(t,"l",function(){return S});var i,r=n("mrSG"),a=n("XmgI"),o=n("p52R"),s=n("ZtEv"),l=n("a1OF"),c=n("aF6k");function d(e){return e+"-automod-rejected"}function u(e,t,n,i){var c={badges:null,bits:0,color:"",displayName:"",id:"",userID:n,username:n,userType:o.a.User,emotes:{}},u=Object(l.a)(t,c,a.a);return{type:s.b.AutoMod,autoModType:s.a.MessageRejectedPrompt,id:d(e),category:i,rejectedMessage:r.__assign({},u,{type:s.b.Message,messageType:s.c.Post,id:e})}}function m(e,t,n,i,c){var u={badges:null,bits:0,color:"",displayName:"",id:"",userID:n,username:n,userType:o.a.User,emotes:{}},m=Object(l.a)(t,u,a.a);return{type:s.b.AutoMod,autoModType:s.a.CheerMessageRejectedPrompt,id:d(e),messageID:e,category:i,targetUserID:c,originalMessage:t,rejectedMessage:r.__assign({},m,{type:s.b.Message,messageType:s.c.Post,id:e})}}function p(){return{id:Object(c.a)("automod-message-rejected"),type:s.b.AutoMod,autoModType:s.a.MessageRejected}}function h(){return{id:Object(c.a)("automod-message-allowed"),type:s.b.AutoMod,autoModType:s.a.MessageAllowed}}function f(e){return{id:Object(c.a)("automod-message-denied"),msg_id:e.data.msg_id,type:s.b.AutoMod,autoModType:s.a.MessageModApproved}}function g(e){return{id:Object(c.a)("automod-message-denied"),msg_id:e.data.msg_id,type:s.b.AutoMod,autoModType:s.a.MessageModDenied}}function b(){return{id:Object(c.a)("automod-message-denied"),type:s.b.AutoMod,autoModType:s.a.MessageDenied}}function v(){return{id:Object(c.a)("automod-cheer-message-denied"),type:s.b.AutoMod,autoModType:s.a.CheerMessageDenied}}function E(){return{id:Object(c.a)("automod-cheer-message-timeout"),type:s.b.AutoMod,autoModType:s.a.CheerMessageTimeout}}function k(e,t,n,r){return{id:Object(c.a)("channel-moderation-action"),type:s.b.ModerationAction,moderationActionType:e,level:i.Channel,createdByLogin:t,createdByUserID:n,args:r}}function C(e,t,n,r,a,o,l,d){return{id:Object(c.a)("channel-moderation-action"),type:s.b.ModerationAction,moderationActionType:e,level:i.User,createdByLogin:t,createdByUserID:n,targetUserLogin:r,duration:a,reason:o,messageBody:l,messageID:d}}function S(e,t,n,i){return{id:Object(c.a)("channel-moderation-action"),type:s.b.TargetedModerationAction,targetedModerationActionType:e,targetUserID:t,messageBody:n,targetMessageID:i}}!function(e){e[e.Channel=0]="Channel",e[e.User=1]="User"}(i||(i={}))},KO0n:function(e,t,n){},Kae6:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("hnjF"),c=n("X2PJ"),d=n("2nDl"),u=(n("VFp6"),function(e){var t,n={"tw-textarea":!0,"tw-textarea--no-resize":e.noResize,"tw-textarea--error":e.error};e.tabIndex&&(t=e.tabIndex);var i=d.c.Default;e.size&&(i=e.size);var u={paddingRight:e.paddingRight?e.paddingRight/10+"rem":void 0};return a.createElement(c.e,{display:l.d.Block,borderRadius:c.b.Medium,overflow:e.overflow,fontSize:d.b[i],fullWidth:!0},a.createElement("textarea",r()({className:Object(o.a)(n),autoFocus:e.autoFocus,cols:e.cols,disabled:e.disabled,id:e.id,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,style:u,placeholder:e.placeholder,rows:e.rows,tabIndex:t,value:e.value,defaultValue:e.defaultValue,ref:e.refDelegate,readOnly:e.readOnly},Object(s.a)(e))))});u.displayName="TextArea",u.displayName="TextArea"},Kcwz:function(e,t,n){},KriR:function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return u});var i,r=n("/7QA"),a=n("2xye");function o(e){var t={channel:e.channelLogin,channel_id:e.channelId,payment_type:e.paymentType,payment_flow:e.paymentFlow,quantity:e.quantity,action:e.action,action_detail:e.actionDetail,product_id:e.productId,ticket_price:e.ticketPrice,currency:e.currency,saved_payment:e.savedPayment,is_anonymous:e.isAnonymous,checkout_source:e.trackingContext.source};e.trackingContext.detail&&(t.checkout_source_detail=e.trackingContext.detail),r.p.track(a.SpadeEventType.PaymentFormInteraction,t)}!function(e){e.SPM="spm",e.RecurlyCreditCard="recurlyCreditCard"}(i||(i={}));var s,l,c,d,u,m=function(){function e(e){this.store={savedPaymentAvailable:null,savedPaymentDisplayed:null,recurlyCreditCardAvailable:null,details:null},this.counter=0,this.config={allowDuplicateEvents:!(!e||!e.allowDuplicateEvents)},this.readyFields={spm:!1,recurlyCreditCard:!1}}return e.prototype.get=function(e){return this.store[e]},e.prototype.set=function(e){this.store=Object.assign(this.store,e)},e.prototype.setReady=function(e){this.readyFields[e]=!0},e.prototype.reportEvent=function(){var e,t;this.allFieldsReady&&(0===this.counter||this.config.allowDuplicateEvents)&&(this.counter++,e=this.store,t={saved_payment_available:e.savedPaymentAvailable,saved_payment_displayed:e.savedPaymentDisplayed,recurly_credit_card_available:e.recurlyCreditCardAvailable,details:e.details||""},r.p.track(a.SpadeEventType.PaymentFormDisplay,t))},Object.defineProperty(e.prototype,"allFieldsReady",{get:function(){return Object.values(this.readyFields).reduce(function(e,t){return e&&t})},enumerable:!0,configurable:!0}),e}();!function(e){e.Failed="failed",e.Pending="pending",e.Success="success"}(s||(s={})),function(e){e.MysteryGifting="mystery_gifting",e.Gifting="gifting",e.Personal="personal"}(l||(l={})),function(e){e.RecurlyCreditCard="recurly_credit_card",e.RecurlyPaypal="recurly_paypal",e.RecurlyPayWithAmazon="recurly_pay_with_amazon",e.ZuoraCreditCard="zuora_credit_card",e.Xsolla="xsolla"}(c||(c={})),function(e){e.VendorLoginClick="vendor_login_click",e.CompletePurchaseClick="complete_purchase_click",e.PaypalTokenError="paypal_token_error",e.RadioButtonClick="radio_button_click",e.TokenError="token_error",e.PriceChangeAlert="price_change_alert",e.UnsupportedCountryAlert="unsupported_country_alert"}(d||(d={})),function(e){e.ChannelSubscribeButton="channel_subscribe_button_click",e.Direct="direct_url_link",e.EmotePicker="emote_picker_click",e.Extension="extension_click",e.SubscriptionsManagement="subscriptions_management",e.TurboSubscribeButton="turbo_subscribe_button_click",e.ViewerCard="viewer_card_click"}(u||(u={}))},KwB3:function(e,t,n){"use strict";n("7NxT");var i=n("oJmH"),r=n("/MKj"),a=n("yR8l"),o=n("kRBY"),s=n("vSeP"),l=n("IIop"),c=n("knbN"),d=n("nInp"),u=n("2EzP"),m=n("GnwI"),p=n("26nv"),h=n("mrSG"),f=n("q1tI"),g=n("fvjX"),b=n("ZS2+"),v=n("/0dD"),E=n("Mj6i"),k=n("jZLd"),C=n("XDQu"),S=n("/i69"),y=n("IRJ5"),N=n("bhOa"),_=n("D91L"),I=n("PtXu"),T=n("gcd7"),O=n("+pBb"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showChatRules=function(){t.props.showChatRules()},t}return h.__extends(t,e),t.prototype.render=function(){return f.createElement(T.a,{command:"rules",handler:this.showChatRules,channelLogin:this.props.channelLogin})},t}(f.Component);var A,w,R=Object(r.connect)(null,function(e){return Object(g.bindActionCreators)({showChatRules:function(){return O.Q()}},e)})(D),M=n("bfuM"),L=n("/7QA"),U=n("CpU+"),B=n("fKMw"),F=n("DMoW"),P=n("hnjF"),x=n("sUnt"),j=n("CA5B");!function(e){e.QUERY_ERROR="QUERY_ERROR"}(A||(A={})),function(e){e.UnVIP="vip-command-handler_unvip",e.VIP="vip-command-handler_vip",e.VIPs="vip-command-handler_vips"}(w||(w={}));var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vips=function(){return{deferred:L.q.apollo.client.query({query:j,fetchPolicy:"network-only",variables:{login:t.props.channelLogin}}).then(function(e){var n=e.data;if(!n||!n.user||!n.user.vips)return{notice:t.getVIPsErrorMessage()};var i=n.user.vips.edges.filter(function(e){return e.node&&e.node.login});if(0===i.length)return{notice:Object(L.d)("This channel does not have any VIPs.","VIPCommandHandler")};var r=i.map(function(e){return e.node&&e.node.login}).join(", ");return{notice:Object(L.d)("VIPs for this channel are: {vips}.",{vips:r},"VIPCommandHandler")}}).catch(function(){return{notice:t.getVIPsErrorMessage()}})}},t.unVIPUser=function(e){var n=e.trim().split(/\s+/),i=t.getLogin(e);return 1===n.length&&i&&0!==i.length?{deferred:t.props.unVIPUserMutation(i).then(function(e){var n=e.revokeVIP;if(!n||!n.revokee||!n.revokee.login)return{notice:t.getUnVIPErrorMessage(A.QUERY_ERROR)};var r=n.error,a=r&&r.code;return a?{notice:t.getUnVIPErrorMessage(a,i)}:{notice:Object(L.d)("You have removed {login} as a VIP of this channel.",{login:i},"VIPCommandHandler")}}).catch(function(){return{notice:t.getUnVIPErrorMessage(A.QUERY_ERROR)}})}:{deferred:Promise.resolve({notice:Object(L.d)('Usage: "/unvip [login]" - Revoke VIP status to a user. Use "vips" to list the VIPs of this channel.',"VIPCommandHandler")})}},t.vipUser=function(e){var n=t.getLogin(e);return 1===e.trim().split(/\s+/).length&&n&&0!==n.length?{deferred:t.props.vipUserMutation(n).then(function(e){var i=e.grantVIP;if(!i||!i.grantee||!i.grantee.login)return{notice:t.getVIPErrorMessage(A.QUERY_ERROR)};var r=i.error,a=r&&r.code;return a?{notice:t.getVIPErrorMessage(a,n)}:{notice:Object(L.d)("You have added {login} as a VIP of this channel.",{login:n},"VIPCommandHandler")}}).catch(function(){return{notice:t.getVIPErrorMessage(A.QUERY_ERROR)}})}:{deferred:Promise.resolve({notice:Object(L.d)('Usage: "/vip [login]" - Grant VIP status to a user. Use "vips" to list the VIPs of this channel.',"VIPCommandHandler")})}},t}return h.__extends(t,e),t.prototype.render=function(){return f.createElement(x.a,{display:P.d.Hide},f.createElement(T.a,{"data-test-selector":w.UnVIP,command:"unvip",channelLogin:this.props.channelLogin,handler:this.unVIPUser}),f.createElement(T.a,{"data-test-selector":w.VIP,command:"vip",channelLogin:this.props.channelLogin,handler:this.vipUser}),f.createElement(T.a,{"data-test-selector":w.VIPs,command:"vips",channelLogin:this.props.channelLogin,handler:this.vips}))},t.prototype.getLogin=function(e){var t=this.props.activeChattersAPI;return t&&t.getActiveChatterLoginFromDisplayName(e)||e},t.prototype.getCommonErrorMessage=function(e,t){switch(e){default:return"";case F.V.GRANTEE_NOT_FOUND:case F.Pa.REVOKEE_NOT_FOUND:return Object(L.d)("Invalid username: {login}.",{login:t},"VIPCommandHandler");case F.V.FORBIDDEN:case F.Pa.FORBIDDEN:return Object(L.d)("You don't have permission to perform that action.","VIPCommandHandler")}},t.prototype.getVIPErrorMessage=function(e,t){switch(void 0===t&&(t=""),e){case F.V.FORBIDDEN:case F.V.GRANTEE_NOT_FOUND:return this.getCommonErrorMessage(e,t);case F.V.GRANTEE_ALREADY_VIP:return Object(L.d)("{login} is already a VIP of this channel.",{login:t},"VIPCommandHandler");case F.V.GRANTEE_CHAT_BANNED:return Object(L.d)("{login} is banned in this channel. You must unban this user before granting VIP status.",{login:t},"VIPCommandHandler");case F.V.MAX_VIPS_REACHED:return Object(L.d)("Unable to add VIP. Visit the Achievements page on your dashboard to learn how to unlock additional VIP slots.","VIPCommandHandler");case F.V.VIP_ACHIEVEMENT_INCOMPLETE:return Object(L.d)("Unable to add VIP. Visit the Achievements page on your dashboard to learn how to unlock this feature.","VIPCommandHandler");case A.QUERY_ERROR:case F.V.CHANNEL_NOT_FOUND:default:return Object(L.d)("Unable to add VIP.","VIPCommandHandler")}},t.prototype.getUnVIPErrorMessage=function(e,t){switch(void 0===t&&(t=""),e){case F.Pa.FORBIDDEN:case F.Pa.REVOKEE_NOT_FOUND:return this.getCommonErrorMessage(e,t);case F.Pa.REVOKEE_NOT_VIP:return Object(L.d)("{login} is not a VIP of this channel.",{login:t},"VIPCommandHandler");case A.QUERY_ERROR:case F.Pa.CHANNEL_NOT_FOUND:default:return Object(L.d)("Unable to remove VIP.","VIPCommandHandler")}},t.prototype.getVIPsErrorMessage=function(){return Object(L.d)("There was a problem fetching the list of VIPs. Please try again.","VIPCommandHandler")},t}(f.Component),V=Object(g.compose)(Object(U.a)(),Object(B.a)(),s.a)(H),G=n("vKai"),W=n("08uX"),q=n("Qii+"),z=function(e){return f.createElement(x.a,{attachTop:!0,attachLeft:!0,attachRight:!0,display:P.d.Flex,position:P.j.Absolute,flexDirection:P.e.Column,fullWidth:!0},f.createElement(q.a,{onSendMessage:e.onSendMessage,channelID:e.channelID,channelLogin:e.channelLogin}),f.createElement(W.a,{channelID:e.channelID,channelLogin:e.channelLogin}))},Y=n("Tznh"),K=n("GHzV"),Q=n("jBwP"),X=n("3tQW"),Z=n("+80q"),$=n("X2PJ"),J=n("Ws8v"),ee=n("dEDE"),te=n("7d/q"),ne=n("7uM4"),ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={show:!0},t.dismiss=function(){t.setState({show:!1})},t}return h.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.hostedChannelDisplayName!==this.props.hostedChannelDisplayName&&this.setState({show:!0})},t.prototype.render=function(){return this.state.show?f.createElement(J.a,{attachTop:!0,attachLeft:!0,attachRight:!0,background:$.a.AccentAlt2,color:$.c.Overlay,position:P.j.Absolute,className:"hosting-notification",padding:{y:.5,left:.5},"data-a-target":"hosting-notification-container"},f.createElement(x.a,{display:P.d.Flex,padding:1,justifyContent:P.h.Between,alignItems:P.b.Center,flexWrap:P.f.NoWrap},f.createElement(x.a,{display:P.d.Flex,flexWrap:P.f.NoWrap},f.createElement(x.a,{margin:{right:.5},flexShrink:0},f.createElement(Z.a,null,Object(L.d)("Hosting","ChatHostingNotification"))),f.createElement(x.a,{ellipsis:!0,flexShrink:1,margin:{right:.5}},f.createElement(Z.a,{type:Z.e.Strong,"data-test-selector":"hosting-notification__text","data-a-target":"hosting-notification-channel-name"},""+this.props.hostedChannelDisplayName))),f.createElement(x.a,{display:P.d.Flex,flexWrap:P.f.NoWrap,flexShrink:0},f.createElement(x.a,{display:P.d.Inline,padding:{right:.5}},f.createElement(ee.a,{overlay:!0,type:ee.d.Hollow,linkTo:{pathname:"/"+this.props.hostedChannelLogin,state:{content:"host_channel",medium:"chat_bar_notification"}},size:ee.b.Small,"data-a-target":"hosting-notification-gotochannel-button"},Object(L.d)("Go to Channel","ChatHostingNotification"))),f.createElement(te.a,{onClick:this.dismiss,ariaLabel:Object(L.d)("Close","HostingNotification"),size:te.b.Small,overlay:!0,icon:ne.b.Close,"data-a-target":"hosting-notification-close-button"})))):null},t}(f.Component),re=n("fezU"),ae=n("ZtEv"),oe=n("aF6k");var se=n("lZdE"),le=function(e){function t(t){var n=e.call(this,t)||this;return n.getActiveChatters=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=1/0),n.isDirty&&n.sortChatters(),!e)return n.sortedChatters.slice(0,t);var i=new RegExp("^"+Object(se.a)(e),"i");return n.sortedChatters.filter(function(e){return i.test(e.login)||e.displayName&&i.test(e.displayName)}).slice(0,t)},n.handleMessage=function(e){n.getUsersFromEvent(e).forEach(function(e){n.handleActiveChatter(e)})},n.getActiveChatterLoginFromDisplayName=function(e){return Object.keys(n.activeChatters).find(function(t){return n.activeChatters[t]&&n.activeChatters[t].displayName===e})||null},n.reset(),n}return h.__extends(t,e),t.prototype.componentDidMount=function(){this.props.setActiveChattersAPI({getActiveChatters:this.getActiveChatters,getActiveChatterLoginFromDisplayName:this.getActiveChatterLoginFromDisplayName}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},t.prototype.componentWillUnmount=function(){this.props.setActiveChattersAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage)},t.prototype.render=function(){return null},t.prototype.componentWillReceiveProps=function(e){e.channelLogin!==this.props.channelLogin&&this.reset(),e.currentUserLogin&&e.currentUserLogin!==this.props.currentUserLogin&&this.activeChatterLogins.has(e.currentUserLogin)&&(this.isDirty=!0,this.removeActiveChatter(e.currentUserLogin)),this.props.messageHandlerAPI!==e.messageHandlerAPI&&(this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),e.messageHandlerAPI&&e.messageHandlerAPI.addMessageHandler(this.handleMessage))},t.prototype.reset=function(){this.activeChatterLogins=new Set,this.activeChatters={},this.isDirty=!0,this.sortedChatters=[]},t.prototype.getUsersFromEvent=function(e){switch(e.type){case ae.b.Message:return[{login:e.user.userLogin,displayName:e.user.userDisplayName}];case ae.b.Ritual:return[{login:e.message.user.userLogin,displayName:e.message.user.userDisplayName}];case ae.b.Raid:return[{login:e.params.login,displayName:e.params.displayName}];case ae.b.Resubscription:case ae.b.Subscription:return[{login:e.user.username,displayName:e.user.displayName}];case ae.b.SubGift:return[{login:e.user.username,displayName:e.user.displayName},{displayName:e.recipientDisplayName,login:e.recipientLogin}];default:return[]}},t.prototype.handleActiveChatter=function(e){e.login!==this.props.channelLogin&&e.login!==this.props.currentUserLogin&&(this.activeChatterLogins.has(e.login)?(this.activeChatterLogins.delete(e.login),this.addActiveChatter(e)):(this.addActiveChatter(e),this.trimActiveChatters(),this.isDirty=!0))},t.prototype.addActiveChatter=function(e){this.activeChatterLogins.add(e.login),this.activeChatters[e.login]=e},t.prototype.removeActiveChatter=function(e){this.activeChatterLogins.delete(e),delete this.activeChatters[e]},t.prototype.trimActiveChatters=function(){if(!(this.activeChatterLogins.size<=300))for(var e=this.activeChatterLogins.size-300,t=this.activeChatterLogins.values(),n=0;n<e;n++){var i=t.next().value;this.removeActiveChatter(i)}},t.prototype.sortChatters=function(){var e=this,t=[{displayName:this.props.channelDisplayName||void 0,login:this.props.channelLogin}],n=Object.keys(this.activeChatters).map(function(t){return e.activeChatters[t]});n.sort(function(e,t){return e.login<t.login?-1:e.login>t.login?1:0}),this.sortedChatters=t.concat(n),this.isDirty=!1},t}(f.Component);var ce=Object(g.compose)(Object(r.connect)(function(e){var t=Object(o.e)(e);return{currentUserLogin:t&&t.login}}),s.a,u.a)(le),de=n("kz7j"),ue=n("XmgI");var me=n("TApp");var pe=n("a1OF");function he(e,t,n,i,r,a,o){return void 0===a&&(a=!1),void 0===o&&(o=!1),h.__assign({},Object(pe.a)(t,n,i,r,a,o),{type:ae.b.Message,messageType:e,id:n.id||Object(oe.a)(n.username)})}var fe=n("0Log");fe.ModerationActions.Ban,fe.ModerationActions.Timeout,fe.ModerationActions.Unban,fe.ModerationActions.Untimeout;var ge=n("oK83");var be=n("WytW"),ve=n("oi4T"),Ee=n("OpME"),ke=function(e){function t(t){var n=e.call(this,t)||this;return n.hasConnected=!1,n.sendMessage=function(e){var t=Object(be.g)(e,n.props.channelLogin);return t.handled?t.result&&t.result.deferred&&t.result.deferred.then(function(e){var t=e.notice;t&&n.addMessage(Object(me.a)(t))}):n.client.sendCommand(n.props.channelLogin,e).catch(function(e){L.k.warn("Failed to send message, or message timeout",e)}),t.result},n.onJoinedEvent=function(e){n.logger.debug("Connected",n.props.channelLogin),n.props.latencyTracking.reportInteractive(),n.hasConnected||(Object(ve.c)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode}),n.hasConnected=!0),n.chatConnected&&n.props.latencyTracking.reportCustomEvent(n.chatConnected),n.postMessageToCurrentChannel(e,{type:ae.b.Connected,id:Object(oe.a)("connected")})},n.onDisconnectedEvent=function(e){var t;n.props.latencyTracking.reportInteractive(),n.addMessage((t=e.reason,{type:ae.b.Disconnected,id:Object(oe.a)("disconnected"),reason:t}))},n.onReconnectingEvent=function(e){return n.addMessage({type:ae.b.Reconnect,id:Object(oe.a)("reconnect")})},n.onHostedEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.from,i=e.isAuto,r=e.viewers,{type:ae.b.Hosted,id:Object(oe.a)("hosted-"+t),hostingChannel:t,isAutohost:i,viewerCount:r}));var t,i,r},n.onHostingEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.target,{type:ae.b.Hosting,id:Object(oe.a)("hosting"),hostedChannel:t}));var t},n.onUnhostEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.channel,{type:ae.b.Unhost,id:Object(oe.a)("unhost-"+t)}));var t},n.onChatMessageEvent=function(e){n.postMessageToCurrentChannel(e,n.convertMessage(e))},n.onChatActionEvent=function(e){var t=n.props.bitsConfig||ue.a,i=he(ae.c.Action,e.action,e.message.user,t,n.getFilterFlagOptions(e.message.flags));n.postMessageToCurrentChannel(e,i)},n.onChatNoticeEvent=function(e){if("msg_rejected"!==e.msgid){var t=(i=e.channel,r=e.msgid,a=e.body,{type:ae.b.Notice,id:Object(oe.a)("notice"),channel:i,msgid:r,message:a});n.postMessageToCurrentChannel(e,t)}var i,r,a},n.onTimeoutEvent=function(e){n.onModerationEvent(ae.e.Timeout,e)},n.onBanEvent=function(e){n.onModerationEvent(ae.e.Ban,e)},n.onClearMsgEvent=function(e){var t,i,r;n.postMessageToCurrentChannel(e,(t=e.userLogin,i=e.targetMessageID,r=e.body,{type:ae.b.Moderation,moderationType:ae.e.Delete,id:Object(oe.a)(t+"-mod"),userLogin:t,targetMessageID:i,body:r}))},n.onModerationEvent=function(e,t){var i,r,a,o;n.postMessageToCurrentChannel(t,(i=e,r=t.userLogin,a=t.reason,o=t.duration,{type:ae.b.Moderation,moderationType:i,id:Object(oe.a)(r+"-mod"),userLogin:r,reason:a,duration:o}))},n.onSubscriptionEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods},{type:ae.b.Subscription,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods}))},n.onSubscriptionGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,senderCount:e.senderCount},{type:ae.b.SubGift,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin,senderCount:t.senderCount}))},n.onAnonSubscriptionGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin},{type:ae.b.AnonSubGift,id:Object(oe.a)(t.recipientDisplayName+"-sub"),channel:t.channel.slice(1),methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin}))},n.onSubscriptionMysteryGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount},{type:ae.b.SubMysteryGift,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,plan:t.plan,massGiftCount:t.massGiftCount,senderCount:t.senderCount}))},n.onAnonSubscriptionMysteryGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount},{type:ae.b.AnonSubMysteryGift,id:Object(oe.a)(t.massGiftCount+"-sub"),channel:t.channel.slice(1),plan:t.plan,massGiftCount:t.massGiftCount}))},n.onBitsCharityEvent=function(e){var t,i,r,a,o,s;n.postMessageToCurrentChannel(e,(t=e.total,i=e.charityName,r=e.daysLeft,a=e.hoursLeft,o=e.hashtag,s=e.learnMore,{type:ae.b.BitsCharity,id:Object(oe.a)("charity"),total:t,charityName:i,daysLeft:r,hoursLeft:a,hashtag:o,learnMore:s}))},n.onResubscriptionEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods,months:e.months,messageBody:e.body,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths},i=void 0,t.messageBody&&(i=he(ae.c.Post,t.messageBody,t.user,ue.a,null)),{type:ae.b.Resubscription,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,message:i,months:t.months,cumulativeMonths:t.cumulativeMonths,shouldShareStreakTenure:t.shouldShareStreakTenure,streakMonths:t.streakMonths}))},n.onGiftPaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user},{type:ae.b.GiftPaidUpgrade,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,senderLogin:t.senderLogin,senderName:t.senderName,user:t.user}))},n.onAnonGiftPaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user},{type:ae.b.AnonGiftPaidUpgrade,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,user:t.user}))},n.onPrimePaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,plan:e.plan,user:e.user},{type:ae.b.PrimePaidUpgrade,id:Object(oe.a)(t.user.username+"-sub"),channel:t.channel.slice(1),plan:t.plan,user:t.user}))},n.onRoomModsEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.usernames,{type:ae.b.RoomMods,id:Object(oe.a)("roommods"),moderatorLogins:t}));var t},n.onRoomStateEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.state,{type:ae.b.RoomState,id:Object(oe.a)("roomstate"),state:t}))},n.onEmoteOnlyModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:ae.b.EmoteOnlyMode,id:Object(oe.a)("emoteonlymode"),enabled:t}));var t},n.onSubscriberOnlyModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:ae.b.SubscriberOnlyMode,id:Object(oe.a)("subscriber-only"),enabled:t}));var t},n.onR9KModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:ae.b.R9KMode,id:Object(oe.a)("r9kmode"),enabled:t}));var t},n.onClearChatEvent=function(e){return n.postMessageToCurrentChannel(e,{type:ae.b.Clear,id:Object(oe.a)("clear")})},n.onRaidEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.channel,i=e.userLogin,r=e.params,{type:ae.b.Raid,id:Object(oe.a)("raid"),channel:t,userLogin:i,params:r}));var t,i,r},n.onUnraidEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.channel,i=e.userLogin,r=e.message,{type:ae.b.Unraid,id:Object(oe.a)("unraid"),channel:t,userLogin:i,message:r}));var t,i,r},n.onRitualEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t=e.type,i=n.convertMessage(e),{type:ae.b.Ritual,id:Object(oe.a)(i.user.userLogin+"-"+t+"-ritual"),ritualType:t,message:i}))},n.onFirstCheerEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t={message:n.convertMessage(e)},i=t.message,{type:ae.b.FirstCheerMessage,id:Object(oe.a)(i.user.userLogin+"-firstcheer"),message:i}))},n.onBitsBadgeTierEvent=function(e){var t,i,r;n.postMessageToCurrentChannel(e,(t=n.convertMessage(e),i=e.threshold,r=e.message.user,{type:ae.b.BitsBadgeTierMessage,id:Object(oe.a)("bits-badge-tier"),message:t,threshold:i,user:r}))},n.onBadgesUpdatedEvent=function(e){return n.addMessage((t=e.username,i=e.badges,{type:ae.b.BadgesUpdated,id:Object(oe.a)("updateBadges"),userName:t,badges:i}));var t,i},n.onPurchaseEvent=function(e){var t=n.props.bitsConfig||ue.a;n.postMessageToCurrentChannel(e,function(e,t,n,i){return{bitsConfig:i,message:t,purchase:e,timestamp:n,id:Object(oe.a)(t.user.userLogin+"-purchase"),type:ae.b.Purchase}}(e.purchase,n.convertMessage(e),e.timestamp,t))},n.onCrateEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t=n.convertMessage(e),i=e.selectedCount,{type:ae.b.CrateGift,id:Object(oe.a)("crate"),message:t,selectedCount:i}))},n.onRewardGiftEvent=function(e){var t,i,r,a,o;n.postMessageToCurrentChannel(e,(t=e.user,i=e.selectedCount,r=e.bitsAmount,a=e.minCheerAmount,o=e.domain,{type:ae.b.RewardGift,id:Object(oe.a)("rewardGift"),selectedCount:i,bitsAmount:r,minCheerAmount:a,messageID:t?t.id:null,userID:t?t.userID:null,userLogin:t?t.username:null,displayName:t?t.displayName:null,domain:o,sourceType:ge.b.chat_message}))},n.convertMessage=function(e){var t=n.props.bitsConfig||ue.a;return he(ae.c.Post,e.message.body,e.message.user,t,n.getFilterFlagOptions(e.message.flags))},n.logger=L.k.withCategory("chat-service"),n.logger.debug("Created"),n.service=L.q.tmi,n.client=L.q.tmi.client,n.disabled=L.q.tmi.disabled,n.registerCustomLatencyEvents(),n}return h.__extends(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){this.props.setChatConnectionAPI({sendMessage:this.sendMessage}),this.shouldConnectOnMount()?this.join(this.props.channelLogin):this.props.latencyTracking.reportInteractive(),this.props.emoteSets&&this.client.updateEmoteMap(Object(Ee.c)(this.props.emoteSets)),null===this.props.channelID&&this.skipLatencyMeasurements()},t.prototype.componentWillUnmount=function(){this.props.setChatConnectionAPI(),this.disconnect(this.props.channelLogin)},t.prototype.componentWillReceiveProps=function(e){(null===e.channelID&&e.channelID!==this.props.channelID&&this.skipLatencyMeasurements(),e.emoteSets&&e.emoteSets!==this.props.emoteSets&&this.client.updateEmoteMap(Object(Ee.c)(e.emoteSets)),!e.shouldConnect&&this.props.shouldConnect)?this.disconnect(this.props.channelLogin):(e.authToken!==this.props.authToken||e.channelLogin!==this.props.channelLogin||e.currentUserLogin!==this.props.currentUserLogin||e.shouldConnect&&!this.props.shouldConnect)&&(this.logger.debug("Reconnecting..."),this.registerCustomLatencyEvents(),this.join(e.channelLogin))},t.prototype.join=function(e){this.logger.debug("Joining channel and binding all event listeners",this.props.channelLogin),this.hasConnected=!1,this.joinedChannel&&this.joinedChannel!==e&&this.service.part(this.props.channelLogin),this.joinedChannel=e,this.connectHandlers(),this.service.join(e)},t.prototype.disconnect=function(e){this.logger.debug("Parting channel and unbinding all event listeners",e),this.disconnectHandlers(),this.service.part(e)},t.prototype.getFilterFlagOptions=function(e){return e&&0!==e.length?this.props.chatFilterExperimentMembership===Y.b.Excluded||!this.props.viewerChatFilterEnabled||this.props.isCurrentUserModerator?null:{list:e,preferences:this.props.viewerChatFilterSettings}:null},t.prototype.connectHandlers=function(){this.disconnectHandlers(),this.client.events.joined(this.onJoinedEvent),this.client.events.disconnected(this.onDisconnectedEvent),this.client.events.reconnecting(this.onReconnectingEvent),this.client.events.chat(this.onChatMessageEvent),this.client.events.usernotice(this.onChatMessageEvent),this.client.events.notice(this.onChatNoticeEvent),this.client.events.action(this.onChatActionEvent),this.client.events.badgesupdated(this.onBadgesUpdatedEvent),this.client.events.hosted(this.onHostedEvent),this.client.events.hosting(this.onHostingEvent),this.client.events.unhost(this.onUnhostEvent),this.client.events.purchase(this.onPurchaseEvent),this.client.events.crate(this.onCrateEvent),this.client.events.rewardgift(this.onRewardGiftEvent),this.client.events.ritual(this.onRitualEvent),this.client.events.firstcheer(this.onFirstCheerEvent),this.client.events.bitsbadgetier(this.onBitsBadgeTierEvent),this.client.events.subscription(this.onSubscriptionEvent),this.client.events.resub(this.onResubscriptionEvent),this.client.events.giftpaidupgrade(this.onGiftPaidUpgradeEvent),this.client.events.anongiftpaidupgrade(this.onAnonGiftPaidUpgradeEvent),this.client.events.primepaidupgrade(this.onPrimePaidUpgradeEvent),this.client.events.subgift(this.onSubscriptionGiftEvent),this.client.events.anonsubgift(this.onAnonSubscriptionGiftEvent),this.client.events.submysterygift(this.onSubscriptionMysteryGiftEvent),this.client.events.anonsubmysterygift(this.onAnonSubscriptionMysteryGiftEvent),this.client.events.timeout(this.onTimeoutEvent),this.client.events.ban(this.onBanEvent),this.client.events.clearchat(this.onClearChatEvent),this.client.events.clearmsg(this.onClearMsgEvent),this.client.events.raid(this.onRaidEvent),this.client.events.unraid(this.onUnraidEvent),this.client.events.mods(this.onRoomModsEvent),this.client.events.roomstate(this.onRoomStateEvent),this.client.events.subscribers(this.onSubscriberOnlyModeEvent),this.client.events.emoteonlymode(this.onEmoteOnlyModeEvent),this.client.events.r9kmode(this.onR9KModeEvent),this.client.events.charity(this.onBitsCharityEvent)},t.prototype.disconnectHandlers=function(){this.client.events.remove("joined",this.onJoinedEvent),this.client.events.remove("disconnected",this.onDisconnectedEvent),this.client.events.remove("reconnecting",this.onReconnectingEvent),this.client.events.remove("chat",this.onChatMessageEvent),this.client.events.remove("usernotice",this.onChatMessageEvent),this.client.events.remove("notice",this.onChatNoticeEvent),this.client.events.remove("action",this.onChatActionEvent),this.client.events.remove("badgesupdated",this.onBadgesUpdatedEvent),this.client.events.remove("hosted",this.onHostedEvent),this.client.events.remove("hosting",this.onHostingEvent),this.client.events.remove("unhost",this.onUnhostEvent),this.client.events.remove("purchase",this.onPurchaseEvent),this.client.events.remove("crate",this.onCrateEvent),this.client.events.remove("rewardgift",this.onRewardGiftEvent),this.client.events.remove("ritual",this.onRitualEvent),this.client.events.remove("firstcheer",this.onFirstCheerEvent),this.client.events.remove("bitsbadgetier",this.onBitsBadgeTierEvent),this.client.events.remove("subscription",this.onSubscriptionEvent),this.client.events.remove("resub",this.onResubscriptionEvent),this.client.events.remove("subgift",this.onSubscriptionGiftEvent),this.client.events.remove("submysterygift",this.onSubscriptionMysteryGiftEvent),this.client.events.remove("timeout",this.onTimeoutEvent),this.client.events.remove("ban",this.onBanEvent),this.client.events.remove("clearchat",this.onClearChatEvent),this.client.events.remove("raid",this.onRaidEvent),this.client.events.remove("unraid",this.onUnraidEvent),this.client.events.remove("mods",this.onRoomModsEvent),this.client.events.remove("roomstate",this.onRoomStateEvent),this.client.events.remove("subscribers",this.onSubscriberOnlyModeEvent),this.client.events.remove("emoteonlymode",this.onEmoteOnlyModeEvent),this.client.events.remove("r9kmode",this.onR9KModeEvent),this.client.events.remove("charity",this.onBitsCharityEvent)},t.prototype.postMessageToCurrentChannel=function(e,t){e.channel.toLowerCase().replace("#","")===this.props.channelLogin.toLowerCase()&&this.addMessage(t)},t.prototype.addMessage=function(e){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.handleMessage(e)},t.prototype.shouldConnectOnMount=function(){return this.props.shouldConnect&&!this.disabled},t.prototype.registerCustomLatencyEvents=function(){this.logger.debug("Registering custom latency events"),this.props.latencyTracking.resetCustomEvents(de.a.Chat),this.chatInitialized=this.registerInitEvent(),this.props.latencyTracking.reportCustomEvent(this.chatInitialized),this.shouldConnectOnMount()&&(this.chatConnected=this.registerConnectedEvent())},t.prototype.registerInitEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:3e3,group:de.a.Chat,key:de.b.ChatInit,label:de.c.Init})},t.prototype.registerConnectedEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:de.a.Chat,key:de.b.ChatConnected,label:de.c.Connected})},t.prototype.skipLatencyMeasurements=function(){this.props.latencyTracking.resetCustomEvents(de.a.Chat),this.props.latencyTracking.reportInteractive()},t}(f.Component);var Ce=Object(g.compose)(Object(r.connect)(function(e){var t=Object(o.e)(e);return{authToken:Object(o.a)(e),currentUserLogin:t&&t.login,viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled,viewerChatFilterSettings:e.chat.viewerChatFilterSettings}}),Object(m.withLatencyTracking)("ChatConnectionService"),l.a,u.a,Object(Y.d)(function(e){return e}))(ke),Se=n("x7UT"),ye=n("eDVu"),Ne=n("/aPz");var _e,Ie=n("olXY"),Te=n("HGFl"),Oe=n("NAv5");function De(e,t){var n=Object(Oe.addSeconds)(e,t);return Math.max(0,Object(Oe.differenceInSeconds)(n,new Date))}!function(e){e.Banned="msg_banned",e.Timedout="msg_timedout",e.Ratelimit="msg_ratelimit",e.Duplicate="msg_duplicate",e.Subsonly="msg_subsonly",e.EmoteOnly="msg_emoteonly",e.VerifiedEmail="msg_verified_email",e.Slowmode="msg_slowmode",e.Facebook="msg_facebook",e.BlizzardConnect="msg_blizzard",e.R9k="msg_r9k",e.Followers="msg_followersonly",e.FollowersZero="msg_followersonly_zero",e.FollowersFollowed="msg_followersonly_followed",e.ChannelSuspended="msg_channel_suspended",e.Suspended="msg_suspended",e.BadCharacters="msg_bad_characters"}(_e||(_e={}));var Ae,we=n("nIRf"),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reasons=[],t.updateHandlers=[],t.followTimerRunning=!1,t.slowModeTimerRunning=!1,t.followSecondsRemaining=0,t.slowSecondsRemaining=0,t.lastMessageSentAt=new Date(0),t.getRestrictions=function(){return 0===t.reasons.length?null:t.reasons},t.updateRestrictionState=function(){var e;if(!t.props.data||!t.props.data.channel)return!1;var n=((e={})[F.u.SUBSCRIBERS_ONLY]=t.shouldEnforceSubsOnly(),e[F.u.VERIFIED_ONLY]=t.shouldEnforceVerifiedOnly(),e[F.u.FOLLOWERS_ONLY]=t.shouldEnforceFollowersOnly(),e[F.u.SLOW_MODE]=t.shouldEnforceSlowMode(),e),i=[],r=t.extractReasons(t.props);if(r)for(var a=0,o=r;a<o.length;a++){var s=o[a];if(n[s])if(s===F.u.VERIFIED_ONLY)t.props.data.currentUser&&t.props.data.currentUser.isEmailVerified||i.push(s);else if(s===F.u.FOLLOWERS_ONLY){if(null!==t.getFollowedTime()){if(0===t.props.followerDurationSeconds)continue;if(t.props.followerDurationSeconds>0&&t.followSecondsRemaining<=0)continue}i.push(s)}else s===F.u.SLOW_MODE?t.slowSecondsRemaining>0&&i.push(s):i.push(s)}return t.reasons=i,!0},t.getRemainingFollowSeconds=function(){return!!t.getFollowedTime()?Math.min(t.followSecondsRemaining,t.props.followerDurationSeconds):null},t.getRemainingSlowModeSeconds=function(){return t.slowSecondsRemaining},t.addUpdateHandler=function(e){-1===t.updateHandlers.indexOf(e)&&(t.updateHandlers=t.updateHandlers.concat(e))},t.removeUpdateHandler=function(e){t.updateHandlers=t.updateHandlers.filter(function(t){return t!==e})},t.updateState=function(){var e=t.updateSlowState();return e=t.updateFollowState()||e,(e=t.updateRestrictionState()||e)&&t.notifyHandlers(),e},t.updateFollowState=function(){var e=t.getFollowedTime(),n=t.followSecondsRemaining,i=n;return e&&(i=De(e,t.props.followerDurationSeconds),t.followSecondsRemaining=i),t.followTimerRunning&&(null===e||t.followSecondsRemaining<=0||!t.props.followerMode)?(t.stopFollowTimer(),!0):!t.followTimerRunning&&t.props.followerMode&&t.props.followerDuration>0&&e&&0!==e.getTime()?(t.startFollowTimer(),!0):i!==n},t.updateSlowState=function(){if(t.props.data&&t.props.data.channel&&t.props.data.channel.self&&t.props.data.channel.self.lastRecentChatMessageAt){var e=Object(Te.e)(t.props.data.channel.self.lastRecentChatMessageAt);e>t.lastMessageSentAt&&(t.lastMessageSentAt=e)}var n=(new Date).getTime()/1e3,i=t.lastMessageSentAt.getTime()/1e3+t.props.slowModeDuration,r=t.slowSecondsRemaining;return t.slowSecondsRemaining=Math.round(Math.max(i-n,0)),t.slowModeTimerRunning&&(t.slowSecondsRemaining<=0||!t.props.slowMode||!t.shouldEnforceSlowMode())?(t.stopSlowTimer(),!0):t.slowSecondsRemaining>0&&r<=0?(t.startSlowTimer(),!0):t.slowSecondsRemaining!==r},t.notifyHandlers=function(){t.updateHandlers.forEach(function(e){return e()})},t.onChatEvent=function(e){var n=new Date(0);switch(e.type){case ae.b.Message:e.user.userID===t.props.currentUserID&&(n=new Date(e.timestamp));break;case ae.b.Notice:Object.values(_e).includes(e.msgid)&&(t.stopSlowTimer(),t.updateRestrictionState(),t.notifyHandlers())}n>t.lastMessageSentAt&&(t.lastMessageSentAt=n,t.updateSlowState()&&(t.updateRestrictionState(),t.notifyHandlers()))},t.startFollowTimer=function(){var e=t.getFollowedTime(),n=t.props.followerDurationSeconds;null===e||n<=0||!t.shouldEnforceFollowersOnly()||(t.followSecondsRemaining=De(e,n),t.followTimerRunning=!0,t.countdownTimer.start())},t.stopFollowTimer=function(){t.followTimerRunning=!1,t.followSecondsRemaining=0,t.slowModeTimerRunning||t.countdownTimer.stop()},t.startSlowTimer=function(){t.shouldEnforceSlowMode()&&(t.slowModeTimerRunning=!0,t.countdownTimer.start())},t.stopSlowTimer=function(){t.slowModeTimerRunning=!1,t.slowSecondsRemaining=0,t.lastMessageSentAt=new Date(0),t.followTimerRunning||t.countdownTimer.stop()},t.tick=function(){t.updateState()},t.getFollowedTime=function(){return t.props.data&&t.props.data.channel&&t.props.data.channel.self&&t.props.data.channel.self.follower&&t.props.data.channel.self.follower.followedAt?Object(Te.e)(t.props.data.channel.self.follower.followedAt):null},t.extractReasons=function(e){return e.data&&e.data.channel&&e.data.channel.self&&e.data.channel.self.chatRestrictedReasons?e.data.channel.self.chatRestrictedReasons:null},t.extractRequireVerified=function(e){return!!(e.data&&e.data.channel&&e.data.channel.chatSettings)&&e.data.channel.chatSettings.requireVerifiedAccount},t.restrictionIncluded=function(e){var n=t.extractReasons(t.props);return!!n&&-1!==n.indexOf(e)},t.shouldEnforceSubsOnly=function(){return t.props.subsOnlyMode&&t.restrictionIncluded(F.u.SUBSCRIBERS_ONLY)},t.shouldEnforceVerifiedOnly=function(){return!(!t.extractRequireVerified(t.props)||!t.restrictionIncluded(F.u.VERIFIED_ONLY))},t.shouldEnforceFollowersOnly=function(){return t.props.followerMode&&t.restrictionIncluded(F.u.FOLLOWERS_ONLY)},t.shouldEnforceSlowMode=function(){return t.props.slowMode&&t.restrictionIncluded(F.u.SLOW_MODE)},t}return h.__extends(t,e),t.prototype.componentDidMount=function(){var e=!1;this.props.setChatRestrictionsAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getRestrictions:this.getRestrictions,getRemainingFollowSeconds:this.getRemainingFollowSeconds,getRemainingSlowModeSeconds:this.getRemainingSlowModeSeconds}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent),this.countdownTimer=new we.a({onInterval:this.tick,intervalMillis:1e3}),this.shouldEnforceFollowersOnly()&&(this.props.followerDuration>0&&this.startFollowTimer(),e=!0),(this.shouldEnforceSubsOnly()||this.shouldEnforceVerifiedOnly())&&(e=!0),this.props.data&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.lastRecentChatMessageAt&&(this.lastMessageSentAt=Object(Te.e)(this.props.data.channel.self.lastRecentChatMessageAt)),this.shouldEnforceSlowMode()&&(e=this.updateSlowState()||e),e&&this.updateState()},t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.stopFollowTimer(),this.stopSlowTimer(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.setChatRestrictionsAPI()},t.prototype.componentWillReceiveProps=function(e){this.props.messageHandlerAPI!==e.messageHandlerAPI&&(this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),e.messageHandlerAPI&&e.messageHandlerAPI.addMessageHandler(this.onChatEvent))},t.prototype.componentDidUpdate=function(e){var t=!1,n=!1;n=this.needsStateUpdate(e)||n,n=this.updateSlowState()||n,n=this.updateFollowState()||n,this.slowModeTimerRunning&&e.slowModeDuration!==this.props.slowModeDuration&&(this.stopSlowTimer(),n=!0),e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(n=!0,t=!0),e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions&&(t=!0),t&&this.props.data&&this.props.data.refetch(),n&&(this.updateRestrictionState(),this.notifyHandlers())},t.prototype.needsStateUpdate=function(e){if((!e.data||e.data.loading)&&this.props.data&&!this.props.data.loading)return!0;var t=this.extractReasons(e),n=this.extractReasons(this.props);if(!t&&n||t&&!n)return!0;if(t&&n&&(t.length!==n.length||t.every(function(e,t){return e===n[t]})))return!0;if(e.subsOnlyMode!==this.props.subsOnlyMode||e.followerMode!==this.props.followerMode)return!0;if(e.followerDuration!==this.props.followerDuration)return!0;if(this.extractRequireVerified(e)!==this.extractRequireVerified(this.props))return!0;if(e.data&&this.props.data){var i=e.data,r=this.props.data;if(i.currentUser&&r.currentUser&&i.currentUser.isEmailVerified!==r.currentUser.isEmailVerified)return!0;if(r.channel&&r.channel.self){var a=r.channel.self,o=new Date(0),s=!1,l=!(!a.follower||!a.follower.followedAt);if(i.channel&&i.channel.self&&i.channel.self.follower&&i.channel.self.follower.followedAt&&(o=Object(Te.e)(i.channel.self.follower.followedAt),s=!0),s&&!l)return!0;if(l){var c=new Date(0);if(a.follower&&a.follower.followedAt&&(c=Object(Te.e)(a.follower.followedAt)),o.getTime()!==c.getTime())return!0}}}return!1},t}(f.Component);function Me(e){return!e.data||e.data.loading||!e.data.channel||!e.data.channel.id||!e.currentUserID}var Le=Object(g.compose)(Object(r.connect)(function(e){var t=Object(o.e)(e);return{currentUserID:t&&t.id,isStaff:!!(t&&t.roles&&t.roles.isStaff)}}),c.a,u.a,Object(a.a)(Ie,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(Se.a)([{topic:function(e){return Object(Ne.J)(e.currentUserID||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:Me},{topic:function(e){return Object(Ne.s)(e.currentUserID||"",e.data&&e.data.channel&&e.data.channel.id||"")},mapMessageTypesToProps:(Ae={},Ae[fe.PubsubMessageType.ModeratorAdded]="moderatorActions",Ae[fe.PubsubMessageType.ModeratorRemoved]="moderatorActions",Ae),skip:Me,skipMessage:function(e,t){var n=e;return!t.data.currentUser||n.data.target_user_id!==t.data.currentUser.id}}]),Object(ye.a)(function(e){return{query:Ie,variables:{channelLogin:e.channelLogin},topic:Object(Ne.I)(e.currentUserID||""),type:fe.PubsubMessageType.UserPropertiesUpdate,skip:Me(e),mutator:function(e,t){return t&&t.currentUser?void 0===e.changed.email_verified?t:(t.currentUser.isEmailVerified=e.changed.email_verified,t):t}}}),Object(ye.a)(function(e){return{query:Ie,variables:{channelLogin:e.channelLogin},topic:Object(Ne.o)(e.currentUserID||""),types:[fe.PubsubMessageType.UserFollowedEvent,fe.PubsubMessageType.UserUnfollowedEvent],skip:Me(e),mutator:function(e,t){if(!t||!t.channel||!t.channel.self)return t;if(function(e){return e.type===fe.PubsubMessageType.UserFollowedEvent}(e)){if(e.target_user_id!==t.channel.id)return t;t.channel.self.follower?t.channel.self.follower.followedAt=e.timestamp:t.channel.self.follower={__typename:"FollowerEdge",followedAt:e.timestamp}}else if(function(e){return e.type===fe.PubsubMessageType.UserUnfollowedEvent}(e)){if(e.target_user_id!==t.channel.id)return t;t.channel.self.follower&&(t.channel.self.follower.followedAt=null)}return t}}}),Object(Q.b)(function(e){return{followerDuration:e.followerDuration,followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}}))(Re),Ue=n("lw3P"),Be=n("nkgB"),Fe=n("RcPG"),Pe=1e3,xe=1e3,je=200,He=function(e){function t(t){var n=e.call(this,t)||this;return n.delayedMessageBuffer=[],n.updateHandlers=[],n.handleMessage=function(e){var t=!1;switch(e.type){case ae.b.Message:if(n.uncountedMessages++,e.user.userID&&n.blockedUsers.has(e.user.userID)){if(!n.props.shouldSeeBlockedAndDeletedMessages)return;e.hidden=!n.unhideUsers.has(e.user.userID)}var i=e.messageParts[0];if(i&&i.type===Fe.a.Text&&i.content.startsWith(":act "))return;t=!n.isOwnMessage(e);break;case ae.b.Resubscription:t=!!e.message&&!n.isOwnMessage(e.message);break;case ae.b.Moderation:var r=e.moderationType,a=e.userLogin;if(n.moderatedUsers.has(a))return;var o=[n.buffer,n.delayedMessageBuffer.map(function(e){return e.event})];if(r===ae.e.Delete){var s=e.targetMessageID;o.forEach(function(e){e.some(function(e){switch(e.type){case ae.b.Message:if(e.id===s)return e.deleted=!0,!0;break;case ae.b.Resubscription:case ae.b.Ritual:if(e.message&&e.id===s)return e.message.deleted=!0,!0}return!1})})}else o.forEach(function(e){e.forEach(function(e){switch(e.type){case ae.b.Message:e.user&&a===e.user.userLogin&&e.messageParts&&!e.deleted&&(e.deleted=!0,e.banned=!0);break;case ae.b.Resubscription:case ae.b.Ritual:e.message&&a===e.message.user.userLogin&&!e.message.deleted&&(e.message.deleted=!0,e.message.banned=!0)}})}),n.moderatedUsers.add(a),setTimeout(n.unmoderateUser(a),Pe);break;case ae.b.Disconnected:return;case ae.b.Reconnect:if(n.buffer.find(function(t){return t.id===e.id})||n.delayedMessageBuffer.find(function(t){return t.event.id===e.id}))return;break;case ae.b.Clear:n.clear();break;case ae.b.AutoMod:switch(e.autoModType){case ae.a.MessageModApproved:case ae.a.MessageModDenied:return void[n.buffer,n.delayedMessageBuffer.map(function(e){return e.event})].forEach(function(t){t.some(function(t){return!(t.type!==ae.b.AutoMod||t.autoModType!==ae.a.MessageRejectedPrompt||!t.rejectedMessage||t.rejectedMessage.id!==e.msg_id)&&(t.rejectedMessage.deleted=!0,!0)})})}}n.delayedMessageBuffer.push({event:e,time:Date.now(),shouldDelay:t})},n.getMessages=function(){return n.buffer},n.unmoderateUser=function(e){return function(){n.moderatedUsers.delete(e)}},n.isOwnMessage=function(e){var t=e.user;return!(!n.props.currentUserLogin||!t||t.userLogin!==n.props.currentUserLogin)},n.addUpdateHandler=function(e){-1===n.updateHandlers.indexOf(e)&&(n.updateHandlers=n.updateHandlers.concat(e))},n.removeUpdateHandler=function(e){n.updateHandlers=n.updateHandlers.filter(function(t){return t!==e})},n.delayedMessageBuffer=[],n.buffer=[],n.moderatedUsers=new Set,n.blockedUsers=new Set(n.props.blockedUsers),n.unhideUsers=new Set,n.flushInterval=setInterval(function(){return n.flushRawMessages()},je),n.uncountedMessages=0,n.chatRateMeasurements=[],n.chatRateMeasurementInterval=setInterval(function(){return n.measureChatRate()},xe),n}return h.__extends(t,e),t.prototype.componentDidMount=function(){this.props.setMessageBufferAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getMessages:this.getMessages}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},t.prototype.componentWillUnmount=function(){this.props.setMessageBufferAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),clearInterval(this.flushInterval),clearInterval(this.chatRateMeasurementInterval)},t.prototype.render=function(){return null},t.prototype.componentWillReceiveProps=function(e){this.props.messageHandlerAPI!==e.messageHandlerAPI&&(this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),e.messageHandlerAPI&&e.messageHandlerAPI.addMessageHandler(this.handleMessage)),e.blockedUsers!==this.props.blockedUsers&&(this.blockedUsers=new Set(e.blockedUsers)),e.unhideIgnoredUsers!==this.props.unhideIgnoredUsers&&(this.unhideUsers=new Set(e.unhideIgnoredUsers)),this.props.isBackground&&!e.isBackground&&(this.chatRate>5&&this.clear(20),this.notifySubscribers())},t.prototype.clear=function(e){if(void 0===e&&(e=0),e<=0)return this.buffer=[],void(this.delayedMessageBuffer=[]);this.buffer=this.buffer.slice(-e)},t.prototype.isDeletable=function(e){return void 0!==e.deleted},t.prototype.flushRawMessages=function(){var e=this,t=[],n=Date.now(),i=!1;this.delayedMessageBuffer.forEach(function(r){var a=r.event,o=r.time,s=r.shouldDelay;o<=n-e.delayDuration||!s?!e.props.shouldSeeBlockedAndDeletedMessages&&e.isDeletable(a)&&a.deleted||(e.buffer.push(a),i=!0):t.push({event:a,time:o,shouldDelay:s})}),this.delayedMessageBuffer=t,i&&(this.clear(150),this.props.isBackground||this.notifySubscribers())},t.prototype.measureChatRate=function(){3===this.chatRateMeasurements.length&&this.chatRateMeasurements.shift(),this.chatRateMeasurements.push(this.uncountedMessages),this.uncountedMessages=0},Object.defineProperty(t.prototype,"chatRate",{get:function(){return 0===this.chatRateMeasurements.length?0:this.chatRateMeasurements.reduce(function(e,t){return e+t})/this.chatRateMeasurements.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayDuration",{get:function(){return this.props.isCurrentUserModerator?0:this.props.data.user&&this.props.data.user.chatSettings&&this.props.data.user.chatSettings.chatDelayMs||0},enumerable:!0,configurable:!0}),t.prototype.notifySubscribers=function(){this.updateHandlers.forEach(function(e){return e()})},t}(f.Component);var Ve=Object(g.compose)(Object(r.connect)(function(e){var t=Object(o.e)(e);return{authToken:Object(o.a)(e),currentUserLogin:t&&t.login,isLoggedIn:Object(o.f)(e)}}),Object(a.a)(Be,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(Ue.a)(),d.a,u.a)(He),Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageHandlers=[],t.addMessageHandler=function(e){-1===t.messageHandlers.indexOf(e)&&(t.messageHandlers=t.messageHandlers.concat(e))},t.removeMessageHandler=function(e){t.messageHandlers=t.messageHandlers.filter(function(t){return t!==e})},t.handleMessage=function(e){for(var n=t.messageHandlers.length,i=0;i<n;i++)t.messageHandlers[i](e)},t}return h.__extends(t,e),t.prototype.componentDidMount=function(){this.props.setMessageHandlerAPI({addMessageHandler:this.addMessageHandler,removeMessageHandler:this.removeMessageHandler,handleMessage:this.handleMessage})},t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.props.setMessageHandlerAPI()},t}(f.Component),We=Object(g.compose)(u.a)(Ge),qe=n("KGti"),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribe=function(e){t.unsubscribe(),e.channelID&&e.currentUserID&&(t.unsubscriber=L.m.subscribe({topic:Object(Ne.s)(e.currentUserID,e.channelID),onMessage:t.handleMessage}))},t.unsubscribe=function(){t.unsubscriber&&(t.unsubscriber(),t.unsubscriber=null)},t.handleMessage=function(e){switch(e.data.moderation_action){case fe.ModerationActions.AutoModRejected:var n=Object(qe.j)(e.data.msg_id,e.data.args[1],e.data.args[0],e.data.args[2]);t.addMessage(n);break;case fe.ModerationActions.AutoModCheerRejected:var i=Object(qe.c)(e.data.msg_id,e.data.args[1],e.data.args[0],e.data.args[2],e.data.target_user_id);t.addMessage(i);break;case fe.ModerationActions.ApprovedAutoModMessage:t.addMessage(Object(qe.g)(e));break;case fe.ModerationActions.DeniedAutoModMessage:t.addMessage(Object(qe.h)(e));break;case fe.TargetedModerationActions.AutoModMessageRejected:t.addMessage(Object(qe.i)());break;case fe.TargetedModerationActions.AutoModMessageApproved:t.addMessage(Object(qe.e)());break;case fe.TargetedModerationActions.AutoModMessageDenied:t.addMessage(Object(qe.f)());break;case fe.TargetedModerationActions.AutoModCheerDenied:t.addMessage(Object(qe.b)());break;case fe.TargetedModerationActions.AutoModCheerTimeout:t.addMessage(Object(qe.d)());break;case fe.ModerationActions.Ban:t.addMessage(Object(qe.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,e.data.args[1]));break;case fe.ModerationActions.Delete:t.addMessage(Object(qe.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,void 0,e.data.args[1],e.data.args[2]));break;case fe.TargetedModerationActions.DeleteNotification:t.addMessage(Object(qe.l)(fe.TargetedModerationActions.DeleteNotification,e.data.target_user_id,e.data.args[0],e.data.msg_id));break;case fe.ModerationActions.Unban:case fe.ModerationActions.Timeout:case fe.ModerationActions.Untimeout:case fe.ModerationActions.Mod:case fe.ModerationActions.Unmod:t.addMessage(Object(qe.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],e.data.args[1],e.data.args[2]));break;case fe.ModerationActions.AutoModEnabled:case fe.ModerationActions.Clear:case fe.ModerationActions.EmoteOnly:case fe.ModerationActions.EmoteOnlyOff:case fe.ModerationActions.FollowersOnly:case fe.ModerationActions.FollowersOnlyOff:case fe.ModerationActions.Host:case fe.ModerationActions.R9kBeta:case fe.ModerationActions.R9kBetaOff:case fe.ModerationActions.Raid:case fe.ModerationActions.Slow:case fe.ModerationActions.SlowOff:case fe.ModerationActions.SubsBeta:case fe.ModerationActions.SubscribersOnly:case fe.ModerationActions.SubscribersOnlyOff:case fe.ModerationActions.Unhost:case fe.ModerationActions.AddBlockedTerm:case fe.ModerationActions.AddPermittedTerm:case fe.ModerationActions.DeleteBlockedTerm:case fe.ModerationActions.DeletePermittedTerm:case fe.ModerationActions.ModifiedAutoModProperties:case fe.ModerationActions.Unraid:t.addMessage(Object(qe.k)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args));break;default:L.k.warn("Unknown moderation action type",e.data.moderation_action)}},t}return h.__extends(t,e),t.prototype.componentDidMount=function(){this.subscribe(this.props)},t.prototype.componentWillReceiveProps=function(e){e.channelID===this.props.channelID&&e.currentUserID===this.props.currentUserID||this.subscribe(e)},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){return null},t.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):L.k.warn("ModerationActionService received an event before the MessageHandlerAPI was available.")},t}(f.Component);var Ye=Object(g.compose)(Object(r.connect)(function(e){var t=Object(o.e)(e);return{currentUserID:t&&t.id}}),u.a)(ze),Ke=n("BJwa"),Qe="(?:\\W|^)",Xe="(?:$|\\W)",Ze="PowerUpL DarkMode PowerUpR",$e={failSilently:!0,placeholder:null},Je=b.a.wrap(function(){return n.e(198).then(n.bind(null,"Gnts"))},"MysteryGiftChatBannerQueue",$e),et=b.a.wrap(function(){return n.e(197).then(n.bind(null,"KSjr"))},"NativeBroadcastNotification",$e),tt=b.a.wrap(function(){return n.e(196).then(n.bind(null,"T3fw"))},"Orbis",$e),nt=b.a.wrap(function(){return n.e(195).then(n.bind(null,"7htX"))},"RaidNotification",$e),it=b.a.wrap(function(){return n.e(194).then(n.bind(null,"rg60"))},"RitualsOnboardingSticky",$e),rt=b.a.wrap(function(){return n.e(193).then(n.bind(null,"miqE"))},"ShareToChat",$e),at=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasReceivedInitialRoomState:!1,hostedChannelLogin:null,userBadges:null},n.sendMessage=function(e){if(!e||0===e.length||!n.props.authToken)return!1;if(!n.props.chatConnectionAPI)return!1;var t=n.props.chatConnectionAPI.sendMessage(e);return(!t||!t.preserveInput)&&(n.parseOutgoingMessage(e),!0)},n.pushMessage=function(e){n.props.messageHandlerAPI&&n.props.messageHandlerAPI.handleMessage(e)},n.onChatEvent=function(e){switch(e.type){case ae.b.Hosting:n.hostingHandler(e.hostedChannel);break;case ae.b.Unhost:n.hostingHandler(null);break;case ae.b.RoomState:n.onRoomStateUpdated(e.state);break;case ae.b.BadgesUpdated:n.onBadgesUpdated(e)}},n.hostingHandler=function(e){n.setState({hostedChannelLogin:e}),n.props.onHostingChange&&n.props.onHostingChange(e)},n.createOutgoingTokenMatchers=function(e){n.outgoingTokenMatchers=e.map(function(e){return{token:e,regex:new RegExp(""+Qe+e+Xe)}})},n.parseOutgoingMessage=function(e){n.outgoingTokenMatchers.forEach(function(t){t.regex.test(e)&&n.onOutgoingTokenMatch(t.token,e)})},n.onOutgoingTokenMatch=function(e,t){switch(e){case Ze:var i=n.props.theme===v.a.Light?v.a.Dark:v.a.Light;n.props.onThemeChange(i);break;default:return}},n.onBadgesUpdated=function(e){n.setState({userBadges:e.badges})},n.onRoomStateUpdated=function(e){n.props.onRoomStateUpdate(e),n.setState({hasReceivedInitialRoomState:!0})},n.createOutgoingTokenMatchers([Ze]),n}return h.__extends(t,e),t.prototype.componentDidMount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent)},t.prototype.componentWillUnmount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent)},t.prototype.componentWillReceiveProps=function(e){var t,n;e.channelLogin!==this.props.channelLogin&&this.setState({hostedChannelLogin:null}),this.state.hasReceivedInitialRoomState&&(this.props.followerModeDuration===e.followerModeDuration&&this.props.followerModeEnabled===e.followerModeEnabled||this.pushMessage((t=e.followerModeEnabled,n=e.followerModeDuration,{type:ae.b.FollowerOnlyMode,id:Object(oe.a)("follower-only"),enabled:t,length:n})),this.props.slowModeEnabled===e.slowModeEnabled&&this.props.slowModeDuration===e.slowModeDuration||this.pushMessage(function(e,t){return{type:ae.b.SlowMode,id:Object(oe.a)("slowmode"),enabled:e,length:t}}(e.slowModeEnabled,e.slowModeDuration))),this.props.messageHandlerAPI!==e.messageHandlerAPI&&(this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),e.messageHandlerAPI&&e.messageHandlerAPI.addMessageHandler(this.onChatEvent))},t.prototype.render=function(){var e,t=this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],n=this.props.isHidden||!this.props.rightColumnExpanded&&!this.props.inlineRightColumnExpanded,i=!(!this.props.isEmbedded&&!this.props.isPopout&&n&&!this.props.shouldConnectChat);return this.props.firstPageLoaded&&(e=f.createElement(tt,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage})),f.createElement(f.Fragment,null,f.createElement(Ke.b,{authToken:this.props.authToken,bitsConfig:this.props.bitsConfig,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRoomHeader:e,chatRules:this.props.chatRules,closeRoomPicker:this.props.closeRoomPicker,currentUserDisplayName:this.props.userDisplayName,currentUserLogin:this.props.userLogin,emotes:t,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},firstPageLoaded:this.props.firstPageLoaded,hostedChannelLogin:this.state.hostedChannelLogin,isBackground:this.props.isBackground,isChatRulesOpen:this.props.isChatRulesOpen,isCurrentUserModerator:this.props.isCurrentUserModerator,isEmbedded:this.props.isEmbedded,isHidden:this.props.isHidden,isHostMode:!!this.state.hostedChannelLogin,isOwnChannel:this.isOwnChannel,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatUnhide:this.props.onChatUnhide,onCloseChatRules:this.props.onCloseChatRules,onPushMessage:this.pushMessage,onSendMessage:this.sendMessage,onShowChatRules:this.props.onShowChatRules,theme:this.props.theme,userBadges:this.state.userBadges,userID:this.props.userID,useBaseBackground:this.props.useBaseBackground},this.props.firstPageLoaded&&this.props.authToken&&!this.props.isEmbedded&&f.createElement(rt,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,bitsConfig:this.props.bitsConfig,channelID:this.props.channelID,"data-test-selector":"share-to-chat"}),this.props.hostedChannelDisplayName&&!this.props.isPopout&&f.createElement(ie,{hostedChannelDisplayName:this.props.hostedChannelDisplayName||"",hostedChannelLogin:this.state.hostedChannelLogin||""}),this.props.firstPageLoaded&&!this.props.isEmbedded&&this.props.channelID&&f.createElement(nt,{channelID:this.props.channelID,"data-test-selector":"raid-notification"}),this.props.firstPageLoaded&&!this.props.isEmbedded&&this.props.channelID&&f.createElement(Je,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&f.createElement(et,{channelLogin:this.props.channelLogin}),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&this.props.channelID&&f.createElement(K.a,null,f.createElement(it,{channelID:this.props.channelID,channelLogin:this.props.channelLogin})),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&this.props.channelID&&f.createElement(z,{channelLogin:this.props.channelLogin,onSendMessage:this.sendMessage,channelID:this.props.channelID})),this.renderCommandHandlers(),f.createElement(ce,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin}),f.createElement(Le,{channelLogin:this.props.channelLogin}),f.createElement(Ce,{bitsConfig:this.props.bitsConfig,channelID:this.props.channelID,channelLogin:this.props.channelLogin,emoteSets:this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:!!this.state.hostedChannelLogin,shouldConnect:i}),f.createElement(Ve,{channelLogin:this.props.channelLogin,shouldSeeBlockedAndDeletedMessages:this.props.shouldSeeBlockedAndDeletedMessages,isBackground:!!this.props.isBackground,isCurrentUserModerator:this.props.isCurrentUserModerator,unhideIgnoredUsers:this.props.unhideIgnoredUsers}),f.createElement(We,null),f.createElement(Ye,{channelID:this.props.channelID}))},t.prototype.renderCommandHandlers=function(){if(this.props.isBackground)return null;var e=this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},t=this.props,n=t.channelID,i=t.isPopout,r=t.userLogin;return f.createElement(f.Fragment,null,f.createElement(G.a,{channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isPopout:i,userLogin:r,userID:this.props.userID,emoteMap:e}),f.createElement(M.a,{channelLogin:this.props.channelLogin,userLogin:r,userID:this.props.userID,isEmbedded:this.props.isEmbedded,isPopout:i}),f.createElement(S.a,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,suppressLocalSuccessMessage:!0}),f.createElement(y.a,{channelLogin:this.props.channelLogin,isPopout:i}),f.createElement(N.a,{channelLogin:this.props.channelLogin}),f.createElement(I.a,{channelID:n,channelLogin:this.props.channelLogin}),f.createElement(V,{channelID:n,channelLogin:this.props.channelLogin}),f.createElement(_.a,{currentUserLogin:r,channelLogin:this.props.channelLogin}),this.props.chatRules&&!!this.props.chatRules.length&&f.createElement(R,{channelLogin:this.props.channelLogin}))},Object.defineProperty(t.prototype,"isOwnChannel",{get:function(){return this.props.userID===this.props.channelID},enumerable:!0,configurable:!0}),t}(f.Component);var ot=Object(Q.b)(function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeDuration:e.slowModeDuration,slowModeEnabled:e.slowMode,onRoomStateUpdate:function(t){return e.updateRoomState(t)}}})(at),st=Object(g.compose)(Object(r.connect)(function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isHidden:e.chat.isHidden,isLoggedIn:Object(o.f)(e),rightColumnExpanded:e.ui.rightColumnExpanded,inlineRightColumnExpanded:e.ui.inlineRightColumnExpanded,theme:Object(C.a)(e),unhideIgnoredUsers:e.chat.unhideIgnoredUsers}},function(e){return Object(g.bindActionCreators)({onCloseChatRules:function(){return O.A()},onShowChatRules:function(){return O.Q()},onChatUnhide:function(){return O.P()},onThemeChange:function(e){return Object(k.b)(e,k.a.TypedCommand)}},e)}),Object(m.withLatencyTracking)("ChatRoom",{autoReportInteractive:!0}),Object(E.a)(),l.a,u.a)(function(e){return f.createElement(Q.a,null,f.createElement(re.a,null,f.createElement(Y.a,null,f.createElement(X.a,null,f.createElement(ot,h.__assign({},e))))))}),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h.__extends(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.channelData.channel,t=this.props.userData&&this.props.userData.user,n=!1,i=!1,r=!1;if(t&&e&&e.self){var a=t.login===e.login,o=t.roles&&t.roles.isGlobalMod||!1,s=t.roles&&t.roles.isSiteAdmin||!1;i=t.roles&&t.roles.isStaff||!1,r=e.self.isModerator||a||o,n=e.self.isModerator||a||o||s}var l=void 0;return e&&e.chatSettings&&e.chatSettings.rules&&e.chatSettings.rules.filter(function(e){return e.trim().length}).length&&(l=e.chatSettings.rules),f.createElement(st,{key:this.props.channelLogin,authToken:this.props.sessionUser&&this.props.sessionUser.authToken,bitsConfig:this.props.bitsConfig,channelDisplayName:e&&e.displayName,channelID:e&&e.id,channelLogin:this.props.channelLogin,chatRules:l,clientID:this.props.clientID,isBackground:this.props.isBackground,isCurrentUserModerator:n,isEmbedded:!!this.props.isEmbedded,isPopout:!!this.props.isPopout,hostedChannelDisplayName:this.props.hostedChannelDisplayName,closeRoomPicker:this.props.closeRoomPicker,onHostingChange:this.props.onHostingChange,userDisplayName:this.props.sessionUser&&this.props.sessionUser.displayName,userID:this.props.sessionUser&&this.props.sessionUser.id.toString(),userLogin:this.props.sessionUser&&this.props.sessionUser.login,isStaff:i,shouldSeeBlockedAndDeletedMessages:r,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground})},t}(f.Component),ct=n("9P+5");var dt=Object(i.compose)(Object(r.connect)(function(e){return{sessionUser:Object(o.e)(e)}}),Object(a.a)(p,{name:"channelData",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(a.a)(ct,{name:"userData",skip:function(e){return!e.sessionUser}}),Object(m.withLatencyTracking)("Chat"))(lt),ut=Object(i.compose)(s.b,l.b,d.b,u.b,c.b)(dt);n.d(t,!1,function(){return lt}),n.d(t,"b",function(){return dt}),n.d(t,"a",function(){return ut})},"L/cU":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return h});var i,r=n("pVnL"),a=n.n(r),o=n("q1tI"),s=n("fNzW"),l=n("vCsY"),c=n("C9w8"),d=n("fPaz"),u=n("uG/k"),m=n("hnjF"),p=n("Ws8v");n("Lk5B");!function(e){e.Default="tw-card-img--size-default",e.Size2="tw-card-img--size-2",e.Size3="tw-card-img--size-3",e.Size4="tw-card-img--size-4",e.Size6="tw-card-img--size-6",e.Size8="tw-card-img--size-8",e.Size12="tw-card-img--size-12",e.Size16="tw-card-img--size-16",e.Size24="tw-card-img--size-24",e.Size32="tw-card-img--size-32"}(i||(i={}));var h=function(e){var t={"tw-card-img":!0};return e.size&&e.size!==i.Default&&(t[e.size]=!0),o.createElement(p.a,a()({className:Object(s.a)(t),flexShrink:0,borderRadius:e.borderRadius,overflow:m.i.Hidden},Object(l.a)(e)),o.createElement(d.b,{ratio:e.aspect?e.aspect:d.c.Aspect16x9,overflow:e.overflow},o.createElement(u.a,Object(c.a)(e))),e.children)};h.displayName="CardImage",h.displayName="CardImage"},L6L7:function(e,t,n){},Lk5B:function(e,t,n){},MBj5:function(e,t,n){},MIhh:function(e,t,n){},MJbm:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=(n("efEE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=a.q.logger.withCategory("resize-detector"),t.onScroll=function(){var e=t.container,n=e.offsetWidth,i=e.offsetHeight,r=e.offsetLeft,a=e.offsetTop;t.logger.debug("Resize Detector -- onScroll"),n===t.width&&i===t.height&&a===t.top&&r===t.left||(t.width=n,t.height=i,t.props.onResize(n,i,a,r)),t.reset()},t.setGrowDivRef=function(e){return t.growDiv=e},t.setGrowChildDivRef=function(e){return t.growChildDiv=e},t.setShrinkDivRef=function(e){return t.shrinkDiv=e},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement("div",{className:"resize-detector"},r.createElement("div",{className:"resize-detector",ref:this.setGrowDivRef},r.createElement("div",{className:"resize-detector__grow",ref:this.setGrowChildDivRef})),r.createElement("div",{className:"resize-detector",ref:this.setShrinkDivRef},r.createElement("div",{className:"resize-detector__shrink"})))},t.prototype.componentDidMount=function(){if(this.growDiv){this.growDiv.parentElement||this.logger.warn("growDiv.parentElement is undefined!"),this.container=this.growDiv.parentElement.parentElement;var e=this.container.style.position;if("relative"!==e&&"absolute"!==e&&"fixed"!==e){var t=window.getComputedStyle(this.container);t&&"static"===t.getPropertyValue("position")&&(this.container.style.position="relative")}this.onScroll(),this.growDiv.addEventListener("scroll",this.onScroll),this.shrinkDiv.addEventListener("scroll",this.onScroll)}else this.logger.warn("growDiv is undefined!")},t.prototype.componentWillUnmount=function(){this.growDiv.removeEventListener("scroll",this.onScroll),this.shrinkDiv.removeEventListener("scroll",this.onScroll)},t.prototype.reset=function(){var e=this.growDiv,t=this.shrinkDiv,n=this.growChildDiv.style;n.width="100000px",n.height="100000px",e.scrollLeft=1e5,e.scrollTop=1e5,t.scrollLeft=1e5,t.scrollTop=1e5},t}(r.Component));n.d(t,"a",function(){return o})},MVDO:function(e,t,n){},MfJU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"modLogsMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:323}};n.loc.source={body:"# fragment for mod logs message\nfragment modLogsMessage on ModLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelLogin: $channelLogin) {\nsetID\nversion\n}\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Mj6i:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),r=n("yR8l"),a=n("0FG4"),o=n("S4w9");function s(){return Object(r.a)(o,{options:function(e){return{variables:{withOwner:!0}}},props:function(e){if(e.data){var t=e.data.currentUser&&e.data.currentUser.emoteSets||[],n=t&&Object(a.b)(t);return{emoteSetsData:i.__assign({},e.data,{currentUser:e.data.currentUser||null,emoteMap:n,emoteSets:t})}}return{}},skip:function(e){return!e.isLoggedIn}})}},N0BP:function(e,t,n){"use strict";function i(e){for(var t={},n=0,i=Object.keys(e).filter(function(e){return e.startsWith("data-")});n<i.length;n++){var r=i[n];t[r]=e[r]}return t}n.d(t,"a",function(){return i})},NMMG:function(e,t,n){"use strict";function i(e,t){return parseInt(t,10)<parseInt(e,10)?t+"_"+e:e+"_"+t}function r(e,t){return e.split("_").find(function(e){return e!==t})||null}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},NNSq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("/7QA"),a=n("sAMt");function o(e){return i.__awaiter(this,void 0,Promise,function(){var t,n;return i.__generator(this,function(i){switch(i.label){case 0:t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.q.apollo.client.query({query:a,variables:{login:e}})];case 2:return t=i.sent(),[3,4];case 3:return n=i.sent(),r.k.warn(n,"Failed to fetch user targeted by chat command.",{userLogin:e}),[3,4];case 4:return t&&t.data.user.id?[2,t.data.user.id]:[2,null]}})})}},NWfm:function(e,t,n){},NvZ5:function(e,t,n){},OCTF:function(e,t,n){},OXQr:function(e,t,n){},OpME:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h});var i=n("mrSG"),r=n("lZdE"),a=n("cpJf"),o={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},s=["1.0","2.0","3.0"],l=new Set([457,33,42,0]);function c(e){for(var t=[],n=function(e){if(!e||null===e.id||null===e.token)return"continue";var n=o[e.token]||e.token,r=s.reduce(function(t,n){var i=t;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v1/"+e.id+"/"+n+" "+n+"x")},"");t.push(i.__assign({},e,{displayName:n,srcSet:r}))},r=0,a=e;r<a.length;r++){n(a[r])}return t}function d(e){return e.filter(function(e){return!!e&&!!e.id&&!!e.token}).sort(function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)})}function u(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];if(r&&r.id&&r.emotes){for(var a={id:r.id,emotes:[]},o=0,s=r.emotes;o<s.length;o++){var l=s[o];l&&l.id&&l.token&&a.emotes.push(l)}t.push(a)}}return t}function m(e){for(var t=[],n=[],i=0,r=e;i<r.length;i++){var a=r[i];if(a&&a.id&&a.emotes){var o={id:a.id,emotes:c(d(a.emotes))};a.owner&&(o.owner=a.owner),l.has(parseInt(a.id,10))?t.push(o):n.push(o)}}return n.concat(t)}var p=function(e,t,n){var i=n||a.c,o=[],s=[],l=[],c=new RegExp("^"+Object(r.a)(t),"i");return e.forEach(function(e){i[e.token]?l.push(e):e.token.match(c)?o.push(e):s.push(e)}),o.sort(function(e,t){return e.token<t.token?-1:e.token>t.token?1:0}),s.sort(function(e,t){return e.token<t.token?-1:e.token>t.token?1:0}),l.sort(function(e,t){return i[t.token].count-i[e.token].count}),l.concat(o).concat(s)},h=function(e){var t={};return e.filter(function(e){return!t.hasOwnProperty(e.token)&&(t[e.token]=!0)})}},OvAg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IncomingRaidLine_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}],loc:{start:0,end:140}};n.loc.source={body:"query IncomingRaidLine_Channel($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\ndisplayName\nprofileImageURL(width: 50)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},OxSk:function(e,t,n){},P5MF:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};n.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},P6kH:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return c});var i,r=n("/7QA"),a=n("DMoW"),o="owl2019_emote_ids",s="OverwatchLeague",l="137512364";function c(e){return e.emote.subscriptionProduct?"12658"===e.emote.subscriptionProduct.id?i.Prime:"324"===e.emote.subscriptionProduct.id?i.Turbo:(t=e.emote.id,r.b.get(o,[]).includes(t)?i.OWL2019:e.emote.subscriptionProduct.owner&&e.emote.subscriptionProduct.owner.id?"139075904"===e.emote.subscriptionProduct.owner.id||e.emote.subscriptionProduct.state===a.gb.INACTIVE?i.LimitedTime:i.Subscription:i.Unavailable):i.Global;var t}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.OWL2019=3]="OWL2019",e[e.LimitedTime=4]="LimitedTime",e[e.Unavailable=5]="Unavailable",e[e.Subscription=6]="Subscription",e[e.Global=7]="Global"}(i||(i={}))},PrJw:function(e,t,n){"use strict";var i=n("vGFN");n.d(t,"a",function(){return i.b}),n.d(t,"b",function(){return i.c}),n.d(t,"c",function(){return i.d}),n.d(t,"d",function(){return i.e}),n.d(t,"e",function(){return i.f}),n.d(t,"f",function(){return i.g}),n.d(t,"g",function(){return i.h}),n.d(t,"h",function(){return i.i}),n.d(t,"i",function(){return i.j}),n.d(t,"j",function(){return i.k}),n.d(t,"k",function(){return i.m}),n.d(t,"l",function(){return i.p}),n.d(t,"m",function(){return i.q})},PtXu:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/7QA"),s=n("gcd7"),l=n("AKV8"),c=n("yzwe"),d=n("3HtZ"),u=n("QVaV"),m=n("vSeP"),p=n("Ff8q"),h=n("sUnt"),f=n("hnjF"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.modUser=function(e){var n=e.trim().split(/\s+/),i=t.userLogin(n[0]);return 1===n.length&&i&&0!==i.length?{deferred:t.props.modUserMutation(i).then(function(e){if(e.modUser.error)switch(e.modUser.error.code){case l.a.Forbidden:return{notice:v()};case l.a.UserAlreadyModded:return{notice:Object(o.d)("{login} is already a moderator of this channel.",{login:i},"ModCommandHandler")};case l.a.UserBanned:return{notice:Object(o.d)("{login} is banned in this channel. You must unban this user before granting mod status.",{login:i},"ModCommandHandler")};case l.a.UserNotFound:return{notice:b(i)};default:return{notice:E()}}return{notice:Object(o.d)("You have added {login} as a moderator of this channel.",{login:i},"ModCommandHandler")}}).catch(function(){return{notice:E()}})}:{deferred:Promise.resolve({notice:Object(o.d)('Usage: "/mod [login]" - Grant mod status to a user. Use "mods" to list the moderators of this channel.',"ModCommandHandler")})}},t.mods=function(e){return{deferred:o.q.apollo.client.query({query:d,fetchPolicy:"network-only",variables:{login:t.props.channelLogin}}).then(function(e){if(!e.data.user||!e.data.user.mods)return{notice:k()};var t=e.data.user.mods.edges.filter(function(e){return e.node.login});if(0===t.length)return{notice:Object(o.d)("There are no moderators of this channel.","ModCommandHandler")};var n=t.map(function(e){return e.node.login}).join(", ");return{notice:Object(o.d)("The moderators of this channel are: {mods}.",{mods:n},"ModCommandHandler")}}).catch(function(){return{notice:k()}})}},t.unmodUser=function(e){var n=e.trim().split(/\s+/),i=t.userLogin(n[0]);return 1===n.length&&i&&0!==i.length?{deferred:t.props.unmodUserMutation(i).then(function(e){if(e.unmodUser.error)switch(e.unmodUser.error.code){case c.a.Forbidden:return{notice:v()};case c.a.UserNotFound:return{notice:b(i)};case c.a.UserNotMod:return{notice:Object(o.d)("{login} is currently not a moderator of this channel.",{login:i},"ModCommandHandler")};default:return{notice:C()}}return{notice:Object(o.d)("You have removed {login} as a moderator of this channel.",{login:i},"ModCommandHandler")}}).catch(function(){return{notice:C()}})}:{deferred:Promise.resolve({notice:Object(o.d)('Usage: "/unmod [login]" - Revoke mod status from a user. Use "mods" to list the moderators of this channel.',"ModCommandHandler")})}},t.userLogin=function(e){return e=Object(p.b)(e),Object(u.b)(e)?e:t.props.activeChattersAPI?t.props.activeChattersAPI.getActiveChatterLoginFromDisplayName(e)||e:t.props.displayNameToLogin&&t.props.displayNameToLogin(e)||e},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement(h.a,{display:f.d.Hide},r.createElement(s.a,{command:"mod",handler:this.modUser,channelLogin:this.props.channelLogin}),r.createElement(s.a,{command:"mods",handler:this.mods,channelLogin:this.props.channelLogin}),r.createElement(s.a,{command:"unmod",handler:this.unmodUser,channelLogin:this.props.channelLogin}))},t}(r.Component);function b(e){return Object(o.d)("Invalid username: {login}",{login:e},"ModCommandHandler")}function v(){return Object(o.d)("You don't have permission to perform that action.","ModCommandHandler")}function E(){return Object(o.d)("Unable to add moderator.","ModCommandHandler")}function k(){return Object(o.d)("There was a problem fetching the list of mods.","ModCommandHandler")}function C(){return Object(o.d)("Unable to remove moderator.","ModCommandHandler")}var S=function(e){return{channelID:e.channelID}},y=Object(a.compose)(m.a,Object(c.b)(S),Object(l.b)(S))(g);n.d(t,"a",function(){return y})},"Pub/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("HzXE");function r(e,t,n){try{return e.readQuery({query:i,variables:{channelID:t,targetUserID:n}})}catch(e){}}},Putr:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("q1tI"),r=(n("7pYF"),function(){return i.createElement("span",{className:"tw-form-required"},"*")});r.displayName="FormRequired",r.displayName="FormRequired"},QVaV:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var i=n("q1tI"),r=/^[\x00-\x7F]*$/,a=function(e,t,n){return void 0===n&&(n=!1),t&&e&&!o(t)?n?t+" ("+e+")":i.createElement("span",null,t," ",i.createElement("span",{className:"intl-login"},"("+e+")")):t||(e||"")};function o(e){return r.test(e)}},Qdho:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RoomSelector"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channelRooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPreviewable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumAllowedRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMuted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnread"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMentionCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"cheer"},directives:[]},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isChannelMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:395}};i.loc.source={body:'#import "twilight/features/chat/models/cheer-fragment.gql"\nquery RoomSelector ($login: String!) {\nchannel: user(login: $login) {\nid\ndisplayName\nchannelRooms {\nname\nid\ntopic\nisPreviewable\nminimumAllowedRole\nself {\nisArchived\nisMuted\nisUnread\nunreadMentionCount\n}\n}\n...cheer\nhosting {\nid\n}\nself {\nbanStatus {\nisPermanent\n}\nisChannelMember\nisModerator\nsubscriptionBenefit {\nid\n}\n}\nstream {\nid\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("F9eG").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},Qdxp:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:156}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nquery FollowButton_User($login: String!) {\nuser(login: $login) {\nid\n...followButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("V94A").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},QfRJ:function(e,t,n){},"Qii+":function(e,t,n){"use strict";var i,r,a=n("/MKj"),o=n("kRBY"),s=n("mrSG"),l=n("q1tI"),c=n("fvjX"),d=n("x7UT"),u=n("0Log"),m=n("/aPz"),p=n("f00E"),h=function(){var e=document.querySelector('[data-a-target="bits-button"]');e&&e.click()},f=n("Tvwe"),g=n("/7QA"),b=n("2xye");function v(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return g.p.track(b.SpadeEventType.MegaCheerChatNotificationImpression,{time:Date.now(),notification_type:e.notification_type,user_id:e.user_id,initiator_user_id:e.initiator_user_id,device_id:g.q.session.deviceID,platform:g.q.session.clientApp,channel:e.channel,channel_id:e.channel_id}),[2]})})}function E(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return g.p.track(b.SpadeEventType.MegaCheerChatNotificationAction,{time:Date.now(),notification_type:e.notification_type,action:e.action,user_id:e.user_id,initiator_user_id:e.initiator_user_id,device_id:g.q.session.deviceID,platform:g.q.session.clientApp,channel:e.channel,channel_id:e.channel_id}),[2]})})}!function(e){e.CheerAgain="cheer_again",e.Thank="thank",e.Share="share"}(i||(i={})),function(e){e.Click="click",e.Dismiss="dismiss"}(r||(r={}));var k,C=n("sUnt"),S=n("X2PJ"),y=n("hnjF"),N=n("Z2sP"),_=n("dEDE"),I=n("+80q"),T=n("7d/q"),O=n("7uM4"),D=n("Ws8v"),A=function(e){return l.createElement(D.a,{background:S.a.AccentAlt2,color:S.c.Overlay,className:"mega-cheer-reward-notification"},l.createElement(C.a,{display:y.d.Flex,justifyContent:y.h.Between,flexWrap:y.f.NoWrap},l.createElement(C.a,{padding:{left:1,top:.5,bottom:.5}},e.children),l.createElement(C.a,{display:y.d.Flex,alignItems:y.b.Center},l.createElement(C.a,{margin:{right:.5}},l.createElement(_.a,{onClick:e.secondaryAction},l.createElement(I.a,{fontSize:S.d.Size7},e.secondaryActionText))),l.createElement(T.a,{onClick:e.onClose,ariaLabel:Object(g.d)("Close","MegaCheerRewardNotificationCard"),size:T.b.Default,overlay:!0,icon:O.b.Close}))),l.createElement(N.a,{animationDirection:N.b.Down,size:N.c.Small,animationDuration:10,onAnimationEnd:e.onProgressBarEnd}))},w=n("uG/k");!function(e){e.Emotes="emotes"}(k||(k={}));var R,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCardClose=function(){t.props.closeCard&&(t.props.closeCard(),E({notification_type:i.CheerAgain,action:r.Dismiss,user_id:t.props.userID,initiator_user_id:t.props.rewardEvent.data.benefactor,channel:t.props.channelID,channel_id:t.props.channelID}))},t.onCheerClick=function(){t.props.cheerClick(),E({notification_type:i.CheerAgain,action:r.Click,user_id:t.props.userID,initiator_user_id:t.props.rewardEvent.data.benefactor,channel:t.props.channelID,channel_id:t.props.channelID})},t}return s.__extends(t,e),t.prototype.render=function(){var e,t=this.props.rewardEvent.data.contents,n=1===t.length,r=Object(g.d)("Your MegaCheer unlocked emotes!","MegaGifterNotificationCard");n&&(r=Object(g.d)("Your MegaCheer unlocked an emote!","MegaGifterNotificationCard")),v({notification_type:i.CheerAgain,user_id:this.props.userID,initiator_user_id:this.props.rewardEvent.data.benefactor,channel:this.props.channelID,channel_id:this.props.channelLogin});var a=t.map(function(e){var t=e.imageURL||"";return l.createElement(y.g,{key:"MegaGifterNotificationCard-"+e.id,padding:.5},l.createElement(w.a,{src:t,srcSet:{"112w":t},sizes:[{size:"20px"}],alt:e.text,"data-test-selector":k.Emotes}))});return e=l.createElement(C.a,null,l.createElement(I.a,null,r),l.createElement(D.a,{display:y.d.Flex,overflow:y.i.Hidden},a)),l.createElement(A,s.__assign({},this.props,{onClose:this.onCardClose,className:"mega-gifter-notification-card",secondaryActionText:Object(g.d)("Cheer Again","MegaGifterNotificationCard"),secondaryAction:this.onCheerClick}),e)},t}(l.Component),L=(n("GPTu"),n("8Ad5")),U=n("3aAs"),B=255,F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={formInputValue:t.props.message,sharing:!1,isMessageTooLong:!1},t.hasUnmounted=!1,t.handleThankClick=function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(e){return this.setState({sharing:!0}),this.props.onThank(this.state.formInputValue),function(e){s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return g.p.track(b.SpadeEventType.MegaCheerChatNotificationShare,{time:Date.now(),body:e.body,user_id:e.user_id,initiator_user_id:e.initiator_user_id,device_id:g.q.session.deviceID,platform:g.q.session.clientApp,channel:e.channel,channel_id:e.channel_id}),[2]})})}({body:this.state.formInputValue,user_id:this.props.userID,initiator_user_id:this.props.benefactor,channel:this.props.channelID,channel_id:this.props.channelLogin}),this.hasUnmounted||this.setState({sharing:!1}),[2]})})},t.onInputChange=function(e){var n=e.currentTarget.value.length>B;t.setState({formInputValue:e.currentTarget.value,isMessageTooLong:n})},t.onKeyDown=function(e){switch(e.charCode||e.keyCode){case L.a.Enter:return void t.handleThankClick();default:return}},t}return s.__extends(t,e),t.prototype.componentDidMount=function(){this.hasUnmounted=!1},t.prototype.componentWillUnmount=function(){this.hasUnmounted=!0},t.prototype.render=function(){var e=this.state.isMessageTooLong?"-"+(this.state.formInputValue.length-B):Object(g.d)("Thank","ThankInput"),t=Object(g.d)("Close","ThankInput"),n=this.state.sharing?_.c.Loading:_.c.Default;return v({notification_type:i.Share,user_id:this.props.userID,initiator_user_id:this.props.benefactor,channel:this.props.channelID,channel_id:this.props.channelLogin}),l.createElement(C.a,{className:"thank-input",padding:1,attachTop:!0,attachLeft:!0,attachRight:!0,position:y.j.Absolute},l.createElement(D.a,{className:"thank-input__container",position:y.j.Relative,border:!0,background:S.a.Base,padding:1},l.createElement(C.a,{position:y.j.Absolute,attachTop:!0,attachRight:!0},l.createElement(T.a,{ariaLabel:t,onClick:this.props.onClose,type:T.c.Secondary,icon:O.b.Close})),l.createElement(C.a,{textAlign:y.k.Center,padding:{top:1,bottom:2}},this.props.children),l.createElement(C.a,{display:y.d.Flex,flexWrap:y.f.NoWrap},l.createElement(C.a,{fullWidth:!0},l.createElement(U.a,{autoFocus:!0,type:U.b.Text,value:this.state.formInputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown})),l.createElement(_.a,{disabled:this.state.isMessageTooLong,onClick:this.handleThankClick,state:n},e))))},t}(l.Component);(R||(R={})).RegularEmote="regular-emote";var P,x,j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMessageInput:!1},t.toggleContentShown=function(){t.setState(function(e){return{showMessageInput:!e.showMessageInput}}),E({notification_type:i.Thank,action:r.Click,user_id:t.props.userID,initiator_user_id:t.props.giftEvent.data.benefactor,channel:t.props.channelID,channel_id:t.props.channelID})},t.onCardClose=function(){t.props.closeCard&&(t.props.closeCard(),E({notification_type:i.Thank,action:r.Dismiss,user_id:t.props.userID,initiator_user_id:t.props.giftEvent.data.benefactor,channel:t.props.channelID,channel_id:t.props.channelID}))},t.shareThanks=function(e){t.props.onSendMessage(e)&&t.props.onMessageSent()},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props.giftEvent.data.contents[0],t=e.imageURL||"",n=Object(g.d)("Thanks for the {emote} @{user}",{emote:e.text,user:this.props.giftEvent.data.benefactor},"MegaRecipientNotificationCard");if(v({notification_type:i.Thank,user_id:this.props.userID,initiator_user_id:this.props.giftEvent.data.benefactor,channel:this.props.channelID,channel_id:this.props.channelLogin}),this.state.showMessageInput)return l.createElement(C.a,null,l.createElement(F,{onThank:this.shareThanks,onClose:this.props.onMessageSent,message:n,benefactor:this.props.giftEvent.data.benefactor,channelID:this.props.channelID,channelLogin:this.props.channelLogin,userID:this.props.userID},l.createElement(w.a,{className:"mega-recipient-notification-card__emote",src:t,srcSet:{"112w":t},sizes:[{size:"20px"}],alt:e.text,"data-test-selector":R.RegularEmote}),l.createElement(I.a,null,Object(g.d)("Add a message to thank {user} for your gift!",{user:l.createElement("strong",null,this.props.giftEvent.data.benefactor)},"MegaRecipientNotificationCard"))));var r=l.createElement(C.a,{textAlign:y.k.Left},l.createElement(I.a,{fontSize:S.d.Size7},Object(g.d)("You got an emote thanks to {benefactor}'s MegaCheer!",{benefactor:l.createElement(I.a,{type:I.e.Span,bold:!0},this.props.giftEvent.data.benefactor)},"MegaRecipientNotificationCard")),l.createElement(D.a,{margin:{y:.5},display:y.d.Flex,alignItems:y.b.Center},l.createElement(w.a,{className:"mega-recipient-notification-card__emote",src:t,srcSet:{"112w":t},sizes:[{size:"20px"}],alt:e.text,"data-test-selector":R.RegularEmote}),l.createElement(I.a,{fontSize:S.d.Size7,className:"mega-recipient-notification-card__emote-text"},e.text)));return l.createElement(A,s.__assign({},this.props,{onClose:this.onCardClose,className:"mega-recipient-notification-card",secondaryActionText:Object(g.d)("Thank","MegaRecipientNotificationCard"),secondaryAction:this.toggleContentShown}),r)},t}(l.Component);(x||(x={})).Container="mega-cheer-reward-notification-container-selector";var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cards:[]},t.onCardClose=function(){t.popCard()},t.onCheerClick=function(){t.popCard(),h()},t}return s.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this,n=[],i=e.pubsub.messages.userNotificationEvent;if(i&&i!==this.props.pubsub.messages.userNotificationEvent){if(i.type===u.PubsubMessageType.UserCampaignMegaCheerRewardEvent){var r=i;r.data.channelID&&r.data.channelID===this.props.channelID&&n.push(l.createElement(M,{rewardEvent:r,cheerClick:this.onCheerClick,channelID:this.props.channelID,channelLogin:this.props.channelLogin,userID:this.props.user&&this.props.user.id||""}))}if(i.type===u.PubsubMessageType.UserGiftEvent){var a=i;a.data.channelID&&a.data.channelID===this.props.channelID&&n.push(l.createElement(j,{giftEvent:a,onSendMessage:this.props.onSendMessage,onMessageSent:this.onCardClose,channelID:this.props.channelID,channelLogin:this.props.channelLogin,userID:this.props.user&&this.props.user.id||""}))}n=n.map(function(e){return l.cloneElement(e,{key:Object(p.b)(),closeCard:t.onCardClose,onProgressBarEnd:t.onCardClose})}),this.setState(function(e){return{cards:e.cards.concat(n)}})}},t}(f.a),V=Object(c.compose)(Object(d.a)([{topic:function(e){return Object(m.H)(e.user&&e.user.id||"")},mapMessageTypesToProps:(P={},P[u.PubsubMessageType.UserGiftEvent]="userNotificationEvent",P[u.PubsubMessageType.UserCampaignMegaCheerRewardEvent]="userNotificationEvent",P),skip:function(e){return!e.user||!e.user.id}}]))(H);var G=Object(a.connect)(function(e){return{user:Object(o.e)(e)}})(V);n.d(t,"a",function(){return G})},Qime:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsPinnedCheerV2_Leaderboards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leaderboard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"bitsLeaderboard"},directives:[]},{kind:"Field",name:{kind:"Name",value:"secondsRemaining"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leaderboard"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timePeriodType"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsLeaderboardItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rank"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"score"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entryKey"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:345}};i.loc.source={body:'#import "twilight/features/bits/models/bits-leaderboard-fragment.gql"\nquery BitsPinnedCheerV2_Leaderboards($channelID: ID!) {\nuser(id: $channelID) {\nid\ncheer {\nid\nleaderboard (first: 10) {\nid\n...bitsLeaderboard\nsecondsRemaining\n}\nsettings {\nleaderboard {\nisEnabled\ntimePeriodType\n}\n}\n}\nself {\nbitsLeaderboardItem {\nid\nrank\nscore\nentryKey\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("jrTF").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},QjI3:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("fvjX"),s=n("/7QA"),l=n("1/iK"),c=n("aCAx"),d=n("D7An"),u=n("kz7j"),m=n("kRBY"),p=n("w1PT"),h=n("8EUQ"),f=n("GnwI"),g=n("d0xR"),b=n("oJmH"),v=n("2+sX"),E=n("u5aL"),k=n("ZS2+"),C=n("eJ65"),S=n("yR8l"),y=n("x7UT"),N=n("3Bft"),_=n("tIid"),I=n("ht6z"),T=n("/aPz"),O=n("KriR"),D=n("4rCz"),A=n("0WFu"),w="All-Access Pass",R="Continue Sub",M="Continue Sub - Ends Today",L=function(e){return"Continue Sub - "+e+" Days Remaining"},U="Get the All-Access Pass",B="Gift A Sub",F="Resubscribe",P="Subscribe",x="Subscribed",j="Subscribed to <hosted channel>",H="Subscribe to <hosted channel>";var V,G=n("br9A"),W=n("sUnt"),q=n("7uM4"),z=n("dEDE"),Y=n("ygYM"),K=n("z+dA");!function(e){e.SubButton="subscribe-button__dropdown",e.BalloonLayerButton="subscribe-button__balloon-layer-btn",e.DefaultButton="subscribe-button__default-btn",e.SubscribeBalloon="subscribe-button__subscribe-balloon"}(V||(V={}));var Q=k.a.wrap(function(){return Promise.all([n.e(0),n.e(774)]).then(n.bind(null,"f+qK"))},"SubscribeBalloon"),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.modalLevel="top_page",t.getBalloonWrapperContent=function(){return t.balloonWrapperContent},t.handleSubMenuAction=function(e){new Set([G.a.ClickCheckout,G.a.BuyGiftSub,G.a.BuyMysteryGift,G.a.BuyCustomMysteryGift,G.a.BuyGiftToPaidUpgrade,G.a.BuyPaidUpgrade,G.a.BuyContinueSub,G.a.BuyPrimeToPaid]).has(e.action)&&t.checkAndDisplaySubscriptionCheckout();var n=t.props.data,i=n.user,r=null,a=null;i&&(r=i.self),r&&r.cumulativeTenure&&(a=r.cumulativeTenure.months);var o=!(!r||!r.subscriptionBenefit),s=n.requestInfo&&Object(I.a)(n.requestInfo.countryCode);Object(G.b)({action:e.action||"",buttonCTA:t.buttonTrackingCTA,channelLogin:t.props.channelLogin||"",channelID:i&&i.id||"",checkoutButtonTier:e.checkoutButtonTier,cumulativeTenureMonths:a,hasSubCredit:r&&r.canPrimeSubscribe,hostChannelID:t.props.hostChannelID,hostChannelLogin:t.props.hostChannelLogin,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==G.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:t.props.subLocation,modal:!o,modalLevel:o?"":t.modalLevel.slice(),showPrimeContent:s,giftRecipient:e.giftRecipient||null}),!e.modalLevel||e.action!==G.a.ClickMoreSubOptions&&e.action!==G.a.ClickBack||(t.modalLevel=e.modalLevel)},t.renderBalloonContentForBalloonLayer=function(){return r.createElement(E.a,{onClickOut:t.handleBalloonClickOut},r.createElement(W.a,{"data-a-target":"sub-balloon",refDelegate:t.setBalloonContentRefDelegate},t.balloonWrapperContent))},t.handleButtonClick=function(){t.balloonContentRef||(t.props.useModal&&t.props.channelLogin?(t.props.showSubscriptionModal({channelLogin:t.props.channelLogin,onClose:t.handleModalClose,subLocation:"channel_page_modal"}),t.handleSubMenuAction({action:G.a.OpenSubMenu})):(t.props.balloonLayer.show({direction:t.getBalloonDirection(),ref:t.containerRef,content:t.renderBalloonContentForBalloonLayer(),contentHeight:0,closeOnScroll:!0}),t.handleSubMenuAction({action:G.a.OpenSubMenu})))},t.handleBalloonClickOut=function(){t.handleSubMenuAction({action:G.a.CloseSubMenu}),t.props.balloonLayer.hide({force:!0})},t.handleModalClose=function(){t.handleSubMenuAction({action:G.a.CloseSubMenu})},t.setBalloonWrapperContent=function(e){t.balloonWrapperContent=e},t.handleMenuToggle=function(e){t.handleSubMenuAction({action:e?G.a.CloseSubMenu:G.a.OpenSubMenu})},t.getBalloonDirection=function(){var e=t.props.balloonDirection||Y.b.BottomRight;return t.props.hostChannelID&&(e=Y.b.TopLeft),e},t.setBalloonContentRefDelegate=function(e){t.balloonContentRef=e},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.trackLatencyIfComponentFinished(this.props),this.checkAndDisplaySubscriptionCheckout()},t.prototype.componentDidUpdate=function(e){this.props.channelLogin&&!this.isUserDataReady(this.props)||!this.props.updateContainerWidth||this.props.updateContainerWidth(),this.trackLatencyIfComponentFinished(this.props),!this.isUserDataReady(e)&&this.isUserDataReady(this.props)&&this.checkAndDisplaySubscriptionCheckout()},t.prototype.componentWillReceiveProps=function(e){this.isUserDataReady(e)&&e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&this.props.data.refetch()},t.prototype.componentWillUnmount=function(){h.a.clearSubscriptionCheckoutKeys()},t.prototype.render=function(){var e=this.props,t=e.data,n=e.sessionUser;if(!t||t.loading||t.error)return null;var i=t.requestInfo,a=t.user;if(!a)return null;var o=a.self,s=a.subscriptionProducts;if(!s)return null;var l=s.filter(function(e){return e});if(0===l.length)return null;var c=1===l.length;l.some(function(e){return!e.emoteSetID})&&(c=!0);var u=Object(_.a)(a.id||"",this.props.sessionUser),m=null,p=!1,h=!1,f=!1,g=!1,b=!1,v=null,E=!1;if(o){if(o.cumulativeTenure)f=o.cumulativeTenure.months>0;if(o.subscriptionBenefit){var k=o.subscriptionBenefit;m=k.endsAt,p=k.isDNRd,h=!!k.pendingSubscription,g=!0,b=k.purchasedWithPrime,v=k.purchasedWithPrime?N.a.Prime:k.tier,this.modalLevel=""}}n&&n.roles&&(E=n.roles.isStaff);var S=function(e){var t=D.r.experiments.getAndTrackAssignment(d.b.SubsReanimator),n=Object(A.d)(A.a.Prime2Paid),i=void 0;if(e.purchasedWithPrime&&n&&(i=D.r.experiments.getAndTrackAssignment(d.b.PrimeToPaid)),e.isSubscribed){if(e.hasInsiderPass)return{text:Object(D.d)("2019 All-Access Pass","SubscribeButton"),cta:w};if(e.isNonStandardSub)return{text:Object(D.d)("Subscribed","SubscribeButton"),cta:x};if(e.hostedDisplayName)return{text:Object(D.d)("Subscribed to {username}",{username:e.hostedDisplayName},"SubscribeButton"),cta:j};if("variant_a"===i&&e.benefitEndsAt&&!e.hasPendingSub||"control"!==t&&e.benefitIsDNRd&&e.benefitEndsAt&&!e.hasPendingSub){var r=Object(A.b)(e.benefitEndsAt);if(r<=15&&r>7)return{text:Object(D.d)("Continue Sub","SubscribeButton"),cta:R};if(r<=7&&0!==r)return{text:Object(D.d)("{daysRemaining, plural, one {Continue Sub - {daysRemaining} Day Remaining} other {Continue Sub - {daysRemaining} Days Remaining}}",{daysRemaining:r},"SubscribeButton"),cta:L(r)};if(0===r)return{text:Object(D.d)("Continue Sub - Ends Today","SubscribeButton"),cta:M}}return{text:Object(D.d)("Gift a Sub","SubscribeButton"),cta:B}}return e.hasInsiderPass?{text:Object(D.d)("Get the 2019 All-Access Pass","SubscribeButton"),cta:U}:e.hostedDisplayName?{text:Object(D.d)("Subscribe to {username}",{username:e.hostedDisplayName},"SubscribeButton"),cta:H}:e.hasTenure?{text:Object(D.d)("Resubscribe","SubscribeButton"),cta:F}:{text:Object(D.d)("Subscribe","SubscribeButton"),cta:P}}({benefitEndsAt:m,benefitIsDNRd:p,hasInsiderPass:u,hasPendingSub:h,hasTenure:f,hostedDisplayName:this.props.hostChannelID?a.displayName||"":void 0,isNonStandardSub:c,isSubscribed:g,purchasedWithPrime:b,subscriptionProducts:l});this.buttonTrackingCTA=S.cta;var y=S.text;if(g&&c&&!u)return r.createElement(z.a,{disabled:!0,ariaLabel:y,icon:q.b.Star},y);var T=r.createElement(z.a,{ariaLabel:y,"data-a-target":g?"subscribed-button":"subscribe-button","data-test-selector":V.SubButton,dropdown:!this.props.hideDropdownArrow,fullWidth:!0,icon:this.getButtonIcon(g,v),onClick:this.handleButtonClick,type:this.getButtonType(g)},y);if(this.props.useModal)return T;var O=l[0];return this.setBalloonWrapperContent(r.createElement(Q,{authToken:this.props.authToken,channelLogin:this.props.channelLogin||"","data-test-selector":V.SubscribeBalloon,handleSubMenuAction:this.handleSubMenuAction,inPrimeRegion:!!i&&Object(I.a)(i.countryCode),isEsportChannel:u,isNonStandardSub:c,isStaff:E,isSubscribed:g,productId:O?O.id:"",subbedTier:v||N.a.Prime,userHasPrime:!1})),r.createElement(W.a,null,r.createElement(C.a,{"data-test-selector":V.DefaultButton,onToggle:this.handleMenuToggle},T,r.createElement(Y.a,{"data-a-target":"sub-balloon",direction:this.getBalloonDirection(),size:Y.c.Large},this.balloonWrapperContent)))},t.prototype.getButtonType=function(e){z.d.Default;return e&&void 0!==this.props.subscribedButtonType?this.props.subscribedButtonType:e?z.d.Success:this.props.unsubscribedButtonType||z.d.Default},t.prototype.getButtonIcon=function(e,t){var n=void 0;return e?n=t===N.a.Prime?q.b.Crown:q.b.Star:this.props.forceIcon&&(n=q.b.StarHollow),n},t.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},t.prototype.trackLatencyIfComponentFinished=function(e){e.data&&!e.data.loading&&(e.reportInteractive&&e.reportInteractive(),e.reportCustomLatency&&e.reportCustomLatency())},t.prototype.checkAndDisplaySubscriptionCheckout=function(){var e=s.o.get(h.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(e){var t=this.props.data.user;if(t&&t.subscriptionProducts)t.subscriptionProducts.filter(function(e){return e}).map(function(e){return e.name}).includes(e)||this.props.extraSubscriptionProducts&&this.props.extraSubscriptionProducts.includes(e)?this.props.sessionUser?this.props.showSubscriptionCheckout({isAnonymous:s.o.get(h.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:s.o.get(h.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(s.o.get(h.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:e,recipientLogin:s.o.get(h.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:O.c.ChannelSubscribeButton}}):this.props.showLoginModal():h.a.clearSubscriptionCheckoutKeys()}},t}(r.Component),Z=Object(b.compose)(Object(S.a)(K,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(y.a)([{topic:function(e){return Object(T.J)(e.data.currentUser&&e.data.currentUser.id||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!(e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser)}}]),Object(v.e)())(X),$=function(e){function t(t){var n=e.call(this,t)||this;return n.loadedLatencyEvent=n.props.latencyTracking.registerCustomEvent({benchmark:500,group:u.a.Subscriptions,label:u.c.Loaded,start:u.d.Registration,key:u.b.SubscriptionButtonLoaded}),n.reportCustomLatencyTracking=function(){n.props.latencyTracking.reportCustomEvent(n.loadedLatencyEvent)},n.reportInteractive=function(){n.props.latencyTracking.reportInteractive()},n.modalExperimentAssignment=s.q.experiments.getAndTrackAssignment(d.b.SubModalPretest)||"",n}return i.__extends(t,e),t.prototype.render=function(){var e,t;switch(this.modalExperimentAssignment){case"variant":t=!0,e=!0;break;case"variant_b":t=!0,e=!1;break;default:t=!1,e=!1}return r.createElement(Z,{authToken:this.props.authToken,balloonDirection:this.props.balloonDirection,channelLogin:this.props.channelLogin,extraSubscriptionProducts:this.props.extraSubscriptionProducts,forceIcon:this.props.forceIcon,hideDropdownArrow:t&&void 0!==e?e:this.props.hideDropdownArrow,hostChannelID:this.props.hostChannelID,hostChannelLogin:this.props.hostChannelLogin,reportCustomLatency:this.reportCustomLatencyTracking,reportInteractive:this.reportInteractive,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,showSubscriptionModal:this.props.showSubscriptionModal,subscribedButtonType:this.props.subscribedButtonType,unsubscribedButtonType:this.props.unsubscribedButtonType,updateContainerWidth:this.props.updateContainerWidth,useModal:t||this.props.useModal,subLocation:this.props.subLocation})},t=i.__decorate([Object(f.withLatencyTracking)("SubscribeButton")],t)}(r.Component);var J=Object(a.connect)(function(e){return{authToken:Object(m.a)(e),sessionUser:Object(m.e)(e)}},function(e){return Object(o.bindActionCreators)({showLoginModal:h.a.showLoginModalWithCheckoutDispatch(l.a.ChannelSubscriptionButton),showSubscriptionModal:function(e){var t=i.__rest(e,[]);return Object(c.d)(g.SubscribeModal,t)},showSubscriptionCheckout:p.a},e)})($);n.d(t,"SubscribeButtonContainer",function(){return $}),n.d(t,"SubscribeButton",function(){return J}),n.d(t,"TestSelectors",function(){return V}),n.d(t,"SubscribeButtonPresentation",function(){return X}),n.d(t,"SubscribeButtonComponent",function(){return Z})},R2Ti:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedCheerMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedCheerInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"mutation Chat_AllowRejectedCheerMessage($input: AllowRejectedCheerInput!) {\nallowRejectedCheer(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},R3G4:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d});var i,r=n("mrSG"),a=n("q1tI"),o=n("1rIY"),s=n("B/KH"),l=(i=Object(o.a)("ChatTrackingContext",{viewerContext:s.a.Embed,updateChatTrackingContext:function(e){return null}})).InnerProvider,c=i.withContext,d=function(e){function t(t){var n=e.call(this,t)||this;return n.updateTrackingContext=function(e){n.setState({viewerContext:e.viewerContext})},n.state={viewerContext:s.a.Embed,updateChatTrackingContext:n.updateTrackingContext},n}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(l,{value:this.state},this.props.children)},t}(a.Component)},R4sh:function(e,t,n){"use strict";function i(e){var t=[e[0],e[1],e[2]].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*t[0]+.7152*t[1]+.0722*t[2]}function r(e,t){var n=i(e)+.05,r=i(t)+.05;return n>r?n/r:r/n}n.d(t,"a",function(){return r})},RcPG:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},RiD7:function(e,t,n){"use strict";n.d(t,"k",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"e",function(){return l}),n.d(t,"i",function(){return f}),n.d(t,"l",function(){return g}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return b});var i=n("/7QA"),r=n("2xye");function a(e){var t={action_name:e.actionName,action_type:e.actionType||o.Click,displayed_balance:e.displayedBalance,emote_level:e.emoteLevel,emote_type:e.emoteType,bits_location:e.location||s.ChatTooltip,bits_card_error:e.bitsCardError,channel_id:e.channelId,user_id:e.userId};i.p.track(r.SpadeEventType.BitsCardInteraction,t)}var o,s={ChatTooltip:"card",GetBitsButton:"get_bits_button",GetBitsButtonTopNav:"topnav",BitsLandingPage:"bits_landing_page"};!function(e){e.Click="click",e.Hover="hover"}(o||(o={}));var l,c,d={BuyMain:"buy_main",Buy100:"buy_100",Buy500:"buy_500",Buy1000:"buy_1000",Buy1500:"buy_1500",Buy2500:"buy_2500",Buy5000:"buy_5000",Buy10000:"buy_10000",Buy25000:"buy_25000",CloseCard:"menu_close",OpenCard:"menu_open",OpenCardViaCheering:"menu_open_from_cheer",PreviewEmote:"emote_preview",WatchAd:"watch_ad",WatchAnotherAd:"watch_another_ad",CheeringInRoom:"cheering_in_room",NewUserLearnMore:"new_user_learn_more",NewUserSkipTutorial:"new_user_skip_tutorial",NewUserCloseTutorial:"new_user_close_tutorial",NewUserFirstTimePurchaseDiscountClick:"new_user_first_time_purchase_discount_click",NewUserHelpRequested:"new_user_help_requested",SendInvalidCheerAttemptButtonDisabled:"send_invalid_cheer_button_disabled",UserViewingCheerError:"user_viewing_cheer_error",UserViewingCheerRoomsError:"user_viewing_cheer_rooms_error"},u={100:d.Buy100,500:d.Buy500,1000:d.Buy1000,1500:d.Buy1500,2500:d.Buy2500,5000:d.Buy5000,10000:d.Buy10000,25000:d.Buy25000};function m(e){return e&&u[e]?u[e]:(i.k.error(new Error('Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),'Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),d.Buy100)}function p(e){var t={channel:e.channel,channel_id:e.channelID,available:e.available,host:"twitch.tv"};i.p.track(r.SpadeEventType.BitsAdsAvailability,t)}function h(e){var t={distinct_id:i.q.session.deviceID,host:"twitch.tv",request_id:e.requestID,campaign_id:e.campaignID,adblock:e.adblock};i.p.track(r.SpadeEventType.BitsAdsImpression,t)}function f(e){var t=i.p.getLastPageview(),n={location:t&&t.location||"",ad_returned:null,campaign_id:e.campaignID,distinct_id:i.q.session.deviceID,host:"twitch.tv",request_id:e.requestID,request_method:e.requestMethod};i.p.track(r.SpadeEventType.BitsAdsRequest,n)}function g(e){var t={leaderboard_size:e.leaderboardSize,leaderboard_mode:e.leaderboardMode,user_present_in_leaderboard:e.userPresentInLeaderboard,user_id:e.userID,channel_id:e.channelID};i.p.track(r.SpadeEventType.LeaderboardExpandClick,t)}function b(e){var t={transaction_id:e.transactionId,user_id:e.userId,user_login:e.userLogin,channel_id:e.channelId,channel_login:e.channelLogin,action:e.action,badge_amount:e.badgeAmount};i.p.track(r.SpadeEventType.BitsBadgeTierNotification,t)}!function(e){e.ShowAdButton="show_ad_button"}(l||(l={})),function(e){e.AutoSkip="AUTO_SKIP",e.Impression="IMPRESSION"}(c||(c={}))},Rkzd:function(e,t,n){"use strict";n.r(t);var i=n("/MKj"),r=n("fvjX"),a=n("jZLd"),o=n("mrSG"),s=n("cr+I"),l=n("q1tI"),c=n("/0dD"),d=n("76Lv"),u=n("NvVO"),m=n("2xye"),p=n("9MrB"),h=n("cex0"),f=n("YXxK"),g=n("GnwI"),b=n("VAW9"),v=n("hnjF"),E=n("sUnt"),k=(n("gg/T"),function(e){function t(t){var n=e.call(this,t)||this;return t.updateChatTrackingContext({viewerContext:f.b.Embed}),n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.match.params.channelLogin,t=void 0!==s.parse(this.props.location.search).darkpopout,n=t?Object(d.b)(c.a.Dark):Object(d.b)(c.a.Light);return this.props.changeTheme(t?c.a.Dark:c.a.Light,void 0,!1),l.createElement(E.a,{className:n,fullHeight:!0},l.createElement(E.a,{className:"embed-chat-page",display:v.d.Flex,flexGrow:0,flexShrink:0,overflow:v.i.Hidden,fullHeight:!0},l.createElement(b.a,{channelLogin:e,routedRoomName:void 0,isEmbedded:!0})))},t}(l.Component)),C=Object(r.compose)(Object(g.withPageTracking)("EmbedChatPage",{autoReportInteractive:!0,destination:u.a.ChatEmbed,location:m.PageviewLocation.Chat}),h.a,Object(p.b)(function(e){return o.__assign({},e)}))(k);var S=Object(i.connect)(null,function(e){return Object(r.bindActionCreators)({changeTheme:a.b},e)})(C);n.d(t,"EmbeddedChatPage",function(){return S})},RuiO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_SubEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:266}};n.loc.source={body:"query Core_Services_Spade_SubEvent_User($channelID: ID! $withVideo: Boolean! $videoID: ID) {\nuser(id: $channelID) {\nid\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\nvideo(id: $videoID) @include(if: $withVideo) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},S4w9:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:188}};n.loc.source={body:"query UserEmotes ($withOwner: Boolean!) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},SDEh:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});var i=n("mrSG"),r=n("/7QA"),a=n("Ideu"),o=/\scurse\/\d/;function s(e){return e||(e=navigator.userAgent),!!o.exec(e)}function l(){var e=r.q.integrations.app;return e&&(e.id===a.AppIntegrationID.Desklight||e.id===a.AppIntegrationID.Spotlight)}function c(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:return l()&&r.q.integrations.session&&r.q.integrations.session.hasPersistent?[4,r.q.integrations.session.hasPersistent()]:[2,!1];case 1:return[2,(e=t.sent())&&!e.hasCookie]}})})}},SbbE:function(e,t,n){},SceP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},T3bn:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("VeT4"),l=n("+80q"),c=n("hnjF"),d=n("sUnt");!function(e){e.BitsBalanceHeader="bits-balance-header-selector",e.BitsBalanceLoggedOutHeader="bits-balance-logged-out-header-selector"}(i||(i={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return void 0!==this.props.bitsBalance?a.createElement(d.a,{"data-test-selector":i.BitsBalanceHeader,textAlign:c.k.Center,fullWidth:!0,padding:{y:.5}},a.createElement(l.a,{type:l.e.Span},Object(o.d)("You have {bitsBalance}",{bitsBalance:a.createElement(s.a,{withImage:!0,withText:!0,count:this.props.bitsBalance,bitsConfig:this.props.bitsConfig})},"Bits--GetBitsButton"))):a.createElement(d.a,{"data-test-selector":i.BitsBalanceLoggedOutHeader,textAlign:c.k.Center,fullWidth:!0,padding:{y:.5}},a.createElement(l.a,{type:l.e.Span},Object(o.d)("{bitsGem} Log in to see your Bits balance",{bitsGem:a.createElement(s.a,{count:100,withImage:!0,bitsConfig:this.props.bitsConfig})},"Bits--GetBitsButton")))},t}(a.Component);n.d(t,!1,function(){return i}),n.d(t,"a",function(){return u})},TApp:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ZtEv"),r=n("aF6k");function a(e){return{type:i.b.Info,id:Object(r.a)("info"),message:e}}},TOso:function(e,t,n){"use strict";var i=n("mrSG"),r=n("/7QA"),a=n("cMjZ"),o=n("geRD"),s=n("f00E"),l=n("DMoW"),c=n("U1yz"),d=n("xXlL"),u=n("a1OF");var m,p=n("3YIm"),h=n("NMMG"),f=n("Vl9+");function g(e){var t=e.currentUserID,n=e.emotes,m=e.message,g=e.recipientUserID;if(""===t||""===m||""===g)return Promise.reject(new Error("Tried to send a whisper with nonsensical parameters."));var b=Object(s.b)(),v=i.__assign({mutation:p},Object(o.a)({message:m,nonce:b,recipientUserID:g})),E=Object(h.a)(t,g),k=Object(c.a)(r.q.apollo.client.cache,E,!0);if(k&&k.messages){var C=function(e,t){for(var n=[],i=/\S+/g,r=i.exec(e);r;){var a=r[0],o=t[a];if(o){var s=Object(u.c)(e.slice(0,r.index)),l=s?s.length:r.index;n.push({id:o.id,start:l,end:l+a.length-1})}r=i.exec(e)}return n}(m,n).map(d.a);v.optimisticResponse={sendWhisper:{__typename:"SendWhisperPayload",message:{content:{content:m,emotes:C,__typename:"MessageBody"},from:{id:t,__typename:"User"},id:b,nonce:b,sentAt:(new Date).toISOString(),deletedAt:null,editedAt:null,thread:{id:E,__typename:"WhisperThread",participants:[{id:t,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:l.sb.NOT_PERMITTED,__typename:"WhisperPermissions"}}},{id:g,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:l.sb.PERMITTED,__typename:"WhisperPermissions"}}}]},__typename:"WhisperMessage"},error:null}},v.update=function(e,t){if(t.data){var n=t.data;if(n.sendWhisper.message&&!n.sendWhisper.error){var r=n.sendWhisper.message,o=Object(c.a)(e,E);if(o&&o.messages){var s=o.messages.edges.findIndex(function(e){return e.node.id===b||e.node.nonce===b||e.node.id===r.id});if(s<0){var l={cursor:(1+k.messages.edges.reduce(function(e,t){return Math.max(parseInt(t.cursor,10),e)},0)).toString(),node:r,__typename:"WhisperMessageEdge"};o.messages.edges.unshift(l)}else o.messages.edges[s].node=r;o.userLastMessageRead&&(o.userLastMessageRead.sentAt=r.sentAt),o.unreadMessagesCount=0,e.writeFragment({id:Object(a.a)(o),fragment:f,data:i.__assign({},o)})}}}}}return r.q.apollo.client.mutate(v)}n.d(t,"a",function(){return m}),n.d(t,"b",function(){return g}),function(e){e.TargetBanned="TARGET_BANNED",e.BodyEmpty="BODY_EMPTY",e.RestrictedRecipient="TARGET_RESTRICTED",e.NotDelivered="NOT_DELIVERED"}(m||(m={}))},TTKc:function(e,t,n){},TvOw:function(e,t,n){"use strict";var i,r;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),function(e){e.Spam="Spam",e.Harassment="Harassment"}(i||(i={})),function(e){e.Spam="spam",e.Harassment="harassment",e.Other="other"}(r||(r={}))},Tvwe:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i,r=n("mrSG"),a=n("q1tI"),o=n("Ws8v");!function(e){e.Container="mega-notification-container-selector"}(i||(i={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cards:[]},t.popCard=function(){t.setState(function(e){return{cards:e.cards.slice(1).slice()}})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.state.cards[0];return e?a.createElement(o.a,{className:"mega-cheer-notification","data-test-selector":i.Container},e):null},t}(a.Component)},Tznh:function(e,t,n){"use strict";var i,r,a,o=n("mrSG"),s=n("q1tI"),l=n("/MKj"),c=n("fvjX"),d=n("/7QA"),u=n("yR8l"),m=n("D7An"),p=n("kRBY"),h=n("1rIY"),f=n("+pBb"),g=n("CbHG");!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(r||(r={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(a||(a={}));var b=(i=Object(h.a)("ChatFilterContext",{chatFilterExperimentMembership:r.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}})).InnerProvider,v=i.withContext,E=function(e){function t(t){var n=e.call(this,t)||this;return n.hideChatFilterSettings=function(){n.setState({isShowingChatFilterSettings:!1})},n.showChatFilterSettings=function(e){n.setState({chatFilterSettingsSource:e||a.Other,isShowingChatFilterSettings:!0})},n.state={chatFilterExperimentMembership:r.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:n.hideChatFilterSettings,showChatFilterSettings:n.showChatFilterSettings},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.updateStateWithProps(this.props)},t.prototype.componentWillReceiveProps=function(e){this.updateStateWithProps(e)},t.prototype.render=function(){return s.createElement(b,{value:this.state},this.props.children)},t.prototype.updateStateWithProps=function(e){switch(this.getExperimentMembership(e)){case r.OptIn:this.setOptInState(e);break;case r.OptOut:this.setOptOutState(e);break;case r.Excluded:default:this.setExcludedState()}},t.prototype.getExperimentMembership=function(e){if("off"===d.b.get("chat_filter_enabled","off"))return r.Excluded;if(!e.isLoggedIn||"en"!==e.languageCode)return r.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){var t=d.b.get("chat_filter_start","3000-01-01"),n=new Date(e.data.currentUser.createdAt)>=new Date(t)?m.b.ChatFiltersNewUsers:m.b.ChatFiltersExistingUsers,i=d.q.experiments.getAndTrackAssignment(n);switch(i){case r.Excluded:case r.OptIn:case r.OptOut:return i;default:return r.Excluded}}return r.Excluded},t.prototype.setExcludedState=function(){this.setState({chatFilterExperimentMembership:r.Excluded})},t.prototype.setOptInState=function(e){this.setState({chatFilterExperimentMembership:r.OptIn}),void 0===e.viewerChatFilterEnabled&&this.props.disableViewerChatFilter(a.Other)},t.prototype.setOptOutState=function(e){this.setState({chatFilterExperimentMembership:r.OptOut}),void 0===e.viewerChatFilterEnabled&&this.props.enableViewerChatFilter(a.Other)},t}(s.Component);var k=Object(c.compose)(Object(l.connect)(function(e){return{isLoggedIn:Object(p.f)(e),languageCode:Object(p.b)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}},function(e){return Object(c.bindActionCreators)({disableViewerChatFilter:f.G,enableViewerChatFilter:f.L},e)}),Object(u.a)(g,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(E);n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,!1,function(){return b}),n.d(t,"d",function(){return v}),n.d(t,!1,function(){return E}),n.d(t,"a",function(){return k})},U1yz:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("2Dht");function r(e,t,n){try{var r=e.readQuery({query:i,variables:{id:t}},n);return r?r.whisperThread:null}catch(e){return null}}},U80U:function(e,t,n){},UOUE:function(e,t,n){},UUau:function(e,t,n){},UajW:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsCard_MainCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withCheerBombEventEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCheerBombEventEnabled"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withCheerBombEventEnabled"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tournament"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:561}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/bits/models/bits-offer-fragment.gql"\nquery BitsCard_MainCard($name: ID! $withCheerBombEventEnabled: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nlogin\nbitsOffers {\n...bitsOffer\n}\n}\nuser(id: $name) {\nid\ndisplayName\ncheer {\nid\nsettings {\nemoteMinimumBits\ncheerMinimumBits\nevent\nisCheerBombEventEnabled @include(if: $withCheerBombEventEnabled)\n}\n}\nself {\nbitsBadge {\nid\ntotalBits\nnextBits\nprogress\ncurrent {\n...badge\n}\nnext {\n...badge\n}\n}\n}\ntournament {\nid\nteams {\nid\nname\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})}i.definitions=i.definitions.concat(a(n("IKE4").definitions)),i.definitions=i.definitions.concat(a(n("wmIm").definitions)),e.exports=i},UqM8:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsBundleOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPromo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"includesVAT"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currencyCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsBundleOfferPromotion"},directives:[]}]}}]}}],loc:{start:0,end:235}};i.loc.source={body:'#import "twilight/features/bits/models/bits-bundle-offer-promotion-fragment.gql"\nfragment bitsBundleOffer on BitsBundleOffer {\nid\ntype\nbits\nprice\ndiscount\nisPromo\nurl\nincludesVAT\ncurrencyCode\npromotion {\n...bitsBundleOfferPromotion\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("hRAX").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},UrjJ:function(e,t,n){},V94A:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"followButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:172}};n.loc.source={body:"# Queries the data necessary to render the FollowButton component.\nfragment followButtonFragment on User {\nid\ndisplayName\nlogin\nself {\nfollower {\ndisableNotifications\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VAW9:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/MKj"),s=n("fvjX"),l=n("yR8l"),c=n("eDVu"),d=n("0Log"),u=n("/aPz"),m=n("3sMn"),p=n("kRBY"),h=n("DMoW");function f(e){var t,n,i={__typename:"Cheermote",id:"",prefix:e.prefix,type:g(e.type),campaign:null,tiers:[]},r=e.tiers.map(function(e){var t=[];return b(e.images).forEach(function(e,n){b(e).forEach(function(e,i){b(e).forEach(function(e,r){t.push({__typename:"CheermoteImage",id:"",url:e,theme:n.toUpperCase(),dpiScale:parseFloat(r),isAnimated:"animated"===i})})})}),{__typename:"CheermoteTier",id:e.id,bits:e.min_bits,canCheer:e.can_cheer,canShowInBitsCard:e.show_in_bits_card,color:e.color,images:t}});return i.tiers=r,e.campaign&&(i.campaign=(t=e.campaign,n={__typename:"CheermoteCampaign",id:t.id,brandName:t.brand_name,brandImageURL:t.brand_image_url,minimumBitsAmount:t.min_bits_to_be_sponsored,bitsTotal:t.total_bits,bitsUsed:t.used_bits,bitsPercentageRemaining:t.used_bits/t.total_bits,userLimit:t.user_limit,thresholds:[],self:null},b(t.sponsored_amount_thresholds).forEach(function(e,t){n.thresholds.push({__typename:"CheermoteCampaignThreshold",id:"",minimumBits:t,matchedPercent:e})}),n)),i}function g(e){var t=h.x.UNKNOWN;switch(e){case"channel_custom":t=h.x.CUSTOM;break;case"global_first_party":t=h.x.FIRST_PARTY;break;case"global_third_party":t=h.x.THIRD_PARTY;break;case"sponsored":t=h.x.SPONSORED;break;default:t=h.x.UNKNOWN}return t}var b=function(e){return Object.keys(e).reduce(function(t,n){return t.set(n,e[n])},new Map)},v=n("0Lz3"),E=n("+pBb"),k=n("Y3y8"),C=n("GnwI");var S=n("/7QA"),y=n("w0yC"),N=n("ZS2+"),_=n("KwB3"),I=n("BJwa"),T=n("X2PJ"),O=n("7d/q"),D=n("hnjF"),A=n("sUnt"),w=n("dEDE"),R=n("wp5a"),M=n("Ws8v"),L=n("+80q"),U=n("7uM4"),B=(n("eZF0"),N.a.wrap(function(){return n.e(202).then(n.bind(null,"+k6+"))},"ActiveRoomButton")),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=r.createElement(M.a,{className:"rooms-header",background:T.a.Alt,borderBottom:!0,display:D.d.Flex,fullWidth:!0,justifyContent:D.h.Between,alignItems:D.b.Center,flexShrink:0,padding:{left:2,right:1}},r.createElement("div",{id:I.a},this.renderActiveRoomName()),r.createElement(A.a,{display:D.d.Flex},this.renderRoomsIngress()));return this.props.isRoomPickerOpen&&(e=r.createElement(A.a,{className:"rooms-header__open-header-wrapper","data-test-selector":"open-header-wrapper"},e)),e},t.prototype.renderRoomsIngress=function(){if(this.props.isEmbedded)return null;var e=r.createElement(A.a,{alignItems:D.b.Center,"data-test-selector":"rooms-ingress",display:D.d.Flex},!this.props.isRoomPickerOpen&&Object(S.d)("Rooms","RoomsHeaderClosed"),r.createElement(A.a,{display:D.d.Flex,alignItems:D.b.Center},this.renderAlertText(),!this.props.isRoomPickerOpen&&r.createElement(A.a,{padding:{left:.5},display:D.d.Flex},r.createElement(U.a,{asset:U.b.RoomList})),this.props.isRoomPickerOpen&&r.createElement(O.a,{ariaLabel:"RoomListOpen",icon:U.b.RoomListOpen,"data-test-selector":"close-room-picker-button",onClick:this.props.onClick,blurAfterClick:!0})));return this.props.isRoomPickerOpen||(e=r.createElement(A.a,{position:D.j.Relative},r.createElement(w.a,{"data-a-target":"room-selector-button","data-test-selector":"open-room-picker-button",onClick:this.props.onClick,type:w.d.Text},e))),e},t.prototype.renderAlertText=function(){return this.props.alertText?r.createElement(A.a,{display:D.d.InlineBlock,padding:{left:.5},position:D.j.Relative},r.createElement(R.a,{label:this.props.alertText,type:R.b.Alert})):null},t.prototype.renderActiveRoomName=function(){return this.props.isRoomPickerOpen?r.createElement(L.a,{color:T.c.Alt,"data-test-selector":I.a},Object(S.d)("Rooms","RoomsHeaderOpen")):"Stream Chat"===this.props.activeRoomName?this.props.channelDisplayName?r.createElement(L.a,{color:T.c.Alt,"data-test-selector":I.a},Object(S.d)("<x:bold>{displayName}</x:bold>'s Chat",{displayName:this.props.channelDisplayName,"x:bold":function(e){return r.createElement(L.a,{type:L.e.Span,bold:!0},e)}},"RoomsHeader")):r.createElement(L.a,{color:T.c.Alt,"data-test-selector":I.a},Object(S.d)("Stream Chat","RoomsHeader")):this.props.isActiveRoomDeleted?r.createElement(L.a,{color:T.c.Alt,"data-test-selector":I.a},this.props.activeRoomName):r.createElement(B,{roomID:this.props.activeRoomID,roomName:this.props.activeRoomName})},t}(r.PureComponent),P=(n("zWFo"),"Stream Chat"),x=N.a.wrap(function(){return n.e(207).then(n.bind(null,"Xf1I"))},"Room"),j=N.a.wrap(function(){return n.e(206).then(n.bind(null,"cs/o"))},"RoomPicker"),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeRoomID:P,activeRoomName:P,isActiveRoomDeleted:!1,showRoomPicker:!1},t.isChannelLive=function(e){return!(e.error||!e.channel)&&!!(e.channel.stream&&e.channel.stream.id||e.channel.hosting&&e.channel.hosting.id)},t.headerClick=function(){t.setState(function(e){return{showRoomPicker:!e.showRoomPicker}})},t.handleRoomSelect=function(e,n){t.setState({activeRoomID:e,activeRoomName:n,isActiveRoomDeleted:!1,showRoomPicker:!1})},t.onActiveRoomDelete=function(){t.state.activeRoomID!==P&&t.setState({isActiveRoomDeleted:!0})},t.goToStreamChat=function(){t.handleRoomSelect(P,P)},t.closeRoomPicker=function(){t.setState({showRoomPicker:!1})},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.updateChatConfigState({hideOnboardingPrompts:!!this.props.hideOnboardingPrompts,hideChatInputButtons:!!this.props.hideChatInputButtons})},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.props.data&&e.data&&this.props.data.channel&&e.data.channel&&this.props.data.channel.self&&e.data.channel.self&&!e.data.channel.self.isChannelMember&&this.props.data.channel.self.isChannelMember!==e.data.channel.self.isChannelMember&&this.goToStreamChat(),e.data&&e.data.channel&&e.data.channel.self){var n=e.data.channel.self;(!n.isChannelMember||n.banStatus&&n.banStatus.isPermanent)&&this.state.activeRoomID!==P&&this.goToStreamChat()}if(this.props.sessionUser&&this.props.routedRoomName&&this.props.data&&this.props.data.loading&&!this.props.data.channel&&e.data&&!e.data.loading&&e.data.channel&&e.data.channel.channelRooms&&e.data.channel.self&&e.data.channel.self.isChannelMember){var i=e.data.channel.channelRooms.find(function(e){return null!==e&&e.name===t.props.routedRoomName});i&&this.setState({activeRoomID:i.id,activeRoomName:i.name})}else this.props.channelLogin!==e.channelLogin&&this.state.activeRoomID!==P&&this.goToStreamChat()},t.prototype.render=function(){return r.createElement(A.a,{className:"room-selector",fullWidth:!0,fullHeight:!0,display:D.d.Flex,flexDirection:D.e.Column,flexGrow:1,flexWrap:D.f.NoWrap,position:D.j.Relative},this.renderHeader(),this.renderRoomPicker(),this.renderHiddenState(),this.renderChat(),this.renderCurrentRoom())},t.prototype.renderChat=function(){if(this.props.isHidden&&!this.props.isPopout)return null;var e=this.props.isBackground||this.state.activeRoomID!==P,t=this.props.bitsConfig&&this.props.bitsConfig.orderedActions.length>0;return r.createElement(_.a,{bitsConfig:t?this.props.bitsConfig:void 0,channelLogin:this.props.channelLogin,clientID:S.a.authSettings.clientID,isBackground:e,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,closeRoomPicker:this.closeRoomPicker,onHostingChange:this.props.onHostingChange,hostedChannelDisplayName:this.props.hostedChannelDisplayName,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground})},t.prototype.renderCurrentRoom=function(){return(!this.props.isHidden||this.props.isPopout)&&this.props.data&&this.props.data.channel&&this.props.data.channel.id&&this.state.activeRoomID!==P?r.createElement(x,{bitsConfig:this.props.bitsConfig,isDeleted:this.state.isActiveRoomDeleted,isPopout:this.props.isPopout,channelLogin:this.props.channelLogin,channelID:this.props.data.channel.id,roomID:this.state.activeRoomID,closeRoomPicker:this.closeRoomPicker,handleStreamChatClick:this.goToStreamChat,onDelete:this.onActiveRoomDelete,isHostMode:!!this.props.hostedChannelDisplayName,useBaseBackground:this.props.useBaseBackground}):null},t.prototype.renderHeader=function(){var e=this,t=this.props.data,n=void 0;if(t&&!t.error&&t.channel&&t.channel.self&&t.channel.self.isChannelMember&&t.channel.channelRooms){var i=t.channel.channelRooms.reduce(function(t,n){return n&&n.self&&!n.self.isMuted&&n.id!==e.state.activeRoomID?t+n.self.unreadMentionCount:t},0);n=i>0?i.toString():void 0}var a=void 0;return this.props.renderChannelName&&this.props.data&&this.props.data.channel&&this.props.data.channel.displayName&&(a=this.props.data.channel.displayName),r.createElement(F,{activeRoomName:this.state.activeRoomName,activeRoomID:this.state.activeRoomID,alertText:n,channelDisplayName:a,onClick:this.headerClick,isActiveRoomDeleted:this.state.isActiveRoomDeleted,isEmbedded:this.props.isEmbedded,isRoomPickerOpen:this.state.showRoomPicker})},t.prototype.renderRoomPicker=function(){if(this.state.showRoomPicker&&this.props.data&&this.props.data.channel&&this.props.data.channel.id)return r.createElement(y.a,{onClickOut:this.closeRoomPicker},r.createElement(M.a,{attachLeft:!0,attachRight:!0,background:T.a.Alt,borderBottom:!0,borderLeft:!0,borderRight:!0,elevation:2,position:D.j.Absolute,zIndex:D.n.Above},r.createElement(j,{channelID:this.props.data.channel.id,handleRoomSelect:this.handleRoomSelect,isChannelLive:this.isChannelLive(this.props.data),renderChannelName:this.props.renderChannelName,activeRoomID:this.state.activeRoomID,"data-test-selector":"room-picker"})))},t.prototype.renderHiddenState=function(){return!this.props.isHidden||this.props.isPopout?null:r.createElement(M.a,{alignItems:D.b.Center,borderLeft:!0,"data-test-selector":"room-selector-hidden-state",display:D.d.Flex,flexDirection:D.e.Column,fullHeight:!0,fullWidth:!0,justifyContent:D.h.Center,color:T.c.Base,position:D.j.Relative},r.createElement(A.a,{margin:{bottom:1}},r.createElement(L.a,{fontSize:T.d.Size5},Object(S.d)("Chat is hidden.","RoomSelector"))),r.createElement(w.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button"},Object(S.d)("Show Chat","RoomSelector")))},t}(r.Component),V=n("Qdho");var G=Object(m.b)(function(e){return{updateChatConfigState:function(t){return e.updateChatConfigState(t)}}})(H),W=Object(a.compose)(Object(o.connect)(function(e){return{firstPageLoaded:e.session.firstPageLoaded,isHidden:e.chat.isHidden,sessionUser:Object(p.e)(e)}},function(e){return Object(s.bindActionCreators)({onChatUnhide:function(){return E.P()}},e)}),Object(l.a)(V,{skip:function(e){return!e.firstPageLoaded},props:function(e){return{data:e.data,bitsConfig:Object(v.a)(e.data&&e.data.channel&&e.data.channel.cheer&&e.data.channel.cheer.emotes||[]),channelID:e.data&&e.data.channel&&e.data.channel.id}},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(c.a)(function(e){return{query:V,skip:!e.firstPageLoaded||!e.data||!e.data.channel,variables:{login:e.channelLogin},topic:Object(u.j)(""+(e.data&&e.data.channel&&e.data.channel.id)),types:[d.PubsubMessageType.ChatRoomCreated,d.PubsubMessageType.ChatRoomDeleted],mutator:function(e,t){if(e.type===d.PubsubMessageType.ChatRoomDeleted&&t.channel&&t.channel.channelRooms)return t.channel.channelRooms=t.channel.channelRooms.filter(function(t){return null!==t&&t.id!==e.data.room.room_id}),t;if(e.type===d.PubsubMessageType.ChatRoomCreated&&t.channel&&t.channel.channelRooms){var n=function(e){return{id:e.data.room.room_id,minimumAllowedRole:e.data.room.minimum_allowed_role,name:e.data.room.name,topic:e.data.room.topic,isPreviewable:e.data.room.is_previewable,self:{isArchived:!1,isMuted:!1,isUnread:!1,unreadMentionCount:0,__typename:"RoomView"},__typename:"Room"}}(e);return t.channel.channelRooms.push(n),t}}}}),Object(c.a)(function(e){return{query:V,skip:!(e.firstPageLoaded&&e.sessionUser&&e.data&&e.data.channel),variables:{login:e.channelLogin},topic:Object(u.k)(""+(e.sessionUser&&e.sessionUser.id)),types:[d.PubsubMessageType.UserMention,d.PubsubMessageType.ChatRoomsRoomViewUpdated],mutator:function(e,t){switch(e.type){case d.PubsubMessageType.UserMention:if(e=e,!t.channel||!t.channel.channelRooms||t.channel.id!==e.data.channel_id)break;var n=e.data.room_id;t.channel.channelRooms=t.channel.channelRooms.filter(function(e){return e&&e.self}).map(function(e){return e.id===n&&e.self&&(e.self.unreadMentionCount+=1),e});break;case d.PubsubMessageType.ChatRoomsRoomViewUpdated:if(e=e,!t.channel||t.channel.id!==e.data.room_view.room.owner_id||!t.channel.self)break;t.channel.self.isModerator=e.data.room_view.permissions.moderate}return t}}}),Object(c.a)(function(e){return{query:V,skip:!(e.firstPageLoaded&&e.sessionUser&&e.data&&e.data.channel),variables:{login:e.channelLogin},topic:Object(u.b)(),types:[d.PubsubMessageType.BitsCampaignTotalUpdate,d.PubsubMessageType.BitsCampaignComplete],mutator:function(e,t){if(t.channel&&t.channel.cheer&&t.channel.cheer.emotes)if(e.type===d.PubsubMessageType.BitsCampaignTotalUpdate){var n=e;t.channel.cheer.emotes=t.channel.cheer.emotes.map(function(e){return e&&e.campaign?(e.campaign&&e.campaign.id===n.campaign_id&&(e.campaign.bitsUsed=n.used_amount),e):e})}else if(e.type===d.PubsubMessageType.BitsCampaignComplete){var i=e;t.channel.cheer.emotes=t.channel.cheer.emotes.filter(function(e){return!e||!e.campaign||e.campaign.id!==i.campaign_id})}return t}}}),Object(c.a)(function(e){return{query:V,skip:!(e.firstPageLoaded&&e.sessionUser&&e.data&&e.data.channel),variables:{login:e.channelLogin},topic:Object(u.a)(""+(e.data&&e.data.channel&&e.data.channel.id)),types:[d.PubsubMessageType.BitsCampaignAddCheermoteEvent,d.PubsubMessageType.BitsCampaignRemoveCheermoteEvent],mutator:function(e,t){if(t.channel&&t.channel.cheer&&t.channel.cheer.emotes)if(e.type===d.PubsubMessageType.BitsCampaignAddCheermoteEvent){var n=f(e.action);t.channel.cheer.emotes.unshift(n)}else if(e.type===d.PubsubMessageType.BitsCampaignRemoveCheermoteEvent){var i=e;t.channel.cheer.emotes=t.channel.cheer.emotes.filter(function(e){return!e||!e.campaign||e.campaign.id!==i.campaign_id})}return t}}}),Object(k.b)(),Object(C.withLatencyTracking)("RoomSelector",{autoReportInteractive:!0}))(function(e){return r.createElement(m.a,null,r.createElement(G,i.__assign({},e)))});n.d(t,"a",function(){return W})},VFp6:function(e,t,n){},VN3V:function(e,t,n){},VR5Q:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WatchAdModal_Redeeem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RedeemTrueXAdInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"redeemTrueXAd"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantedBits"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:105}};n.loc.source={body:"mutation WatchAdModal_Redeeem($input:RedeemTrueXAdInput!) {\nredeemTrueXAd(input:$input) {\ngrantedBits\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VSaV:function(e,t){},VeT4:function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("/0dD"),o=n("5zXJ"),s=n("XmgI"),l=n("4h+t"),c=n("x1M1");n("5cw2");function d(e){var t,n=Object(r.d)("{bitsAmount} Bits",{bitsAmount:e.count.toString()},"Bits--BitsCount");if(e.withImage){var d=e.bitsConfig&&e.bitsConfig.indexedActions[o.k];d||(d=Object(l.b)());var u=void 0;if(u=0===e.count?d.orderedTiers.find(function(e){return e.bits===o.l}):d.orderedTiers.find(function(t){return t.bits<=e.count})){var m=Object(s.d)(u,void 0,e.animated);return void 0!==e.themeOverride&&(e.themeOverride===a.a.Light?m.dark=m.light:m.light=m.dark),t=i.createElement(c.a,{className:"bits-count--img",sources:m}),i.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},i.createElement("span",null,t," ",e.withText?n:""))}}return i.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},i.createElement("span",null,n))}n.d(t,"a",function(){return d})},"Vl9+":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"thread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"fragment thread on WhisperThread {\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n}\n}\ndeletedAt\neditedAt\nsentAt\nfrom {\nid\n}\n}\n}\n}\nunreadMessagesCount\nuserLastMessageRead {\nsentAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VrOd:function(e,t,n){},"W/3w":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s});var i=n("/7QA"),r=30,a=[0,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return Object(i.d)("0 minutes (Any followers)","FollowersOnlyLabel");case 10:return Object(i.d)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return Object(i.d)("30 minutes","FollowersOnlyLabel");case 60:return Object(i.d)("1 hour","FollowersOnlyLabel");case 1440:return Object(i.d)("1 day","FollowersOnlyLabel");case 10080:return Object(i.d)("1 week","FollowersOnlyLabel");case 43200:return Object(i.d)("1 month","FollowersOnlyLabel");case 129600:return Object(i.d)("3 months","FollowersOnlyLabel");default:return i.k.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return Object(i.d)("0 min","FollowersOnlyShorthand");case 10:return Object(i.d)("10 min","FollowersOnlyShorthand");case 30:return Object(i.d)("30 min","FollowersOnlyShorthand");case 60:return Object(i.d)("1 hr","FollowersOnlyShorthand");case 1440:return Object(i.d)("1 day","FollowersOnlyShorthand");case 10080:return Object(i.d)("1 wk","FollowersOnlyShorthand");case 43200:return Object(i.d)("1 mo","FollowersOnlyShorthand");case 129600:return Object(i.d)("3 mo","FollowersOnlyShorthand");default:return Object(i.d)("custom","FollowersOnlyShorthand")}}},W7Hf:function(e,t,n){"use strict";var i=n("9sGC");n.d(t,"a",function(){return i.a})},W8Fi:function(e,t,n){"use strict";function i(e){return e.some(function(e){return!!e.self&&!!e.self.promotion})}function r(e){return e.some(function(e){return!!e.giftPromotion})}function a(e){return e.some(function(e){return!!e.self&&!!e.self.paidUpgradePromotion})}function o(e,t){var n;return t?n=e.giftPromotion:e.self&&(n=e.self.promotion),n?n.newPrice:e.price}function s(e,t){var n;return t?n=e.giftPromotion:e.self&&(n=e.self.promotion),n?parseInt(n.discountValue,10):0}function l(e){return e.self&&e.self.paidUpgradePromotion?e.self.paidUpgradePromotion.newPrice:e.price}function c(e){return e.find(function(e){return!!e.self&&!!e.self.paidUpgradePromotion})||null}n.d(t,"g",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c})},WQCf:function(e,t,n){"use strict";n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return i}),n.d(t,"j",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return u});var i,r,a,o,s,l,c,d,u,m,p={BitsLeaderboardEvents:"leaderboard-events-v1",BitsCampaignEvents:"bits-campaigns-v1",CampaignGlobalEvents:"campaign-events",CampaignUserEvents:"user-campaign-events",ChannelBitsEvents:"channel-bits-events-v1",ChannelBitsPinEvents:"channel-bit-events-public",ChannelEventUpdates:"channel-event-updates",ChannelSquadInvites:"channel-squad-invites",ChannelSquadUpdates:"channel-squad-updates",ChannelSubscribeEvents:"channel-subscribe-events-v1",CheerbombEventsTopic:"channel-cheer-events-public-v1",BroadcastSettingsUpdate:"broadcast-settings-update",ChatRoom:"chatrooms-room-v1",ChatRoomsChannel:"chatrooms-channel-v1",ChatRoomsUser:"chatrooms-user-v1",DashboardActivityFeed:"dashboard-activity-feed",ExtensionAssets:"extension-control.upload",Follows:"follows",Friendship:"friendship",ImageUpload:"user-image-update",ModerationActionsByUserAndChannel:"chat_moderator_actions",MultiviewChanletUpdate:"multiview-chanlet-update",MysteryGift:"channel-sub-gifts-v1",OnsiteNotifications:"onsite-notifications",PayoutOnboardingEvents:"payout-onboarding-events",Presence:"presence",PurchaseFulfillmentEvents:"purchase-fulfillment-events",Raid:"raid",SquadUpdates:"squad-updates",StreamChange:"stream-change-v1",StreamChatRoom:"stream-chat-room-v1",SubscribersCSV:"subscribers-csv-v1",UploadService:"upload",UserBitsUpdates:"user-bits-updates-v1",UserCommerceEvents:"user-commerce-events",UserCrateEvents:"user-crate-events-v1",UserPropertiesUpdates:"user-properties-update",UserSubscribeEvents:"user-subscribe-events-v1",VideoPlayback:"video-playback",VideoPlaybackById:"video-playback-by-id",VideoThumbnailProcessing:"video-thumbnail-processing",Whispers:"whispers"},h={BitsChannelSettingsEvent:"channel_settings_update",BitsCampaignAddCheermoteEvent:"sponsored-cheermote-add",BitsCampaignRemoveCheermoteEvent:"sponsored-cheermote-remove",BitsCampaignTotalUpdate:"sponsored-cheermote-update-used",BitsCampaignComplete:"sponsored-cheermote-campaign-complete",BitsPinEvent:"bits-pin-event",BitsLeaderboardEvent:"bits-leaderboard-event",ChannelStreamDown:"stream-down",ChannelStreamUp:"stream-up",BroadcastSettingsUpdate:"broadcast_settings_update",ChatNotification:"chat-notification",ChatRoomCreated:"created_room",ChatRoomDeleted:"deleted_room",ChatRoomUpdated:"updated_room",ChatRoomsUserModAction:"user_moderation_action",ChatRoomMessageCreated:"created_room_message",ChatRoomMessageEdited:"edited_room_message",ChatRoomMessageDeleted:"deleted_room_message",ChatRoomsRoomViewUpdated:"updated_room_view",CheerbombEvent:"cheerbomb",Commercial:"commercial",ExtensionUpload:"extension-control-upload",ImageUploadSuccess:"imageuploadsuccess",LiveEvent:"live-event",ManagedSquad:"managed-squad",ModerationAction:"moderation_action",ModeratorAdded:"moderator_added",ModeratorRemoved:"moderator_removed",MultiviewChanletUpdate:"chanlet",MysteryGiftPurchase:"mystery-gift-purchase",OnsiteNotificationCreate:"create-notification",OnsiteNotificationDelete:"delete-notification",OnsiteNotificationsRead:"read-notifications",OnsiteNotificationSummaryUpdate:"update-summary",OnsiteNotificationUpdate:"update-notification",PayoutOnboardingEvent:"payout-onboarding-event",Presence:"presence",PresenceSettings:"settings",PurchaseFulfillmentEvents:"purchase_fulfillment_events",PurgeMessageRequest:"purge_messages_request",RaidCancel:"raid_cancel",RaidUpdate:"raid_update",RaidCancelV2:"raid_cancel_v2",RaidUpdateV2:"raid_update_v2",RaidGoV2:"raid_go_v2",ReceivedSquadInvites:"received-squad-invites",Squad:"squad",StreamChatRoomChatRichEmbed:"chat_rich_embed",StreamChatRoomHostTargetChange:"host_target_change",StreamChatRoomExtensionMessage:"extension_message",StreamDown:"stream_down",StreamUp:"stream_up",SubscribersCSVComplete:"subscribers_csv_complete_v1",SubscribersCSVInProgress:"subscribers_csv_in_progress_v1",UpdatedChannelChatProperty:"updated_channel_chat_property",UploadService:"upload",UserBitsBalanceUpdate:"balance_update",UserBitsBadgeNotification:"badge_update_notification",UserBitsBadgeUpdate:"badge_update",UserBitsFirstPurchase:"first_bits_purchase",UserCampaignProgressEvent:"progress",UserCampaignMegaCheerRewardEvent:"mega_cheer_reward",UserCampaignRewardEvent:"reward",UserCrateEvent:"crate-event",UserFollowedEvent:"user-followed",UserGiftEvent:"gift-event",UserMention:"user_mention",UserPropertiesUpdate:"user_properties_update",UserUnfollowedEvent:"user-unfollowed",VideoThumbnailProcessingComplete:"processing_complete",VideoThumbnailProcessingError:"processing_error",ViewCount:"viewcount",Vodcast:"watchparty-vod",WhisperAllThreadsUpdate:"threads",WhisperDeleted:"whisper_deleted",WhisperEdited:"whisper_edited",WhisperReceived:"whisper_received",WhisperSent:"whisper_sent",WhisperThreadUpdate:"thread"},f={Accepted:"accepted",Requested:"requested",Removed:"removed",SelfAccepted:"self_accepted",SelfRemoved:"self_removed",SelfRequested:"self_requested"};!function(e){e.AddBlockedTerm="add_blocked_term",e.AddPermittedTerm="add_permitted_term",e.AutoModEnabled="automod_enabled",e.AutoModRejected="automod_rejected",e.DeniedAutoModMessage="denied_automod_message",e.ApprovedAutoModMessage="approved_automod_message",e.AutoModCheerRejected="automod_cheer_rejected",e.Ban="ban",e.Clear="clear",e.Delete="delete",e.DeleteBlockedTerm="delete_blocked_term",e.DeletePermittedTerm="delete_permitted_term",e.EmoteOnly="emoteonly",e.EmoteOnlyOff="emoteonlyoff",e.FollowersOnly="followers",e.FollowersOnlyOff="followersoff",e.Host="host",e.Mod="mod",e.ModifiedAutoModProperties="modified_automod_properties",e.R9kBeta="r9kbeta",e.R9kBetaOff="r9kbetaoff",e.Raid="raid",e.Slow="slow",e.SlowOff="slowoff",e.SubsBeta="subsbeta",e.SubscribersOnly="subscribers",e.SubscribersOnlyOff="subscribersoff",e.Timeout="timeout",e.Unban="unban",e.Unhost="unhost",e.Unmod="unmod",e.Unraid="unraid",e.Untimeout="untimeout"}(i||(i={})),function(e){e.AutoModMessageRejected="automod_message_rejected",e.AutoModMessageApproved="automod_message_approved",e.AutoModMessageDenied="automod_message_denied",e.AutoModCheerDenied="automod_cheer_message_denied",e.AutoModCheerTimeout="automod_cheer_message_timeout",e.DeleteNotification="delete_notification"}(r||(r={})),function(e){e.Archive="archive",e.Highlight="highlight",e.Upload="upload",e.Premiere="premiere",e.Rerun="rerun",e.WatchPartyPremiere="watch_party_premiere",e.WatchPartyRerun="watch_party_rerun"}(a||(a={})),function(e){e.Private="private",e.Public="public"}(o||(o={})),function(e){e.InNetwork="IN_NETWORK",e.OutOfNetwork="OUT_OF_NETWORK"}(s||(s={})),function(e){e.RecipientCannotAccessSquadStream="RECIPIENT_CANNOT_ACCESS_SQUAD_STREAM",e.RecipientCannotBeInvited="RECIPIENT_CANNOT_BE_INVITED",e.RecipientRejected="RECIPIENT_REJECTED"}(l||(l={})),function(e){e.Accepted="ACCEPTED",e.Deleted="DELETED",e.Pending="PENDING",e.Rejected="REJECTED",e.Unknown="UNKNOWN"}(c||(c={})),function(e){e.Pending="PENDING",e.Live="LIVE",e.Ended="ENDED"}(d||(d={})),function(e){e.Success="fulfilled",e.Failure="failed"}(u||(u={})),function(e){e.Subs="subs"}(m||(m={}))},WvXh:function(e,t,n){},WytW:function(e,t,n){"use strict";n.d(t,"h",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"a",function(){return p}),n.d(t,"n",function(){return f}),n.d(t,"k",function(){return b}),n.d(t,"i",function(){return E}),n.d(t,"m",function(){return C}),n.d(t,"l",function(){return y}),n.d(t,"j",function(){return I}),n.d(t,"g",function(){return O});var i=n("/7QA"),r=n("4G6/"),a=n("Ff8q"),o=i.q.logger.withCategory("chat-commands");function s(e){return/^[\/]/.test(e)}function l(){return"/clear"}function c(){return"/followersoff"}function d(){return"/slowoff"}function u(e){return"/followers "+e}function m(){return"/slow"}function p(e){return"/color "+e}var h=/^\/w(?:$|\s+)(\S+)?\s*(.+)?/i;function f(e){var t=e.trim().match(h);return t?{recipientLogin:t[1]&&Object(a.b)(t[1])||null,body:t[2]||null}:null}var g=/^\/host\s+(\S+)$/i;function b(e){var t=e.trim().match(g);return t?{recipientLogin:Object(a.b)(t[1])}:null}var v=/^\/ban\s+(\S+)(?:\s+(.+))?$/;function E(e){var t=e.trim().match(v);return t&&t[1]?{banTarget:Object(a.b)(t[1]),reason:t[2]||null}:null}var k=/^\/timeout\s+(\S+)(?:\s+(\S+))?(?:\s+(.+))?$/;function C(e){var t=!0,n=e.trim().match(k);if(!n||!n[1])return null;var i=Object(a.b)(n[1]),o=n[2]||null,s=n[3]||null,l=null;if(null!==o){var c=Number(o);if(Number.isNaN(c)){var d=Object(r.b)(o||"");!d||Number.isNaN(d)?t=!1:l=d}else l=c}return{validArguments:t,banTarget:i,rawDuration:o,durationSeconds:l,reason:s}}var S=/^\/slow(?:\s+(\d+)?)?$/;function y(e){var t=e.trim().match(S);return t?{duration:t[1]&&Number(t[1])||null}:null}var N=["blue","blueviolet","cadetblue","chocolate","coral","dodgerblue","firebrick","goldenrod","green","hotpink","orangered","red","seagreen","springgreen","yellowgreen"],_=/^\/color\s+(#[A-Fa-f0-9]{6}|[A-Za-z]+)$/;function I(e){var t=e.trim().match(_);if(!t)return null;var n=t[1];return n.startsWith("#")||-1!==N.indexOf(n.toLowerCase())?{color:n}:null}var T=/^[\/.]([a-z0-9]+)(.+)?$/i;function O(e,t){var n=e.match(T);if(!n)return{handled:!1};var r=n[1],a=(i.q.store.getState().chat.commandHandlers[t]||{})[r.toLowerCase()];if(!a)return{command:r,handled:!1};if(1!==a.length)return o.error(new Error("Failed to run comand "+r),"Multiple command handlers defined for '"+r+"'",{command:r}),{command:r,handled:!1};var s=(n[2]||"").trim(),l={channelLogin:t},c=a[0];try{return{command:r,handled:!0,result:c(s,l)}}catch(e){return o.warn("Exception thrown from chat command handler",{command:r,err:e}),{handled:!1}}}},XIZb:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),r=n("q1tI"),a=n("4rCz"),o=n("1rIY");function s(e){var t=Object(o.a)(e,{setServiceAPI:function(){a.l.warn("The "+e+" chat service attempted to register its API without a provider.")}}),n=t.InnerProvider,s=t.withContext;return{InnerProvider:n,withChatServiceProvider:function(e){return function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e.setServiceAPI=function(t){e.setState({serviceAPI:t})},e}return i.__extends(a,t),a.prototype.render=function(){return r.createElement(n,{value:{serviceAPI:this.state.serviceAPI,setServiceAPI:this.setServiceAPI}},r.createElement(e,i.__assign({},this.props)))},a}(r.Component)},withContext:s}}},XQnt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_SubUpsell_PriceInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oldPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountValue"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"paidUpgradePromotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oldPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountValue"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:393}};n.loc.source={body:"query EmotePicker_SubUpsell_PriceInfo($channelID: ID!) {\nuser(id: $channelID) {\nid\nsubscriptionProducts {\nid\ndisplayName\nname\ntier\nurl\nemotes {\nid\ntoken\n}\nprice\npriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}\nemoteSetID\nself {\npromotion {\nnewPrice\noldPrice\ndiscountType\ndiscountValue\n}\npaidUpgradePromotion {\nnewPrice\noldPrice\ndiscountType\ndiscountValue\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},XRPh:function(e,t,n){"use strict";var i=n("oJmH"),r=n("/MKj"),a=n("kRBY"),o=n("fezU"),s=n("mrSG"),l=n("q1tI"),c=n("/7QA"),d=n("D7An"),u=n("j0ar"),m="emote_card",p="emote_card_whitelist";var h=n("oK83"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emoteClickHandler=function(e){t.props.emote.emoteID&&t.props.onEmoteClick({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin||"",emoteID:t.props.emote.emoteID,emoteCode:t.props.emote.alt||"",sourceID:t.props.sourceID||"",emoteSourceType:t.props.sourceType?t.props.sourceType:h.a.unknown,referrerID:t.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},t}return s.__extends(t,e),t.prototype.render=function(){var e,t,n=this.props.emote.alt||"";return this.props.emote.cheerAmount&&(n+=" "+this.props.emote.cheerAmount.toString(),e=l.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)),t=l.createElement(u.a,{alt:n,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:this.props.emote.images}),this.props.emote.cheerAmount||this.props.disableCard||!function(e){var t=c.b.get(m,"off");if("on"===t)return!0;if("staff"===t&&e&&e.roles&&e.roles.isStaff)return!0;var n=c.b.get(p,[]);return!!("whitelist"===t&&e&&e.id&&n.includes(e.id))}(this.props.user)||"treatment"!==c.q.experiments.getAndTrackAssignment(d.b.EmoteCard)?t:l.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},t)},t}(l.Component);var g=Object(i.compose)(Object(r.connect)(function(e){return{user:Object(a.e)(e)}}),Object(o.b)(function(e){return{onEmoteClick:e.onShowEmoteCard}}))(f);g.displayName="Emote",n.d(t,!1,function(){}),n.d(t,"a",function(){return g})},XUhy:function(e,t,n){},XmgI:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return h});var i=n("wUQP"),r=n("DMoW"),a=n("5zXJ"),o=n("RcPG"),s={indexedActions:{},orderedActions:[]},l=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function c(e,t,n){void 0===n&&(n=!0);var i=[],r=e.split(/\s+/);return r.forEach(function(e,a){var s=d(e,t,n);if(s)i.push(s);else{var l=i.length&&i[i.length-1],c="";if(a<r.length-1&&(c=" "),l&&l.type===o.a.Text)l.content+=e+c;else{var u="";a&&(u=" "),i.push({type:o.a.Text,content:u+e+c})}}}),i}function d(e,t,n){void 0===n&&(n=!0);var i=e.match(l);if(!i)return null;var a=i[1].toLowerCase(),s=Number(i[2]),c=t.indexedActions[a];if(c&&(c.type!==r.x.DISPLAY_ONLY||n)){var d=c.orderedTiers.find(function(e){return e.bits<=s});if(!d&&s&&(d=c.orderedTiers[0]),d)return{type:o.a.Emote,content:{images:p(d),alt:c.prefix,cheerAmount:s,cheerColor:d.color}}}return null}function u(e,t){var n,i,r=(n=t,i=new Map,n.orderedActions.forEach(function(e){e.campaign&&i.set(e.prefix,e.campaign)}),i),o=new Map;e.forEach(function(e,t){if(e.alt&&r.has(e.alt))if(o.has(e.alt)){(n=o.get(e.alt))&&(n.total+=e.cheerAmount||0,n.lastAppearance=t)}else{var n={total:e.cheerAmount||0,lastAppearance:t,campaign:r.get(e.alt)};o.set(e.alt,n)}});var s=1;return o.forEach(function(n){var i=0;n.campaign.thresholds.forEach(function(e){n.total>=e.minimumBits&&(i=e.matchedPercent)});var r=Math.trunc(n.total*i);if(r>0){var o=d(a.s+r,t,!0);o&&e.splice(n.lastAppearance+s++,0,o.content)}}),e}function m(e,t){return c(e,t,!0).reduce(function(e,t){return t.type===o.a.Emote&&e.push(t.content),e},[]).some(function(e){var n=t.orderedActions.find(function(t){return!!e.alt&&e.alt===t.prefix});return!!n&&n.type===r.x.DISPLAY_ONLY})}function p(e,t,n){var i,r;void 0===n&&(n=!0);var a=n?"animated":"static";return t?{themed:!0,dark:(i={},i[t+"x"]=e.indexedImages.DARK[a].get(t),i),light:(r={},r[t+"x"]=e.indexedImages.LIGHT[a].get(t),r)}:{themed:!0,dark:{"1x":e.indexedImages.DARK[a].get(1),"1.5x":e.indexedImages.DARK[a].get(1.5),"2x":e.indexedImages.DARK[a].get(2),"3x":e.indexedImages.DARK[a].get(3),"4x":e.indexedImages.DARK[a].get(4)},light:{"1x":e.indexedImages.LIGHT[a].get(1),"1.5x":e.indexedImages.LIGHT[a].get(1.5),"2x":e.indexedImages.LIGHT[a].get(2),"3x":e.indexedImages.LIGHT[a].get(3),"4x":e.indexedImages.LIGHT[a].get(4)}}}function h(e){return!!Object(i.c)(a.a)&&e.toLowerCase()===a.b.toLowerCase()}},Y18C:function(e,t,n){},Y3y8:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var i=n("yR8l"),r=n("eDVu"),a=n("0Log"),o=n("/aPz"),s=n("/gva");function l(){return Object(i.a)(s,{name:"currentUserBannedStatusData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}})}function c(){return Object(r.a)(function(e){return{variables:{channelLogin:e.channelLogin},query:s,skip:!e.sessionUser||!e.channelID||!e.firstPageLoaded,topic:e.sessionUser&&e.channelID?Object(o.k)(""+(e.sessionUser&&e.sessionUser.id)):"",type:a.PubsubMessageType.ChatRoomsUserModAction,mutator:function(t,n){return e.sessionUser&&e.channelID&&n.channel&&n.channel.self&&t.data.target_id===e.sessionUser.id&&t.data.channel_id===e.channelID&&("ban"===t.data.action?n.channel.self.banStatus={isPermanent:!0,__typename:"ChatRoomBanStatus"}:"unban"===t.data.action&&(n.channel.self.banStatus={isPermanent:!1,__typename:"ChatRoomBanStatus"})),n}}})}},Y5lD:function(e,t,n){"use strict";function i(e){return Math.floor((Date.now()-new Date(e).getTime())/1e3)}n.d(t,"a",function(){return i})},YXxK:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r});var i=n("B/KH");n.d(t,"b",function(){return i.a});var r,a={Embed:"embed",Web:"web"};!function(e){e.ZeroBits="zero_bits",e.CheeringDisabled="cheering_disabled",e.BitsUnavailable="bits_unavailable",e.BitsCardDisabled="bits_card_disabled",e.AboveMaxEmote="above_max_emote",e.AboveMaxCheer="above_max_cheer",e.BelowMin="below_min",e.BelowMinEmote="below_min_emote",e.InputAboveMaxLength="input_above_max_length",e.InputCommandStart="input_command_start",e.InvalidBitsMessage="invalid_bits_message",e.Canceled="canceled",e.UserBanned="user_banned",e.AutoModMessage="auto_mod_message",e.AutoModPending="auto_mod_pending",e.ChannelBlockedTerms="channel_blocked_terms",e.ChannelIneligible="channel_ineligible",e.InvalidAnonymousMessage="invalid_anonymous_message",e.InvalidEventId="invalid_event_id",e.RequestThrottled="request_throttled",e.Unknown="unknown",e.UserIneligible="user_ineligible",e.UserSuspended="user_suspended",e.ZalgoMessage="zalgo_message",e.DuplicateEventId="duplicate_event_id",e.MissingBitsConfig="missing_bits_config"}(r||(r={}))},YphD:function(e,t,n){},Yr1V:function(e,t,n){},Z2sP:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return p});var i,r,a,o=n("pVnL"),s=n.n(o),l=n("q1tI"),c=n("fNzW"),d=n("vCsY"),u=n("hnjF"),m=n("X2PJ");n("ulxC");!function(e){e.Default="",e.Small="tw-progress-bar--sm",e.ExtraSmall="tw-progress-bar--xs"}(i||(i={})),function(e){e.Default="",e.Caution="tw-progress-bar--caution",e.Error="tw-progress-bar--error",e.Success="tw-progress-bar--success"}(r||(r={})),function(e){e.Up="up",e.Down="down"}(a||(a={}));var p=function(e){var t={"tw-progress-bar":!0,"tw-progress-bar--countdown":e.animationDirection===a.Down,"tw-progress-bar--countup":e.animationDirection===a.Up,"tw-progress-bar--inherit":e.inherit,"tw-progress-bar--mask":e.mask},n={"tw-progress-bar__fill":!0,"tw-progress-bar__fill--paused":e.paused};e.size&&(t[e.size]=!0),e.status&&(t[e.status]=!0);var i=e.borderRadius||m.b.Large;return l.createElement(m.e,{borderRadius:i},l.createElement("div",s()({className:Object(c.a)(t)},Object(d.a)(e),{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":100}),l.createElement(m.e,{borderRadius:i,display:u.d.Block},l.createElement("div",{onAnimationEnd:e.onAnimationEnd,className:Object(c.a)(n),style:{width:e.value+"%",animationDuration:e.animationDuration?e.animationDuration+"s":""},"data-a-target":"tw-progress-bar-animation"}))))};p.displayName="ProgressBar",p.displayName="ProgressBar"},ZBeb:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_FollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:218}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nmutation FollowButton_FollowUser($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\ndisableNotifications\nuser {\n...followButtonFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("V94A").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},ZEQw:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l});var i="subscribe_to_channel",r="turbo",a="get_bits",o="visit_url",s="none",l="broadcaster"},ZTn5:function(e,t,n){},ZVTe:function(e,t,n){"use strict";var i=n("TSYQ"),r=n("q1tI"),a=n("EE1E"),o=(n("2e6W"),function(e){var t,n=e.userData.color;e.highContrastUsernameColor&&n&&(n="#"+Object(a.a)(n,e.theme));var o=[r.createElement("span",{key:"username-display",className:"chat-author__display-name","data-a-target":"chat-message-username","data-a-user":e.userData.userLogin,"data-test-selector":"message-username",style:{color:n}},e.userData.userDisplayName)];if(e.userData.isIntl){var s=i(((t={})["chat-author__intl-login"]=!e.highlighted,t["chat-author__intl-login--highlighted"]=e.highlighted,t));o.push(r.createElement("span",{key:"username-login",style:{color:n},className:s,"data-test-selector":"message-username-canonical"}," ("+e.userData.userLogin+")"))}return r.createElement("span",{key:e.userData.userID+"-authorlabel"},o)});n.d(t,!1,function(){return"message-username"}),n.d(t,!1,function(){return"message-username-canonical"}),n.d(t,!1,function(){return"chat-author__display-name"}),n.d(t,!1,function(){return"chat-author__intl-login"}),n.d(t,!1,function(){return"chat-author__intl-login--highlighted"}),n.d(t,"a",function(){return o})},ZfCj:function(e,t,n){},ZtEv:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"a",function(){return o});var i,r,a,o,s=n("0Log");n.d(t,"d",function(){return s.ModerationActions}),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.SubGift=22]="SubGift",e[e.AnonSubGift=23]="AnonSubGift",e[e.Clear=24]="Clear",e[e.RoomMods=25]="RoomMods",e[e.RoomState=26]="RoomState",e[e.Raid=27]="Raid",e[e.Unraid=28]="Unraid",e[e.Ritual=29]="Ritual",e[e.Notice=30]="Notice",e[e.Info=31]="Info",e[e.BadgesUpdated=32]="BadgesUpdated",e[e.Purchase=33]="Purchase",e[e.BitsCharity=34]="BitsCharity",e[e.CrateGift=35]="CrateGift",e[e.RewardGift=36]="RewardGift",e[e.SubMysteryGift=37]="SubMysteryGift",e[e.AnonSubMysteryGift=38]="AnonSubMysteryGift",e[e.FirstCheerMessage=39]="FirstCheerMessage",e[e.BitsBadgeTierMessage=40]="BitsBadgeTierMessage"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action",e[e.PostWithMention=2]="PostWithMention"}(r||(r={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(a||(a={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}))},ZuCe:function(e,t,n){},a1OF:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return f});var i=n("mrSG"),r=n("/7QA"),a=n("oe5X"),o=n("0FG4"),s=n("kRBY"),l=n("60o1"),c=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],d={};function u(e,t,n,r,a,o,s){void 0===r&&(r=null),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=!1);var c=Object(l.a)(t.displayName,t.username);return{badges:t.badges||{},bits:t.bits,user:i.__assign({},c,{userLogin:t.username,userID:t.userID,userType:t.userType,color:t.color||m(t.userID)}),messageParts:p(e,t.emotes||{},t.bits,n,t.username,r||void 0),deleted:a,banned:s,hidden:o,timestamp:Date.now()}}function m(e,t){return void 0===t&&(t=15),"number"!=typeof d[e]&&(d[e]=Math.floor(Math.random()*t)),c[d[e]]}function p(e,t,n,i,l,c){var d=Object(s.e)(r.q.store.getState()),u={cheers:n?i:void 0,emotes:{type:o.a.Position,map:t},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:l,sessionUser:d},flags:c};return Object(a.a)(e,u)}function h(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function f(e,t){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/"+Math.min(Math.ceil(t),3)+".0"}},a2UF:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("mrSG"),r=n("yR8l"),a=n("Pub/"),o=n("HzXE"),s=n("1Rv/");function l(e){var t=this;return Object(r.a)(s,{props:function(n){return{unbanUserMutation:function(r){return i.__awaiter(t,void 0,void 0,function(){var t;return i.__generator(this,function(s){switch(s.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:r}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.ban&&t.data.unbanUserFromChatRoom.ban.bannedUser&&t.data.unbanUserFromChatRoom.ban.bannedUser.id){var r=Object(a.a)(e,n,t.data.unbanUserFromChatRoom.ban.bannedUser.id);if(!r)return;e.writeQuery({query:o,variables:{targetUserID:t.data.unbanUserFromChatRoom.ban.bannedUser.id,channelID:n},data:i.__assign({},r,{chatRoomBanStatus:null})})}}(e,n,t)}})];case 2:return[2,s.sent().data];case 3:throw s.sent(),new Error("Unable to unban user");case 4:return[3,6];case 5:throw new Error("Unban user mutation is not ready");case 6:return[2]}})})}}}})}},a5fV:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var i=n("/7QA"),r=n("W8Fi");function a(e,t){return e/Math.pow(10,t)}function o(e,t){return Object(i.f)(e,{style:"currency",currency:t})}function s(e,t){return void 0===t&&(t=!1),Object(r.g)([e])||Object(r.e)([e])?Object(r.c)(e,t):e.priceInfo?o(a(e.priceInfo.total,e.priceInfo.exponent),e.priceInfo.currency):e.price}},aF6k:function(e,t,n){"use strict";function i(e){var t=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+t}n.d(t,"a",function(){return i})},aSQN:function(e,t,n){},akKH:function(e,t,n){"use strict";var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("1H2c"),c=n("hnjF"),d=n("X2PJ"),u=n("sUnt"),m=n("bjr5"),p=n("xfJC"),h=n("ghMw"),f=n("Putr"),g=(n("ZTn5"),function(e){var t;e.required&&(t=a.createElement(f.a,null));return a.createElement("legend",{className:Object(o.a)({"tw-form-legend":!0})},t,e.label)});g.displayName="FormLegend",g.displayName="FormLegend";var b,v;n("rVcl");n.d(t,"b",function(){return b}),n.d(t,"a",function(){return E}),function(e){e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(b||(b={})),function(e){e[e.Single=1]="Single",e[e.Multiple=2]="Multiple"}(v||(v={}));var E=function(e){var t,n,i,f,E,k=Object(l.a)(),C={"tw-form-group":!0,"tw-form-group--error":e.error};return e.labelOptional&&(n=a.createElement("span",{className:"tw-form-group__optional"},"(",e.labelOptional,")")),e.hint&&!e.error?i=a.createElement(p.a,{hint:e.hint}):e.errorMessage&&e.error&&(i=a.createElement(m.a,{errorMessage:e.errorMessage})),i&&(i=a.createElement(u.a,{margin:{top:.5}},i)),e.controls===v.Multiple?(t=a.createElement(g,{label:e.label}),E="fieldset"):(t=a.createElement(h.a,{id:e.id?e.id:k,required:e.required,label:e.label}),E="div"),t=a.createElement(u.a,{margin:{bottom:.5}},t,n),f=e.orientation===b.Horizontal?a.createElement(E,null,a.createElement(u.a,{display:c.d.Flex,flexWrap:c.f.NoWrap},a.createElement(u.a,{className:"tw-form-group__label-container",flexShrink:0,padding:{right:2}},t),a.createElement(u.a,{flexGrow:1},e.children,i))):a.createElement(E,null,a.createElement("div",null,t,e.children,i)),a.createElement(d.e,r()({className:Object(o.a)(C)},Object(s.a)(e),{position:c.j.Relative,flexGrow:1,fontSize:d.d.Size6}),f)};E.displayName="FormGroup",E.displayName="FormGroup"},ao1a:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return m});var i=n("wUQP"),r=n("D7An"),a=n("DMoW"),o=n("4rCz"),s=function(){return o.r.experiments.getAndTrackAssignment(r.b.BitsNewUserCheerV1)===i.b.On},l=function(e,t){return t===a.j.ACQUIRED&&function(e){var t=o.r.dynamicSettings.get("ruby_is_the_cutest_dog_ever",i.b.Off);return(t===i.b.On||e&&t===i.b.StaffOnly)&&s()}(e)},c=function(e){return e===a.j.NEW_USER&&s()},d=function(e,t){return!(!t||!t.firstCheerTutorial||t.firstCheerTutorial.hasSkipped||!c(e))},u=function(e,t){return!(!t||!t.firstCheerTutorial||t.firstCheerTutorial.hasAbandoned||t.firstCheerTutorial.hasSkipped||!c(e))},m=function(e,t,n){return!(!n||!n.firstCheerTutorial||n.firstCheerTutorial.hasSkipped||!l(e,t))}},b5C3:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("q1tI"),r=n("vHGB"),a=function(e){var t=e.badgesToRender,n=e.badgeSets;if(!t)return null;var a,o=[];a=t,Array.isArray(a)?o=t.map(function(t){var a=n.getBadge(t.setID,t.version);return null===a?null:e.usesSchemaBadges?i.createElement(r.a,{key:a.setID+"/"+a.version,schemaBadge:a}):i.createElement(r.a,{key:a.setID+"/"+a.version,badge:a})}):function(e){return!Array.isArray(e)}(t)&&(o=Object.keys(t).map(function(a){var o=t[a],s=n.getBadge(a,o);return null===s?null:e.usesSchemaBadges?i.createElement(r.a,{key:s.setID+"/"+s.version,schemaBadge:s}):i.createElement(r.a,{key:s.setID+"/"+s.version,badge:s})}));var s=o.filter(function(e){return null!==e});return i.createElement("span",null,s)};a.displayName="BadgeList"},"b7S+":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return m});var i,r,a=n("pVnL"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),c=n("vCsY"),d=n("1H2c"),u=n("hnjF");n("lVWK");!function(e){e.Top="tw-tooltip--up",e.Bottom="tw-tooltip--down",e.Left="tw-tooltip--left",e.Right="tw-tooltip--right"}(i||(i={})),function(e){e.Left="tw-tooltip--align-left",e.Center="tw-tooltip--align-center",e.Right="tw-tooltip--align-right"}(r||(r={}));var m=function(e){var t,n,a,m,p=Object(d.a)(),h={"tw-tooltip":!0,"tw-tooltip--wrap":!!e.width},f={"tw-tooltip-wrapper":!0,"tw-tooltip-wrapper--show":e.show};e.direction?h[e.direction]=!0:h[i.Top]=!0,e.align&&e.align!==r.Center&&e.direction!==i.Left&&e.direction!==i.Right?h[e.align]=!0:h[r.Center]=!0,e.offsetX&&(e.align===r.Right?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction&&e.direction!==i.Top?a=e.offsetY:m=e.offsetY);var g={marginLeft:t,marginRight:n,marginTop:a,marginBottom:m,width:e.width};return s.createElement(u.g,o()({display:e.display?e.display:u.d.InlineFlex},Object(c.a)(e)),s.createElement("div",{className:Object(l.a)(f),"aria-describedby":e.id||p,title:e.title},e.children,s.createElement("div",{className:Object(l.a)(h),style:g,"data-a-target":"tw-tooltip-label",role:"tooltip",id:e.id||p},e.label)))};m.displayName="Tooltip",m.displayName="Tooltip"},bJDk:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f});var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("GxwZ"),l=n("N0BP"),c=n("1rIY"),d=(n("+Mtq"),100);!function(e){e[e.Resize=0]="Resize",e[e.Scroll=1]="Scroll",e[e.Wheel=2]="Wheel"}(i||(i={}));var u=Object(c.a)("ScrollableProvider",{registerReceiver:function(){return function(){return null}},requestVisibilityCheck:function(){},getScrollContent:function(){return null},scrollToTop:function(){},yScrollTo:function(){}}),m=u.InnerProvider,p=u.NativeConsumer,h=u.withContext,f=function(e){function t(t){var n=e.call(this,t)||this;return n.root=null,n.scrollContent=null,n.xScrollContent=null,n.resizeTimeout=0,n.receivers=[],n.scrollTimeout=0,n.wheelTimeout=0,n.scrollToBottom=function(){n.scrollContent&&n.yScrollTo(n.scrollContent.scrollHeight)},n.scrollToTop=function(){n.yScrollTo(0)},n.notifyReceivers=function(e){requestAnimationFrame(function(){if(n.scrollContent){var t=n.scrollContent.getBoundingClientRect();e&&(e.offset=n.scrollContent.scrollTop),n.receivers.forEach(function(n){n.checkVisible(t,e)})}})},n.onResize=function(){if(!n.resizeTimeout&&n.scrollContent){var e={type:i.Resize,offset:n.scrollContent.scrollTop};n.props.disableDebounce?n.notifyReceivers(e):n.resizeTimeout=setTimeout(function(){n.resizeTimeout=0,n.notifyReceivers(e)},d)}},n.onScroll=function(){if(!n.scrollTimeout&&n.scrollContent){var e={type:i.Scroll,offset:n.scrollContent.scrollTop};n.props.disableDebounce?n.notifyReceivers(e):n.scrollTimeout=setTimeout(function(){n.scrollTimeout=0,n.notifyReceivers(e)},d)}},n.onWheel=function(e){if(!n.wheelTimeout&&n.scrollContent){var t={type:i.Wheel,offset:n.scrollContent.scrollTop,wheelEvent:e};n.props.disableDebounce?n.notifyReceivers(t):n.wheelTimeout=setTimeout(function(){n.wheelTimeout=0,n.notifyReceivers(t)},d)}},n.setRef=function(e){return n.root=e},n.yScrollTo=function(e){n.scrollContent&&(n.scrollContent.scrollTop=e),n.onScroll()},n.createSimpleBarOptions=function(){return{autoHide:void 0===n.props.autoHide||n.props.autoHide}},t.scrollRef&&t.scrollRef(n),n}return r.__extends(t,e),t.prototype.componentDidMount=function(){if(this.root){if(this.simplebarRef=new s(this.root,this.createSimpleBarOptions()),this.scrollContent=this.simplebarRef.getScrollElement(),this.xScrollContent=this.simplebarRef.getContentElement(),this.props.contentRef&&this.props.contentRef(this.scrollContent),this.props.contentClassName){var e=this.scrollContent.querySelector(".simplebar-content");e&&e.classList.add(this.props.contentClassName)}this.props.scrollContentClassName&&this.scrollContent.classList.add(this.props.scrollContentClassName),window.addEventListener("resize",this.onResize),this.scrollContent.addEventListener("scroll",this.onScroll),this.xScrollContent.addEventListener("scroll",this.onScroll),this.scrollContent.addEventListener("wheel",this.onWheel),this.notifyReceivers()}},t.prototype.componentWillUnmount=function(){this.root&&(delete this.simplebarRef,window.removeEventListener("resize",this.onResize),this.scrollContent&&this.scrollContent.removeEventListener("scroll",this.onScroll),this.xScrollContent&&this.xScrollContent.removeEventListener("scroll",this.onScroll))},t.prototype.render=function(){var e=this,t=this.props,n=(t.disableDebounce,t.suppressScrollX,t.suppressScrollY,t.scrollRef,t.scrollContentClassName,t.contentClassName,r.__rest(t,["disableDebounce","suppressScrollX","suppressScrollY","scrollRef","scrollContentClassName","contentClassName"])),i={"scrollable-area":!0,"scrollable-area--suppress-scroll-x":this.props.suppressScrollX,"scrollable-area--suppress-scroll-y":this.props.suppressScrollY};return o.createElement(p,null,function(t){return o.createElement(m,{value:e.contextForChildren(t.registerReceiver)},o.createElement("div",r.__assign({className:a(n.className,i),"data-test-selector":"scrollable-area-wrapper",ref:e.setRef},Object(l.a)(e.props),{style:e.props.style}),o.Children.only(e.props.children)))})},t.prototype.contextForChildren=function(e){var t=this,n={registerReceiver:function(i){return e(i),t.receivers.push(i),n.requestVisibilityCheck(i),function(){var e=t.receivers.indexOf(i);t.receivers.splice(e,1)}},requestVisibilityCheck:function(e){requestAnimationFrame(function(){var n=t.scrollContent;if(n){var i=n.getBoundingClientRect();e.checkVisible(i)}})},getScrollContent:function(){return t.scrollContent},scrollToTop:function(){return t.scrollToTop()},yScrollTo:function(e){return t.yScrollTo(e)}};return n},t}(o.Component)},bYOw:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("8/mp"),o=n("DMoW"),s=n("mrSG"),l=n("/7QA"),c=n("lB7/"),d=n("3CMh"),u=n("3qL/"),m=n("RiD7"),p=n("hnjF"),h=n("sUnt"),f=n("dEDE"),g=n("Ws8v"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWatchAdClick=function(){t.props.trackBitsCardInteraction(m.c.WatchAd),t.props.onWatchAdClick()},t}return s.__extends(t,e),t.prototype.render=function(){var e=null;return this.props.disableWatchAd&&(e=Object(l.d)("Try again later","Bits--WatchAdOffer")),r.createElement(g.a,{className:"bits-buy-card__offer-row",display:p.d.Flex,flexShrink:0,borderBottom:!0,justifyContent:p.h.Between,flexWrap:p.f.NoWrap,padding:{x:2,y:1}},r.createElement(h.a,{padding:{right:4}},r.createElement("strong",null,Object(l.d)("Get {minBitsCount} or more Bits by watching short ads",{minBitsCount:this.props.minPayout},"Bits--WatchAdOffer"))),r.createElement(h.a,{flexShrink:0,display:p.d.Flex,flexDirection:p.e.Column,alignItems:p.b.End},r.createElement(f.a,{type:f.d.Hollow,"data-a-target":"bits-watch-ad",onClick:this.onWatchAdClick,disabled:this.props.disableWatchAd},Object(l.d)("Watch Ad","Bits--WatchAdOffer")),e&&r.createElement(h.a,{className:"bits-buy-card__sub-text",alignSelf:p.c.Stretch,textAlign:p.k.Center,margin:{top:.5}},e)))},t}(r.Component),v=/version\/([\w\.]+).+?(mobile\s?safari|safari)/i,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={enableWatchAd:!0},t}return s.__extends(t,e),t.prototype.componentWillMount=function(){return s.__awaiter(this,void 0,void 0,function(){var e;return s.__generator(this,function(t){switch(t.label){case 0:return[4,Object(u.b)(this.props.truexUserID)];case 1:return e=t.sent(),Object(m.g)({channel:this.props.channelLogin,channelID:this.props.channelID,available:e===u.a.Available}),e!==u.a.Available&&e!==u.a.AdBlocked&&this.setState({enableWatchAd:!1}),[2]}})})},t.prototype.render=function(){return v.test(navigator.userAgent)?null:r.createElement(b,s.__assign({},this.props,{disableWatchAd:!this.state.enableWatchAd}))},t}(r.Component),k=n("ebRM"),C=n("+80q"),S=n("X2PJ"),y=(n("byRF"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBuyClick=function(e){var n=t.props.channelID||"",i=Object(k.b)({trackBitsCardInteraction:t.props.trackBitsCardInteraction,channelID:n,purchaseUrl:e.currentTarget.dataset.purchaseUrl,bitsAmount:e.currentTarget.dataset.bitsAmount,closeAllBits:t.props.closeAllBits,location:t.props.location});i&&(t.props.onBuyPopupClose(i),t.props.onClose())},t}return s.__extends(t,e),t.prototype.render=function(){if(this.props.offer.type===o.f.AD){if(!this.props.channelLogin)return null;var e=this.props.currentUserSHA||"";return r.createElement(E,{key:"wateb",minPayout:this.props.offer.bits,onWatchAdClick:this.props.handleWatchAdClick,truexUserID:e,channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,trackBitsCardInteraction:this.props.trackBitsCardInteraction})}if(this.props.offer.type===o.f.BUNDLE){var t=this.props.offer,n=null;Object(k.c)(t)&&(n=r.createElement(h.a,{className:"bits-buy-card-offer-row__bonus-text bits-buy-card-offer-row__bonus-text-headline","data-test-selector":"first-time-promo-form"},r.createElement(C.a,{type:C.e.Strong,fontSize:S.d.Size6},Object(l.d)("Special Offer: 1st Time Buyers","Bits--BuyCard")))),Object(k.f)(t)&&(n=r.createElement(h.a,{className:"bits-buy-card-offer-row__bonus-text bits-buy-card-offer-row__bonus-text-headline","data-test-selector":"spring-sale-2019-promo-form"},r.createElement(C.a,{type:C.e.Strong,fontSize:S.d.Size6},Object(l.d)("Special Offer!","Bits--BuyCard"))));var i=null;t.discount&&(i=r.createElement("div",{className:"bits-buy-card-offer-row__sub-text","data-test-selector":"discount-subtext-form"},Object(l.d)("{percentOff,number,percent} discount",{percentOff:t.discount},"Bits--BuyCard")));var a=null;(Object(k.c)(t)||Object(k.e)(t)||Object(k.f)(t))&&(a=r.createElement("div",{className:"bits-buy-card-offer-row__sub-text","data-test-selector":"one-per-account-form"},Object(l.d)("one per account","Bits--BuyCard")));var u={className:"bits-buy-card-offer-row",flexShrink:0,display:p.d.Flex,justifyContent:p.h.Center,flexDirection:p.e.Column,padding:{x:2,y:1}},m=r.createElement(r.Fragment,null,n,r.createElement(h.a,{display:p.d.Flex,justifyContent:p.h.Between,alignItems:p.b.Center},r.createElement(h.a,{flexGrow:1},r.createElement(C.a,{type:C.e.H5,color:S.c.Base,bold:!0},Object(l.d)("{bits} Bits",{bits:t.bits},"Bits--BuyCard")),r.createElement(c.a,{bitsConfig:this.props.bitsConfig,amount:t.bits,size:d.b.ExtraSmall})),r.createElement(h.a,{flexShrink:0,display:p.d.Flex,flexDirection:p.e.Column,alignItems:p.b.End},r.createElement(f.a,{onClick:this.handleBuyClick,"data-purchase-url":t.url,"data-bits-amount":t.bits,"data-a-target":"bits-purchase-button-"+t.bits},t.price),(i||a)&&r.createElement(h.a,{alignSelf:p.c.Stretch,textAlign:p.k.Right,margin:{top:.5}},i,a))));return r.createElement(r.Fragment,null,this.props.isLastRow?r.createElement(h.a,s.__assign({},u),m):r.createElement(g.a,s.__assign({},u,{borderBottom:!0}),m))}},t}(r.Component));n("mHh5");!function(e){e.Fullsize="full-size",e.Smallnoscroll="no-scroll--small",e.Scrollview="scroll-view"}(i||(i={}));var N=function(e){var t=[],n=[],s=null;switch(e.offers.forEach(function(i,a){var l=r.createElement(y,{key:i.id,offer:i,isLastRow:a>=e.offers.length,bitsConfig:e.bitsConfig,channelID:e.channelID,channelLogin:e.channelLogin,currentUserSHA:e.currentUserSHA,location:e.location,onClose:e.onClose,onBuyPopupClose:e.onBuyPopupClose,handleWatchAdClick:e.handleWatchAdClick,closeAllBits:e.closeAllBits,trackBitsCardInteraction:e.trackBitsCardInteraction}),c=Object(k.d)(i),d=Object(k.c)(i)||Object(k.f)(i),u=i.type===o.f.AD;d&&!e.hidePromos?t.push(l):c&&!d?t.push(l):u&&!e.hideWateb?s=l:u||c||n.push(l)}),e.size){case i.Scrollview:return r.createElement(a.b,{className:"bits-buy-card-offers__scroll-view"},r.createElement(h.a,{flexGrow:1,flexWrap:p.f.NoWrap,display:p.d.Flex,flexDirection:p.e.Column},s,t,n));case i.Smallnoscroll:return r.createElement(h.a,{className:"bits-buy-card-offers__no-scroll--small",flexGrow:1,flexWrap:p.f.NoWrap,display:p.d.Flex,flexDirection:p.e.Column},s,t,n);default:return r.createElement(h.a,{className:"bits-buy-card-offers__full-size",flexGrow:1,flexWrap:p.f.NoWrap,display:p.d.Flex,flexDirection:p.e.Column,fullWidth:!0},s,t,n)}};n.d(t,"b",function(){return i}),n.d(t,"a",function(){return N})},bfuM:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("gcd7"),s=n("fezU"),l=n("oK83"),c=n("NNSq"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUserCardCommand=function(e){return t.openUserCard(e)},t.openUserCard=function(e){return{deferred:new Promise(function(n,r){return i.__awaiter(t,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Object(c.a)(e)];case 1:return t.sent()?(this.props.onUserCommand(e,l.b.user_command,""),[3,3]):[2,n({notice:Object(a.d)("No user matching that login.","UserCardCommandHandler")})];case 2:return t.sent(),[2,r({})];case 3:return[2,n({})]}})})})}},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement(o.a,{channelLogin:this.props.channelLogin,command:"user",handler:this.handleUserCardCommand})},t}(r.Component);var u=Object(s.b)(function(e){return{onUserCommand:e.onShowViewerCard}})(d);n.d(t,!1,function(){return d}),n.d(t,"a",function(){return u})},bhOa:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("gcd7"),s=n("ygQa"),l=n("WytW"),c=n("sUnt"),d=n("hnjF"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateChatColor=function(e){var n=Object(l.j)("/color "+e);if(n&&n.color){var i=n.color;return{deferred:t.props.updateChatColorMutation(i).then(function(){return{notice:Object(a.d)("Your color has been changed.","ColorCommandHandler")}}).catch(function(){return{notice:Object(a.d)("Unable to change your color.","ColorCommandHandler")}})}}return{deferred:Promise.resolve({notice:Object(a.d)('Usage: "/color [color]" - Change your username color. Color must be in hex (#000000) or one of the following: Blue, BlueViolet, CadetBlue, Chocolate, Coral, DodgerBlue, Firebrick, GoldenRod, Green, HotPink, OrangeRed, Red, SeaGreen, SpringGreen, YellowGreen.',"ColorCommandHandler")})}},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement(c.a,{display:d.d.Hide},r.createElement(o.a,{channelLogin:this.props.channelLogin,command:"color",handler:this.updateChatColor}))},t}(r.Component),m=Object(s.a)()(u);n.d(t,"a",function(){return m})},bjr5:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("q1tI"),r=n("+80q"),a=n("X2PJ"),o=function(e){return i.createElement(r.a,{type:r.e.P,fontSize:a.d.Size7,color:a.c.Error},"*",e.errorMessage)};o.displayName="FormError",o.displayName="FormError"},bq0i:function(e,t,n){"use strict";var i,r,a=n("mrSG"),o=n("G1cX"),s=n("q1tI"),l=n("f00E"),c=n("b7S+"),d=n("pVnL"),u=n.n(d),m=n("VbXa"),p=n.n(m),h=n("fNzW"),f=n("vCsY"),g=n("IbuL"),b=n("hnjF"),v=n("sUnt"),E=n("7uM4"),k=n("9qaG"),C=n("G3YM"),S=(n("WvXh"),(i={})[k.d.Primary]="tw-split-button--primary",i[k.d.Hollow]="tw-split-button--hollow",i[k.d.Text]="tw-split-button--text",i[k.d.Destructive]="tw-split-button--destructive",i),y=function(e){function t(){return e.apply(this,arguments)||this}return p()(t,e),t.prototype.render=function(){var e={"tw-split-button":!0,"tw-split-button--overlay":this.props.overlay};this.props.type?e[S[this.props.type]]=!0:e[S[k.d.Primary]]=!0;var t={"tw-split-button__icon":!0,"tw-split-button__icon--small":this.props.size===k.c.Small,"tw-split-button__icon--large":this.props.size===k.c.Large};return s.createElement(v.a,u()({className:Object(h.a)(e),display:this.props.fullWidth?b.d.Flex:b.d.InlineFlex,alignItems:b.b.Center,fullWidth:this.props.fullWidth},Object(f.a)(this.props)),s.createElement(k.a,{fullWidth:this.props.fullWidth,ariaLabel:this.props.ariaLabel,blurAfterClick:this.props.blurAfterClick,border:{top:!0,left:!0,bottom:!0},download:this.props.download,disabled:this.props.disabled,linkTo:this.props.linkTo,renderLink:this.props.renderLink,onClick:this.props.onClick,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,rounding:k.b.Left,size:this.props.size,overlay:this.props.overlay,type:this.props.type?this.props.type:k.d.Primary},s.createElement(C.a,{icon:this.props.icon,size:this.props.size},this.props.children)),s.createElement(v.a,{display:b.d.InlineFlex,className:Object(h.a)({"tw-split-button__dropdown":!0,"tw-split-button__dropdown--border":!this.props.dropdownButtonProps.disabled})},s.createElement(k.a,u()({},this.props.dropdownButtonProps,{size:this.props.size,overlay:this.props.overlay,rounding:k.b.Right,border:{top:!0,right:!0,bottom:!0,left:this.props.dropdownButtonProps.disabled},type:this.props.type?this.props.type:k.d.Primary,noPadding:!0}),s.createElement(v.a,{className:Object(h.a)(t),display:b.d.Flex},s.createElement(g.a,{asset:this.props.dropdownButtonIcon||E.b.GlyphArrDown})))))},t}(s.Component);y.displayName="SplitButton",n.d(t,"a",function(){return N}),function(e){e.BalloonInsideClickDetector="balloon-inside-click-detector",e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(r||(r={}));var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showBalloon:!!t.props.openByDefault,hasInteracted:!!t.props.openByDefault},t.toggleBalloonId=Object(l.a)(),t.handleButtonClick=function(e){t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.setState(function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}},function(){t.props.onToggle&&t.props.onToggle(!t.state.showBalloon)})},t.handleGlobalClick=function(e){e.target.matches('[data-toggle-balloon-id="'+t.toggleBalloonId+'"] *')||t.hideBalloon()},t.handleInsideBalloonClick=function(){t.hideBalloon()},t.handleMouseEnter=function(){t.state.hasInteracted||t.setState({hasInteracted:!0})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.openByDefault&&document.addEventListener("click",this.handleGlobalClick,!0)},t.prototype.componentWillUpdate=function(e,t){this.state.showBalloon!==t.showBalloon&&(t.showBalloon?document.addEventListener("click",this.handleGlobalClick,!0):document.removeEventListener("click",this.handleGlobalClick,!0))},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!0)},t.prototype.render=function(){var e=this,t=s.Children.toArray(this.props.children);if(2!==t.length)throw new Error("ToggleBalloonWrapper should only be given two children: a clickable and a Balloon");var n,i=t[0],l=t[1];if(i.type===y){var d=i,u=o(d.props.dropdownButtonProps,function(t){return t.onClick=e.handleButtonClick,t});n=s.cloneElement(d,{dropdownButtonProps:u})}else n=s.cloneElement(i,{onClick:this.handleButtonClick});var m=null;(this.state.hasInteracted||this.props.alwaysMountBalloonContent)&&(m=s.cloneElement(l,{show:this.state.showBalloon}),this.props.hideBalloonOnInsideClick&&(m=s.createElement("div",{"data-test-selector":r.BalloonInsideClickDetector,onClick:this.handleInsideBalloonClick},m)));var p=n;return this.props.tooltipProps&&(p=s.createElement(c.a,a.__assign({},this.props.tooltipProps),n)),s.createElement(v.a,{"data-toggle-balloon-id":this.toggleBalloonId,display:this.props.display,position:b.j.Relative},s.createElement("div",{style:{display:"inherit"},onMouseEnter:this.handleMouseEnter,"data-test-selector":r.MouseEnterDetector},p),m)},t.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},t.prototype.hideBalloon=function(){var e=this;this.setState({showBalloon:!1},function(){e.props.onToggle&&e.props.onToggle(!0)})},t}(s.Component)},br9A:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var i=n("mrSG"),r=n("/7QA"),a=n("2xye"),o=n("I6K6"),s=n("RuiO"),l={BuyContinueSub:"buy_continue_sub",BuyCustomMysteryGift:"buy_custom_mystery_gift",BuyGiftSub:"buy_gift_sub",BuyGiftToPaidUpgrade:"buy_gift_to_paid_upgrade",BuyMysteryGift:"buy_mystery_gift",BuyPaidUpgrade:"buy_paid_upgrade",BuyPrimeToPaid:"buy_prime_to_paid",ChangeTier:"change_tier",ClickAnonymousGiftCheckbox:"anonymous_gift_click",ClickBack:"back_top_level",ClickCancelAndRefund:"click_cancel_and_refund",ClickCancelPaidUpgrade:"click_cancel_paid_upgrade",ClickChangePaymentMethod:"click_change_payment_method",ClickChangeSubTier:"click_change_sub_tier",ClickCheckout:"click_checkout_button",ClickDisableGift:"click_disable_gift_button",ClickDNRSub:"click_dnr_sub_button",ClickGiftSubOptions:"gift_options_click",ClickMoreSubOptions:"more_options_click",ClickPaidUpgrade:"click_paid_upgrade",ClickPrimeFAQ:"click_prime_faq",ClickResubscribe:"click_resubscribe",ClickSignupForPrime:"click_signup_for_prime",CloseSubMenu:"close_subscribe_menu",GiftASub:"gift_a_sub",OpenSubMenu:"open_subscribe_menu",SubWithPrime:"samus_spend_credit"};function c(e){return i.__awaiter(this,void 0,void 0,function(){var t,n,l,c,d,u,m,p,h,f,g,b,v;return i.__generator(this,function(i){switch(i.label){case 0:t=r.p.getVideoPlayerTrackingData().vodID,n=!!t,l={channelID:e.channelID,withVideo:!1},n&&(l.withVideo=!0,l.videoID=t),c=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.q.apollo.client.query({query:s,variables:l})];case 2:return c=i.sent(),[3,4];case 3:return d=i.sent(),r.k.warn(d,"Failed to make query for channel info in FollowEvent reporting.",{channelID:e.channelID}),[3,4];case 4:return u=c&&c.data&&c.data.user||null,c&&!u&&r.k.warn("Query for channel info in SubEvent reporting returned no data.",{channelID:e.channelID}),m=null,c&&n&&((p=c&&c.data&&c.data.video)?m=Object(o.a)(p.broadcastType):r.k.warn("Query for video info in SubEvent reporting returned no data.",{currentVideoID:t})),h=u&&u.self,f=h?!!h.subscriptionBenefit:null,g=h&&h.subscriptionBenefit&&h.subscriptionBenefit.purchasedWithPrime||!1,b=h?h.canPrimeSubscribe:null,v={action:e.action,button_cta:e.buttonCTA,can_subscribe:b,channel:e.channelLogin,channel_id:e.channelID,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,has_sub_credit:e.hasSubCredit||null,host_channel:e.hostChannelLogin,host_channel_id:e.hostChannelID,is_anonymous:e.isAnonymous,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed:f,is_subscribed_current_tier:h&&h.subscriptionBenefit&&h.subscriptionBenefit.tier,mystery_gift_count:e.mysteryGiftCount||null,sub_location:e.sub_location,sub_recipient:e.giftRecipient||null,modal:e.modal,modal_level:e.modalLevel||"",show_prime_content:e.showPrimeContent||!1,show_resub:u?b&&g:null,streak_number:e.streakNumber||null,vod_id:t,vod_type:m,viewport_height:window.innerHeight,viewport_width:window.innerWidth},r.p.track(a.SpadeEventType.Subscription,v),[2]}})})}},byRF:function(e,t,n){},"c+1r":function(e,t,n){},cMjZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("o4DC");function r(e){return e&&Object(i.c)(e)||""}},cex0:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("q1tI"),a=n("R3G4");function o(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){return r.createElement(a.a,i.__assign({},this.props),r.createElement(e,i.__assign({},this.props)))},n}(r.Component)}},cpJf:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),function(e){e.Chat="stream_chat",e.Feeds="feeds",e.Room="chatroom",e.Whisper="whisper",e.VodChat="vod-chat"}(i||(i={}));var r={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},a=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},cr2a:function(e,t,n){},cw0r:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("wUQP"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){return Object(a.c)(this.props.name)?this.props.children:null},t}(r.Component);n.d(t,"a",function(){return o})},cys1:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("/7QA"),o=n("gvGA"),s=n("5zf8"),l=n("4rCz"),c=n("x0+1"),d=n("XRPh"),u=function(e){var t=e.displayText,n=e.url;return r.createElement("a",{className:"link-fragment",href:n,target:"_blank",rel:"noreferrer noopener"},t)},m=n("TSYQ"),p=n("RcPG"),h=(n("VN3V"),function(e){var t,n=e.content,i=e.highlightType,a=m("text-fragment",((t={})["text-fragment--moderated-highlight"]=i===p.a.ModeratedText,t));return r.createElement("span",{className:a,"data-a-target":"chat-message-text"},n)}),f=n("mrSG"),g=n("oJmH"),b=n("+GjP"),v=n("2xye"),E=n("L/cU"),k=n("fPaz"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasImageLoadingError:!1},t.handleImageError=function(){t.setState({hasImageLoadingError:!0})},t}return f.__extends(t,e),t.prototype.componentWillReceiveProps=function(){this.setState({hasImageLoadingError:!1})},t.prototype.render=function(){var e=a.a.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),r.createElement(E.a,{aspect:k.c.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},t}(r.Component),S=n("hnjF"),y=n("+80q"),N=n("Ws8v"),_=n("X2PJ"),I=n("PL8s"),T=n("sUnt"),O=n("Jsra"),D=(n("Epr8"),"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0"),A={ERROR:"chat-card-error",TITLE:"chat-card-title",DESCRIPTION:"chat-card-description"},w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderErrorCard=function(){var e=r.createElement("img",{"data-test-selector":A.ERROR,src:D,className:"chat-card__error-img"});return t.renderCardContent(e,t.props.error)},t.renderCardContent=function(e,t){var n,i;return t?(n=r.createElement(y.a,{type:y.e.Span,fontSize:_.d.Size5,"data-test-selector":A.TITLE,title:t.title},t.title),i=r.createElement(y.a,{type:y.e.Span,fontSize:_.d.Size6,color:_.c.Alt2,"data-test-selector":A.DESCRIPTION},t.description)):(e=r.createElement(I.a,{overlay:!0}),n=r.createElement(I.a,{width:180}),i=r.createElement(I.a,{width:120})),r.createElement(N.a,{background:_.a.Base,display:S.d.Flex,flexWrap:S.f.NoWrap,padding:.5},r.createElement(N.a,{className:"chat-card__preview-img",background:_.a.Alt2,display:S.d.Flex,alignItems:S.b.Center,justifyContent:S.h.Center,flexShrink:0},e),r.createElement(T.a,{display:S.d.Flex,alignItems:S.b.Center,overflow:S.i.Hidden},r.createElement(T.a,{padding:{left:1},fullWidth:!0},r.createElement(T.a,{className:"chat-card__title",ellipsis:!0},n),r.createElement(T.a,{ellipsis:!0},i))))},t}return f.__extends(t,e),t.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var t=Object(b.e)(this.props.data.contentURL,{tt_medium:v.PageviewMedium.Chat,tt_content:v.PageviewContent.ChatCard}),n=r.createElement(C,{altText:this.props.data.title,imageURL:this.props.data.previewImageURL});e=r.createElement(O.a,{className:"chat-card__link",to:t,targetBlank:!0},this.renderCardContent(n,{title:this.props.data.title,description:this.props.data.description}))}else e=this.renderCardContent();return r.createElement(N.a,{elevation:1,margin:{top:.5}},e)},t}(r.Component),R=n("SceP"),M={isTimedOut:!1},L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=M,t.timeoutID=null,t}return f.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout(function(){e.setState({isTimedOut:!0})},5e3))},t.prototype.componentWillReceiveProps=function(e){!this.props.data.clip&&e.data.clip&&(this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null),this.setState({isTimedOut:!1}))},t.prototype.render=function(){var e=this.props.data,t=e.clip,n=e.error,i=e.loading;return n||this.state.isTimedOut?r.createElement(w,{error:{title:Object(a.d)("Something went wrong","ClipsChatCard"),description:Object(a.d)("We couldn't find that Clip","ClipsChatCard")}}):i||!t?r.createElement(w,null):r.createElement(w,{data:{title:t.title||(t.broadcaster&&t.broadcaster.displayName?Object(a.d)("Clip of {broadcaster}",{broadcaster:t.broadcaster.displayName},"ClipsChatCard"):""),description:t.curator&&t.curator.displayName?Object(a.d)("Clipped by {curator}",{curator:t.curator.displayName},"ClipsChatCard"):"",previewImageURL:t.thumbnailURL,contentURL:t.url}})},t}(r.Component),U=Object(g.graphql)(R,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(L),B=n("gTu3"),F=(n("lpj/"),(i={})[B.a.Default]="",i[B.a.Recipient]="mention-fragment--recipient",i[B.a.Sender]="mention-fragment--sender",i),P=function(e){var t=e.isAtMention?"@":"",n=m("mention-fragment",F[e.currentUserMentionRelation]);return r.createElement("span",{className:n,"data-a-target":"chat-message-mention"},""+t+e.recipient)};P.displayName="MentionFragment";var x,j=n("yR8l"),H=n("QVaV"),V=n("sU0Q"),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f.__extends(t,e),t.prototype.render=function(){var e=this.props.data,t=e.video,n=e.error;if(e.loading||!t)return r.createElement(w,null);if(n||!t.owner||!t.owner.login||!t.publishedAt||!t.title)return r.createElement(w,{error:{title:Object(a.d)("Something went wrong","VideoChatCard"),description:Object(a.d)("We couldn't find that video","VideoChatCard")}});var i=r.createElement(y.a,null,Object(a.c)(new Date(t.publishedAt),"medium"),r.createElement("span",null," · "),Object(H.a)(t.owner.login,t.owner.displayName));return r.createElement(w,{data:{title:t.title,description:i,previewImageURL:t.previewThumbnailURL,contentURL:this.props.url}})},t}(r.Component),W=Object(j.a)(V,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(G),q=n("ZtEv"),z=n("u5aL"),Y=n("fvjX"),K=n("Tznh"),Q=n("VJH5"),X=n("dEDE"),Z=n("akKH"),$=n("y0tB");!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(x||(x={}));var J,ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={feedbackSelection:null,textShown:!1},t.hasTrackedImpression=!1,t.showSettings=function(){t.props.showChatFilterSettings(K.c.FilteredMessage)},t.showText=function(){t.props.onShowText(),t.setState({textShown:!0}),a.p.track(v.SpadeEventType.ChatFilterMessageInteraction,t.getCommonTrackingProps())},t.onAffirmativeFeedbackSelected=function(){t.setState({feedbackSelection:!0})},t.onNegativeFeedbackSelected=function(){t.setState({feedbackSelection:!1})},t.onSubmit=function(){t.props.onDismissBalloon(),a.p.track(v.SpadeEventType.ChatFilterFeedbackInteraction,f.__assign({},t.getCommonTrackingProps(),{value:t.state.feedbackSelection?t.getAffirmativeText():t.getNegativeText()}))},t}return f.__extends(t,e),t.prototype.render=function(){var e=this,t=Object(a.d)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?r.createElement(T.a,{padding:1},r.createElement(Z.a,{label:Object(a.d)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},r.createElement($.a,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":x.FeedbackYes}),r.createElement($.a,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":x.FeedbackNo})),r.createElement(T.a,{display:S.d.Flex,justifyContent:S.h.End},r.createElement(T.a,{margin:{right:1}},r.createElement(X.a,{onClick:this.props.onDismissBalloon,type:X.d.Hollow,"data-test-selector":x.CancelButton},t)),r.createElement(X.a,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":x.FeedbackButton},Object(a.d)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(a.p.track(v.SpadeEventType.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),r.createElement(T.a,{padding:1},r.createElement(y.a,{bold:!0,type:y.e.H6,"data-test-selector":x.Title},this.getCategoryTitle()),Object(a.d)("Would you like to see this message? It has been hidden for you based on your <x:link>NSFW Chat Filter settings</x:link>.",{"x:link":function(t){return r.createElement(O.a,{onClick:e.showSettings,"data-test-selector":x.SettingsLink},t)}},"FlaggedFragmentBalloonContent"),r.createElement(T.a,{display:S.d.Flex,justifyContent:S.h.End},r.createElement(T.a,{margin:{right:1}},r.createElement(X.a,{onClick:this.props.onDismissBalloon,type:X.d.Hollow,"data-test-selector":x.CancelButton},t)),r.createElement(X.a,{onClick:this.showText,"data-test-selector":x.ConfirmButton},Object(a.d)("Show Message","FlaggedFragmentBalloonContent")))))},t.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter(function(e){return!!e}).length?Object(a.d)("Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Aggressive]?Object(a.d)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Identity]?Object(a.d)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Sexual]?Object(a.d)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):Object(a.d)("Profanity Blocked","FlaggedFragmentBalloonContent")},t.prototype.getAffirmativeText=function(){return Object(a.d)("Yes","FlaggedFragmentBalloonContent")},t.prototype.getNegativeText=function(){return Object(a.d)("No","FlaggedFragmentBalloonContent")},t.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[Q.a.Aggressive],explicit_language_detected:!!e.categories[Q.a.Sexual],identity_language_detected:!!e.categories[Q.a.Identity],profane_language_detected:!!e.categories[Q.a.Profanity]}},t}(r.Component),te=Object(Y.compose)(Object(K.d)(function(e){return e}))(ee),ne=n("ygYM");n("UUau");!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(J||(J={}));var ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={active:!1,balloonDirection:ne.b.TopCenter,balloonTailOffset:0,balloonXOffset:0,displayed:!1},n.setTopRef=function(e){n.topRef=e},n.setBalloonContentRef=function(e){n.balloonContentRef=e,n.state.active&&n.setState(f.__assign({},n.getBalloonState()))},n.onClickOut=function(){n.setState({active:!1})},n.onClick=function(){n.setState({active:!0})},n.onShowText=function(){n.setState({displayed:!0},function(){n.setState(f.__assign({},n.getBalloonState()))})},n.onDismissBalloon=function(){n.setState({active:!1})},n.placeholder=new Array(t.messagePart.length+1).join("*"),n}return f.__extends(t,e),t.prototype.render=function(){return this.state.active?r.createElement("span",{ref:this.setTopRef,"data-test-selector":J.Container},r.createElement(S.g,{display:S.d.Inline,position:S.j.Relative},r.createElement(z.a,{onClickOut:this.onClickOut},this.renderContent(),r.createElement(ne.a,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:ne.c.Medium,tailOffset:this.state.balloonTailOffset},r.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":J.Balloon}),r.createElement(te,f.__assign({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):r.createElement("span",{ref:this.setTopRef,"data-test-selector":J.Container},this.renderContent())},t.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?r.createElement("span",{className:m(e),"data-test-selector":J.Target},ae(this.props.messagePart.content)):r.createElement("span",{className:m(e),onClick:this.onClick,"data-test-selector":J.Target},r.createElement(h,{content:this.placeholder}))},t.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),t=this.balloonContentRef.getBoundingClientRect(),n=this.state.balloonDirection;t.top<e.top&&(n=ne.b.BottomCenter);var i=e.left+20,r=t.left,a=this.state.balloonXOffset-(r-i);return{balloonDirection:n,balloonTailOffset:e.width/2-a-20,balloonXOffset:a}}return{balloonDirection:ne.b.TopCenter,balloonTailOffset:0,balloonXOffset:0}},t}(r.Component);function re(e,t,n){void 0===n&&(n=!1);var i=t.content,a=i.displayText,o=i.url;return n?r.createElement(h,{key:"message-span-"+e,content:a}):r.createElement(u,{key:e+"-link",displayText:a,url:o})}function ae(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var i=null,a=e.reduce(function(a,s,l){var c=[];switch(l>0&&e[l-1].type!==p.a.Text&&s.type!==p.a.Text&&c.push(" "),s.type){case p.a.Text:case p.a.ModeratedText:var u=s.content,m=s.type;c.push(r.createElement(h,{key:l,content:u,highlightType:m}));break;case p.a.FlaggedSegment:c.push(r.createElement(ie,{key:l,channelID:t.chatChannelID,channelLogin:t.chatChannelLogin,messageID:t.messageSourceID,messagePart:s}));break;case p.a.CurrentUserHighlight:c.push(r.createElement(P,{isAtMention:!1,currentUserMentionRelation:B.a.Recipient,recipient:s.content,key:l}));break;case p.a.Mention:c.push(r.createElement(P,{isAtMention:!0,currentUserMentionRelation:s.content.currentUserMentionRelation,recipient:s.content.recipient,key:l}));break;case p.a.Emote:c.push(r.createElement(d.a,{key:l,emote:s.content,channelID:t.chatChannelID,channelLogin:t.chatChannelLogin,sourceID:t.messageSourceID,sourceType:t.emoteSourceType,referrerID:t.messageAuthorID,disableCard:n}));break;case p.a.Link:c.push(re(l,s,t.disableLinks));break;case p.a.ClipLink:i||(i=r.createElement(o.a,{key:l+"-ErrorBoundary"},r.createElement(U,{slug:s.content.slug,forceNetworkRequest:t.forceClipsNetworkRequest}))),c.push(re(l,s,t.disableLinks));break;case p.a.VideoLink:i||(i=r.createElement(W,{key:l,id:s.content.id,url:s.content.url})),c.push(re(l,s,t.disableLinks))}return a.concat(c)},[]);return i&&(a=a.concat(i)),a}function oe(e){if(e.moderationType===q.e.Delete){var t=e,n=t.userLogin,i=t.body;return r.createElement(c.a,{targetLogin:n,messageBody:i})}if((e=e).moderationType===q.e.Ban)return e.reason?r.createElement("span",{className:"chat-line__moderation--ban-with-reason"},Object(a.d)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):r.createElement("span",{className:"chat-line__moderation--ban"},Object(a.d)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var o=Object(a.d)("{userLogin} has been timed out for {duration} seconds. Reason: {reason}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return r.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},o)}return e.duration?r.createElement("span",{className:"chat-line__moderation--timeout"},Object(a.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function se(e){var t=e.daysLeft;0===t&&(t=e.hoursLeft);var n,i={bitsTotal:r.createElement("strong",null,Object(l.f)(e.total,{style:"currency",currency:"USD"})),charityName:r.createElement("strong",null,e.charityName),learnMoreURL:r.createElement("a",{href:e.learnMore,target:"_blank",rel:"noopener noreferrer"},e.learnMore),hashtag:r.createElement("strong",null,e.hashtag),timeRemaining:Object(l.f)(t)};return r.createElement("span",null,0===e.daysLeft?(n=i,Object(a.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:n.bitsTotal,charityName:n.charityName,timeRemaining:n.timeRemaining,hashtag:n.hashtag,learnMoreURL:n.learnMoreURL},"ChatLine")):function(e){return Object(a.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function le(e){var t=e.enabled?Object(a.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):Object(a.d)("This room is no longer in slow mode.","ChatLine");return r.createElement("span",null,t)}function ce(e){var t;if(e.length>0){var n=e.join(", ");t=Object(a.d)("The moderators of this channel are: {moderatorList}",{moderatorList:n},"ChatLine")}else t=Object(a.d)("There are no moderators of this channel.","ChatLine");return r.createElement("span",null,t)}function de(e){if(e.enabled){var t=0===e.length?Object(a.d)("This room is in followers-only mode.","ChatLine"):Object(a.d)("This room is now in {length} followers-only mode.",{length:Object(s.b)(60*e.length)},"ChatLine");return r.createElement("span",null,t)}return r.createElement("span",null,Object(a.d)("This room is no longer in followers-only mode.","ChatLine"))}function ue(e){return e.enabled?r.createElement("span",null,Object(a.d)("This room is now in emote-only mode.","ChatLine")):r.createElement("span",null,Object(a.d)("This room is no longer in emote-only mode.","ChatLine"))}function me(e){var t=e.enabled?Object(a.d)("This room is now in subscriber-only mode.","ChatLine"):Object(a.d)("This room is no longer in subscriber-only mode.","ChatLine");return r.createElement("span",null,t)}function pe(e){return e.enabled?r.createElement("span",null,Object(a.d)("r9k mode has been enabled for this room.","ChatLine")):r.createElement("span",null,Object(a.d)("r9k mode has been disabled for this room.","ChatLine"))}function he(e){return e.isAutohost?Object(a.d)("{host} is now auto hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine"):e.viewerCount<=2?Object(a.d)("{host} is now hosting you.",{host:e.hostingChannel},"ChatLine"):Object(a.d)("{host} is now hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine")}function fe(e,t){void 0===t&&(t=!1);var n=t?e.getHours():e.getHours()%12;t||0!==n||(n=12);var i=n.toString(),r=e.getMinutes(),a=r.toString();return r<10&&(a="0"+a),t&&n<10&&(i="0"+i),i+":"+a}function ge(e,t){return void 0===t&&(t=!1),r.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},fe(new Date(e),t))}function be(e){return r.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,t){void 0===t&&(t={});var n=a.q.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(n,t).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}n.d(t,"f",function(){return ae}),n.d(t,"g",function(){return oe}),n.d(t,"b",function(){return se}),n.d(t,"j",function(){return le}),n.d(t,"i",function(){return ce}),n.d(t,"d",function(){return de}),n.d(t,"c",function(){return ue}),n.d(t,"k",function(){return me}),n.d(t,"h",function(){return pe}),n.d(t,"e",function(){return he}),n.d(t,"a",function(){return fe}),n.d(t,"l",function(){return ge}),n.d(t,"m",function(){return be})},d0xR:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("fvjX"),l=n("cZKs"),c=n("1/iK"),d=n("aCAx"),u=n("kRBY"),m=n("w1PT"),p=n("8EUQ"),h=n("Ws8v"),f=n("X2PJ"),g=n("/7QA"),b=n("ZS2+"),v=n("yR8l"),E=n("3Bft"),k=n("tIid"),C=n("ht6z"),S=n("KriR"),y=n("br9A"),N=n("sUnt"),_=n("hnjF"),I=n("HH5h"),T=n("uG/k"),O=n("PL8s"),D=(n("y2dA"),n("eaNi"));!function(e){e.SubButton="subscribe-button__dropdown",e.BalloonLayerButton="subscribe-button__balloon-layer-btn",e.DefaultButton="subscribe-button__default-btn",e.SubscribeBalloon="subscribe-button__subscribe-balloon"}(i||(i={}));var A=b.a.wrap(function(){return Promise.all([n.e(0),n.e(774)]).then(n.bind(null,"f+qK"))},"SubscribeBalloon"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.modalLevel="top_page",t.handleSubMenuAction=function(e){new Set([y.a.ClickCheckout,y.a.BuyGiftSub,y.a.BuyMysteryGift,y.a.BuyCustomMysteryGift,y.a.BuyGiftToPaidUpgrade,y.a.BuyPaidUpgrade,y.a.BuyPrimeToPaid,y.a.BuyContinueSub]).has(e.action)&&t.checkAndDisplaySubscriptionCheckout();var n=t.props.data,i=n.user,r=null;i&&i.self&&i.self.cumulativeTenure&&(r=i.self.cumulativeTenure.months);var a=!!(i&&i.self&&i.self.subscriptionBenefit),o=n.requestInfo&&Object(C.a)(n.requestInfo.countryCode);Object(y.b)({action:e.action||"",channelLogin:t.props.channelLogin||"",channelID:i&&i.id||"",checkoutButtonTier:e.checkoutButtonTier,cumulativeTenureMonths:r,hasSubCredit:i&&i.self&&i.self.canPrimeSubscribe,hostChannelID:t.props.data.user&&t.props.data.user.id||"",hostChannelLogin:t.props.channelLogin,isMenuOpen:e.action!==y.a.OpenSubMenu,mysteryGiftCount:e.mysteryGiftCount,sub_location:t.props.subLocation||"squad_page",modal:!a,modalLevel:a?"":t.modalLevel.slice(),showPrimeContent:o,giftRecipient:e.giftRecipient||null}),!e.modalLevel||e.action!==y.a.ClickMoreSubOptions&&e.action!==y.a.ClickBack||(t.modalLevel=e.modalLevel)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.checkAndDisplaySubscriptionCheckout()},t.prototype.componentDidUpdate=function(e){!this.isUserDataReady(e)&&this.isUserDataReady(this.props)&&this.checkAndDisplaySubscriptionCheckout()},t.prototype.render=function(){var e,t,n,i,r,o,s,l=null,c=null;if(this.props.data&&this.props.data.user&&this.props.data.user.id&&this.props.data.user.subscriptionProducts&&this.props.data.requestInfo){s=this.props.data.user.displayName||this.props.channelLogin,this.props.data.user.bannerImageURL&&(l=a.createElement(T.a,{src:this.props.data.user.bannerImageURL,alt:Object(g.d)("{channelName}'s banner image",{channelName:s},"SubscribeModal")})),this.props.data.user.profileImageURL&&(c=a.createElement(I.a,{size:80,src:this.props.data.user.profileImageURL,alt:Object(g.d)("{channelName}'s profile image",{channelName:s},"SubscribeModal")}));var d=this.props.data.user,u=d.self,m=d.subscriptionProducts.filter(function(e){return e});if(0===m.length)return null;i=Object(C.a)(this.props.data.requestInfo.countryCode),o=!(!u||!u.subscriptionBenefit),r=Object(k.a)(this.props.data.user.id||"",this.props.sessionUser),e=1===m.length,m.some(function(e){return!e.emoteSetID})&&(e=!0),n="",u&&u.subscriptionBenefit&&(n=u.subscriptionBenefit.purchasedWithPrime?E.a.Prime:u.subscriptionBenefit.tier,this.modalLevel=""),t=m[0].id}else e=!1,t="",n="",i=!1,r=!1,o=!1,l=a.createElement(O.a,{width:400,height:120}),c=a.createElement(O.a,{width:80,height:80});return a.createElement(a.Fragment,null,a.createElement(N.a,{className:"subscribe-modal__container"},a.createElement(h.a,{overflow:_.i.Hidden,fullWidth:!0,className:"subscribe-modal__banner"},l),a.createElement(h.a,{className:"subscribe-modal__avatar",background:f.a.Alt,position:_.j.Absolute,borderRadius:f.b.Small,overflow:_.i.Hidden},c)),a.createElement(N.a,{className:"subscribe-modal__balloon-container"},a.createElement(A,{authToken:this.props.authToken,channelLogin:this.props.channelLogin,handleSubMenuAction:this.handleSubMenuAction,inPrimeRegion:i,isEsportChannel:r,isNonStandardSub:e,isStaff:!(!this.props.sessionUser||!this.props.sessionUser.roles)&&this.props.sessionUser.roles.isStaff,isSubscribed:o,overrideStylesForModalExperiment:!0,userHasPrime:!1,productId:t,subbedTier:n})))},t.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},t.prototype.checkAndDisplaySubscriptionCheckout=function(){var e=g.o.get(p.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(e){var t=this.props.data.user;if(t&&t.subscriptionProducts)if(this.props.showSubscriptionCheckout&&this.props.showLoginModal)t.subscriptionProducts.filter(function(e){return e}).map(function(e){return e.name}).includes(e)?this.props.sessionUser?this.props.showSubscriptionCheckout({isAnonymous:g.o.get(p.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),mysteryGiftCount:Number(g.o.get(p.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:e,recipientLogin:g.o.get(p.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:S.c.ChannelSubscribeButton}}):(g.o.set("subscription-target-login",this.props.channelLogin),this.props.showLoginModal()):p.a.clearSubscriptionCheckoutKeys()}},t}(a.Component),R=Object(v.a)(D,{options:function(e){return{variables:{login:e.channelLogin}}}})(w);var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){t.props.closeModal()},t}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.onClose&&this.props.onClose()},t.prototype.render=function(){return a.createElement(h.a,{className:"subscribe-modal",background:f.a.Base},a.createElement(R,{authToken:this.props.authToken,sessionUser:this.props.sessionUser,onClose:this.handleClose,channelLogin:this.props.channelLogin,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,subLocation:this.props.subLocation}),a.createElement(l.a,{closeOnBackdropClick:!0,closeOnPageNavigation:!0}))},t}(a.Component);var L=Object(o.connect)(function(e){return{authToken:Object(u.a)(e),sessionUser:Object(u.e)(e)}},function(e){return Object(s.bindActionCreators)({closeModal:d.c,showLoginModal:p.a.showLoginModalWithCheckoutDispatch(c.a.ChannelSubscriptionButton),showSubscriptionCheckout:m.a},e)})(M);n.d(t,"SubscribeModalContainer",function(){return M}),n.d(t,"SubscribeModal",function(){return L}),n.d(t,"SUBSCRIPTION_TARGET_LOGIN",function(){return"subscription-target-login"}),n.d(t,"TestSelectors",function(){return i}),n.d(t,"SubscribeModalComponentPresentation",function(){return w}),n.d(t,"SubscribeModalComponent",function(){return R})},"dIU+":function(e,t,n){"use strict";var i,r=n("/MKj"),a=n("fvjX"),o=n("1/iK"),s=n("y5D0"),l=n("kRBY"),c=n("mrSG"),d=n("TSYQ"),u=n("q1tI"),m=n("/7QA"),p=n("eJ65"),h=n("yR8l"),f=n("geRD"),g=n("/Bd0"),b=n("D7An"),v=n("2xye"),E=n("9o5F");!function(e){e.Follow="follow"}(i||(i={}));var k,C,S=n("tKDy"),y=n("i4un"),N=n("JcRA"),_=n("GnwI"),I=n("Ba7Q"),T=n("Ar2k"),O=n("dEDE"),D=n("sUnt"),A=n("7uM4"),w=n("ygYM"),R=n("hnjF"),M=n("PL8s"),L=n("b7S+"),U=n("vCsY"),B=n("ZBeb"),F=(n("Kcwz"),n("CZEr")),P=n("Qdxp");!function(e){e.UnfollowButton="unfollow-button",e.UnfollowButtonLabel="unfollow-button-label",e.UnfollowButtonLabelHover="unfollow-button-label-hover",e.UnfollowButtonWithDropdown="unfollow-button__dropdown",e.FollowButton="follow-button",e.FollowButtonWithContextualModal="follow-button-contextual"}(k||(k={})),function(e){e[e.IconOnly=0]="IconOnly",e[e.TextOnly=1]="TextOnly",e[e.IconAndText=2]="IconAndText"}(C||(C={}));var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFollowing:!1,showDropdown:!1,disableNotifications:!0},t.handleContextBalloonToggle=function(e){e?Object(S.t)({page:S.f.Bubble,source:o.a.FollowButton,target:S.e.Outside,action:S.d.Click}):Object(S.u)({page:S.f.Bubble,source:o.a.FollowButton})},t.userDataLoaded=function(){return t.props.data&&!t.props.data.loading&&!t.props.data.error&&t.props.data.user},t.toggleFollowing=function(){var e;t.state.isFollowing?(t.unfollowUser(),e=v.SpadeEventType.Unfollow):(t.followUser(),e=v.SpadeEventType.Follow);var n=t.getFollowData();n&&Object(g.b)(e,{channelLogin:n.user&&n.user.login||"",channelID:n.user&&n.user.id||"",hostChannelLogin:t.props.hostChannelLogin,hostChannelID:t.props.hostChannelID,src:g.a.Channel}),t.hideTooltip()},t.followUser=function(){return c.__awaiter(t,void 0,void 0,function(){var e,t,n,i,r,a;return c.__generator(this,function(o){switch(o.label){case 0:return e=this.getFollowData(),this.props.followUser&&e&&e.user&&e.user.id?(this.setState({showDropdown:!0}),t="notif_new"===m.q.experiments.getAndTrackAssignment(b.b.ChannelFollowNotifications),n={followUser:{__typename:"FollowUserPayload",follow:{disableNotifications:t,__typename:"Follow",user:{__typename:"User",id:e.user&&e.user.id,displayName:e.user&&e.user.displayName,login:e.user&&e.user.login,self:{__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:t}}}}}},i=Object(f.b)({disableNotifications:t,targetID:e.user.id},n),[4,this.props.followUser(i)]):[2];case 1:return(r=o.sent()).data.followUser&&r.data.followUser.follow&&(a=r.data.followUser.follow,Object(f.f)(P,{login:this.props.channelLogin},function(e){var t=e.user;return t&&t.self&&(t.self.follower?t.self.follower.disableNotifications=a.disableNotifications:t.self.follower={__typename:"FollowerEdge",disableNotifications:a.disableNotifications}),e})),this.props.onFollow&&this.props.onFollow(this.props.channelLogin),[2]}})})},t.unfollowUser=function(){return c.__awaiter(t,void 0,void 0,function(){var e,t,n,i=this;return c.__generator(this,function(r){switch(r.label){case 0:return e=this.getFollowData(),this.props.unfollowUser&&e&&e.user&&e.user.id?(t={unfollowUser:{__typename:"UnfollowUserPayload",follow:{__typename:"Follow",disableNotifications:null}}},n=c.__assign({},Object(f.b)({targetID:e.user.id},t),{update:function(e){var t=e.readQuery({query:P,variables:{login:i.props.channelLogin}});t&&t.user&&t.user.self&&(t.user.self.follower=c.__assign({},t.user.self.follower,{__typename:"FollowerEdge",disableNotifications:null})),e.writeQuery({query:P,data:t})}}),[4,this.props.unfollowUser(n)]):[2];case 1:return r.sent(),this.props.onUnfollow&&this.props.onUnfollow(this.props.channelLogin),[2]}})})},t.getFollowData=function(){return t.props.followData?t.props.followData:t.props.data},t.setButtonContainerRef=function(e){t.buttonContainerRef!==e&&(t.removeEventListeners(),t.buttonContainerRef=e,t.addEventListeners())},t.onMouseEnter=function(){t.buttonContainerRef&&t.state.isFollowing&&t.props.showTooltips&&t.props.tooltipLayer.show({from:t.buttonContainerRef,label:t.getUnfollowText(),direction:L.c.Top})},t.onMouseLeave=function(){t.hideTooltip()},t.hideTooltip=function(){t.props.tooltipLayer.hide()},t.onAnimatedButtonComplete=function(){t.props.onToggleAnimationComplete&&t.props.onToggleAnimationComplete(t.state.isFollowing)},t.login=function(){var e={},n=t.getFollowData(),r=Object(y.b)();!n||r!==y.a.TwoStep&&r!==y.a.Split||(e.postLoginAction={action:i.Follow,data:{followData:n}},e.targetChannel=t.props.channelName||t.props.channelLogin),t.props.useContextualModals&&r===y.a.TwoStep?e.modalType=S.f.TwoStep:t.props.useContextualModals&&r===y.a.Split&&(e.modalType=S.f.Combined),t.props.login(e)},t}return c.__extends(t,e),t.prototype.componentDidMount=function(){this.reportInteractive(),this.addEventListeners()},t.prototype.componentDidUpdate=function(){this.props.channelLogin&&!this.userDataLoaded()||!this.props.updateContainerWidth||this.props.updateContainerWidth(),this.reportInteractive()},t.prototype.componentWillMount=function(){var e=this.props.data||this.props.followData;if(e){var t=e.user;this.setState({isFollowing:t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications||!1,disableNotifications:t&&t.self&&t.self.follower&&t.self.follower.disableNotifications})}},t.prototype.componentWillReceiveProps=function(e){var t=this.props.channelLogin&&e.channelLogin&&this.props.channelLogin!==e.channelLogin;if(!e.data||e.data.loading||e.data.error)t&&this.setState({showDropdown:!1});else{var n=e.data.user;this.setState({isFollowing:n&&n.self&&n.self.follower&&null!==n.self.follower.disableNotifications||!1,disableNotifications:!(n&&n.self&&n.self.follower&&null!==n.self.follower.disableNotifications)||n.self.follower.disableNotifications})}},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){if(!this.props.isLoggedIn)return this.renderFollowButton(this.login);if(this.props.showLoadingPlaceholder&&(!this.props.data||this.props.data.loading))return this.renderPlaceholder();if(this.props.hideFollowButton||this.props.currentUserLogin===this.props.channelLogin||!this.props.followData&&(!this.props.data||this.props.data.loading||this.props.data.error||!this.props.data.user))return null;var e=null;return e=!this.state.isFollowing||this.props.animatedButton?this.renderFollowButton(this.toggleFollowing):this.props.hideDropdownWhenFollowing?this.renderUnfollowButton():this.renderUnfollowButtonWithDropdown(),u.createElement(D.a,{refDelegate:this.setButtonContainerRef},e)},t.prototype.renderPlaceholder=function(){switch(this.props.size){case O.b.Large:return u.createElement(M.a,{width:this.props.fullWidthButton?void 0:93,height:36});case O.b.Small:return u.createElement(M.a,{width:this.props.fullWidthButton?void 0:66,height:24});default:return u.createElement(M.a,{width:this.props.fullWidthButton?void 0:70,height:30})}},t.prototype.renderFollowButton=function(e){var t=this.props.isHostedFollow&&this.props.channelName?Object(m.d)("Follow {username}",{username:this.props.channelName},"FollowButton"):Object(m.d)("Follow","FollowButton"),n=d("follow-btn--animated"),r=this.state.isFollowing,a=null;if(a=this.props.animatedButton?u.createElement("div",{className:n},u.createElement(N.a,{delayText:r?void 0:750,text:r?void 0:t,icon:r?A.b.Heart:A.b.FollowHollow,iconOnHover:r?A.b.Unheart:A.b.Heart,type:r?O.d.Text:O.d.Default,typeOnHover:r?O.d.Alert:void 0,onClick:e,onAnimationEnd:this.onAnimatedButtonComplete})):u.createElement(O.a,c.__assign({ariaLabel:t,blurAfterClick:this.props.blurAfterClick,"data-a-target":k.FollowButton,"data-test-selector":k.FollowButton,icon:this.getButtonIcon(),onClick:e,size:this.props.size,tabIndex:this.props.tabIndex,type:this.props.followButtonType||O.d.Default,fullWidth:this.props.fullWidthButton},Object(U.a)(this.props)),this.props.followUIType===C.IconOnly?null:t),this.props.useContextualModals&&!this.props.isLoggedIn&&Object(y.b)()===y.a.Balloon){var s=void 0,l=this.getFollowData();return l&&(s={action:i.Follow,data:{followData:l}}),u.createElement(p.a,{onToggle:this.handleContextBalloonToggle,"data-test-selector":k.FollowButtonWithContextualModal},a,u.createElement(w.a,{direction:this.props.balloonDirection?this.props.balloonDirection:w.b.BottomRight,size:w.c.Medium},u.createElement(E.a,{targetUserDisplayName:this.props.channelName||this.props.channelLogin,source:o.a.FollowButton,postLoginAction:s})))}return a},t.prototype.renderUnfollowButton=function(e){var t=this.getUnfollowText(),n=d("follow-btn follow-btn--following",{"follow-btn--with-dropdown":e});return u.createElement("button",c.__assign({className:n,"aria-label":t,"data-a-target":k.UnfollowButton,"data-test-selector":k.UnfollowButton,tabIndex:this.props.tabIndex,onClick:this.toggleFollowing},Object(U.a)(this.props)),u.createElement(D.a,{padding:{x:.5},className:"follow-btn__inner",fullWidth:!0,fullHeight:!0},u.createElement("span",{className:"follow-btn__label","data-test-selector":k.UnfollowButtonLabel},this.props.unfollowUIType!==C.TextOnly&&u.createElement(A.a,{asset:A.b.Heart}),this.props.unfollowUIType!==C.IconOnly&&u.createElement(D.a,{padding:{x:.5}},Object(m.d)("Following","FollowButton"))),u.createElement("span",{className:"follow-btn__label-hover","data-test-selector":k.UnfollowButtonLabelHover},this.props.unfollowUIType!==C.TextOnly&&u.createElement(A.a,{asset:A.b.Unheart}),this.props.unfollowUIType!==C.IconOnly&&u.createElement(D.a,{padding:{x:.5}},t))))},t.prototype.renderUnfollowButtonWithDropdown=function(){var e=this.props.balloonDirection?this.props.balloonDirection:w.b.BottomRight;return u.createElement(D.a,{display:R.d.Flex,className:"follow-btn","data-test-selector":k.UnfollowButtonWithDropdown},u.createElement(D.a,null,this.renderUnfollowButton(!0)),u.createElement(p.a,{display:R.d.InlineFlex,openByDefault:this.state.showDropdown},u.createElement("button",{tabIndex:this.props.tabIndex,"aria-label":Object(m.d)("Dropdown","FollowButton"),className:"follow-btn__dropdown-toggle","data-a-target":"follow-dropdown-toggle"},u.createElement(D.a,{justifyContent:R.h.Center,display:R.d.Flex,alignItems:R.b.Stretch,fullHeight:!0},u.createElement(A.a,{asset:A.b.GlyphArrDown}))),u.createElement(w.a,{size:w.c.Small,direction:e,"data-a-target":"follow-notifications-balloon"},u.createElement(D.a,{padding:1},u.createElement(I.a,{channelLogin:this.props.channelLogin})))))},t.prototype.getButtonIcon=function(){var e=this.props.hollowIcons&&!this.state.isFollowing?A.b.FollowHollow:A.b.Heart;return this.props.followUIType===C.TextOnly?void 0:e},t.prototype.reportInteractive=function(){H(this.props)?this.props.latencyTracking.reportInteractive():this.props.data&&!this.props.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.addEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.addEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.removeEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.removeEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.removeEventListener("mouseleave",this.onMouseLeave))},t.prototype.getUnfollowText=function(){return Object(m.d)("Unfollow","FollowButton")},t}(u.Component),j=Object(a.compose)(Object(h.a)(P,{options:function(e){return{variables:{login:e.channelLogin}}},skip:H}),Object(h.a)(B,{name:"followUser"}),Object(h.a)(F,{name:"unfollowUser"}),Object(T.c)(),Object(_.withLatencyTracking)("FollowButton"))(x);function H(e){return!e.channelLogin||(!!e.followData||e.channelLogin===e.currentUserLogin)}var V=Object(r.connect)(function(e){var t=Object(l.e)(e);return{currentUserLogin:t&&t.login,isLoggedIn:Object(l.f)(e)}},function(e){return Object(a.bindActionCreators)({login:function(e){return Object(s.e)(o.a.FollowButton,e)}},e)})(j);n.d(t,"b",function(){return C}),n.d(t,!1,function(){}),n.d(t,"a",function(){return V})},dqbU:function(e,t,n){},"dx/T":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("5zXJ"),o=n("x1M1"),s=n("+80q"),l=n("hnjF"),c=n("sUnt"),d=(n("222m"),{themed:!0,dark:{"1x":a.g+"/dark/animated/1/cheertutorial.gif"},light:{"1x":a.g+"/light/animated/1/cheertutorial.gif"}}),u=function(){return i.createElement(c.a,{display:l.d.Flex,padding:{top:5,bottom:3},flexGrow:1,flexDirection:l.e.Column,justifyContent:l.h.Center,alignItems:l.b.Center},i.createElement(s.a,{type:s.e.H4,bold:!0},i.createElement(o.a,{className:"cheermote-help__tutorial-image",sources:d}),Object(r.d)("How to Cheer","Bits--CheermoteHelp")),i.createElement(c.a,{padding:{x:3}},i.createElement(s.a,null,Object(r.d)('Type "cheer" + the number of Bits you want to Cheer.',"Bits--CheermoteHelp"))))};n.d(t,"a",function(){return u})},e7rh:function(e,t,n){},eAdp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateVideoBookmark"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateVideoBookmarkInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createVideoBookmark"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoBookmark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:140}};n.loc.source={body:"mutation CreateVideoBookmark($input: CreateVideoBookmarkInput!) {\ncreateVideoBookmark(input: $input){\nvideoBookmark{\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},eDVu:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/aPz");function o(e){return function(t){return function(n){function o(t){var i=n.call(this,t)||this;return i.mutator=function(e,t){return i.options.mutator(e,t)},i.typesChanged=function(e){if(e.types&&!i.options.types||!e.types&&i.options.types)return!0;if(e.types&&i.options.types){if(e.types.length!==i.options.types.length)return!0;var t=new Set(i.options.types);return e.types.some(function(e){return!t.has(e)})}return!1},i.options=e(t),i}return i.__extends(o,n),o.prototype.componentDidMount=function(){this.options.skip||this.subscribe(this.options)},o.prototype.componentWillReceiveProps=function(t){var n=e(t);n.skip!==this.options.skip&&(n.skip?this.unsubscribe():this.subscribe(n)),n.skip||(n.topic!==this.options.topic||n.type!==this.options.type||this.typesChanged(n))&&(this.unsubscribe(),this.subscribe(n)),this.options=n},o.prototype.componentWillUnmount=function(){this.unsubscribe()},o.prototype.render=function(){return r.createElement(t,i.__assign({},this.props))},o.prototype.subscribe=function(e){this.unsubscriber=Object(a.E)({query:e.query,variables:e.variables,topic:e.topic,type:e.type,types:e.types,mutator:this.mutator,skipMessage:e.skipMessage})},o.prototype.unsubscribe=function(){this.unsubscriber&&(this.unsubscriber(),this.unsubscriber=null)},o}(r.Component)}}n.d(t,"a",function(){return o})},eJ65:function(e,t,n){"use strict";var i=n("bq0i");n.d(t,"a",function(){return i.a})},eJuE:function(e,t,n){},eZF0:function(e,t,n){},eaNi:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MultiStream_SubscribeModal_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"300"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidUpgradePromotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newPrice"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:492}};n.loc.source={body:"query MultiStream_SubscribeModal_User($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nbannerImageURL\nprofileImageURL(width:300)\nsubscriptionProducts {\nid\nemoteSetID\nname\nself {\npaidUpgradePromotion {\nnewPrice\n}\n}\n}\nself {\ncanPrimeSubscribe\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\npendingSubscription {\nstartsAt\n}\ngift {\nisGift\n}\n}\n}\n}\ncurrentUser {\nid\nroles {\nisStaff\n}\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},ebRM:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"b",function(){return g});var i=n("mrSG"),r=n("SDEh"),a=n("DMoW"),o=n("lhih"),s=n("5zXJ"),l=n("XmgI"),c=n("RiD7");function d(e){return e.type!==a.f.AD&&"BitsAdOffer"!==e.__typename&&(p(e)&&null!==e.promotion&&e.promotion.type===o.b)}function u(e){return e.type!==a.f.AD&&"BitsAdOffer"!==e.__typename&&(p(e)&&null!==e.promotion&&e.promotion.id===o.a)}function m(e){return e.type!==a.f.AD&&"BitsAdOffer"!==e.__typename&&(p(e)&&null!==e.promotion&&e.promotion.type===o.c)}function p(e){return e.type===a.f.BUNDLE&&"BitsBundleOffer"===e.__typename&&null!==e.promotion&&!!e.promotion}function h(e){var t=0,n=0,i=0,r=0;return e.forEach(function(e){e.cheerAmount&&(e.alt!==s.s?(t=Math.max(t,e.cheerAmount),n=n?Math.min(n,e.cheerAmount):e.cheerAmount,i+=e.cheerAmount):r+=e.cheerAmount)}),{total:i,bonus:r,smallestCheermote:n,largestCheermote:t}}function f(e){var t=e.messageBits,n=t.total,r=t.largestCheermote,a=t.smallestCheermote;if(n){var o={cheerAboveMaxBitsPerEmote:r>s.o,totalAboveBalance:n>e.balance,totalBelowCheerMinimum:n<e.cheerMinimumBits,totalBelowEmoteMinimum:a<e.emoteMinimumBits,inputLongerThanMaxBitsMessage:e.inputValue.length>s.n,inputStartsWithCommand:e.inputValue.startsWith("/"),cheerContainsInvalidDisplayOnlyCheermotes:Object(l.c)(e.inputValue,e.bitsConfig)};if(Object.keys(o).some(function(e){return o[e]}))return i.__assign({canSpend:!1},o)}return{canSpend:!0}}function g(e){var t=e.purchaseUrl;if(t){e.trackBitsCardInteraction(Object(c.f)(e.bitsAmount),{actionType:c.a.Click,location:e.location});var n=t.replace("{channelID}",e.channelID),i=window.open(n,"Twitch","width=1024,height=600,scrollbars=yes");return!i||Object(r.a)()?(e.closeAllBits&&e.closeAllBits(),void e.trackBitsCardInteraction(c.c.CloseCard,{location:e.location})):(i.focus(),i)}}},ecb7:function(e,t,n){},efEE:function(e,t,n){},esZd:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("2Ygb");function o(e){return function(t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i.__extends(o,n),o.prototype.render=function(){return r.createElement(t,i.__assign({},e(this.props)))},o.displayName=Object(a.a)(o.name,t),o}(r.Component)}}n.d(t,"a",function(){return o})},"f0/i":function(e,t,n){},fGoN:function(e,t,n){},fKMw:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("yR8l"),a=n("sMoq");function o(){var e=this;return Object(r.a)(a,{props:function(t){return{vipUserMutation:function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return t.mutate&&t.ownProps.channelID?[4,t.mutate({variables:{input:{channelID:t.ownProps.channelID,granteeLogin:n}}})]:[2];case 1:return[2,e.sent().data]}})})}}}})}},fQWD:function(e,t,n){"use strict";var i=n("vHGB");n.d(t,"a",function(){return i.a})},fezU:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("1rIY"),s=n("1MDS"),l=n("oK83"),c=(i=Object(o.a)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null}})).InnerProvider,d=i.withContext,u=function(e){function t(t){var n=e.call(this,t)||this;return n.onShowViewerCard=function(e,t,i,r){n.setState(function(n){var a=n.viewerCardOptions;return a&&a.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:l.c.Viewer,initialTopOffset:r,sourceID:i,sourceType:t,targetID:e}}})},n.onShowExtensionMessageCard=function(e,t,i,r){n.setState(function(n){var a=n.viewerCardOptions;return a&&a.viewerCardType===l.c.Extension&&a.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:l.c.Extension,initialTopOffset:r,sourceID:i,targetID:e,extensionVersion:t}}})},n.onShowEmoteCard=function(e){n.setState(function(t){var n=t.viewerCardOptions;return n&&n.viewerCardType===l.c.Emote&&n.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:l.c.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}}),Object(s.c)({emoteLocation:Object(s.b)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:s.a.Open,msgID:e.sourceID})},n.hideViewerCard=function(){n.setState({viewerCardOptions:null})},n.state={viewerCardOptions:null,onShowViewerCard:n.onShowViewerCard,onShowExtensionMessageCard:n.onShowExtensionMessageCard,onShowEmoteCard:n.onShowEmoteCard,hideViewerCard:n.hideViewerCard},n}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(c,{value:this.state},this.props.children)},t}(a.Component);n.d(t,!1,function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u})},frkH:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedChatMessageInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};n.loc.source={body:"mutation Chat_DenyRejectedChatMessage($input: DenyRejectedChatMessageInput!) {\ndenyRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},fxMP:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return g});var i=n("i6WW"),r=n("6j5V"),a=n("XmgI"),o=n("4h+t"),s=n("gTu3"),l=n("RcPG"),c=n("a1OF"),d="/me ";function u(e,t,n){var i=e.content.text.startsWith(d);return p(e.content.fragments,i,n,t||Object(o.a)(),e.sender&&e.sender.login||void 0)}function m(e,t){return p(e.content.fragments,!1,t)}function p(e,t,n,o,u){var m=[];return e.forEach(function(e,p){if(null!==e){var h=e.content||{__typename:"Text"};switch(h.__typename){case"Emote":if(!h.emoteID)return;m.push({type:l.a.Emote,content:{alt:e.text,emoteID:h.emoteID,images:{themed:!1,sources:{"1x":Object(c.d)(h.emoteID,1),"2x":Object(c.d)(h.emoteID,2),"4x":Object(c.d)(h.emoteID,4)}}}});break;case"CheermoteToken":if(!o)return;var f=h.prefix,g=h.bitsAmount,b=h.tier,v=o.indexedActions[f],E=v&&v.indexedTiers.get(b);E?m.push({type:l.a.Emote,content:{alt:f,images:Object(a.d)(E),cheerAmount:g,cheerColor:E.color}}):m.push(Object(r.a)(e.text));break;case"User":var k=s.a.Default;n&&h.login===n?k=s.a.Recipient:n&&u&&u===n&&(k=s.a.Sender),m.push({type:l.a.Mention,content:{recipient:e.text.slice(1),currentUserMentionRelation:k}});break;case"AutoMod":m.push({type:l.a.ModeratedText,content:e.text});break;default:var C=Object(i.a)(e.text,{parseClips:!0,parseVods:!0});if(C)m.push(C);else{var S=e.text;t&&0===p&&S.startsWith(d)&&(S=S.substr(3)),m.push(Object(r.a)(S))}}}}),m}function h(e){var t=e.data,n=t.message,i=t.cursor,r=f(n.content.fragments),a=g(n.sender.badges);return{cursor:""+i,node:{id:n.id,deletedAt:null,sentAt:n.sent_at,content:{text:n.content.text,fragments:r,__typename:"RoomMessageContent"},sender:{id:n.sender.user_id,login:n.sender.login,chatColor:n.sender.chat_color,displayName:n.sender.display_name,displayBadges:a,__typename:"User"},__typename:"RoomMessage"},__typename:"RoomMessageEdge"}}function f(e){return e.map(function(e){var t={text:e.text,content:null,__typename:"RoomMessageFragment"},n=e.cheermote,i=e.emoticon,r=e.mention,a=e.text;return n?t.content={bitsAmount:n.bits_amount,prefix:n.prefix,tier:n.tier,__typename:"CheermoteToken"}:i?t.content={emoteID:i.id,setID:i.set_id,token:a,__typename:"Emote"}:r&&(t.content={id:r.user_id,login:r.login,displayName:r.display_name,__typename:"User"}),t})}function g(e){return e.map(function(e){return{setID:e.id,version:e.version,__typename:"Badge"}})}},"g/rS":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o});var i="extensions.EXTENSION_INSTALLATIONS_FETCHED",r="extensions.DESTROY_CHANNEL_INSTALLATION";function a(e,t){return{type:i,channelID:e,installedExtensions:t}}function o(e,t){return{type:r,channelID:e,extensionID:t}}},g17B:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelCheermotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"cheer"},directives:[]}]}}]}}],loc:{start:0,end:157}};i.loc.source={body:'#import "twilight/features/chat/models/cheer-fragment.gql"\nquery Chat_ChannelCheermotes($channelLogin: String) {\nuser(login: $channelLogin) {\nid\n...cheer\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("F9eG").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},gDzh:function(e,t,n){},gMwc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoMarkersChatCommand"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"query VideoMarkersChatCommand($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},gO1k:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},gTu3:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},gcd7:function(e,t,n){"use strict";var i=n("/MKj"),r=n("fvjX"),a=n("+pBb"),o=n("mrSG"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentWillMount=function(){this.props.addCommand(this.props.command,this.props.handler,this.props.channelLogin)},t.prototype.componentWillReceiveProps=function(e){this.props.command===e.command&&this.props.handler===e.handler&&this.props.channelLogin===e.channelLogin||(this.props.removeCommand(this.props.command,this.props.handler,this.props.channelLogin),this.props.addCommand(e.command,e.handler,e.channelLogin))},t.prototype.componentWillUnmount=function(){this.props.removeCommand(this.props.command,this.props.handler,this.props.channelLogin)},t.prototype.render=function(){return null},t}(n("q1tI").PureComponent);var l=Object(i.connect)(null,function(e){return Object(r.bindActionCreators)({addCommand:a.x,removeCommand:a.O},e)})(s);n.d(t,"a",function(){return l})},"gg/T":function(e,t,n){},ghMw:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("q1tI"),r=n("fNzW"),a=n("Putr"),o=(n("8FNT"),function(e){var t;e.required&&(t=i.createElement(a.a,null));var n={"tw-form-label":!0,"tw-form-label--overlay":e.overlay};return i.createElement("label",{className:Object(r.a)(n),htmlFor:e.id},t,e.label)});o.displayName="FormLabel",o.displayName="FormLabel"},hCFK:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return f});var i,r,a,o=n("pVnL"),s=n.n(o),l=n("VbXa"),c=n.n(l),d=n("q1tI"),u=n("fNzW"),m=n("vCsY");n("AaQW");!function(e){e.Fade="fade",e.TranslateRight="translate-right",e.TranslateLeft="translate-left",e.TranslateTop="translate-top",e.TranslateBottom="translate-bottom",e.ScaleOver="scale-over",e.SlideOverRight="slide-over-right",e.SlideOverLeft="slide-over-left",e.SlideOverTop="slide-over-top",e.SlideOverBottom="slide-over-bottom"}(r||(r={})),function(e){e.Short="duration-short",e.Medium="duration-medium",e.Long="duration-long"}(a||(a={}));var p,h=((i={})[a.Short]=100,i[a.Medium]=250,i[a.Long]=300,i);!function(e){e.enter="enter-prep",e.entering="enter-active",e.entered="enter-done",e.exit="exit-prep",e.exiting="exit-active",e.exited="exit-done"}(p||(p={}));var f=function(e){function t(t){var n;return(n=e.call(this,t)||this).getDuration=function(){return n.props.duration||a.Medium},n.onEnterComplete=function(){n.setState({status:p.entered}),n.props.onEnterComplete&&n.props.onEnterComplete()},n.onExitComplete=function(){n.setState({status:p.exited}),n.props.onExitComplete&&n.props.onExitComplete()},n.refHanlder=function(e){n.containerRef=e},n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.state={status:t.show&&!t.transitionInitialMount?p.entered:p.exited},n}c()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.show,i=t.status,r=p;return n&&i===r.exited?{status:r.enter}:n&&i===r.exiting?{status:r.entering}:n||i!==r.entered?n||i!==r.entering?null:{status:r.exiting}:{status:r.exit}};var n=t.prototype;return n.componentDidMount=function(){this.props.transitionInitialMount&&this.props.show&&this.setState({status:p.enter})},n.componentWillUnmount=function(){clearTimeout(this.transitionTimer)},n.componentDidUpdate=function(e,t){var n=p;this.state.status===n.enter?(this.ensureLayoutReflow(),this.setState({status:n.entering})):this.state.status===n.exit?(this.ensureLayoutReflow(),this.setState({status:n.exiting})):this.state.status===n.entering&&t.status!==n.entering?(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onEnterComplete,h[this.getDuration()])):this.state.status===n.exiting&&t.status!==n.exiting&&(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onExitComplete,h[this.getDuration()]))},n.render=function(){var e=this.state.status;if(this.state.status===p.exited&&!this.props.alwaysRenderChild)return null;var t,n=[p.enter,p.entering,p.entered].includes(e),i=["tw-transition","tw-transition__"+(t=Array.isArray(this.props.type)?n?this.props.type[0]:this.props.type[1]:this.props.type),"tw-transition__"+t+"--"+e,"tw-transition--"+e,"tw-transition--"+this.getDuration()];return d.createElement("div",s()({ref:this.refHanlder,className:Object(u.a)(this.props.className,i)},Object(m.a)(this.props)),this.props.children)},t}(d.Component);f.displayName="Transition"},hRAX:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsBundleOfferPromotion"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsPromotion"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};n.loc.source={body:"fragment bitsBundleOfferPromotion on BitsPromotion {\nid\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},ht6z:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("/7QA");function r(e){var t=i.b.get("prime_blocked_regions",[]);return!!e&&!t.includes(e.toUpperCase())}},htqZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LiveNotificationsToggle_ToggleNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:178}};n.loc.source={body:"mutation LiveNotificationsToggle_ToggleNotifications($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\nuser {\nid\nself {\nfollower {\ndisableNotifications\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},i46O:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveNotificationsToggle_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:164}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nquery LiveNotificationsToggle_User($login: String!) {\nuser(login: $login) {\n...followButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("V94A").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},i4un:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f});var i,r,a,o=n("/7QA"),s=n("D7An");function l(){return o.q.experiments.getAndTrackAssignment(s.b.SocialButtonsMove)||i.Control}function c(){return l()===i.Control}function d(){return l()===i.VariantA}function u(){return l()===i.VariantB}function m(){return o.q.experiments.getAndTrackAssignment(s.b.ContextualAuthModals)||r.Control}function p(){return o.q.experiments.getAndTrackAssignment(s.b.WatchThudModal)===a.VariantA}!function(e){e.Control="control",e.VariantA="variant_a",e.VariantB="variant_b"}(i||(i={})),function(e){e.Control="control",e.Balloon="balloon",e.Split="split",e.TwoStep="two_step"}(r||(r={})),function(e){e.Control="control",e.VariantA="variant_a"}(a||(a={}));var h=["overwatchleague","overwatchleague_allaccess","overwatchleague_kr","overwatchleague_fr","overwatchleague_zh","overwatchleague_zhtw"];function f(e){return-1!==h.indexOf(e)}},i6WW:function(e,t,n){"use strict";var i=n("RcPG"),r=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/(\\w+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),a=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/(\\w+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");n.d(t,"a",function(){return l});var s=/^(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,8}(?:\/[\w.\/#%&()\-+=:?~]*)?))$/;function l(e,t){void 0===t&&(t={});var n=e.match(s);if(!n)return null;var l=""+(n[1]||"https://")+n[2];if(t.parseClips&&function(e){void 0===e&&(e="");var t=r.test(e)&&!e.includes("clips.twitch.tv/2017/"),n=a.test(e);return t||n}(l)){var c=function(e){void 0===e&&(e="");var t=e.match(r);if(t&&t.length>0&&void 0!==t.index)return t[1];var n=e.match(a);return n&&n.length>0&&void 0!==n.index?n[2]:""}(l);if("create"!==c)return{type:i.a.ClipLink,content:{slug:c,url:l,displayText:e}}}if(t.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(l)){var d=function(e){void 0===e&&(e="");var t=e.match(o);return null===t?"":t&&t.length>0&&void 0!==t.index?t[1]:""}(l);return{type:i.a.VideoLink,content:{id:d,url:l,displayText:e}}}return{type:i.a.Link,content:{displayText:e,url:l}}}},iS14:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("mrSG"),r=n("yR8l"),a=n("8jSG"),o=n("cMjZ"),s=n("zixI");function l(){var e=this;return Object(r.a)(s,{props:function(t){return{unblockUserMutation:function(n,r){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return t.mutate?[4,t.mutate({variables:{input:{targetUserID:n}},optimisticResponse:{unblockUser:{__typename:"UnblockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=e.readFragment({id:Object(o.a)(r),fragment:a});t&&(t.blockedUsers=t.blockedUsers.filter(function(e){return null!==e&&e.id!==n}),e.writeFragment({id:Object(o.a)(r),fragment:a,data:t}))}})]:[3,2];case 1:return e.sent(),[3,3];case 2:throw new Error("unblockUserMutation is not ready");case 3:return[2]}})})}}}})}},ifPV:function(e,t,n){},ilCE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidUpsell_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"query RaidUpsell_Channel($targetChannelLogin: String $sourceChannelLogin: String) {\ntargetChannel: user(login: $targetChannelLogin) {\nid\nlogin\ndisplayName\n}\nsourceChannel: user(login: $sourceChannelLogin) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},iyGE:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),r=n("yR8l"),a=n("Pub/"),o=n("HzXE"),s=n("4G6/"),l=n("4w0E");function c(e){var t=this;return Object(r.a)(l,{props:function(n){return{banUserMutation:function(r,l,c){return void 0===l&&(l=null),void 0===c&&(c=null),i.__awaiter(t,void 0,void 0,function(){var t,d;return i.__generator(this,function(u){switch(u.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),d=null,"number"==typeof l?d=Object(s.a)(l):"string"==typeof l&&(d=l),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:r,expiresIn:d,reason:c}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.banUserFromChatRoom&&t.data.banUserFromChatRoom.ban&&t.data.banUserFromChatRoom.ban.bannedUser&&t.data.banUserFromChatRoom.ban.bannedUser.id){var r=Object(a.a)(e,n,t.data.banUserFromChatRoom.ban.bannedUser.id);if(!r)return;e.writeQuery({query:o,variables:{targetUserID:t.data.banUserFromChatRoom.ban.bannedUser.id,channelID:n},data:i.__assign({},r,{chatRoomBanStatus:{isPermanent:t.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,n,t)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}})})}}}})}},"j+2s":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatList_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:256}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatList_Badges($channelLogin: String!) {\nbadges {\n...badge\n}\nuser(login: $channelLogin) {\nid\nbroadcastBadges {\n...badge\n}\nself {\nselectedBadge {\n...badge\n}\ndisplayBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("IKE4").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},j0ar:function(e,t,n){"use strict";var i=n("mrSG"),r=n("TSYQ"),a=n("q1tI"),o=n("x1M1"),s=n("hnjF"),l=n("+80q"),c=n("PL8s"),d=n("b7S+"),u=(n("9KaG"),function(e){function t(t){var n=e.call(this,t)||this;return n.onImageLoad=function(){n.setState({imageLoaded:!0})},n.onMouseOver=function(){n.setState({isHovering:!0})},n.onMouseOut=function(){n.setState({isHovering:!1})},n.renderImage=function(){var e=null,t=r("chat-image",{"chat-image__animated":!!n.props.cheerText&&n.state.imageLoaded},n.props.className);if(n.props.srcSet.themed)e=a.createElement(s.g,{display:n.state.imageLoaded?s.d.InlineBlock:s.d.Hide},a.createElement(o.a,{alt:n.props.alt,className:t,defaultRes:n.props.srcKey,onLoad:n.onImageLoad,onMouseOver:n.onMouseOver,onMouseOut:n.onMouseOut,sources:n.props.srcSet}));else{for(var i=[],l=0,c=Object.keys(n.props.srcSet.sources);l<c.length;l++){var d=c[l];i.push(n.props.srcSet.sources[d]+" "+d)}e=a.createElement(s.g,{display:n.state.imageLoaded?s.d.InlineBlock:s.d.Hide},a.createElement("img",{className:t,onLoad:n.onImageLoad,onMouseOver:n.onMouseOver,onMouseOut:n.onMouseOut,src:n.props.srcSet.sources[n.props.srcKey],srcSet:i.join(","),alt:n.props.alt}))}return e},n.renderPlaceholder=function(){return n.state.imageLoaded?null:a.createElement(s.g,{display:s.d.InlineBlock},a.createElement(l.a,{type:l.e.Span,className:"chat-image__placeholder",align:s.l.Top},a.createElement(c.a,{height:28,width:28})))},n.state={imageLoaded:!1,isHovering:!1},n}return i.__extends(t,e),t.prototype.render=function(){var e;return e=this.state.isHovering&&this.state.imageLoaded?a.createElement(d.a,{direction:this.props.tooltipDirection||d.c.Top,label:this.props.alt,display:s.d.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText):a.createElement("span",{"data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText),this.props.cheerText?a.createElement(l.a,{type:l.e.Span,noWrap:!0},e):e},t}(a.Component));n.d(t,"a",function(){return u})},jBwP:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("1rIY"),s=n("W/3w"),l=(i=Object(o.a)("ChatRoomStateContext",{followerDuration:s.a,followerMode:!1,slowMode:!1,slowModeDuration:120,subsOnlyMode:!1,updateRoomState:function(e){return null}})).InnerProvider,c=i.withContext,d=function(e){function t(t){var n=e.call(this,t)||this;return n.updateRoomState=function(e){n.setState(function(t){return{followerMode:void 0!==e.followersOnly?e.followersOnly:t.followerMode,followerDuration:void 0!==e.followersOnlyRequirement?e.followersOnlyRequirement:t.followerDuration,slowMode:void 0!==e.slowMode?e.slowMode:t.slowMode,slowModeDuration:e.slowModeDuration||t.slowModeDuration,subsOnlyMode:void 0!==e.subsOnly?e.subsOnly:t.subsOnlyMode}})},n.state={followerDuration:s.a,followerMode:!1,slowMode:!1,slowModeDuration:120,subsOnlyMode:!1,updateRoomState:n.updateRoomState},n}return r.__extends(t,e),t.prototype.render=function(){return a.createElement(l,{value:this.state},this.props.children)},t}(a.Component),u=d;n.d(t,!1,function(){return l}),n.d(t,"b",function(){return c}),n.d(t,!1,function(){return d}),n.d(t,"a",function(){return u})},jCkG:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"targetedModAction"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsTargetedModActionsEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"targetedModActionDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"targetedModActionDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TargetedModActionDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}],loc:{start:0,end:361}};n.loc.source={body:"# fragments for targeted mod actions on the mod logs query\nfragment targetedModAction on ModLogsTargetedModActionsEntry {\nid\naction\ntimestamp\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nuser {\nid\nlogin\n}\ndetails {\n...targetedModActionDetails\n}\n__typename\n}\nfragment targetedModActionDetails on TargetedModActionDetails {\nbannedAt\ndurationSeconds\nexpiresAt\nreason\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},jPLR:function(e,t,n){},jrTF:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsLeaderboard"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsLeaderboard"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsLeaderboardEdge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"secondsRemaining"},arguments:[],directives:[]}]}}],loc:{start:0,end:185}};i.loc.source={body:'#import "twilight/features/bits/models/bits-leaderboard-edge-fragment.gql"\nfragment bitsLeaderboard on BitsLeaderboard {\nid\nitems {\nedges { ...bitsLeaderboardEdge }\n}\nsecondsRemaining\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("3ag2").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},jv9u:function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("hnjF"),o=n("XQbB"),s=n("sUnt"),l=n("+80q"),c=function(){return i.createElement(s.a,{padding:1,display:a.d.Flex,alignItems:a.b.Center,justifyContent:a.h.Center,flexDirection:a.e.Column,fullWidth:!0},i.createElement(o.a,{delay:0}),i.createElement(s.a,{padding:{top:2}},i.createElement(l.a,{italic:!0},Object(r.d)("Fetching Bits","BitsCard"))))};n.d(t,"a",function(){return c})},jy35:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"message"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageParticle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageSender"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageParticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageFragment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mentionFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"mentionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"automodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:907}};n.loc.source={body:"fragment message on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nsender {\n...messageSender\n}\n__typename\n}\nfragment messageContent on MessageContent {\ntext\nfragments {\n...messageParticle\n}\n__typename\n}\nfragment messageSender on User {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nsetID\nversion\n__typename\n}\n__typename\n}\nfragment messageParticle on MessageFragment {\ntext\ncontent {\n... on CheermoteToken {\n...cheermoteFragment\n}\n... on Emote {\n...emoteFragment\n}\n... on User {\n...mentionFragment\n}\n... on AutoMod {\n...automodFragment\n}\n__typename\n}\n__typename\n}\nfragment cheermoteFragment on CheermoteToken {\nbitsAmount\nprefix\ntier\n__typename\n}\nfragment emoteFragment on Emote {\nemoteID: id\nsetID\ntoken\n__typename\n}\nfragment mentionFragment on User {\nid\nlogin\ndisplayName\n__typename\n}\nfragment automodFragment on AutoMod {\ntopics {\ntype\nweight\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},k7qK:function(e,t,n){},k8pZ:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("/7QA"),a=n("g/rS");function o(e,t){return e.extensions.installations[t]}r.q.store.registerReducer("extensions",function(e,t){var n,r;switch(void 0===e&&(e={installations:{}}),t.type){case a.b:return i.__assign({},e,{installations:i.__assign({},e.installations,(n={},n[t.channelID]=t.installedExtensions,n))});case a.a:var o=e.installations[t.channelID];if(!o)return e;var s=o.filter(function(e){return e.extension.clientId!==t.extensionID});return i.__assign({},e,{installations:i.__assign({},e.installations,(r={},r[t.channelID]=s,r))});default:return e}})},kPBf:function(e,t){},kPCN:function(e,t,n){},kSkr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BlockUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation BlockUser($input: BlockUserInput!) {\nblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"kY/a":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewerCardModComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channelUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetID"},value:{kind:"Variable",name:{kind:"Name",value:"targetID"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"moderatorComments"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"moderatorComments"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsCommentConnection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"moderatorComment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"moderatorComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:494}};n.loc.source={body:"query ViewerCardModComments($channelID: ID! $targetID: ID! $cursor: Cursor) {\nchannelUser: user(id: $channelID) {\nid\nmodLogs {\ncomments(targetID: $targetID first: 100 after: $cursor) {\n...moderatorComments\n}\n}\n}\n}\nfragment moderatorComments on ModLogsCommentConnection {\nedges {\ncursor\nnode {\n...moderatorComment\n}\n}\npageInfo {\nhasNextPage\nhasPreviousPage\n}\n}\nfragment moderatorComment on ModLogsComment {\nid\ntimestamp\nchannel {\nid\n}\nauthor {\nid\nlogin\ndisplayName\nchatColor\n}\ndetails {\ntext\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},knbN:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("XIZb"),r=Object(i.a)("ChatRestrictions"),a=(r.InnerProvider,r.withChatServiceProvider),o=r.withContext,s=a,l=o(function(e){return{chatRestrictionsAPI:e.serviceAPI,setChatRestrictionsAPI:e.setServiceAPI}})},"ky+Y":function(e,t,n){},l1Uh:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i=null;function r(e){i=e}function a(){return i?+window.getComputedStyle(i).getPropertyValue("width").replace("px",""):0}},"lB7/":function(e,t,n){"use strict";var i=n("q1tI"),r=n("3CMh"),a=n("5zXJ"),o=n("4h+t"),s=n("sUnt"),l=n("hnjF");n("rAoL");function c(e){var t=(e.bitsConfig&&e.bitsConfig.indexedActions[a.k]||Object(o.b)()).orderedTiers.filter(function(t){return t.bits<=e.amount}).reverse().map(function(t){return i.createElement(s.a,{display:l.d.Block,className:"bits-available-tiers__tier-bits-image",key:t.id},i.createElement(r.a,{size:e.size,amount:t.bits,bitsConfig:e.bitsConfig,prefix:a.k,showImage:!0,showAmount:!1,animated:!1}))});return i.createElement(s.a,{display:l.d.Flex,padding:{y:.5},className:"bits-available-tiers__tier-bits-images"},t)}n.d(t,"a",function(){return c})},lNGo:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return p});var i=n("mrSG"),r=n("/7QA"),a=n("DMoW"),o=n("2xye"),s=n("YXxK"),l=n("04j6"),c=n("oi4T"),d=function(e){return i.__awaiter(void 0,void 0,void 0,function(){var t,n,a,s;return i.__generator(this,function(d){switch(d.label){case 0:t=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.q.apollo.client.query({query:l,variables:{id:e.channelID}})];case 2:return t=d.sent(),[3,4];case 3:return n=d.sent(),r.k.error(n,"ChatEvent query failed."),[3,4];case 4:return t&&t.data||r.k.warn("ChatEvent query failed; Chat tracking data sent may be incomplete."),a=t&&t.data&&t.data.user||null,s=i.__assign({},Object(c.b)(e),{viewer_context:e.viewerContext,broadcast_id:r.p.getVideoPlayerTrackingData().broadcastID,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:a&&a.stream&&a.stream.game&&a.stream.game.name,live:!!(a&&a.stream&&a.stream.id.length>0),partner:a&&a.isPartner||!1,play_session_id:r.p.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode}),r.p.track(o.SpadeEventType.Chat,s),[2]}})})},u=function(e){return i.__awaiter(void 0,void 0,void 0,function(){var t,n,a,s;return i.__generator(this,function(d){switch(d.label){case 0:t=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.q.apollo.client.query({query:l,variables:{id:e.channelID}})];case 2:return t=d.sent(),[3,4];case 3:return n=d.sent(),r.k.error(n,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return t&&t.data||r.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),a=t&&t.data&&t.data.user||null,s=i.__assign({},Object(c.a)(e),{broadcast_id:r.p.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:a&&a.stream&&a.stream.game&&a.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(a&&a.stream&&a.stream.id.length>0),partner:a&&a.isPartner||!1,play_session_id:r.p.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,transaction_id:e.transactionID,viewer_context:e.viewerContext}),r.p.track(o.SpadeEventType.ChatClientCheer,s),[2]}})})},m=function(e){return i.__awaiter(void 0,void 0,void 0,function(){var t,n,a,s;return i.__generator(this,function(d){switch(d.label){case 0:t=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.q.apollo.client.query({query:l,variables:{id:e.channelID}})];case 2:return t=d.sent(),[3,4];case 3:return n=d.sent(),r.k.error(n,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return t&&t.data||r.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),a=t&&t.data&&t.data.user||null,s=i.__assign({},Object(c.a)(e),{broadcast_id:r.p.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,error_type:e.errorType,game:a&&a.stream&&a.stream.game&&a.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(a&&a.stream&&a.stream.id.length>0),partner:a&&a.isPartner||!1,play_session_id:r.p.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,viewer_context:e.viewerContext}),r.p.track(o.SpadeEventType.ChatClientCheerError,s),[2]}})})},p=function(e){switch(e){case a.Ua.AMOUNT_BELOW_MIN_BITS:return s.c.BelowMin;case a.Ua.AUTO_MOD_MESSAGE:return s.c.AutoModMessage;case a.Ua.AUTO_MOD_PENDING:return s.c.AutoModPending;case a.Ua.CHANNEL_BLOCKED_TERMS:return s.c.ChannelBlockedTerms;case a.Ua.CHANNEL_INELIGIBLE:return s.c.ChannelIneligible;case a.Ua.EMOTE_AMOUNT_BELOW_MIN_BITS:return s.c.BelowMinEmote;case a.Ua.INSUFFICIENT_BALANCE:return s.c.BitsUnavailable;case a.Ua.INVALID_ANONYMOUS_MESSAGE:return s.c.InvalidAnonymousMessage;case a.Ua.INVALID_BITS_AMOUNT:case a.Ua.INVALID_BITS_MESSAGE:return s.c.InvalidBitsMessage;case a.Ua.INVALID_EVENT_ID:return s.c.InvalidEventId;case a.Ua.MESSAGE_LENGTH_EXCEEDED:return s.c.InputAboveMaxLength;case a.Ua.REQUEST_THROTTLED:return s.c.RequestThrottled;case a.Ua.TOO_LARGE_BITS_EMOTE:return s.c.AboveMaxEmote;case a.Ua.TOO_LARGE_CHEER:return s.c.AboveMaxCheer;case a.Ua.USER_BANNED:return s.c.UserBanned;case a.Ua.USER_INELIGIBLE:return s.c.UserIneligible;case a.Ua.USER_SUSPENDED:return s.c.UserSuspended;case a.Ua.ZALGO_MESSAGE:return s.c.ZalgoMessage;default:return s.c.Unknown}}},lVWK:function(e,t,n){},lX3L:function(e,t,n){},lXDb:function(e,t,n){},lZdE:function(e,t,n){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.d(t,"a",function(){return i})},lhih:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a});var i="first_time_purchase",r="single_purchase",a="spring_sale_2019"},"lpj/":function(e,t,n){},lw3P:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("yR8l"),r=n("ru7j");function a(){return Object(i.a)(r,{props:function(e){return e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser&&e.data.currentUser.blockedUsers?{blockedUsers:e.data.currentUser.blockedUsers.reduce(function(e,t){return t&&t.id&&e.push(t.id),e},[])}:{blockedUsers:[]}},skip:function(e){return!(e.isLoggedIn||e.authToken)}})}},mBWp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Tracking_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};n.loc.source={body:"query Whispers_Tracking_CurrentUser {\ncurrentUser {\nid\nhasTurbo\navailability\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},mHh5:function(e,t,n){},mZsS:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.Ready=0]="Ready",e[e.Dimensions=1]="Dimensions",e[e.RequestAd=2]="RequestAd",e[e.OnStart=3]="OnStart",e[e.OnCredit=4]="OnCredit",e[e.OnFinish=5]="OnFinish",e[e.OnClose=6]="OnClose",e[e.OnError=7]="OnError",e[e.Adblock=8]="Adblock",e[e.LimitReached=9]="LimitReached"}(i||(i={}))},miXC:function(e,t,n){},mmRu:function(e,t,n){"use strict";var i,r=n("/MKj"),a=n("mrSG"),o=n("q1tI"),s=n("u5aL"),l=n("/7QA"),c=n("7d/q"),d=n("7uM4"),u=function(e){return o.createElement(c.a,{icon:d.b.Emoticons,ariaLabel:Object(l.d)("Emote picker","EmotePickerButton"),type:e.isActive?c.c.Default:c.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})},m=n("fvjX"),p=n("yR8l"),h=n("x7UT"),f=n("Mj6i"),g=n("1/iK"),b=n("kRBY"),v=n("+pBb"),E=n("w1PT"),k=n("8EUQ"),C=n("KriR"),S=n("GzyO"),y=n("OpME"),N=function(e){return e.tier&&!isNaN(parseInt(e.tier,10))?parseInt(e.tier,10)/1e3:1},_=n("GnwI"),I=n("br9A"),T=n("8/mp"),O=n("2xye"),D=n("7SjK"),A=n("uG/k"),w=n("sUnt"),R=n("Ws8v"),M=n("hnjF"),L=n("+80q"),U=n("X2PJ"),B=(n("zyUW"),function(e){var t=null;return e.imgSrc&&(t=o.createElement(o.Fragment,null,o.createElement(A.a,{className:"emote-grid-section__header-image",src:e.imgSrc,alt:e.label}),o.createElement(w.a,{padding:{right:.5}}))),o.createElement(w.a,{position:M.j.Relative,padding:1,className:"emote-grid-section"},o.createElement(R.a,{alignItems:M.b.Center,display:M.d.Flex,padding:{x:1,bottom:.5}},t,o.createElement(L.a,{align:M.l.Middle,bold:!0,color:U.c.Alt},e.label)),o.createElement(D.a,{context:e.context,emotes:e.emotes,onClickEmote:e.onClickEmote,spaced:!0}))}),F=n("4VQm"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkVisible=function(e,n){t.props.checkVisible(e,n)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister()},t.prototype.render=function(){return o.createElement(o.Fragment,null,this.props.children)},t}(o.Component),x=Object(F.c)(function(e){return{registerReceiver:e.registerReceiver}})(P),j=n("i4Ys"),H=(n("cr2a"),function(e){return o.createElement(w.a,{className:"emote-picker-tab-item "+(e.isActive?"emote-picker-tab-item--active":""),position:M.j.Relative},o.createElement(j.a,{"data-a-target":e.label,onClick:e.onClick,blurAfterClick:!0},o.createElement(w.a,{padding:1,display:M.d.InlineFlex},o.createElement(d.a,{asset:e.icon}))))}),V=n("oJmH"),G=n("DnOo"),W=n("a5fV"),q=n("dEDE"),z=n("CGUg"),Y=(n("GLn2"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.channelSubEmotes,n=e.channelSubscriptionProducts,i=e.subUpsellClickedEmote,r=n.find(function(e){return e.emoteSetID===i.setID});if(!r)return null;var s={};t.forEach(function(e){if(e.isLocked&&null!==e.setID&&void 0!==e.setID){var t=n.find(function(t){return t.emoteSetID===e.setID});t&&(s[t.emoteSetID]=t)}});var c=N(r),u=Object(l.d)("Subscribe at Tier {tierNumber}",{tierNumber:c},"EmotePickerCard"),m=[],p=[];t.forEach(function(e){var t=s[e.setID];t&&(N(t)<=c?p.push(a.__assign({},e,{isLocked:!1})):m.push(e))}),m.sort(function(e,t){var n=s[e.setID],i=s[t.setID],r=N(n);return N(i)-r});var h=m.concat(p),f=r.price.toString()||"";if(r.priceInfo){var g=r.priceInfo;f=Object(W.a)(Object(W.b)(g.total,g.exponent),g.currency)}var b=p.length>1?Object(l.d)("{numUnlocked} Emotes Included",{numUnlocked:p.length},"EmotePickerCard"):Object(l.d)("1 Emote Included","EmotePickerCard");return o.createElement(w.a,{className:"emote-sub-upsell"},o.createElement(R.a,{padding:{top:.5}},o.createElement(q.a,{type:q.d.Text,icon:d.b.AngleLeft,onClick:this.props.onBackClick,size:q.b.Small},Object(l.d)("Back","EmotePickerCard"))),o.createElement(R.a,{display:M.d.Flex,padding:{x:2,bottom:1}},o.createElement(w.a,{flexGrow:0,flexShrink:0,padding:{top:.5}},o.createElement(A.a,{src:this.getBigImageSrc(i.srcSet),alt:i.displayName||""})),o.createElement(w.a,{flexGrow:1,flexShrink:1,padding:{left:1}},o.createElement(L.a,{bold:!0},this.renderCopyHeader(c.toString())),o.createElement(L.a,null,this.renderCopyBody(c.toString(),p.length)))),o.createElement(w.a,{display:M.d.Flex,alignItems:M.b.Center,justifyContent:M.h.Center,padding:{x:2}},o.createElement(G.a,{customSubscribeNowMessage:u,isSubbedToTier:!1,fullWidth:!0,tierPrice:f,handleSubAction:this.props.handleSubAction,productName:r.name,url:r.url,isEsportChannel:this.props.isEsportChannel})),o.createElement(z.a,null,o.createElement("hr",{className:"emote-sub-upsell__divider"})),o.createElement(T.b,{className:"emote-sub-upsell__content"},o.createElement(w.a,null,o.createElement(w.a,{padding:{x:2}},o.createElement(L.a,{bold:!0},b)),o.createElement(w.a,{padding:{x:1,top:.5,bottom:3}},o.createElement(D.a,{emotes:h,spaced:!0,onClickEmote:this.props.onClickEmote})))))},t.prototype.renderCopyHeader=function(e){return Object(l.d)("{channelDisplayName} - Tier {tierNumber} Subscription",{tierNumber:e,channelDisplayName:this.props.channelDisplayName},"EmotePickerCard")},t.prototype.renderCopyBody=function(e,t){return 1===t?Object(l.d)("To unlock 1 emote and more subscriber benefits, subscribe at Tier {tierNumber}",{tierNumber:e},"EmotePickerCard"):Object(l.d)("To unlock {numEmotes} emotes and more subscriber benefits, subscribe at Tier {tierNumber}.",{tierNumber:e,numEmotes:t},"EmotePickercard")},t.prototype.getBigImageSrc=function(e){var t=e.split(" ");return 6===t.length?t[2]:t[0]},t}(o.Component)),K=n("XQnt"),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.data&&(!this.props.data.loading||this.props.data.error)&&e.data&&e.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return o.createElement(Y,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelSubscriptionProducts:this.subscriptionProducts,handleSubAction:this.props.handleSubAction,isEsportChannel:this.props.isEsportChannel,onBackClick:this.props.onBackClick,onClickEmote:this.props.onClickEmote,subUpsellClickedEmote:this.props.subUpsellClickedEmote})},Object.defineProperty(t.prototype,"subscriptionProducts",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.subscriptionProducts?this.props.data.user.subscriptionProducts.filter(function(e){return null!==e}):this.props.channelSubscriptionProducts},enumerable:!0,configurable:!0}),t}(o.Component),X=Object(V.compose)(Object(p.a)(K,{options:function(e){return{variables:{channelID:e.channelID}}}}),Object(_.withLatencyTracking)("EmoteSubUpsell"))(Q);!function(e){e.FrequentlyUsed="frequently_used",e.CurrentChannel="current_channel",e.OtherChannel="other_subbed_channel",e.Unlocked="unlocked",e.Global="global"}(i||(i={}));var Z,$=n("XQbB"),J=n("ygYM"),ee=n("3Law");n("JGCS");!function(e){e.FrequentlyUsedEmotes="FREQUENTLY_USED_EMOTES",e.ChannelEmotes="CHANNEL_EMOTES",e.AllEmotes="ALL_EMOTES"}(Z||(Z={}));var te=function(e){function t(t){var n=e.call(this,t)||this;return n.onTabNavClick=function(e){if(n.scroll&&n.scroll.scrollContent&&e.currentTarget.getAttribute("data-a-target")){var t=e.currentTarget.getAttribute("data-a-target"),i=Z.FrequentlyUsedEmotes;switch(t){case Z.FrequentlyUsedEmotes:n.frequentlyUsedEmotesRef&&(n.frequentlyUsedEmotesRef.scrollIntoView(),i=Z.FrequentlyUsedEmotes);break;case Z.ChannelEmotes:n.channelEmotesRef&&(n.channelEmotesRef.scrollIntoView(),i=Z.ChannelEmotes);break;case Z.AllEmotes:n.allEmotesRef&&(n.allEmotesRef.scrollIntoView(),i=Z.AllEmotes)}n.setState({selectedNavTab:i})}},n.onClickEmote=function(e,t){if(n.props.onClickEmote&&!e.isLocked){n.props.onClickEmote(e.displayName||e.token,e.id);var i={channel_id:n.props.channelID||void 0,chatroom_id:n.props.roomID,context:t,emote_picker_sid:n.props.emotePickerSessionID,emote_id:e.id,emoticon_set_id:e.setID,generated_by:n.props.emotePickerSource};l.p.track(O.SpadeEventType.EmotePickerClickthrough,i)}else e.isLocked&&n.onClickLockedEmote(e)},n.saveScrollRef=function(e){return n.scroll=e},n.saveAllEmotesRef=function(e){return n.allEmotesRef=e},n.saveChannelEmotesRef=function(e){return n.channelEmotesRef=e},n.saveFrequentlyUsedEmotesRef=function(e){return n.frequentlyUsedEmotesRef=e},n.checkVisible=function(e,t){if(t){n.state.hasUserInteracted||n.setState({hasUserInteracted:!0});var i=n.state.selectedNavTab,r=n.allEmotesRef&&t.offset>=n.allEmotesRef.offsetTop;i=n.channelEmotesRef&&t.offset>=n.channelEmotesRef.offsetTop&&!r?Z.ChannelEmotes:r?Z.AllEmotes:Z.FrequentlyUsedEmotes,n.state.selectedNavTab!==i&&n.setState({selectedNavTab:i})}},n.onClickLockedEmote=function(e){n.setState({subUpsellClickedEmote:e})},n.onBackClick=function(){n.setState({subUpsellClickedEmote:null,selectedNavTab:Z.FrequentlyUsedEmotes})},n.handleFilterChange=function(e){var t=e.target.value,i=t.toLowerCase();n.setState({filter:i,inputValue:t,filteredEmotes:n.filterEmoteSets(n.props.allEmoteSets,i),selectedNavTab:Z.FrequentlyUsedEmotes})},n.filterEmoteSets=function(e,t){var n=[];e.forEach(function(e){e.emotes.filter(function(e){return!(!e.displayName||!e.displayName.toLowerCase().includes(t))||e.token.toLowerCase().includes(t)}).forEach(function(t){t.setID=e.id,n.push(t)})});var i=Object(S.e)(),r=0===Object.keys(i).length?void 0:i,a=Object(y.e)(n,t,r);return Object(y.d)(a)},n.updateChannelEmotes=function(e){var t=e.channelSubEmotes;if(0===t.length||!e.channelDisplayName)return null;var i=[],r=[];t.forEach(function(e){e.isLocked?i.push(e):r.push(e)});var a=Object(y.d)(n.props.channelCampaignEmotes.concat(r,i));n.setState({sortedChannelEmotes:a})},n.state={filter:"",filteredEmotes:[],hasUserInteracted:!1,inputValue:"",selectedNavTab:Z.FrequentlyUsedEmotes,sortedChannelEmotes:[],subUpsellClickedEmote:null},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.channelID&&this.updateChannelEmotes(this.props),this.props.emotePickerSessionID&&this.props.channelID){var e={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};l.p.track(O.SpadeEventType.ViewedEmotePicker,e)}},t.prototype.componentWillReceiveProps=function(e){if(this.props.channelID===e.channelID&&this.props.channelSubscriptionProducts===e.channelSubscriptionProducts||this.updateChannelEmotes(e),e.channelID&&e.emotePickerSessionID&&!this.props.emotePickerSessionID){var t={channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,generated_by:e.emotePickerSource,chatroom_id:e.roomID};l.p.track(O.SpadeEventType.ViewedEmotePicker,t)}},t.prototype.render=function(){return o.createElement(J.a,{"data-a-target":"emote-picker",direction:this.props.direction?this.props.direction:J.b.TopRight,size:this.props.size?this.props.size:J.c.Medium,noTail:!0,show:!0},o.createElement(w.a,{className:"emote-picker"},this.renderView()))},t.prototype.renderView=function(){var e=null;null===this.state.subUpsellClickedEmote&&(e=o.createElement(o.Fragment,null,o.createElement(R.a,{padding:{top:2,x:2}},o.createElement(ee.a,{autoFocus:!0,onChange:this.handleFilterChange,placeholder:Object(l.d)("Search for Emotes","EmotePickerCard"),value:this.state.inputValue})),this.renderTabContent()));var t=null;return null!==this.props.channelDisplayName&&null!==this.props.channelID&&null!==this.state.subUpsellClickedEmote&&(t=o.createElement(X,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelID:this.props.channelID,channelSubscriptionProducts:this.props.channelSubscriptionProducts,isEsportChannel:this.props.isEsportChannel||!1,handleSubAction:this.props.handleSubAction,onBackClick:this.onBackClick,onClickEmote:this.onClickLockedEmote,ownedSetIDs:this.props.ownedSetIDs,subUpsellClickedEmote:this.state.subUpsellClickedEmote})),o.createElement(o.Fragment,null,t,e)},t.prototype.renderTabContent=function(){return this.props.gqlError?o.createElement(w.a,null,o.createElement(L.a,{"data-test-selector":"emote-picker-menu-error-text",color:U.c.Error},Object(l.d)("Unable to load available emotes.","EmotePickerCard"))):this.props.loading?o.createElement(w.a,{alignItems:M.b.Center,display:M.d.Flex,fullHeight:!0,fullWidth:!0,justifyContent:M.h.Center,padding:1},o.createElement($.a,null)):""!==this.state.filter?this.renderSearchContent():o.createElement(o.Fragment,null,o.createElement(T.b,{scrollRef:this.saveScrollRef,className:"emote-picker__tab-content"},o.createElement(w.a,{padding:{bottom:2}},o.createElement(x,{checkVisible:this.checkVisible},this.getFrequentlyUsedEmoteGrid(),this.getCurrentChannelEmoteGrid(),this.getOtherSubEmoteGrids(),this.getResidualEmoteGrids()))),this.renderTabNav())},t.prototype.getFrequentlyUsedEmoteGrid=function(){return 0===this.props.frequentlyUsedEmotes.length?null:o.createElement(w.a,{className:"emote-picker__content-block",refDelegate:this.saveFrequentlyUsedEmotesRef},o.createElement(B,{context:i.FrequentlyUsed,emotes:this.props.frequentlyUsedEmotes,label:Object(l.d)("Frequently Used","EmotePickerCard"),onClickEmote:this.onClickEmote}))},t.prototype.getCurrentChannelEmoteGrid=function(){var e=this.props.channelCampaignEmotes.concat(this.state.sortedChannelEmotes);return 0===e.length||null===this.props.channelDisplayName?null:o.createElement(w.a,{className:this.props.isLoggedIn?"emote-picker__content-block":void 0,refDelegate:this.saveChannelEmotesRef},o.createElement(B,{context:i.CurrentChannel,emotes:e,imgSrc:this.props.channelProfileImageURL,label:this.props.channelDisplayName,onClickEmote:this.onClickEmote}))},t.prototype.getOtherSubEmoteGrids=function(){var e=this;if(!this.props.isLoggedIn)return null;var t=[];return this.props.otherChannelEmoteSets.forEach(function(n){n.owner&&n.owner.displayName&&t.push(o.createElement(w.a,{key:"emote-grid--"+n.id+"-emotes",className:"emote-picker__content-block"},o.createElement(B,{context:i.OtherChannel,emotes:n.emotes,imgSrc:n.owner.profileImageURL,label:n.owner.displayName,onClickEmote:e.onClickEmote})))}),this.state.hasUserInteracted||(t=t.slice(0,4)),o.createElement(o.Fragment,null,t)},t.prototype.getResidualEmoteGrids=function(){if(!this.props.isLoggedIn)return null;var e=[];return this.props.unlockedEmotes.length>0&&this.props.isLoggedIn&&e.push(o.createElement(w.a,{key:"emote-grid--unlocked-emotes",className:"emote-picker__content-block"},o.createElement(B,{context:i.Unlocked,emotes:this.props.unlockedEmotes,label:Object(l.d)("Unlocked","EmotePickerCard"),onClickEmote:this.onClickEmote}))),this.props.globalEmotes.length>0&&e.push(o.createElement(w.a,{key:"emote-grid--global-emotes"},o.createElement(B,{context:i.Global,emotes:this.props.globalEmotes,label:Object(l.d)("Global","EmotePickerCard"),onClickEmote:this.onClickEmote}))),o.createElement(w.a,{refDelegate:this.saveAllEmotesRef},e)},t.prototype.renderSearchContent=function(){var e=Object(l.d)('No Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard");return this.state.filteredEmotes.length>0&&(e=Object(l.d)('Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard")),o.createElement(T.b,{className:"emote-picker__tab-content"},o.createElement(w.a,{position:M.j.Relative,padding:{x:1,top:1,bottom:3},className:"emote-picker__content-block"},o.createElement(R.a,{padding:{x:1}},o.createElement(L.a,{bold:!0},e)),o.createElement(D.a,{emotes:this.state.filteredEmotes,onClickEmote:this.onClickEmote,spaced:!0})))},t.prototype.renderTabNav=function(){var e=null;this.state.sortedChannelEmotes.length>0&&(e=o.createElement(H,{isActive:this.state.selectedNavTab===Z.ChannelEmotes,label:Z.ChannelEmotes,icon:d.b.NavChannels,onClick:this.onTabNavClick}));var t=null;return this.props.isLoggedIn&&(t=o.createElement(H,{isActive:this.state.selectedNavTab===Z.AllEmotes,label:Z.AllEmotes,icon:d.b.EmoticonsAll,onClick:this.onTabNavClick})),e||t?o.createElement(R.a,{background:U.a.Alt,display:M.d.Flex,className:"emote-picker__tab-nav-container"},o.createElement(H,{isActive:this.state.selectedNavTab===Z.FrequentlyUsedEmotes,label:Z.FrequentlyUsedEmotes,icon:d.b.GlyphLength,onClick:this.onTabNavClick}),e,t):null},t}(o.PureComponent),ne=n("DB+C"),ie=function(e){function t(t){var n=e.call(this,t)||this;n.handleSubEvent=function(e){e.action===I.a.ClickCheckout&&n.checkAndDisplaySubscriptionCheckout();var t=n.props.channelData,i=null;if(t){var r=t.user;r&&r.self&&r.self.cumulativeTenure&&(i=r.self.cumulativeTenure.months)}Object(I.b)(a.__assign({},e,{action:I.a.ClickCheckout,channelID:t&&t.user&&t.user.id||"",channelLogin:t&&t.user&&t.user.displayName||"",cumulativeTenureMonths:i,isMenuOpen:null,hasSubCredit:null,sub_location:"emote_picker",modal:!1,showPrimeContent:!0,giftRecipient:null}))};var i={allEmoteSets:[],channelCampaignEmotes:[],channelSubEmotes:[],channelSubscriptionProducts:[],frequentlyUsedEmotes:t.isLoggedIn?[]:Object(S.b)(),globalEmotes:[],gqlError:t.emoteSetsData&&!!t.emoteSetsData.error||t.channelData&&!!t.channelData.error||!1,gqlLoading:t.emoteSetsData&&!!t.emoteSetsData.loading||t.channelData&&!!t.channelData.loading||!1,otherChannelEmoteSets:[],ownedSetIDs:new Set([]),unlockedEmotes:[]};return i=n.applyDataPropsToState(t,i),n.state=a.__assign({},i),n}return a.__extends(t,e),t.prototype.componentDidMount=function(){Object(S.c)(),this.checkDataLoaded(this.props)&&(this.props.onLoad&&this.props.onLoad(this.checkForContent(this.props)),this.props.latencyTracking.reportInteractive())},t.prototype.componentWillReceiveProps=function(e){if(e.emoteSetsData&&e.emoteSetsData.error||e.channelData&&e.channelData.error)this.setState({gqlError:!0});else{var t=this.applyDataPropsToState(e,this.state);this.props.pubsub.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&(this.props.channelData&&this.props.channelData.refetch(),this.props.emoteSetsData&&this.props.emoteSetsData.refetch()),this.checkDataLoaded(e)&&(e.latencyTracking.reportInteractive(),e.onLoad&&e.onLoad(this.checkForContent(e)),t.gqlLoading=!1),this.setState(a.__assign({},t,{gqlError:!1}))}if(e.visible&&!this.props.visible){if(this.props.openEmotePicker(),e.emoteSetsData&&e.emoteSetsData.emoteMap){var n=Object(S.d)(e.emoteSetsData.emoteMap);this.setState({frequentlyUsedEmotes:n})}}else this.props.visible&&!e.visible&&this.props.closeEmotePicker()},t.prototype.componentWillUnmount=function(){this.props.closeEmotePicker()},t.prototype.render=function(){var e=this.props.channelData;if(!this.props.visible)return null;var t=e&&e.user&&e.user.campaignProperties&&e.user.campaignProperties.domains&&e.user.campaignProperties.domains.length>0||!1,n=e&&e.user?e.user.displayName:null,i=e&&e.user?e.user.profileImageURL:null;return o.createElement(te,{allEmoteSets:this.state.allEmoteSets,channelCampaignEmotes:this.state.channelCampaignEmotes,channelDisplayName:n,channelID:this.props.channelOwnerID,channelProfileImageURL:i,channelSubEmotes:this.state.channelSubEmotes,channelSubscriptionProducts:this.state.channelSubscriptionProducts,direction:this.props.direction,emotePickerSessionID:this.props.emotePickerSessionID,emotePickerSource:this.props.emotePickerSource,frequentlyUsedEmotes:this.state.frequentlyUsedEmotes,globalEmotes:this.state.globalEmotes,gqlError:this.state.gqlError,handleSubAction:this.handleSubEvent,isEsportChannel:t,isLoggedIn:this.props.isLoggedIn,loading:this.state.gqlLoading,onClickEmote:this.props.onClickEmote,ownedSetIDs:this.state.ownedSetIDs,otherChannelEmoteSets:this.state.otherChannelEmoteSets,roomID:this.props.roomID,size:this.props.size,toggleVisibility:this.props.toggleVisibility,unlockedEmotes:this.state.unlockedEmotes})},t.prototype.checkDataLoaded=function(e){var t=!e.channelOwnerID||e.channelData&&!e.channelData.loading,n=!e.isLoggedIn||e.emoteSetsData&&!e.emoteSetsData.loading;return t&&n},t.prototype.checkForContent=function(e){var t=e.emoteSetsData,n=e.channelData;return!!(t&&t.emoteSets&&t.emoteSets.length>0)||!!(n&&n.user&&n.user.subscriptionProducts)&&e.channelData.user.subscriptionProducts.filter(function(e){return null!==e}).filter(this.subscriptionProductHasEmotes).length>0},t.prototype.applyDataPropsToState=function(e,t){var n,i=a.__assign({},t);if(e.emoteSetsData&&e.emoteSetsData.emoteSets&&e.emoteSetsData.emoteSets.length>0){i.ownedSetIDs=new Set;for(var r=0,o=e.emoteSetsData.emoteSets;r<o.length;r++){var s=o[r];s&&s.id&&i.ownedSetIDs.add(parseInt(s.id,10))}var l=new Set;if(e.channelData&&e.channelData.user&&e.channelData.user.subscriptionProducts)for(var c=0,d=e.channelData.user.subscriptionProducts;c<d.length;c++){var u=d[c];u&&void 0!==u.emoteSetID&&null!==u.emoteSetID&&l.add(u.emoteSetID)}i.allEmoteSets=Object(y.a)(e.emoteSetsData.emoteSets);var m=[],p=[],h=[],f=[];i.allEmoteSets.forEach(function(t){t.owner||"0"!==t.id?t.owner&&""!==t.owner.id?e.channelData&&e.channelData.user&&e.channelData.user.id===t.owner.id?e.channelData.user.id!==t.owner.id||l.has(t.id)||p.push.apply(p,t.emotes):m.push(t):f.push.apply(f,t.emotes):h.push.apply(h,t.emotes)}),i.channelCampaignEmotes=p,i.otherChannelEmoteSets=function(e){var t={};e.forEach(function(e){var n;e.owner&&e.owner.id&&(t[e.owner.id]?(n=t[e.owner.id].emotes).push.apply(n,e.emotes):t[e.owner.id]=a.__assign({},e))});var n=Object.keys(t),i=[];return n.forEach(function(e){i.push(t[e])}),i}(m),i.globalEmotes=h,i.unlockedEmotes=f}if(e.channelData&&e.channelData.user&&e.channelData.user.subscriptionProducts){var g=e.channelData.user.subscriptionProducts.filter(function(e){return null!==e});i.channelSubscriptionProducts=g,i.channelSubEmotes=(n=i.ownedSetIDs,g.reduce(function(e,t){if(null===t.emotes||null===t.emoteSetID)return e;var i=Object(y.b)(t.emotes);return e.concat(i.map(function(e){return a.__assign({},e,{isLocked:!n.has(parseInt(t.emoteSetID,10))})}))},[]))}else i.channelSubscriptionProducts=[];return i},t.prototype.subscriptionProductHasEmotes=function(e){return null!==e.emoteSetID&&!!e.emotes&&e.emotes.length>0},t.prototype.checkAndDisplaySubscriptionCheckout=function(){var e=l.o.get(k.a.SUB_CHECKOUT__PRODUCT_KEY,""),t=l.o.get(k.a.SUB_CHECKOUT__RECIPIENT_KEY,""),n=l.o.get(k.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,""),i=Number(n);e&&(this.props.channelData&&this.props.channelData.user&&this.props.channelData.user.subscriptionProducts&&this.props.channelData.user.subscriptionProducts.map(function(e){return e?e.name:null}).includes(e)?this.props.sessionUser?this.props.showSubscriptionCheckout({recipientLogin:t,productName:e,mysteryGiftCount:i,trackingContext:{source:C.c.EmotePicker}}):this.props.showLoginModal():k.a.clearSubscriptionCheckoutKeys())},t}(o.PureComponent);var re=Object(m.compose)(Object(r.connect)(function(e){return{currentUserID:e.session.user&&e.session.user.id,emotePickerSessionID:e.chat&&e.chat.emotePickerSessionID||null,sessionUser:e.session.user,isLoggedIn:Object(b.f)(e)}},function(e){return Object(m.bindActionCreators)({closeEmotePicker:v.B,openEmotePicker:v.N,showLoginModal:k.a.showLoginModalWithCheckoutDispatch(g.a.EmotePickerSubscriptionButton),showSubscriptionCheckout:E.a},e)}),Object(p.a)(ne,{name:"channelData",skip:function(e){return!e.channelOwnerID},options:function(e){return{variables:{channelOwnerID:e.channelOwnerID}}}}),Object(h.a)([{topic:function(e){return"user-subscribe-events-v1."+e.currentUserID},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!e.currentUserID}}]),Object(_.withLatencyTracking)("EmotePicker"),Object(f.a)())(ie),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasInteracted:!1,isEmotePickerMenuVisible:!1,isEmotePickerButtonVisible:!1},t.onClickOut=function(){t.setState({isEmotePickerMenuVisible:!1})},t.onClickEmote=function(e,n){t.props.onClickEmote&&t.props.onClickEmote(e,n)},t.toggleEmotePicker=function(){t.setState(function(e){return{isEmotePickerMenuVisible:!e.isEmotePickerMenuVisible}})},t.onEmotePickerDataLoaded=function(e){e&&t.setState({isEmotePickerButtonVisible:!0})},t.onInteraction=function(){return t.setState({hasInteracted:!0})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(),this.props.inputRef&&(this.props.inputRef.addEventListener("mouseenter",this.onInteraction),this.props.inputRef.addEventListener("focus",this.onInteraction))},t.prototype.componentWillUnmount=function(){this.props.inputRef&&(this.props.inputRef.removeEventListener("mouseenter",this.onInteraction),this.props.inputRef.removeEventListener("focus",this.onInteraction))},t.prototype.render=function(){var e=null;this.state.isEmotePickerButtonVisible&&(e=o.createElement(u,{onClick:this.toggleEmotePicker,isActive:this.state.isEmotePickerMenuVisible}));var t=null;this.hasInteractedOrPageload&&(t=o.createElement(re,{channelOwnerID:this.props.channelOwnerID,emotePickerSource:this.props.emotePickerSource,onClickEmote:this.onClickEmote,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.toggleEmotePicker,visible:this.state.isEmotePickerMenuVisible,direction:this.props.direction}));var n=o.createElement(w.a,a.__assign({className:"emote-picker-and-button"},this.layoutProps),e,t);return this.props.shouldCloseOnClickOut?o.createElement(s.a,{onClickOut:this.onClickOut},n):n},Object.defineProperty(t.prototype,"hasInteractedOrPageload",{get:function(){return!(!this.props.firstPageLoaded&&!this.state.hasInteracted)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutProps",{get:function(){var e={attachTop:!!this.props.attachTop,attachRight:!!this.props.attachRight,attachBottom:!!this.props.attachBottom,attachLeft:!!this.props.attachLeft,padding:this.props.padding};return this.props.position&&(e.position=this.props.position),e},enumerable:!0,configurable:!0}),t}(o.Component),oe=Object(_.withLatencyTracking)("EmotePicker")(ae);var se=Object(r.connect)(function(e){return{firstPageLoaded:e.session.firstPageLoaded}})(oe),le=n("cpJf");n.d(t,"a",function(){return se}),n.d(t,"c",function(){return re}),n.d(t,!1,function(){return le.a}),n.d(t,!1,function(){return le.c}),n.d(t,!1,function(){return le.b}),n.d(t,"b",function(){return u})},nIRf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){return function(e){var t=this;this.timerId=null,this.start=function(){t.timerId&&t.stop(),t.timerId=setInterval(t.onInterval,t.intervalMillis)},this.stop=function(){t.timerId&&(clearInterval(t.timerId),t.timerId=null)},this.restart=function(e){void 0===e&&(e=0),t.stop(),t.timerId=setTimeout(function(){t.onInterval(),t.start()},e)},this.onInterval=e.onInterval,this.intervalMillis=e.intervalMillis}}()},nInp:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("XIZb"),r=Object(i.a)("MessageBuffer"),a=r.withChatServiceProvider,o=r.withContext,s=a,l=o(function(e){return{messageBufferAPI:e.serviceAPI,setMessageBufferAPI:e.setServiceAPI}})},nR4f:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}}]}}]}}],loc:{start:0,end:192}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID!) {\nemote(id: $emoteID) {\nid\ntoken\nsubscriptionProduct {\n...subProduct\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("HfAM").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},nkgB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBuffer_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDelayMs"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"query MessageBuffer_Channel($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchatSettings {\nchatDelayMs\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},o8Ti:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("/7QA"),r="viewer_card_mod_logs",a="viewer_card_mod_logs_user_whitelist";function o(e){var t=i.b.get(r,!1),n=i.b.get(a,[]);return t||!(!e||!n.includes(e))}},oDQa:function(e,t,n){},oK83:function(e,t,n){"use strict";var i,r,a;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button"}(r||(r={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(a||(a={}))},oe5X:function(e,t,n){"use strict";var i=n("XmgI"),r=n("RcPG"),a=n("0FG4"),o=n("mrSG"),s=n("VJH5");var l=n("i6WW"),c=n("gTu3"),d=n("6j5V"),u=/^(['"*([{<\/]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,t){if(!t)return!1;var n=t.displayName,i=t.login;return e===n||e.toLowerCase()===i}function p(e,t){void 0===t&&(t={});for(var n=g(e),i=function(e){if(!e)return[];var t=e.list.filter(function(t){return t.categories[s.a.Aggressive]&&e.preferences[s.a.Aggressive]||t.categories[s.a.Identity]&&e.preferences[s.a.Identity]||t.categories[s.a.Profanity]&&e.preferences[s.a.Profanity]||t.categories[s.a.Sexual]&&e.preferences[s.a.Sexual]});return 0===t.length?t:(t.sort(function(e,t){return e.startIndex-t.startIndex}),t.reduce(function(e,t,n){if(0===n)return e.push(t),e;var i=e[e.length-1];return t.startIndex<=i.endIndex+1?(i.endIndex=Math.max(t.endIndex,i.endIndex),i.categories=o.__assign({},i.categories,t.categories)):e.push(t),e},[]))}(t.flags),a=0,l=[];a<n.length;){var c=i&&i.shift();c?(l.push.apply(l,h(n.slice(a,c.startIndex),a,t)),l.push({type:r.a.FlaggedSegment,categories:c.categories,content:f(h(n.slice(c.startIndex,c.endIndex+1),c.startIndex,t)),length:c.endIndex-c.startIndex+1,originalText:n.slice(c.startIndex,c.endIndex+1).join("")}),a=c.endIndex+1):(l.push.apply(l,h(n.slice(a),a,t)),a=n.length)}return f(l)}function h(e,t,n){void 0===n&&(n={});var o=n.cheers,s=n.emotes,p=n.links,h=n.mentions,f="",g=0;return e.reduce(function(n,v,E){if(b(v))return f="",n;if(0===f.length&&(g=t+E),f+=v,E!==e.length-1&&!b(e[E+1]))return n;var k=s&&Object(a.c)(f,g,s);if(k)return n.concat(k);var C=o&&Object(i.f)(f,o);if(C)return n.concat(C);var S=p&&Object(l.a)(f,p);if(S)return n.concat(S);var y=h&&function(e,t){var n=e.match(u);if(!n)return null;var i=[],a=n[1],o=Boolean(n[2].length),s=n[3],l=e.slice(n[0].length);if(a.length&&i.push(Object(d.a)(a)),o){var p=c.a.Default;m(s,t.sessionUser)?p=c.a.Recipient:t.sessionUser&&t.sessionUser.login===t.senderLogin&&(p=c.a.Sender),i.push({type:r.a.Mention,content:{recipient:s,currentUserMentionRelation:p}})}else{if(!m(s,t.sessionUser))return null;i.push({type:r.a.CurrentUserHighlight,content:s})}return l.length&&i.push(Object(d.a)(l)),i}(f,h);return y?n.concat([y]):n.concat(Object(d.a)(f))},[])}function f(e){return e.reduce(function(e,t,n){return 0===n?[].concat.call(e,t):[].concat.call(e,Object(d.a)(" "),t)},[]).reduce(function(e,t,n){if(0===n)return e.concat(t);var i=e[e.length-1];return t.type===r.a.Text&&i.type===r.a.Text?(i.content=""+i.content+t.content,e):e.concat(t)},[])}function g(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[]}function b(e){return/\s/.test(e)}n.d(t,"a",function(){return p}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return g})},oi4T:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("/7QA"),o=n("DMoW"),s=n("2xye");!function(e){e.Everyone="everyone",e.ModsOnly="mod",e.StreamChat="twitch_chat",e.SubsOnly="sub"}(i||(i={})),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return u});var l=function(e){var t;switch(e.roomMinimumRole){case o.Ta.EVERYONE:t=i.Everyone;break;case o.Ta.MODERATOR:t=i.ModsOnly;break;case o.Ta.SUBSCRIBER:t=i.SubsOnly;break;default:t=i.StreamChat}var n={channel:e.channelLogin,chatroom_type:t,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(n.chatroom_id=e.roomID),n},c=function(e){var t;switch(e.roomMinimumRole){case o.Ta.EVERYONE:t=i.Everyone;break;case o.Ta.MODERATOR:t=i.ModsOnly;break;case o.Ta.SUBSCRIBER:t=i.SubsOnly;break;default:t=i.StreamChat}var n={channel:e.channelLogin,room_type:t,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(n.room_id=e.roomID),e.room&&(n.room=e.room),n},d=function(e){a.p.track(s.SpadeEventType.ChatRoomJoined,l(e))},u=function(e){a.p.track(s.SpadeEventType.ChatRoomWatched,r.__assign({},l(e),{channel_id:e.channelID}))}},okS7:function(e,t,n){"use strict";n("kPBf");var i,r=n("mrSG"),a=n("17x9"),o=n("q1tI"),s=n("8Ad5"),l=n("TSYQ"),c=n("/7QA"),d=n("u5aL"),u=n("8/mp"),m=n("X2PJ"),p=n("sUnt"),h=n("hnjF"),f=n("ygYM"),g=n("+80q"),b=(n("JzSO"),"autocomplete-balloon-matches"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.resizeAnimationFrame=0,t.messages={noMatches:Object(c.d)("No matches.","AutocompleteBalloon")},t.logger=c.k.withCategory("AutocompleteBalloon"),t.renderMatches=function(){return t.props.matches.map(function(e,n){var i=t.state.selectedMatch,r=i&&i.replacement===e.replacement,a=l("autocomplete-balloon__item",{"autocomplete-balloon__item--selected":r});return o.createElement(p.a,{key:"autocomplete-match-"+n,refDelegate:r?t.focusOnOption:void 0,"data-test-selector":b},o.createElement(h.g,{display:h.d.Block,fullWidth:!0},o.createElement("button",{onMouseEnter:t.handleMatchMouseEnter,className:a,"data-a-target":e.replacement,"data-click-index":n,onClick:t.onMatchClick},o.createElement(p.a,{padding:{x:.5},display:h.d.Flex,alignItems:h.b.Center},e.element))))})},t.handleMatchMouseEnter=function(e){var n=t.getMatchFromEvent(e);n&&t.setState({selectedMatch:n})},t.onMatchClick=function(e){var n=t.getMatchFromEvent(e);n&&t.props.onMatchSelect(n)},t.getMatchFromEvent=function(e){var n=t.props.matches,i=e.currentTarget.getAttribute("data-click-index");return!i||+i>=n.length?(t.logger.error(new Error,"The index received from the UI element was not found in props.matches."),null):n[+i]},t.handleKeydown=function(e){var n=e.charCode||e.keyCode,i=function(){e.preventDefault(),e.stopPropagation()};switch(n){case s.a.Tab:case s.a.Enter:i(),t.props.matches.length&&t.state.selectedMatch?t.props.onMatchSelect(t.state.selectedMatch):t.props.onDismiss();break;case s.a.Up:case s.a.Down:if(!t.state.selectedMatch||!t.props.matches.length)return;var r=t.props.matches.indexOf(t.state.selectedMatch);if(-1===r)return void t.logger.error(new Error,"The selected match was not found in props.matches.");i();var a=n===s.a.Up?-1:1,o=t.getIndexWithinLength(r+a,t.props.matches.length),l=t.props.matches[o];t.setState({selectedMatch:l})}},t.getIndexWithinLength=function(e,t){var n=e%t;return n<0?n+t:n},t.onResize=function(){t.resizeAnimationFrame||(t.resizeAnimationFrame=requestAnimationFrame(t.setContainerHeight))},t.setContainerHeight=function(){var e=t.props.containerElement&&t.props.containerElement.clientHeight||1080;t.setState({containerHeight:e}),t.resizeAnimationFrame=0},t.focusOnOption=function(e){if(e&&t.autocompleteBalloonElement){var n=e.getBoundingClientRect(),i=t.autocompleteBalloonElement.getBoundingClientRect();(n.bottom>i.bottom||n.top<i.top)&&e.scrollIntoView()}},t.setAutocompleteBalloonElement=function(e){t.autocompleteBalloonElement=e},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),this.setContainerHeight(),this.props.matches.length>0&&this.setState({selectedMatch:this.props.matches[0]})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.matches.reduce(function(e,n,i){return t.state.selectedMatch?n.replacement===t.state.selectedMatch.replacement?i:e:0},0);this.setState({selectedMatch:e.matches[n]})},t.prototype.render=function(){var e;return e=0===this.props.matches.length?o.createElement(p.a,{padding:{x:.5},"data-test-selector":"autocomplete-balloon-no-matches"},o.createElement(g.a,{type:g.e.Span,color:m.c.Alt2},this.messages.noMatches)):this.renderMatches(),o.createElement(p.a,{position:h.j.Relative},o.createElement(d.a,{onClickOut:this.props.onDismiss},o.createElement(f.a,{direction:f.b.TopLeft,"data-a-target":"autocomplete-balloon","data-test-selector":"autocomplete-balloon",show:!0},o.createElement(h.g,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-balloon",overflow:h.i.Hidden,display:h.d.Flex,flexDirection:h.e.Column},o.createElement("div",{style:{maxHeight:this.state.containerHeight},ref:this.setAutocompleteBalloonElement},o.createElement(u.b,null,o.createElement(p.a,{padding:{y:1}},e)))))))},t}(o.Component),E=n("uu1w"),k=n("2xye"),C={Chat:"chat",Feed:"feed",Whisper:"whisper"},S=":",y="#",N="@",_=function(e){switch(e){case E.a.Emote:return S;case E.a.Hashtag:return y;case E.a.Mention:return N;default:return void c.k.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}},I=function(e){var t=_(e.autocompleteType);if(t){var n={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:t};c.p.track(k.SpadeEventType.ChatSuggestionComplete,n)}},T=n("Kae6"),O=n("3aAs");!function(e){e.Input="input",e.TextArea="textarea"}(i||(i={}));var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={autocompleteType:E.a.None,matchedCursorPosition:0,matches:null,value:""},t.providers=[],t.onChange=function(e){t.setState({value:e.target.value},function(){t.getMatches()}),t.props.onChange&&t.props.onChange(e)},t.onKeyDown=function(e){var n=function(){t.props.onKeyDown&&t.props.onKeyDown(e)},i=function(){e.preventDefault(),e.stopPropagation()},r=e.charCode||e.keyCode;if(r!==s.a.Enter){switch(r){case s.a.Tab:if(!t.state.matches)t.getMatches(!0)&&i();break;case s.a.Esc:t.state.matches&&(i(),t.resetDisplayState())}n()}else n()},t.setComponentRefDelegate=function(e){t.componentRef=e,t.props.componentRefDelegate&&t.props.componentRefDelegate(e)},t.getMatches=function(e){var n=t.state.value;if(0===t.providers.length||0===n.length)return t.resetDisplayState(),!1;var i=t.getCurrentCursorPosition();if(i>n.length);else for(;i<n.length&&!/\s/.test(n.charAt(i));)i++;var r=n.substring(0,i);if(0===r.length||/\s/.test(r.substring(r.length-1)))return t.resetDisplayState(),!1;for(var a=r.split(/\s/),o=a[a.length-1],s=0,l=t.providers;s<l.length;s++){var c=l[s];if(!e||c.canBeTriggeredByTab){var d=c.getMatches(o,e);if(d)return t.setState({autocompleteType:c.autocompleteType,matchedCursorPosition:i,matches:d}),!0}}return t.resetDisplayState(),!1},t.resetDisplayState=function(e,n){var i=r.__assign({},t.state,{autocompleteType:E.a.None,matches:null},e||{});t.setState(i,n)},t.insertReplacement=function(e){var n=t.state.value,i=t.state.matchedCursorPosition,a=n.substring(0,i),o=a.lastIndexOf(e.current);if(-1===o)a=a.concat(e.replacement+" "),i=a.length;else{var s=a.substring(0,o),l=n.length>o+e.current.length?n.substring(o+e.current.length):"",c=l.startsWith(" ")?e.replacement:e.replacement+" ";a=""+s+c+l,i=s.length+c.length}I(r.__assign({},t.props.trackingParams||{},{autocompleteType:t.state.autocompleteType,completedText:e.replacement,source:t.props.suggestionSource})),t.resetDisplayState({value:a},function(){t.setCursorPosition(i)})},t.getCurrentCursorPosition=function(){return t.componentRef.selectionStart||0},t.setCursorPosition=function(e){t.componentRef&&(t.componentRef.setSelectionRange(e,e),t.componentRef.focus())},t.registerAutocompleteProvider=function(e){return t.providers.push(e),function(){var n=t.providers.indexOf(e);t.providers.splice(n,1)}},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},t.prototype.getChildContext=function(){return{registerAutocompleteProvider:this.registerAutocompleteProvider}},t.prototype.componentWillUpdate=function(e,t){!this.state.matches&&t.matches&&function(e){var t=_(e.autocompleteType);if(t){var n={source:e.source,start_character:t};c.p.track(k.SpadeEventType.ChatSuggestion,n)}}({autocompleteType:t.autocompleteType,source:e.suggestionSource})},t.prototype.componentDidUpdate=function(e,t){t.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value)},t.prototype.render=function(){var e=r.__assign({},this.props,{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return o.createElement(p.a,null,this.state.matches&&o.createElement(v,{matches:this.state.matches,onMatchSelect:this.insertReplacement,onDismiss:this.resetDisplayState,containerElement:this.props.containerElement}),this.props.componentType===i.Input?o.createElement(O.a,r.__assign({},e,{type:e.type||O.b.Text})):o.createElement(T.a,r.__assign({},e)),this.props.children)},t.prototype.getValue=function(){return this.state.value},t.prototype.setValue=function(e){this.resetDisplayState({value:e})},t.childContextTypes={registerAutocompleteProvider:a.func},t}(o.Component),A=n("lZdE"),w=n("OpME"),R=(n("gDzh"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=E.a.Emote,t.canBeTriggeredByTab=!1,t.getMatches=function(e){return e.startsWith(":")?e.length<3?null:t.getMatchedEmotes(e):null},t.getMatchedEmotes=function(e){var n=t.state.hydratedEmotes;if(!n||0===n.length)return null;var i=e.substring(1),r=n.reduce(function(e,n){var r=n.emotes.filter(function(e){return t.doesEmoteMatchTerm(e,i)});return e.concat(r)},[]);return r=Object(w.d)(r),(r=Object(w.e)(r,i)).map(function(e){return{current:":"+i,replacement:e.token,element:t.renderEmoteSuggestion(e)}})},t.doesEmoteMatchTerm=function(e,t){var n=new RegExp("^"+Object(A.a)(t),"i");if(e.token.match(n))return!0;var i=new RegExp(""+Object(A.a)(t.charAt(0)).toUpperCase()),r=new RegExp("^"+Object(A.a)(t.slice(1)),"i"),a=e.token.match(i);return!!(a&&a.index&&e.token.slice(a.index+1).match(r))},t.renderEmoteSuggestion=function(e){return[o.createElement(p.a,{padding:{right:.5},flexShrink:0,key:"emote-img-"+e.id},o.createElement("img",{className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),o.createElement(g.a,{type:g.e.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},t.hydrateEmotes=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var a=r[i];a&&a.id&&a.emotes&&n.push({id:a.id,emotes:Object(w.b)(a.emotes)})}t.setState({hydratedEmotes:n})},t}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.emotes&&this.props.emotes!==e.emotes&&this.hydrateEmotes(e.emotes)},t.prototype.componentWillMount=function(){this.hydrateEmotes(this.props.emotes)},t.prototype.componentDidMount=function(){this.unregister=this.context.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t.contextTypes={registerAutocompleteProvider:a.func},t}(o.Component));n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"b",function(){return D}),n.d(t,"a",function(){return i}),n.d(t,!1,function(){}),n.d(t,"d",function(){return R}),n.d(t,"c",function(){return C})},olXY:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRestrictions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRestrictedReasons"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastRecentChatMessageAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requireVerifiedAccount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"query ChatRestrictions($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nchatRestrictedReasons\nlastRecentChatMessageAt\nfollower {\nfollowedAt\n}\n}\nchatSettings {\nrequireVerifiedAccount\n}\n}\ncurrentUser {\nid\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},opIq:function(e,t,n){"use strict";var i,r=n("/MKj"),a=n("aCAx"),o=n("YV3K"),s=n("kRBY"),l=n("mrSG"),c=n("q1tI"),d=n("fvjX"),u=n("/7QA"),m=n("cZKs"),p=n("yR8l"),h=n("geRD");!function(e){e[e.ExitEarly=0]="ExitEarly",e[e.Unknown=1]="Unknown",e[e.Adblock=2]="Adblock",e[e.LimitReached=3]="LimitReached"}(i||(i={}));var f=n("mZsS"),g=n("RiD7"),b=n("X2PJ"),v=n("Ws8v"),E=n("VR5Q"),k=(n("yGGv"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.hasAwarded=!1,t.messageHandler=function(e){return l.__awaiter(t,void 0,void 0,function(){var t,n,r,a,o;return l.__generator(this,function(s){switch(s.label){case 0:if(e.origin!==window.location.origin)return[2];if(!(t=e.data)||"trueXAd"!==t.msgSrc)return[2];switch(t.type){case f.a.Ready:return[3,1];case f.a.RequestAd:return[3,2];case f.a.Dimensions:return[3,3];case f.a.OnStart:return[3,4];case f.a.OnCredit:return[3,5];case f.a.OnClose:case f.a.OnFinish:case f.a.LimitReached:case f.a.Adblock:case f.a.OnError:return[3,9]}return[3,10];case 1:return n={msgSrc:"wateb-ad-modal",tuid:this.props.tuid},e.source&&e.source.postMessage(n,"*"),[2];case 2:try{if(!(r=JSON.parse(t.activityJSON)))return[2];Object(g.i)({campaignID:r.campaign_id.toString(),requestID:t.requestID,requestMethod:this.props.requestRef})}catch(e){}return[2];case 3:return t.height&&t.width&&this.setState({customDimensions:{height:t.height,width:t.width}}),[3,10];case 4:try{if(!(r=JSON.parse(t.activityJSON)))return[2];Object(g.h)({requestID:t.requestID,adblock:!1,campaignID:r.campaign_id.toString()})}catch(e){}return[2];case 5:return s.trys.push([5,7,,8]),[4,this.props.redeemTrueXAd(Object(h.a)({args:t.engagement.signature_argument_string,signature:t.engagement.signature,trueXAd:{creativeID:t.engagement.ad.creative_id,campaignID:t.engagement.ad.campaign_id,name:t.engagement.ad.name,currencyAmount:t.engagement.ad.currency_amount},targetID:this.props.channelID}))];case 6:return a=s.sent(),this.hasAwarded=!0,this.props.onBitsAwarded&&this.props.onBitsAwarded(a.data.redeemTrueXAd.grantedBits),[3,8];case 7:return o=s.sent(),u.k.warn("Error while redeeming bits for truex ad",o),this.props.onError&&this.props.onError(i.Unknown),[3,8];case 8:return[3,10];case 9:return this.props.onError&&(t.type===f.a.LimitReached?this.props.onError(i.LimitReached):t.type===f.a.Adblock?this.props.onError(i.Adblock):t.type===f.a.OnError?this.props.onError(i.Unknown):this.hasAwarded||this.props.onError(i.ExitEarly)),this.props.closeModal(),[3,10];case 10:return[2]}})})},t}return l.__extends(t,e),t.prototype.componentWillMount=function(){window.addEventListener("message",this.messageHandler)},t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.messageHandler)},t.prototype.render=function(){return c.createElement(v.a,{background:b.a.Base},c.createElement("div",{className:"t-watch-ads-modal",style:this.state.customDimensions},c.createElement(m.a,null),c.createElement("iframe",{src:"/products/bits/ad"})))},t=l.__decorate([Object(p.a)(E,{name:"redeemTrueXAd"})],t)}(c.Component));var C,S=Object(r.connect)(null,function(e){return Object(d.bindActionCreators)({closeModal:a.c},e)})(k),y=n("TSYQ"),N=n("oJmH"),_=n("8/mp"),I=n("edgk"),T=n("DMoW"),O=n("jv9u"),D=n("bYOw"),A=n("+80q"),w=n("sUnt"),R=function(e){var t=c.createElement(A.a,{type:A.e.P,color:b.c.Alt},Object(u.d)("Prices are shown in <x:bold>{currencyCode}</x:bold>",{"x:bold":function(e){return c.createElement(A.a,{type:A.e.Span,bold:!0},e)},currencyCode:e.currencyCode},"Bits--BuyCard"));e.pricesIncludeVAT&&(t=c.createElement(A.a,{"data-test-selector":"prices-include-vat-selector",type:A.e.P,color:b.c.Alt},Object(u.d)("Prices are shown in <x:bold>{currencyCode}</x:bold> and <x:bold>include VAT</x:bold>",{"x:bold":function(e){return c.createElement(A.a,{type:A.e.Span,bold:!0},e)},currencyCode:e.currencyCode},"Bits--BuyCard")));var n=null;e.minBitsToCheer&&e.minBitsToCheer>1&&(n=c.createElement(A.a,{"data-test-selector":"min-bits-to-cheer-selector",color:b.c.Alt},Object(u.d)("{displayName} requires {minBits} Bits to Cheer in this channel.",{displayName:e.displayName,minBits:e.minBitsToCheer},"Bits--BuyCard")));var i=null;return void 0!==e.bitsBalance&&null!==e.bitsBalance&&(i=c.createElement(A.a,{"data-test-selector":"bits-balance-header-selector",color:b.c.Alt},Object(u.d)("You have {totalBits} Bits",{totalBits:c.createElement("strong",{"data-a-target":"buy-card-bits-count"},e.bitsBalance)},"Bits--BuyCard"))),c.createElement(v.a,{className:"bits-buy-card-header",padding:1,borderBottom:!0,flexShrink:0,fullWidth:!0},c.createElement(w.a,null,e.location===g.d.ChatTooltip&&c.createElement(A.a,{type:A.e.H4,color:b.c.Alt},Object(u.d)("Purchase Bits","Bits--BuyCard")),t),e.location===g.d.ChatTooltip&&c.createElement(w.a,{margin:{top:1}},i,n))},M=n("lB7/"),L=n("3CMh"),U=n("T3bn"),B=n("ebRM"),F=n("hnjF"),P=n("dEDE"),x="min-bits-to-cheer-selector",j="prices-include-vat-selector",H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBuyClick=function(e){var n=t.props.displayName||"",i=Object(B.b)({trackBitsCardInteraction:t.props.trackBitsCardInteraction,channelID:n,purchaseUrl:e.currentTarget.dataset.purchaseUrl,bitsAmount:e.currentTarget.dataset.bitsAmount,closeAllBits:t.props.closeAllBits,location:t.props.location});i&&(t.props.onBuyPopupClose(i),t.props.onClose())},t}return l.__extends(t,e),t.prototype.render=function(){var e=this.renderCurrencyDisclaimer(this.props.pricesIncludeVAT,this.props.currencyCode),t=this.renderMinBitsToCheerInChannel(this.props.displayName,this.props.minBitsToCheer),n=c.createElement(U.a,{bitsConfig:this.props.bitsConfig,bitsBalance:this.props.bitsBalance}),i=null,r=null,a=null;return void 0!==this.props.specialOffer&&null!==this.props.specialOffer&&(i=c.createElement(A.a,{type:A.e.H4,color:b.c.Base,bold:!0},Object(u.d)("{percent} off for first-time Bits buyers!",{percent:Object(u.f)(this.props.specialOffer.discount,"percent")},"Bits--NewUserCheerHeader")),r=c.createElement(w.a,{display:F.d.Flex},c.createElement(M.a,{amount:this.props.specialOffer.bits,bitsConfig:this.props.bitsConfig,size:L.b.Small})),a=c.createElement(P.a,{onClick:this.handleBuyClick,"data-purchase-url":this.props.specialOffer.url,"data-bits-amount":this.props.specialOffer.bits,"data-a-target":"bits-purchase-button-"+this.props.specialOffer.bits},Object(u.d)("Buy {amount} Bits for {price}",{amount:this.props.specialOffer.bits,price:this.props.specialOffer.price},"Bits--NewUserCheerHeader"))),c.createElement(v.a,{className:"bits-buy-card-header",padding:1,borderBottom:!0,flexShrink:0,fullWidth:!0,textAlign:F.k.Center},c.createElement(w.a,{margin:{bottom:1}},n),c.createElement(w.a,{margin:{x:1}},i,t),c.createElement(w.a,{justifyContent:F.h.Center,display:F.d.Flex,margin:{y:1},fullWidth:!0},r),a,c.createElement(w.a,{margin:{top:1}},e))},t.prototype.renderCurrencyDisclaimer=function(e,t){return e?c.createElement(A.a,{"data-test-selector":j,type:A.e.P,color:b.c.Alt},Object(u.d)("Prices are shown in <x:bold>{currencyCode}</x:bold> and <x:bold>include VAT</x:bold>",{"x:bold":function(e){return c.createElement(A.a,{type:A.e.Span,bold:!0},e)},currencyCode:t},"Bits--NewUserCheerHeader")):c.createElement(A.a,{type:A.e.P,color:b.c.Alt},Object(u.d)("Prices are shown in <x:bold>{currencyCode}</x:bold>",{"x:bold":function(e){return c.createElement(A.a,{type:A.e.Span,bold:!0},e)},currencyCode:t},"Bits--NewUserCheerHeader"))},t.prototype.renderMinBitsToCheerInChannel=function(e,t){return t&&t>1?c.createElement(A.a,{"data-test-selector":x,color:b.c.Alt,italic:!0},Object(u.d)("{displayName} requires {minBits} Bits to Cheer in this channel.",{displayName:e,minBits:t},"BBits--NewUserCheerHeader")):null},t}(c.Component),V=n("3qL/"),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWatchAnother=function(){t.props.trackBitsCardInteraction(g.c.WatchAnotherAd),t.props.onWatchAnother&&t.props.onWatchAnother()},t}return l.__extends(t,e),t.prototype.render=function(){return c.createElement(w.a,{display:F.d.Flex,flexGrow:1,flexDirection:F.e.Column,alignItems:F.b.Center,fullWidth:!0,flexWrap:F.f.NoWrap,padding:{y:1}},c.createElement(L.a,{prefix:"cheer",amount:this.props.amount,bitsConfig:this.props.bitsConfig,showAmount:!0,showImage:!0}),c.createElement(w.a,{display:F.d.Flex,padding:{top:1},flexGrow:1,flexDirection:F.e.Column,alignItems:F.b.Center,flexWrap:F.f.NoWrap},c.createElement(A.a,{type:A.e.H4,bold:!0},Object(u.d)("You got {bitsAmount,number} Bits!",{bitsAmount:this.props.amount},"Bits--WatchAdAward")),c.createElement(F.g,{padding:{top:1}},c.createElement(A.a,{color:b.c.Alt2},Object(u.d)("{bitsAmount,number} Bits were added to your Bit inventory.",{bitsAmount:this.props.amount},"Bits--WatchAdAward"),c.createElement("br",null),Object(u.d)("You can use these Bits to Cheer!","Bits--WatchAdAward")))),c.createElement(w.a,{display:F.d.Flex,padding:{x:1,top:3},alignSelf:F.c.Stretch,justifyContent:F.h.Between},c.createElement(P.a,{onClick:this.props.onStartCheering},Object(u.d)("Start Cheering","Bits--WatchAdAward")),c.createElement(P.a,{type:P.d.Hollow,"data-a-target":"bits-watch-another-ad",onClick:this.onWatchAnother,disabled:!this.props.hasAdAvailable},Object(u.d)("Watch Another","Bits--WatchAdAward"))))},t}(c.Component),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasAdAvailable:!0},t}return l.__extends(t,e),t.prototype.componentWillMount=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return[4,Object(V.b)(this.props.truexUserID)];case 1:return e.sent()!==V.a.Available&&this.setState({hasAdAvailable:!1}),[2]}})})},t.prototype.render=function(){return c.createElement(G,l.__assign({},this.props,{hasAdAvailable:this.state.hasAdAvailable}))},t}(c.Component),q=n("5zXJ"),z=(n("7APm"),function(e){var t=Object(u.d)("Something's wrong!","Bits--WatchAdError"),n=Object(u.d)("Something went wrong. Wait a while and try again.","Bits--WatchAdError"),r="adserrorgeneric";switch(e.type){case i.Adblock:r="adserroradblock",n=Object(u.d)("We can't load this Ad, probably because Ad Blocking software is running. To watch an ad and get Bits, please disable all Ad Blocking software.","Bits--WatchAdError");break;case i.LimitReached:r="adserrorlimit",t=Object(u.d)("Ad Limit Reached","Bits--WatchAdError"),n=Object(u.d)("That's all the Ads we have for now. Try again tomorrow!","Bits--WatchAdError");break;case i.ExitEarly:n=Object(u.d)("To get Bits, you must view and interact with the Ad for the minimum amount of time.","Bits--WatchAdError")}var a=c.createElement(w.a,{className:"watch-ad-error__footer",display:F.d.Flex,padding:{top:2},alignSelf:F.c.Stretch,justifyContent:F.h.Center},c.createElement(P.a,{onClick:e.onTryAgain},Object(u.d)("Try Again","Bits--WatchAdError")));return e.type===i.LimitReached&&(a=c.createElement(w.a,{className:"watch-ad-error__footer",display:F.d.Flex,padding:{top:2},alignSelf:F.c.Stretch,justifyContent:F.h.Between},c.createElement(P.a,{onClick:e.onClose},Object(u.d)("Got It","Bits--WatchAdError")),c.createElement(P.a,{onClick:e.onTryAgain,type:P.d.Hollow},Object(u.d)("Buy Bits","Bits--WatchAdError")))),c.createElement(w.a,{padding:{x:1},display:F.d.Flex,flexGrow:1,flexDirection:F.e.Column,alignItems:F.b.Center,fullWidth:!0,flexWrap:F.f.NoWrap},c.createElement(w.a,{padding:{y:2}},c.createElement("img",{className:"watch-ad-error__error-image",src:q.g+"/light/static/1/"+r+".png"})),c.createElement(w.a,{padding:{bottom:1}},c.createElement(A.a,{type:A.e.H4,bold:!0},t)),c.createElement(A.a,{color:b.c.Alt2},n),a)}),Y=n("lhih"),K=n("GnwI"),Q=n("7uM4"),X=n("zmay"),Z=(n("NvZ5"),"storage.wateb.agreedToWatebTerms.v1"),$="bits-show-wateb-terms",J="bits-agree-wateb-terms";!function(e){e[e.Inactive=0]="Inactive",e[e.Error=1]="Error",e[e.Awarded=2]="Awarded"}(C||(C={}));var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={wateb:C.Inactive,watebError:null,bitsAwarded:0,showWatebTerms:!1,agreedToWatebTerms:u.n.get(Z,!1)},t.onBuyPopupClose=function(e){Object(I.a)(e,function(){t.props.data&&t.props.data.refetch()})},t.onAdBitsAwarded=function(e){t.props.data&&!t.props.data.loading&&t.props.data.refetch(),t.setState({wateb:C.Awarded,bitsAwarded:e})},t.renderWatebTerms=function(e){return c.createElement(w.a,{className:e,textAlign:F.k.Left,fullWidth:!0,padding:{x:2,bottom:2,top:5},"data-a-target":$},c.createElement(w.a,{position:F.j.Absolute,padding:{top:.5,left:.5},attachLeft:!0,attachTop:!0},c.createElement("div",{key:"Bits--back-edit",style:{cursor:"pointer"},onClick:t.onCloseWatebTerms},c.createElement(A.a,{color:b.c.Link,type:A.e.Span},c.createElement(Q.a,{asset:Q.b.ChatSettingsBack,height:10,width:10}),Object(u.d)("Back","Bits--Watch-Ad-Terms")))),c.createElement(w.a,{padding:{bottom:2}},c.createElement(A.a,{type:A.e.Span},Object(u.d)("Before continuing to watch ads to earn Bits, we remind you that the <x:link>Bits Acceptable Use Policy</x:link> applies to your participation with this feature and any Bits you may obtain. As a reminder, you may not:",{"x:link":function(e){return c.createElement("a",{href:"https://www.twitch.tv/p/legal/bits-acceptable-use/",target:"_blank",rel:"noopener noreferrer"},e)}},"Bits--Watch-Ad-Terms")),c.createElement(w.a,{margin:{y:1}},c.createElement("li",null,Object(u.d)("Obtain Bits to Cheer on your own channel via this feature","Bits--Watch-Ad-Terms")),c.createElement("li",null,Object(u.d)("Collect Bits via this feature through the use of multiple accounts, robots, or other automated means","Bits--Watch-Ad-Terms")))),c.createElement(w.a,{display:F.d.Flex,justifyContent:F.h.Center},c.createElement(P.a,{size:P.b.Small,onClick:t.onAgreeToWatebTerms,"data-a-target":J},Object(u.d)("Continue","Bits--Watch-Ad-Terms"))))},t.onAgreeToWatebTerms=function(){u.n.set(Z,!0),t.setState({agreedToWatebTerms:!0,showWatebTerms:!1}),t.showWatchAdModal()},t.onCloseWatebTerms=function(){t.setState({showWatebTerms:!1})},t.handleWatchAdClick=function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(e){return this.state.agreedToWatebTerms?(this.showWatchAdModal(),[2]):(this.setState({showWatebTerms:!0}),[2])})})},t.receiveAdErrorState=function(e){t.setState({wateb:C.Error,watebError:e})},t.resetAdErrorState=function(){t.state.wateb===C.Error&&(t.setState({wateb:C.Inactive}),t.props.data&&t.props.data.refetch())},t}return l.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return!e.adModalOpen},t.prototype.render=function(){var e=this.props.location===g.d.ChatTooltip,t=y({"bits-buy-card":!0,"bits-buy-card__chat-tooltip":e});if(!this.props.data||this.props.data.loading)return c.createElement(O.a,null);if(this.props.data.error)return c.createElement(w.a,{className:y(t,"bits-buy-card--shorter"),textAlign:F.k.Center,"data-a-target":"bits-buy-card-error",alignItems:F.b.Center,justifyContent:F.h.Center,display:F.d.Flex,padding:1,fullWidth:!0},c.createElement(A.a,{italic:!0},Object(u.d)("Bits prices are unavailable right now. Check back again later.","Bits--BuyCard")));if(this.state.showWatebTerms)return this.renderWatebTerms(t);var n=this.renderWatebCard();if(n)return c.createElement(w.a,{textAlign:F.k.Center,className:y(t,"bits-buy-card--shorter"),fullWidth:!0},n);var i=[];return this.props.data.currentUser&&this.props.data.currentUser.bitsOffers?i=this.props.data.currentUser.bitsOffers.reduce(function(e,t){return t&&e.push(t),e},[]):this.props.data.bitsOffers&&(i=this.props.data.bitsOffers),this.props.shouldShowNewUserCheerUX?this.renderNewUserCheerBuyCard(t,i):this.renderDefaultBuyCard(t,i)},t.prototype.renderDefaultBuyCard=function(e,t){var n=this.doPricesIncludeVAT(t),i=this.getCurrencyCode(t),r=this.props.data&&this.props.data.currentUser,a=this.props.data&&this.props.data.user,o=c.createElement(R,{bitsBalance:r&&r.bitsBalance||void 0,displayName:a&&a.displayName||this.props.channelLogin||"",minBitsToCheer:a&&a.cheer&&a.cheer.settings&&a.cheer.settings.cheerMinimumBits||void 0,pricesIncludeVAT:n,currencyCode:i,location:this.props.location}),s=this.renderBitsOffers(t,{hidePromos:this.props.hidePromos,hideWateb:this.props.hideWateb,size:this.props.size});return c.createElement(w.a,{className:e,"data-a-target":"bits-buy-card",fullWidth:!0},o,s)},t.prototype.renderNewUserCheerBuyCard=function(e,t){var n=this.getSpecialOffer(t),i=this.doPricesIncludeVAT(t),r=this.getCurrencyCode(t),a=null;this.props.onBack&&(a=c.createElement(w.a,{position:F.j.Absolute,padding:{top:.5,left:.5},attachLeft:!0,attachTop:!0},c.createElement("div",{key:"Bits--back-edit","data-a-target":"bits-buy-card--back",style:{cursor:"pointer"},onClick:this.props.onBack},c.createElement(A.a,{color:b.c.Link,type:A.e.Span},c.createElement(Q.a,{asset:Q.b.ChatSettingsBack,height:10,width:10}),Object(u.d)("Back","Bits--Buy-Card")))));var o=c.createElement(H,{bitsConfig:this.props.bitsConfig,bitsBalance:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.bitsBalance||void 0,displayName:this.props.data&&this.props.data.user&&this.props.data.user.displayName||this.props.channelLogin||"",minBitsToCheer:this.props.data&&this.props.data.user&&this.props.data.user.cheer&&this.props.data.user.cheer.settings.cheerMinimumBits||void 0,pricesIncludeVAT:i,currencyCode:r,closeAllBits:this.props.closeAllBits,location:this.props.location,specialOffer:n,onBuyPopupClose:this.onBuyPopupClose,onClose:this.props.onClose,trackBitsCardInteraction:this.props.trackBitsCardInteraction}),s=this.renderBitsOffers(t,{hidePromos:!0,hideWateb:!1,size:D.b.Smallnoscroll});return c.createElement(_.b,{"data-a-target":"bits-buy-card",className:e},c.createElement(c.Fragment,null,a,o,s))},t.prototype.renderBitsOffers=function(e,t){var n=t.hidePromos,i=t.hideWateb,r=t.size;if(!this.props||!this.props.data)return null;var a=this.props.data.user?this.props.data.user.id:"";return c.createElement(D.a,{offers:e,size:r,hidePromos:n,hideWateb:i,bitsConfig:this.props.bitsConfig,channelID:a||void 0,channelLogin:this.props.channelLogin,closeAllBits:this.props.closeAllBits,currentUserSHA:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.idSHA1||void 0,handleWatchAdClick:this.handleWatchAdClick,location:this.props.location,onBuyPopupClose:this.onBuyPopupClose,onClose:this.props.onClose,trackBitsCardInteraction:this.props.trackBitsCardInteraction})},t.prototype.doPricesIncludeVAT=function(e){return e.filter(function(e){return e.type===T.f.BUNDLE}).some(function(e){return e.includesVAT})},t.prototype.getCurrencyCode=function(e){var t="",n=e.filter(function(e){return e.type===T.f.BUNDLE}).pop();return n&&n.type===T.f.BUNDLE&&(t=n.currencyCode),t},t.prototype.getSpecialOffer=function(e){return e.filter(function(e){return e.type===T.f.BUNDLE}).find(function(e){return e.isPromo&&null!==e.promotion&&e.promotion.id===Y.b})},t.prototype.renderWatebCard=function(){if(this.props.data&&this.props.data.currentUser)switch(this.state.wateb){case C.Awarded:return c.createElement(W,{bitsConfig:this.props.bitsConfig,amount:this.state.bitsAwarded,onStartCheering:this.props.onClose,onWatchAnother:this.handleWatchAdClick,truexUserID:this.props.data.currentUser.idSHA1,trackBitsCardInteraction:this.props.trackBitsCardInteraction});case C.Error:return c.createElement(z,{type:this.state.watebError||i.Unknown,onClose:this.props.onClose,onTryAgain:this.resetAdErrorState});default:return}},t.prototype.showWatchAdModal=function(){this.props.data&&this.props.data.currentUser&&this.props.data.user&&this.props.data.user.id&&this.props.showWatchAdModal({tuid:this.props.data.currentUser.idSHA1,onBitsAwarded:this.onAdBitsAwarded,onError:this.receiveAdErrorState,requestRef:g.e.ShowAdButton,channelID:this.props.data.user.id})},t.defaultProps={hidePromos:!1,hideWateb:!1},t}(c.Component),te=Object(N.compose)(Object(p.a)(X,{name:"data",options:function(e){return{variables:{channelLogin:e.channelLogin,withChannel:!!e.channelLogin,isLoggedIn:e.isLoggedIn}}}}),Object(K.withLatencyTracking)("BitsBuyCard",{autoReportInteractive:!0}))(ee);function ne(e){return{adModalOpen:Object(o.b)(e,S),isLoggedIn:Object(s.f)(e)}}function ie(e){return{showWatchAdModal:function(t){return e(Object(a.d)(S,t))}}}var re=Object(r.connect)(ne,ie)(te);n.d(t,!1,function(){return ne}),n.d(t,!1,function(){return ie}),n.d(t,"a",function(){return re})},p52R:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.Admin="admin",e.GlobalMod="global_mod",e.Moderator="mod",e.Owner="owner",e.Staff="staff",e.Subscriber="subscriber",e.User=""}(i||(i={}))},q5AV:function(e,t,n){},qKeE:function(e,t,n){},qnat:function(e,t,n){"use strict";var i,r,a=n("mrSG"),o=n("q1tI"),s=n("fvjX"),l=n("yR8l"),c=n("eDVu"),d=n("0Log"),u=n("/aPz"),m=n("DMoW"),p=n("TSYQ"),h=n("/7QA"),f=n("8/mp"),g=n("hnjF"),b=n("sUnt");n("CK1f");!function(e){e[e.Gold=0]="Gold",e[e.Silver=1]="Silver",e[e.Bronze=2]="Bronze",e[e.Default=3]="Default"}(i||(i={})),function(e){e[e.Big=0]="Big",e[e.Small=1]="Small"}(r||(r={}));var v,E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.renderMedalSVG(this.props.medal,this.props.size),t=p("bits-leaderboard-medal__profile-image",{"bits-leaderboard-medal__profile-image--big":this.props.size===r.Big},{"bits-leaderboard-medal__profile-image--small":this.props.size===r.Small}),n=null;return this.props.profileImageUrl&&(n=o.createElement(g.g,{position:g.j.Absolute},o.createElement("img",{className:t,src:this.props.profileImageUrl}))),o.createElement(b.a,{className:"bits-leaderboard-medal",display:g.d.Flex,position:g.j.Relative},e,n)},t.prototype.renderMedalSVG=function(e,t){var n=t===r.Big?"bits-leaderboard-medal__big":"bits-leaderboard-medal__small",a=null;switch(e){case i.Gold:a=o.createElement(S,null);break;case i.Silver:a=o.createElement(y,null);break;case i.Bronze:a=o.createElement(k,null);break;default:a=o.createElement(C,null)}return o.createElement(g.g,{className:n},a)},t}(o.Component),k=function(e){return o.createElement("svg",{className:e.className,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"14.834%",y1:"10.25%",x2:"82.068%",y2:"89.469%",id:"bits-leaderboard-bronze-linearGradient-1"},o.createElement("stop",{stopColor:"#DF904C",offset:"0%"}),o.createElement("stop",{stopColor:"#A65611",offset:"100%"})),o.createElement("path",{id:"bits-leaderboard-bronze-path-2",d:"M16 28.9l-2.469 1.895-1.72-2.594-2.95.991-.784-3.012-3.113-.02.237-3.104-2.938-1.03 1.232-2.86L1.05 17.24l2.093-2.304-1.685-2.617 2.728-1.5-.744-3.022 3.066-.533.278-3.1 3.073.492 1.27-2.842 2.747 1.463L16 1l2.123 2.276 2.747-1.463 1.27 2.842 3.073-.492.278 3.1 3.066.533-.744 3.022 2.728 1.5-1.685 2.617 2.093 2.304-2.444 1.928 1.232 2.858-2.938 1.03.237 3.104-3.113.02-.784 3.013-2.95-.991-1.72 2.594z"}),o.createElement("linearGradient",{x1:"19.142%",y1:"10.021%",x2:"79.509%",y2:"86.458%",id:"bits-leaderboard-bronze-linearGradient-3"},o.createElement("stop",{offset:"0%"}),o.createElement("stop",{stopColor:"#494949",offset:"9.355%"}),o.createElement("stop",{stopColor:"#BCBCBC",offset:"13.369%"}),o.createElement("stop",{stopColor:"#FFF",offset:"20.419%"}),o.createElement("stop",{stopColor:"#818181",offset:"25.723%"}),o.createElement("stop",{stopColor:"#5D5D5D",offset:"39.965%"}),o.createElement("stop",{stopColor:"#EFEFEF",offset:"45.279%"}),o.createElement("stop",{stopColor:"#7A7A7A",offset:"50.012%"}),o.createElement("stop",{stopColor:"#717171",offset:"57.677%"}),o.createElement("stop",{stopColor:"#B5B5B5",offset:"63.526%"}),o.createElement("stop",{stopColor:"#888",offset:"69.88%"}),o.createElement("stop",{stopColor:"#F1F1F1",offset:"75.215%"}),o.createElement("stop",{stopColor:"#B9B9B9",offset:"79.325%"}),o.createElement("stop",{stopColor:"#545454",offset:"92.875%"}),o.createElement("stop",{offset:"100%"})),o.createElement("linearGradient",{x1:"19.604%",y1:"10.043%",x2:"84.81%",y2:"89.074%",id:"bits-leaderboard-bronze-linearGradient-4"},o.createElement("stop",{stopColor:"#F2C6A5",offset:"0%"}),o.createElement("stop",{stopColor:"#864223",offset:"100%"})),o.createElement("circle",{id:"bits-leaderboard-bronze-path-5",cx:"16",cy:"16",r:"11"})),o.createElement("g",{id:"bits-leaderboard-bronze-Symbols",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"bits-leaderboard-bronze-Medal-3-bronze-lg"},o.createElement("g",{id:"bits-leaderboard-bronze-Star-Copy-2B"},o.createElement("use",{fill:"#DE9572",xlinkHref:"#bits-leaderboard-bronze-path-2"}),o.createElement("path",{stroke:"url(#bits-leaderboard-bronze-linearGradient-1)",d:"M16 29.53l-2.59 1.988-1.803-2.72-3.095 1.039-.823-3.16-3.264-.021.248-3.256-3.08-1.08 1.29-2.998-2.562-2.023 2.195-2.416-1.768-2.745 2.861-1.573-.78-3.17 3.216-.559.292-3.252L9.56 4.1l1.332-2.98 2.881 1.534L16 .267l2.227 2.387 2.881-1.535L22.44 4.1l3.223-.516.292 3.252 3.216.559-.78 3.17 2.86 1.573-1.767 2.745 2.195 2.416-2.563 2.023 1.292 2.998-3.08 1.08.247 3.256-3.264.021-.823 3.16-3.095-1.04-1.803 2.721L16 29.53z"})),o.createElement("path",{id:"bits-leaderboard-bronze-Star-Copy-3B",fill:"url(#bits-leaderboard-bronze-linearGradient-3)",opacity:".4",d:"M16 28.9l-2.469 1.895-1.72-2.594-2.95.991-.784-3.012-3.113-.02.237-3.104-2.938-1.03 1.232-2.86L1.05 17.24l2.093-2.304-1.685-2.617 2.728-1.5-.744-3.022 3.066-.533.278-3.1 3.073.492 1.27-2.842 2.747 1.463L16 1l2.123 2.276 2.747-1.463 1.27 2.842 3.073-.492.278 3.1 3.066.533-.744 3.022 2.728 1.5-1.685 2.617 2.093 2.304-2.444 1.928 1.232 2.858-2.938 1.03.237 3.104-3.113.02-.784 3.013-2.95-.991-1.72 2.594z"}),o.createElement("g",{id:"bits-leaderboard-bronze-Oval-Copy-B"},o.createElement("use",{fill:"#A96643",xlinkHref:"#bits-leaderboard-bronze-path-5"}),o.createElement("circle",{stroke:"url(#bits-leaderboard-bronze-linearGradient-4)",cx:"16",cy:"16",r:"11.5"})))))},C=function(e){return o.createElement("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.createElement("defs",null,o.createElement("path",{id:"bits-leaderboard-default-path-1",d:"M10 16.88l-1.31676 1.01089-.91717-1.38367-1.57365.52857-.4182-1.6065-1.66001-.01104.12608-1.65525-1.56648-.54944.65672-1.52462-1.3032-1.0283L3.1435 9.43184l-.8987-1.39573 1.45468-.79978-.39681-1.61193 1.63555-.2841.14808-1.65343 1.63918.26234.67692-1.51576 1.46519.78037L10 2l1.13241 1.21383 1.46519-.78037.67692 1.51576 1.63918-.26234.14808 1.65342 1.63555.28411-.3968 1.61193 1.45467.79978-.8987 1.39573 1.11618 1.22878-1.3032 1.02831.6567 1.52462-1.56647.54944.12608 1.65525-1.66.01104-.41821 1.6065-1.57365-.52857-.91717 1.38367z"})),o.createElement("g",{id:"bits-leaderboard-default-Symbols",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"bits-leaderboard-default-bitbadge/blank"},o.createElement("g",{id:"bits-leaderboard-default-Star"},o.createElement("use",{fill:"#D7CCEB",xlinkHref:"#bits-leaderboard-default-path-1"}),o.createElement("path",{stroke:"#D7CCEB",d:"M10 17.51035l-1.4374 1.10351-1.0012-1.51044-1.71783.577-.45652-1.7537-1.8121-.01204.13763-1.8069-1.71-.59979.71688-1.6643-1.4226-1.12253L2.5153 9.3798l-.98104-1.52362 1.58796-.87305-.43317-1.75961 1.7854-.31014.16165-1.80492 1.78937.28638.73894-1.65463 1.59943.85187L10 1.26703l1.23616 1.32505 1.59943-.85187.73894 1.65463 1.78937-.28638.16165 1.80492 1.7854.31014-.43317 1.7596 1.58796.87306-.98104 1.52362 1.21844 1.34136-1.4226 1.12252.71688 1.66431-1.71.59978.13763 1.8069-1.8121.01205-.45652 1.7537-1.71782-.577-1.00121 1.51044L10 17.51036z"})),o.createElement("circle",{id:"bits-leaderboard-default-Oval-2",fill:"#EEE9F6",cx:"10",cy:"10",r:"6"}))))},S=function(e){return o.createElement("svg",{className:e.className,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"15.783%",y1:"9.653%",x2:"82.407%",y2:"91.627%",id:"bits-leaderboard-gold-linearGradient-1"},o.createElement("stop",{stopColor:"#D8B258",offset:"0%"}),o.createElement("stop",{stopColor:"#A4770E",offset:"100%"})),o.createElement("path",{id:"bits-leaderboard-gold-path-2",d:"M16 28.9l-2.469 1.895-1.72-2.594-2.95.991-.784-3.012-3.113-.02.237-3.104-2.938-1.03 1.232-2.86L1.05 17.24l2.093-2.304-1.685-2.617 2.728-1.5-.744-3.022 3.066-.533.278-3.1 3.073.492 1.27-2.842 2.747 1.463L16 1l2.123 2.276 2.747-1.463 1.27 2.842 3.073-.492.278 3.1 3.066.533-.744 3.022 2.728 1.5-1.685 2.617 2.093 2.304-2.444 1.928 1.232 2.858-2.938 1.03.237 3.104-3.113.02-.784 3.013-2.95-.991-1.72 2.594z"}),o.createElement("linearGradient",{x1:"17.025%",y1:"7.356%",x2:"84.092%",y2:"91.769%",id:"bits-leaderboard-gold-linearGradient-3"},o.createElement("stop",{stopColor:"#E5B561",offset:"0%"}),o.createElement("stop",{stopColor:"#EEC05F",offset:"12.638%"}),o.createElement("stop",{stopColor:"#FFECB9",offset:"20.419%"}),o.createElement("stop",{stopColor:"#DCB35E",offset:"30.58%"}),o.createElement("stop",{stopColor:"#E0B55B",offset:"45.279%"}),o.createElement("stop",{stopColor:"#CDA148",offset:"62.771%"}),o.createElement("stop",{stopColor:"#E9CC8F",offset:"76.584%"}),o.createElement("stop",{stopColor:"#ECBE5D",offset:"83.038%"}),o.createElement("stop",{stopColor:"#C09A4C",offset:"100%"})),o.createElement("linearGradient",{x1:"83.2%",y1:"89.733%",x2:"12.813%",y2:"3.179%",id:"bits-leaderboard-gold-linearGradient-4"},o.createElement("stop",{stopColor:"#9A790A",offset:"0%"}),o.createElement("stop",{stopColor:"#FFEFB9",offset:"87.642%"}),o.createElement("stop",{stopColor:"#FFF",offset:"100%"})),o.createElement("circle",{id:"bits-leaderboard-gold-path-5",cx:"16",cy:"16",r:"11"})),o.createElement("g",{id:"bits-leaderboard-gold-Symbols",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"bits-leaderboard-gold-Medal-1-gold-lg"},o.createElement("g",{id:"bits-leaderboard-gold-Star"},o.createElement("use",{fill:"#D6A94C",xlinkHref:"#bits-leaderboard-gold-path-2"}),o.createElement("path",{stroke:"url(#bits-leaderboard-gold-linearGradient-1)",d:"M16 29.53l-2.59 1.988-1.803-2.72-3.095 1.039-.823-3.16-3.264-.021.248-3.256-3.08-1.08 1.29-2.998-2.562-2.023 2.195-2.416-1.768-2.745 2.861-1.573-.78-3.17 3.216-.559.292-3.252L9.56 4.1l1.332-2.98 2.881 1.534L16 .267l2.227 2.387 2.881-1.535L22.44 4.1l3.223-.516.292 3.252 3.216.559-.78 3.17 2.86 1.573-1.767 2.745 2.195 2.416-2.563 2.023 1.292 2.998-3.08 1.08.247 3.256-3.264.021-.823 3.16-3.095-1.04-1.803 2.721L16 29.53z"})),o.createElement("path",{id:"bits-leaderboard-gold-Star",fill:"url(#bits-leaderboard-gold-linearGradient-3)",d:"M16 28.58l-2.469 2.215-1.615-2.897-3.055 1.294-.587-3.265-3.31.232.505-3.279-3.206-.855 1.543-2.937-2.755-1.85 2.413-2.277-2.005-2.643 3.021-1.371-1.037-3.151 3.302-.316.042-3.317 3.226.774 1.117-3.124 2.8 1.78L16 1l2.07 2.592 2.8-1.78 1.117 3.125 3.226-.774.042 3.317 3.302.316-1.037 3.151 3.021 1.37-2.005 2.644 2.413 2.278-2.755 1.849 1.543 2.937-3.206.855.505 3.28-3.31-.233-.587 3.265-3.055-1.294-1.615 2.897z"}),o.createElement("g",{id:"bits-leaderboard-gold-Oval"},o.createElement("use",{fill:"#BE912A",xlinkHref:"#bits-leaderboard-gold-path-5"}),o.createElement("circle",{stroke:"url(#bits-leaderboard-gold-linearGradient-4)",cx:"16",cy:"16",r:"11.5"})))))},y=function(e){return o.createElement("svg",{className:e.className,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"18.738%",y1:"20.297%",x2:"79.716%",y2:"88.714%",id:"bits-leaderboard-silver-linearGradient-1"},o.createElement("stop",{stopColor:"#D0D8DB",offset:"0%"}),o.createElement("stop",{stopColor:"#7E848A",offset:"100%"})),o.createElement("path",{id:"bits-leaderboard-silver-path-2",d:"M16 28.9l-2.469 1.895-1.72-2.594-2.95.991-.784-3.012-3.113-.02.237-3.104-2.938-1.03 1.232-2.86L1.05 17.24l2.093-2.304-1.685-2.617 2.728-1.5-.744-3.022 3.066-.533.278-3.1 3.073.492 1.27-2.842 2.747 1.463L16 1l2.123 2.276 2.747-1.463 1.27 2.842 3.073-.492.278 3.1 3.066.533-.744 3.022 2.728 1.5-1.685 2.617 2.093 2.304-2.444 1.928 1.232 2.858-2.938 1.03.237 3.104-3.113.02-.784 3.013-2.95-.991-1.72 2.594z"}),o.createElement("linearGradient",{x1:"19.638%",y1:"10.855%",x2:"81.99%",y2:"89.124%",id:"bits-leaderboard-silver-linearGradient-3"},o.createElement("stop",{stopColor:"#202020",offset:"0%"}),o.createElement("stop",{stopColor:"#BCBCBC",offset:"13.369%"}),o.createElement("stop",{stopColor:"#FFF",offset:"20.779%"}),o.createElement("stop",{stopColor:"#313131",offset:"30.58%"}),o.createElement("stop",{stopColor:"#EFEFEF",offset:"45.279%"}),o.createElement("stop",{stopColor:"#B5B5B5",offset:"61.521%"}),o.createElement("stop",{stopColor:"#FFF",offset:"74.572%"}),o.createElement("stop",{stopColor:"#656565",offset:"87.343%"}),o.createElement("stop",{stopColor:"#C4C4C4",offset:"100%"})),o.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"99.438%",y2:"96.312%",id:"bits-leaderboard-silver-linearGradient-4"},o.createElement("stop",{stopColor:"#FFF",offset:"3.677%"}),o.createElement("stop",{offset:"100%"})),o.createElement("linearGradient",{x1:"8.437%",y1:"13.448%",x2:"86.525%",y2:"83.33%",id:"bits-leaderboard-silver-linearGradient-5"},o.createElement("stop",{stopColor:"#FFF",offset:"0%"}),o.createElement("stop",{stopColor:"#EAEEF2",offset:"9.632%"}),o.createElement("stop",{stopColor:"#686C71",offset:"100%"})),o.createElement("circle",{id:"bits-leaderboard-silver-path-6",cx:"16",cy:"16",r:"11"})),o.createElement("g",{id:"bits-leaderboard-silver-Symbols",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"bits-leaderboard-silver-Medal-2-silver-lg"},o.createElement("g",{id:"bits-leaderboard-silver-Star-Copy-2"},o.createElement("use",{fill:"#CBC8D0",xlinkHref:"#bits-leaderboard-silver-path-2"}),o.createElement("path",{stroke:"url(#bits-leaderboard-silver-linearGradient-1)",d:"M16 29.53l-2.59 1.988-1.803-2.72-3.095 1.039-.823-3.16-3.264-.021.248-3.256-3.08-1.08 1.29-2.998-2.562-2.023 2.195-2.416-1.768-2.745 2.861-1.573-.78-3.17 3.216-.559.292-3.252L9.56 4.1l1.332-2.98 2.881 1.534L16 .267l2.227 2.387 2.881-1.535L22.44 4.1l3.223-.516.292 3.252 3.216.559-.78 3.17 2.86 1.573-1.767 2.745 2.195 2.416-2.563 2.023 1.292 2.998-3.08 1.08.247 3.256-3.264.021-.823 3.16-3.095-1.04-1.803 2.721L16 29.53z"})),o.createElement("path",{id:"bits-leaderboard-silver-Star-Copy-3",fill:"url(#bits-leaderboard-silver-linearGradient-3)",opacity:".6",d:"M16 28.9l-2.469 1.895-1.72-2.594-2.95.991-.784-3.012-3.113-.02.237-3.104-2.938-1.03 1.232-2.86L1.05 17.24l2.093-2.304-1.685-2.617 2.728-1.5-.744-3.022 3.066-.533.278-3.1 3.073.492 1.27-2.842 2.747 1.463L16 1l2.123 2.276 2.747-1.463 1.27 2.842 3.073-.492.278 3.1 3.066.533-.744 3.022 2.728 1.5-1.685 2.617 2.093 2.304-2.444 1.928 1.232 2.858-2.938 1.03.237 3.104-3.113.02-.784 3.013-2.95-.991-1.72 2.594z"}),o.createElement("path",{id:"bits-leaderboard-silver-Star-Copy-4-grad",fill:"url(#bits-leaderboard-silver-linearGradient-4)",opacity:".6",d:"M16 28.9l-2.469 1.895-1.72-2.594-2.95.991-.784-3.012-3.113-.02.237-3.104-2.938-1.03 1.232-2.86L1.05 17.24l2.093-2.304-1.685-2.617 2.728-1.5-.744-3.022 3.066-.533.278-3.1 3.073.492 1.27-2.842 2.747 1.463L16 1l2.123 2.276 2.747-1.463 1.27 2.842 3.073-.492.278 3.1 3.066.533-.744 3.022 2.728 1.5-1.685 2.617 2.093 2.304-2.444 1.928 1.232 2.858-2.938 1.03.237 3.104-3.113.02-.784 3.013-2.95-.991-1.72 2.594z"}),o.createElement("g",{id:"bits-leaderboard-silver-Oval-Copy"},o.createElement("use",{fill:"#A3A7AA",xlinkHref:"#bits-leaderboard-silver-path-6"}),o.createElement("circle",{stroke:"url(#bits-leaderboard-silver-linearGradient-5)",cx:"16",cy:"16",r:"11.5"})))))},N=n("3CMh"),_=n("6MRn"),I=n("4h+t"),T=n("8SX2"),O=n("oK83"),D=n("PL8s"),A=n("wp5a"),w=n("X2PJ"),R=n("+80q"),M=(n("ky+Y"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(b.a,{className:"bits-leaderboard-expanded-leaderboard-entry",display:g.d.Block,alignItems:g.b.Center},o.createElement(b.a,{overflow:g.i.Hidden,display:g.d.InlineFlex,flexGrow:1,fullWidth:!0,alignItems:g.b.Center},o.createElement(b.a,{className:"bits-leaderboard-expanded-leaderboard-entry__rank"},o.createElement(D.a,{width:8,height:2})),o.createElement(b.a,{className:"bits-leaderboard-expanded-leaderboard-entry__avatar"},o.createElement(D.a,{height:15})),o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-expanded-leaderboard-entry__username",margin:{x:1}},o.createElement(D.a,{width:100,height:2})),o.createElement(b.a,{className:"bits-leaderboard-expanded-leaderboard-entry__score",margin:{left:"auto"}},o.createElement(D.a,{width:75,height:2}))));var e=this.props.bitsConfig?this.props.bitsConfig:Object(I.a)(),t=null,n="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){n=this.props.data.user.displayName||this.props.data.user.login;var i=o.createElement(R.a,{ellipsis:!0},n);this.props.selfId&&this.props.selfId===this.props.id&&(i=o.createElement(R.a,{ellipsis:!0,color:w.c.Link,bold:!0},n)),t=o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-expanded-leaderboard-entry__username",margin:{x:1},display:g.d.InlineBlock},o.createElement(T.a,{contentID:"",login:this.props.data.user.login,sourceType:O.b.bits_leaderboard},i))}var r,a=null;a=this.props.selfId&&this.props.selfId===this.props.value?o.createElement(A.a,{label:this.props.rank.toString(),type:A.b.Brand}):o.createElement(R.a,{color:w.c.Link,bold:!0},this.props.rank);var s=this.props.data&&this.props.data.user&&this.props.data.user.profileImageURL||h.a.defaultAvatarURL;return r=o.createElement(b.a,{overflow:g.i.Hidden,display:g.d.InlineFlex,flexGrow:1,fullWidth:!0,alignItems:g.b.Center},o.createElement(b.a,{className:"bits-leaderboard-expanded-leaderboard-entry__rank",padding:{right:.5}},a),o.createElement("img",{src:s,className:"bits-leaderboard-expanded-leaderboard-entry__avatar"}),t,o.createElement(b.a,{flexShrink:0,className:"bits-leaderboard-expanded-leaderboard-entry__score",margin:{left:"auto"},display:g.d.InlineBlock},o.createElement(N.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:e,size:N.b.ExtremelySmall,display:g.d.InlineFlex,amount:this.props.score,formattedNumber:!0,alignItems:g.b.Center}))),o.createElement(b.a,{className:"bits-leaderboard-expanded-leaderboard-entry",display:g.d.Block,alignItems:g.b.Center},r)},t}(o.Component)),L=Object(s.compose)(Object(l.a)(_,{name:"data",skip:function(e){return!e.id},options:function(e){return{variables:{userID:e.value,profileImageWidth:50}}}}))(M),U=(n("U80U"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(b.a,{display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1});var e=this.props.bitsConfig?this.props.bitsConfig:Object(I.a)(),t=null,n="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){n=this.props.data.user.displayName||this.props.data.user.login;var i=o.createElement(R.a,{ellipsis:!0,bold:!0},n);this.props.selfId&&this.props.selfId===this.props.value&&(i=o.createElement(R.a,{ellipsis:!0,color:w.c.Link,bold:!0},n)),t=o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-expanded-top-three-entry__username",margin:{x:.5},display:g.d.InlineBlock},o.createElement(T.a,{contentID:"",login:this.props.data.user.login,sourceType:O.b.bits_leaderboard},i))}var a,s=null;s=this.props.selfId&&this.props.selfId===this.props.value?o.createElement(A.a,{label:this.props.rank.toString(),type:A.b.Brand}):o.createElement(R.a,{color:w.c.Link,bold:!0},this.props.rank);var l=this.props.data&&this.props.data.user&&this.props.data.user.profileImageURL||h.a.defaultAvatarURL;return a=o.createElement(b.a,{overflow:g.i.Hidden,display:g.d.InlineFlex,flexGrow:1,fullWidth:!0,alignItems:g.b.Center},o.createElement(b.a,{className:"bits-leaderboard-expanded-top-three-entry__rank"},s),o.createElement(E,{size:r.Big,medal:this.props.medal,profileImageUrl:l}),t,o.createElement(b.a,{flexShrink:0,className:"bits-leaderboard-expanded-top-three-entry__score",margin:{left:"auto"},display:g.d.InlineBlock},o.createElement(N.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:e,size:N.b.ExtremelySmall,display:g.d.InlineFlex,amount:this.props.score,formattedNumber:!0,alignItems:g.b.Center}))),o.createElement(b.a,{className:"bits-leaderboard-expanded-top-three-entry",display:g.d.Block},a)},t}(o.Component)),B=Object(s.compose)(Object(l.a)(_,{name:"data",skip:function(e){return!e.id},options:function(e){return{variables:{userID:e.value,profileImageWidth:50}}}}))(U),F=n("Ws8v"),P=n("7uM4"),x=n("b7S+"),j=n("dEDE");n("2C+f");!function(e){e.UserPlaceEntry="user-place-entry"}(v||(v={}));var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderExpandArrow=function(){return o.createElement(b.a,{position:g.j.Absolute,attachRight:!0,attachTop:!0,className:"bits-leaderboard-expanded__arrow",display:g.d.Flex,alignItems:g.b.Stretch},o.createElement(j.a,{size:j.b.Small,fullWidth:!0,type:j.d.Text,onClick:t.props.toggleExpand},o.createElement(P.a,{asset:P.b.AngleUp,height:20,width:20})))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.shouldRenderBottomContent(),t=this.renderTopThreeEntries(),n=this.renderTopTenEntries(),i=this.renderExpandArrow(),r=this.renderTopSection(),a=null,s=null;e&&((a=this.renderUserPlaceEntry())||(s=this.renderBottomSection()));var l={"bits-leaderboard-expanded__top-three-break":!!this.props.topEdges&&this.props.topEdges.length>3},c={"bits-leaderboard-expanded__top-ten-break":!!this.props.topEdges&&this.props.topEdges.length>0};return o.createElement(F.a,{background:w.a.Base,padding:{top:1},position:g.j.Relative},r,o.createElement(f.b,{className:"bits-leaderboard-expanded__scrollable",suppressScrollX:!0},o.createElement(b.a,null,o.createElement("ul",null,t,o.createElement(b.a,{className:p(l)}),n,o.createElement(b.a,{className:p(c)}),a),s)),i)},t.prototype.renderTopThreeEntries=function(){var e=this.props.topEdges;if(!e)return null;var t=[];return t.push(this.renderTopThreeEntry(e[0],i.Gold)),t.push(this.renderTopThreeEntry(e[1],i.Silver)),t.push(this.renderTopThreeEntry(e[2],i.Bronze)),t},t.prototype.renderTopSection=function(){var e=Object(h.d)("Weekly Top Cheerers","Bits--PinnedCheerV2"),t=this.props.secondsRemaining?this.props.secondsRemaining:0,n=Math.floor(t/86400),i=o.createElement(R.a,{type:R.e.Span},Object(h.d)("{time, plural, one {Resets in {time} day} other {Resets in {time} days}}",{time:n},"Bits--PinnedCheerV2"));return n<1&&(i=o.createElement(R.a,{type:R.e.Span},Object(h.d)("Resets in less than a day","Bits--PinnedCheerV2"))),this.props.leaderboardMode===m.W.ALLTIME?(e=Object(h.d)("All-time Top Cheerers","Bits--PinnedCheerV2"),i=null):this.props.leaderboardMode===m.W.MONTH&&(e=Object(h.d)("Monthly Top Cheerers","Bits--PinnedCheerV2")),o.createElement(b.a,{display:g.d.Flex,alignItems:g.b.Center,flexDirection:g.e.Column},o.createElement(b.a,{display:g.d.Flex},o.createElement(R.a,{type:R.e.H5,bold:!0},e)," ",o.createElement(b.a,{alignSelf:g.c.Start},o.createElement(x.a,{label:Object(h.d)("List of users ordered by total amount of Bits used for a given time period. Users with the highest Bits are at the top.","Bits--PinnedCheerV2"),width:150,direction:x.c.Bottom},o.createElement(P.a,{asset:P.b.NotificationInfo,height:16,width:16})))),i,o.createElement(b.a,{className:"bits-leaderboard-expanded__section-break",margin:{y:1}}))},t.prototype.renderBottomSection=function(){var e=!!this.props.topEdges&&this.props.topEdges.length>0;return o.createElement(b.a,{padding:{bottom:1}},o.createElement(F.a,{borderTop:e},o.createElement(b.a,{display:g.d.Flex,flexDirection:g.e.Column,alignItems:g.b.Center,margin:{top:1}},o.createElement(P.a,{asset:P.b.Bits,type:P.c.Brand}),o.createElement(R.a,{type:R.e.Span,bold:!0},Object(h.d)("Cheer your way to the top!","Bits--PinnedCheersV2")))))},t.prototype.renderTopThreeEntry=function(e,t){return e&&e.node?o.createElement(b.a,{key:e.node.id,padding:{x:1,top:.5}},o.createElement(B,{id:e.node.id,value:e.node.entryKey,score:e.node.score,bitsConfig:this.props.bitsConfig,medal:t,selfId:this.props.selfId,rank:e.node.rank})):null},t.prototype.renderTopTenEntries=function(){var e=this;return this.props.topEdges?this.props.topEdges.slice(3,10).reduce(function(t,n){return n&&n.node&&t.push(e.renderTopTenEntry(n.node)),t},[]):null},t.prototype.renderTopTenEntry=function(e){return o.createElement(b.a,{key:e.id,padding:{x:1,top:.5}},o.createElement(L,{id:e.id,value:e.entryKey,score:e.score,bitsConfig:this.props.bitsConfig,selfId:this.props.selfId,rank:e.rank}))},t.prototype.shouldRenderBottomContent=function(){var e=this;if(!this.props.topEdges)return!1;var t=!0;return this.props.topEdges.forEach(function(n){n&&n.node&&n.node.entryKey===e.props.selfId&&(t=!1)}),t},t.prototype.renderUserPlaceEntry=function(){if(!this.props.userPlaceEdge)return null;var e=this.renderTopTenEntry(this.props.userPlaceEdge);return o.createElement(b.a,{padding:{top:.5},"data-test-selector":v.UserPlaceEntry},o.createElement(F.a,{borderTop:!0},o.createElement(b.a,{padding:{y:.5}},e)))},t}(o.Component);function V(e){switch(e){case 1:return Object(h.d)("Cheer now to be #1!","Bits--PinnedCheerV2");case 2:return Object(h.d)("Cheer to take #2!","Bits--PinnedCheerV2");case 3:return Object(h.d)("Cheer to take #3!","Bits--PinnedCheerV2");default:return Object(h.d)("...","Bits--PinnedCheerV2")}}n("986b");var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(b.a,{className:"bits-leaderboard-header-first-entry",flexShrink:0},o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__container",overflow:g.i.Hidden,display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1},o.createElement(b.a,{className:"bits-leaderboard-medal__profile-image--big"},o.createElement(D.a,{width:22,height:22})),o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-header-first-entry__text",margin:{left:.5}},o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-header-first-entry__username"},o.createElement(D.a,{width:50,height:2})),o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__score",padding:{y:.5}},o.createElement(D.a,{width:30,height:2})))));var e,t=this.props.bitsConfig?this.props.bitsConfig:Object(I.a)(),n=null,a="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){a=this.props.data.user.displayName||this.props.data.user.login;var s=o.createElement(R.a,{ellipsis:!0,bold:!0},a);this.props.selfId&&this.props.selfId===this.props.entryKey&&(s=o.createElement(A.a,{label:a,type:A.b.Brand})),n=o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-header-first-entry__username"},o.createElement(T.a,{contentID:"",login:this.props.data.user.login,sourceType:O.b.bits_leaderboard},s))}if(this.props.isEmpty||this.props.data&&!this.props.data.user){var l=V(1);e=o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__container",overflow:g.i.Hidden,display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1},o.createElement(b.a,{flexShrink:0},o.createElement(E,{size:r.Big,medal:i.Default})),o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__text",margin:{left:.5}},o.createElement(R.a,{color:w.c.Link,bold:!0},l)))}else{var c=this.props.data&&this.props.data.user&&this.props.data.user.profileImageURL||h.a.defaultAvatarURL;e=o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__container",overflow:g.i.Hidden,display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1},o.createElement(b.a,{flexShrink:0},o.createElement(E,{size:r.Big,medal:i.Gold,profileImageUrl:c})),o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__text",margin:{left:.5}},n,o.createElement(b.a,{className:"bits-leaderboard-header-first-entry__score"},o.createElement(N.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:t,size:N.b.ExtremelySmall,display:g.d.InlineFlex,amount:this.props.score,formattedNumber:!0,alignItems:g.b.Center}))))}this.props.isEmpty||(e=o.createElement(x.a,{label:a,direction:x.c.Bottom},e));var d={"bits-leaderboard-header-first-entry":!0,"bits-leaderboard-header-first-entry__empty":this.props.isEmpty};return o.createElement(b.a,{className:p(d),flexShrink:0},e)},t}(o.Component),W=Object(s.compose)(Object(l.a)(_,{name:"data",skip:function(e){return!e.id||!e.entryKey},options:function(e){return{variables:{userID:e.entryKey,profileImageWidth:50}}}}))(G),q=(n("ifPV"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(b.a,{className:"bits-leaderboard-header-runner-up-entry",display:g.d.Flex,alignItems:g.b.Center},o.createElement(b.a,{overflow:g.i.Hidden,display:g.d.Flex,alignItems:g.b.Center,flexGrow:0,fullWidth:!0},o.createElement(b.a,{flexShrink:0},o.createElement(b.a,{className:"bits-leaderboard-medal__profile-image--small"},o.createElement(D.a,{width:10,height:10}))),o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-header-runner-up-entry__username",flexShrink:1,margin:{x:.5}},o.createElement(D.a,{width:80,height:2})),o.createElement(b.a,{className:"bits-leaderboard-header-runner-up-entry__score",display:g.d.InlineFlex,margin:{left:"auto",y:.5},flexShrink:0},o.createElement(D.a,{width:40,height:2}))));var e,t=this.props.bitsConfig?this.props.bitsConfig:Object(I.a)(),n=null,a="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){a=this.props.data.user.displayName||this.props.data.user.login;var s=o.createElement(R.a,{ellipsis:!0,bold:!0},a);this.props.selfId&&this.props.selfId===this.props.entryKey&&(s=o.createElement(A.a,{label:a,type:A.b.Brand})),n=o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-header-runner-up-entry__username",flexShrink:1,margin:{x:.5}},o.createElement(T.a,{contentID:"",login:this.props.data.user.login,sourceType:O.b.bits_leaderboard},s))}if(this.props.isEmpty||this.props.data&&!this.props.data.user){var l=V(this.props.rank?this.props.rank:0);e=o.createElement(b.a,{overflow:g.i.Hidden,display:g.d.Flex,alignItems:g.b.Center,flexGrow:0,fullWidth:!0},o.createElement(b.a,{flexShrink:0},o.createElement(E,{size:r.Small,medal:i.Default})),o.createElement(b.a,{ellipsis:!0,className:"bits-leaderboard-header-runner-up-entry__username",flexShrink:1,margin:{x:.5}},o.createElement(R.a,{color:w.c.Link,bold:!0},l)))}else{var c=this.props.data&&this.props.data.user&&this.props.data.user.profileImageURL||h.a.defaultAvatarURL;e=o.createElement(b.a,{overflow:g.i.Hidden,display:g.d.Flex,alignItems:g.b.Center,flexGrow:0,fullWidth:!0},o.createElement(b.a,{flexShrink:0},o.createElement(E,{size:r.Small,medal:this.props.medal,profileImageUrl:c})),n,o.createElement(b.a,{flexShrink:0,className:"bits-leaderboard-header-runner-up-entry__score",margin:{left:"auto"}},o.createElement(N.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:t,size:N.b.ExtremelySmall,display:g.d.InlineFlex,amount:this.props.score,formattedNumber:!0,alignItems:g.b.Center})))}return this.props.isEmpty||(e=o.createElement(x.a,{label:a,direction:x.c.Bottom},e)),o.createElement(b.a,{className:"bits-leaderboard-header-runner-up-entry",display:g.d.Flex,alignItems:g.b.Center},e)},t}(o.Component)),z=Object(s.compose)(Object(l.a)(_,{name:"data",skip:function(e){return!e.id||!e.entryKey},options:function(e){return{variables:{userID:e.entryKey,profileImageWidth:50}}}}))(q),Y=(n("MBj5"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderFirstPlaceEntry=function(){var e,n=null;return t.props.topEdges&&t.props.topEdges[0]&&(n=t.props.topEdges[0]),e=n&&n.node?o.createElement(W,{selfId:t.props.selfId,id:n.node.id,entryKey:n.node.entryKey,score:n.node.score,bitsConfig:t.props.bitsConfig}):o.createElement(W,{isEmpty:!0}),o.createElement(g.g,{key:1},e)},t.renderExpandArrow=function(){return o.createElement(b.a,{className:"pinned-cheer-v2-header--arrow",alignItems:g.b.Stretch,fullHeight:!0,display:g.d.InlineFlex,attachTop:!0,position:g.j.Absolute},o.createElement(j.a,{size:j.b.Small,fullWidth:!0,type:j.d.Text,onClick:t.props.toggleExpand},o.createElement(P.a,{asset:P.b.AngleDown,height:20,width:20})))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.renderFirstPlaceEntry(),t=null,n=null,r=this.renderExpandArrow();if(this.props.topEdges&&this.props.topEdges[0]){t=this.renderRunnerUpEntry(2,i.Silver);var a=this.props.topEdges[1]?3:0;n=this.renderRunnerUpEntry(a,i.Bronze)}return o.createElement(F.a,{className:"pinned-cheer-v2-header",background:w.a.Base,position:g.j.Relative},o.createElement(b.a,{className:"pinned-cheer-v2-header__users",display:g.d.InlineFlex,flexWrap:g.f.NoWrap,justifyContent:g.h.Between,fullHeight:!0},e,o.createElement(b.a,{className:"pinned-cheer-v2-header__runner-up-entries",display:g.d.Flex,flexShrink:1,flexWrap:g.f.NoWrap,justifyContent:g.h.Between,flexDirection:g.e.Column},t,n)),r)},t.prototype.renderRunnerUpEntry=function(e,t){var n,r=null;return e>0&&this.props.topEdges&&this.props.topEdges[e-1]&&(r=this.props.topEdges[e-1]),n=r&&r.node?o.createElement(z,{selfId:this.props.selfId,id:r.node.id,entryKey:r.node.entryKey,score:r.node.score,medal:t,bitsConfig:this.props.bitsConfig}):o.createElement(z,{isEmpty:!0,medal:i.Default,rank:e}),o.createElement(g.g,{key:e},n)},t}(o.Component)),K=n("+LJB"),Q=n("RiD7"),X=n("Qime"),Z=(n("MIhh"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isExpanded:!1},t.toggleIsExpanded=function(){t.setState(function(e){return{isExpanded:!e.isExpanded}},function(){t.state.isExpanded&&t.onExpandClick()})},t.onExpandClick=function(){var e=t.props,n=e.channelID,i=e.userID,r=e.data.user;if(r&&r.cheer&&r.cheer.leaderboard&&r.cheer.settings&&r.cheer.settings.leaderboard&&r.cheer.settings.leaderboard.isEnabled){var a=r.cheer.settings.leaderboard.timePeriodType,o=r.cheer.leaderboard.items.edges&&r.cheer.leaderboard.items.edges.slice(0,10),s=!1;i&&o&&(s=o.findIndex(function(e){return!!e&&!!e.node&&e.node.entryKey===i})>=0),Object(Q.l)({leaderboardSize:o?o.length:0,leaderboardMode:a||m.W.ALLTIME,userPresentInLeaderboard:s,userID:i,channelID:n})}},t}return a.__extends(t,e),t.prototype.render=function(){var e;return e=this.renderLeaderboard(),o.createElement(b.a,{zIndex:g.n.Default},e)},t.prototype.renderLeaderboard=function(){if(this.props.data.error||!(this.props.data.user&&this.props.data.user.cheer&&this.props.data.user.cheer.leaderboard))return null;if(!this.props.data.user.cheer.settings||!this.props.data.user.cheer.settings.leaderboard||!this.props.data.user.cheer.settings.leaderboard.isEnabled)return null;var e=this.props.data.user.cheer.leaderboard.items.edges&&this.props.data.user.cheer.leaderboard.items.edges.slice(0,10),t=null,n=this.props.data.user.cheer.settings.leaderboard.timePeriodType||m.W.ALLTIME;this.props.data.user.self&&this.props.data.user.self.bitsLeaderboardItem&&(t=this.props.data.user.self.bitsLeaderboardItem);var i=null;this.state.isExpanded&&(i=o.createElement(H,{topEdges:e,userPlaceEdge:t,toggleExpand:this.toggleIsExpanded,selfId:this.props.userID,bitsConfig:this.props.bitsConfig,leaderboardMode:n,secondsRemaining:this.props.data.user.cheer.leaderboard.secondsRemaining}));var r=null;return this.state.isExpanded||(r=o.createElement(Y,{topEdges:e,toggleExpand:this.toggleIsExpanded,selfId:this.props.userID,bitsConfig:this.props.bitsConfig})),o.createElement(b.a,{className:"pinned-cheer-v2",zIndex:g.n.Default},o.createElement(F.a,{borderBottom:!0},r,i))},t}(o.Component)),$=Object(s.compose)(Object(l.a)(X,{name:"data",options:function(e){return{variables:{channelID:e.channelID}}}}),Object(c.a)(function(e){return{query:X,variables:{channelID:e.channelID},topic:Object(u.d)(e.channelID),type:d.PubsubMessageType.BitsChannelSettingsEvent,mutator:function(e,t){if(t)return t&&t.user&&null!==t.user.cheer&&null!==t.user.cheer.leaderboard&&null!==t.user.cheer.settings.leaderboard&&void 0!==e.updates.leaderboard_enabled&&(t.user.cheer.settings.leaderboard.isEnabled=e.updates.leaderboard_enabled),t}}}),Object(c.a)(function(e){return Object(K.a)(X,e.channelID,e.data.user&&e.data.user.cheer&&e.data.user.cheer.leaderboard,e.userID)}))(Z),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cheerIsTall:!1,recentCheerID:null,recentCheerExpireTime:null,pcheersV2Enabled:!1},t}return a.__extends(t,e),t.prototype.render=function(){return o.createElement($,{channelID:this.props.channelID,userID:this.props.userID,bitsConfig:this.props.bitsConfig,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin})},t}(o.Component),ee=n("/MKj"),te=n("kRBY");var ne=Object(ee.connect)(function(e){var t=Object(te.e)(e);return{isStaff:t&&t.roles&&t.roles.isStaff}})(J);n.d(t,!1,function(){return J}),n.d(t,"a",function(){return ne})},"r/lI":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FirstCheerBuilder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:145}};n.loc.source={body:"query FirstCheerBuilder($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\ncheer {\nid\nsettings {\nemoteMinimumBits\ncheerMinimumBits\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},r2XO:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("fvjX"),s=n("/7QA"),l=n("x7UT"),c=n("0Log"),d=n("/aPz"),u=n("SceP"),m=n("3tQW"),p=n("ZtEv"),h=n("fxMP");var f=n("nInp"),g=n("DLhE"),b=n("MJbm"),v=n("8/mp"),E=n("TSYQ"),k=n("oJmH"),C=n("yR8l"),S=n("8Ad5"),y=n("geRD"),N=n("b5C3"),_=n("XmgI"),I=n("4h+t"),T=n("0Lz3"),O=n("uIkQ"),D=n("+pBb"),A=n("ZVTe"),w=n("esZd"),R=n("xQnr"),M=n("DMoW"),L=n("kRBY"),U=n("TApp"),B=n("gO1k");var F=n("2EzP");var P=n("vLL+"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){return i.__awaiter(t,void 0,void 0,function(){var e,t,n,r,a;return i.__generator(this,function(i){switch(i.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=Object(s.d)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),t={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation(Object(y.a)(t))];case 2:return(n=i.sent().data.deleteChatMessage)&&n.responseCode!==M.J.SUCCESS&&(r=n.message&&n.message.sender&&n.message.sender.displayName||this.props.senderLogin,a=function(e,t){switch(e){case M.J.FORBIDDEN:return Object(s.d)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case M.J.TARGET_IS_BROADCASTER:return Object(s.d)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case M.J.TARGET_IS_MODERATOR:return Object(s.d)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:t},"DeleteChatMessageErrorCode");case M.J.SUCCESS_STAFF:return Object(s.d)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:t},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(n.responseCode,r),this.surfaceError(a)),[3,4];case 3:return i.sent(),this.surfaceError(e),[3,4];case 4:return[2]}})})},t.surfaceError=function(e){t.props.surfaceError&&t.props.surfaceError(e)},t}return i.__extends(t,e),t.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:r.createElement(P.a,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:!!this.props.messageID,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},t}(r.Component);var j=Object(o.compose)(F.a,Object(w.a)(function(e){return i.__assign({},e,{targetID:e.targetUserID,surfaceError:function(t){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage(Object(U.a)(t))}})}),R.a,function(){var e=this;return Object(C.a)(B,{props:function(t){return{deleteChatMessageMutation:function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:if(!t.mutate)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.mutate(n)];case 2:return[2,{data:e.sent().data}];case 3:throw e.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}})})}}}})}(),Object(a.connect)(function(e){return{sessionUser:Object(L.e)(e)}}))(x),H=n("cys1"),V=n("EE1E"),G=n("fezU"),W=n("oK83"),q=(n("uYvD"),"chat-deleted-message-placeholder"),z="chat-hidden-message-placeholder",Y="chat-hidden-username-placeholder",K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderModerationIcons=function(){return t.props.isCurrentUserModerator&&t.props.showModerationIcons&&t.props.message.user.userID&&t.props.channelID?r.createElement(j,{targetUserID:t.props.message.user.userID,confirmModerationAction:t.props.confirmModerationAction,channelID:t.props.channelID,isMessageDeleted:t.props.message.deleted,isMessageBanned:t.props.message.banned,senderLogin:t.props.message.user.userLogin,messageID:t.props.message.id}):null},t.renderMessageBody=function(){if(t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator){var e=Object(s.d)("message hidden from blocked user","ChatLine");return r.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":z},r.createElement("a",{href:"",onClick:t.hiddenMessageClickHandler},"<"+e+">"))}if(t.props.isDeleted&&!t.state.alwaysShowMessage){var n=Object(s.d)("message deleted","ChatLine");return t.props.isCurrentUserModerator||t.props.isCurrentUserStaff?r.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":q},r.createElement("a",{href:"",onClick:t.alwaysShowMessage},"<"+n+">")):r.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":q},"<"+n+">")}var i={chatChannelID:t.props.channelID||"",chatChannelLogin:t.props.channelLogin||"",messageAuthorID:t.props.message.user.userID||"",messageSourceID:t.props.message.id,emoteSourceType:W.a.chat};return Object(H.f)(t.props.message.messageParts,i)},t.renderMessageAuthor=function(){var e=t.props,n=e.badgeSets,i=e.message,a=e.theme,o=e.useHighContrastColors;return t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator?r.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":Y},r.createElement("a",{href:"",onClick:t.hiddenMessageClickHandler},Object(s.d)("User Hidden","ChatLine"))):r.createElement(r.Fragment,null,t.renderModerationIcons(),r.createElement(O.b,{badgeSets:n,badgesToRender:i.badges}),r.createElement("span",{className:"chat-line__username",onClick:t.openViewerCard,onKeyDown:t.openViewerCard,role:"button",tabIndex:0},r.createElement(A.a,{userData:i.user,highContrastUsernameColor:o,theme:a})))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t.hiddenMessageClickHandler=function(e){t.alwaysShowMessage(e),t.props.message.user.userID&&t.props.onHiddenMessageClick(t.props.message.user.userID)},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==S.a.Space&&e.keyCode!==S.a.Enter||t.props.onUsernameClick(t.props.message.user.userLogin,W.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.message,i=e.showTimestamps,a=e.theme,o=e.useHighContrastColors,s={},l=": ";if(n.messageType===p.c.Action){var c=n.user.color;o&&c&&(c="#"+Object(V.a)(c,a)),s={color:c},l=" "}var d=null;return i&&(d=Object(H.l)(n.timestamp)),r.createElement("div",{className:E(t,"chat-line__message"),style:s,"data-a-target":"chat-line-message"},d,this.renderMessageAuthor(),r.createElement("span",{key:"separator","aria-hidden":"true"},l),this.renderMessageBody())},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(r.Component);var Q=Object(k.compose)(Object(a.connect)(void 0,function(e){return Object(o.bindActionCreators)({onHiddenMessageClick:D.R},e)}),Object(G.b)(function(e){return{onUsernameClick:e.onShowViewerCard,onEmoteClick:e.onShowEmoteCard}}))(K),X=n("p52R"),Z=n("a1OF"),$=n("1VX3"),J=n("sUnt"),ee=n("dEDE"),te=n("PL8s"),ne=n("+80q"),ie=n("9yes"),re=n("R2Ti"),ae=n("g17B"),oe=n("frkH"),se=n("4zGI"),le=n("tX9j"),ce={badges:{twitchbot:"1"},bits:0,color:"#6441A5",displayName:"AutoMod",id:"automod",userID:"automod",username:"automod",userType:X.a.GlobalMod,emotes:{}};function de(e){var t;switch(e){case"aggressive":t=Object(s.d)("aggressive","AutoModLine");break;case"sexual":t=Object(s.d)("sexual","AutoModLine");break;case"profanity":t=Object(s.d)("profanity","AutoModLine");break;case"identity":t=Object(s.d)("identity","AutoModLine");break;default:return Object(s.d)("Message is being held for review. Allow will post it to chat.","AutoModLine")}return Object(s.d)("Held a message for reason: {category}. Allow will post it to chat.",{category:t},"AutoModLine")}var ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isResolved:!1},t.getAllowMessageCallback=function(e){return e!==p.a.CheerMessageRejectedPrompt?t.allowAutoModRejectedMessage:t.allowAutoModRejectedCheerMessage},t.getDenyMessageCallback=function(e){return e!==p.a.CheerMessageRejectedPrompt?t.denyAutoModRejectedMessage:t.denyAutoModRejectedCheerMessage},t.allowAutoModRejectedMessage=function(){t.setState({isResolved:!0});var e=t.props.message;e.autoModType===p.a.MessageRejectedPrompt&&t.props.allowRejectedChatMessage&&t.props.allowRejectedChatMessage(Object(y.a)({id:e.rejectedMessage.id}))},t.denyAutoModRejectedMessage=function(){t.setState({isResolved:!0});var e=t.props.message;e.autoModType===p.a.MessageRejectedPrompt&&t.props.denyRejectedChatMessage&&t.props.denyRejectedChatMessage(Object(y.a)({id:e.rejectedMessage.id}))},t.allowAutoModRejectedCheerMessage=function(){t.setState({isResolved:!0});var e=t.props,n=e.message,i=e.allowRejectedCheer;if(n.autoModType===p.a.CheerMessageRejectedPrompt&&i){var r={id:n.rejectedMessage.id,targetUserID:n.targetUserID};i(Object(y.a)(r))}},t.denyAutoModRejectedCheerMessage=function(){t.setState({isResolved:!0});var e=t.props,n=e.message,i=e.denyRejectedCheer;if(n.autoModType===p.a.CheerMessageRejectedPrompt&&i){var r={id:n.rejectedMessage.id,targetUserID:n.targetUserID};i(Object(y.a)(r))}},t.surfaceError=function(e){t.props.messageHandlerAPI&&t.props.messageHandlerAPI.handleMessage(Object(U.a)(e))},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==S.a.Space&&e.keyCode!==S.a.Enter||t.props.message.autoModType===p.a.MessageRejectedPrompt&&t.props.onUsernameClick(t.props.message.rejectedMessage.user.userLogin,W.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return i.__extends(t,e),t.prototype.render=function(){var e,t=this.props.message,n=i.__assign({},ce);switch(t.autoModType){case p.a.MessageRejectedPrompt:e=de(t.category);break;case p.a.CheerMessageRejectedPrompt:e=de(t.category);var a=this.props.data&&this.props.data.user&&this.props.data.user.cheer?this.props.data.user.cheer:{__typename:"CheerInfo",id:null,emotes:[]},o=Object(_.g)(t.originalMessage,Object(T.a)(a.emotes||[]));t.rejectedMessage=i.__assign({},t.rejectedMessage,{messageParts:o});break;case p.a.MessageRejected:e=Object(s.d)("Hey! Your message is being checked by mods and has not been sent.","AutoModLine");break;case p.a.MessageAllowed:e=Object(s.d)("Mods have allowed your message. Happy chatting!","AutoModLine");var l=(e+=" VoHiYo").match("VoHiYo");l&&void 0!==l.index&&(n.emotes[""+l.index]={startIndex:l.index,id:"81274"});break;case p.a.MessageDenied:e=Object(s.d)("Mods have removed your message.","AutoModLine");break;case p.a.CheerMessageDenied:e=Object(s.d)("Mods have removed your text message. Your Cheermote was sent.","AutoModLine");break;case p.a.CheerMessageTimeout:e=Object(s.d)("Mods did not approve your message in time.  Your Cheermote was sent without the text.","AutoModLine");break;case p.a.MessageModApproved:case p.a.MessageModDenied:return null;default:throw new Error("Invalid message type")}var c=Object(Z.a)(e,n,_.a);switch(t.autoModType){case p.a.MessageRejectedPrompt:case p.a.CheerMessageRejectedPrompt:if(!(t.autoModType!==p.a.CheerMessageRejectedPrompt||this.props.data&&this.props.data.user&&this.props.data.user.cheer))return null;if(t.rejectedMessage.deleted)return null;if(this.state.isResolved)return r.createElement(J.a,{className:"chat-line__status"},Object(s.d)("Thank you for your feedback!","ChatLine"));var d=["chat-line__message--alert","chat-line__message--special","chat-line__message--clearfix"],u=r.createElement(te.a,{lineCount:2});return this.props.extractedMessage&&this.props.extractedMessage.message?u=r.createElement(J.a,{className:E(d)},r.createElement($.a,{badgeSets:this.props.badgeSets,bitsConfig:Object(I.a)(),channelID:this.props.channelID,message:this.props.extractedMessage.message,hasModPermissions:!0,showModerationIcons:this.props.showModerationIcons,showTimestamps:!1,currentUserLogin:this.props.channelLogin,onUsernameClick:this.openViewerCard,surfaceError:this.surfaceError})):this.props.extractedMessage&&this.props.extractedMessage.error&&(u=r.createElement(Q,i.__assign({},this.props,{isCurrentUserStaff:!1,isDeleted:!1,isHidden:!1,showTimestamps:!1,className:E(d),message:t.rejectedMessage}))),r.createElement(J.a,{className:"chat-line__message"},r.createElement(N.a,{badgeSets:this.props.badgeSets,badgesToRender:c.badges}),r.createElement(A.a,{userData:c.user}),r.createElement("span",{key:"separator"},": "),Object(H.f)(c.messageParts),r.createElement(J.a,{key:"automod-prompt",className:"chat-line__nested-component--float-right"},r.createElement(ee.a,{size:ee.b.Small,onClick:this.getAllowMessageCallback(t.autoModType),type:ee.d.Text},Object(s.d)("Allow","AutoModLine")),r.createElement(ne.a,{type:ne.e.Span},"•"),r.createElement(ee.a,{size:ee.b.Small,onClick:this.getDenyMessageCallback(t.autoModType),type:ee.d.Text},Object(s.d)("Deny","AutoModLine"))),u);case p.a.MessageRejected:case p.a.MessageAllowed:case p.a.MessageDenied:case p.a.CheerMessageDenied:case p.a.CheerMessageTimeout:return r.createElement(J.a,{className:E(["chat-line__message","chat-line__message--special","chat-line__message--alert"])},r.createElement(N.a,{badgeSets:this.props.badgeSets,badgesToRender:c.badges}),r.createElement(A.a,{userData:c.user}),r.createElement("span",{key:"separator"},": "),Object(H.f)(c.messageParts));default:throw new Error("Invalid message type")}},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(r.Component);var me=Object(k.compose)(F.a,Object(G.b)(function(e){return{onUsernameClick:e.onShowViewerCard}}),Object(C.a)(ie,{name:"allowRejectedChatMessage"}),Object(C.a)(oe,{name:"denyRejectedChatMessage"}),Object(C.a)(re,{name:"allowRejectedCheer"}),Object(C.a)(se,{name:"denyRejectedCheer"}),Object(C.a)(ae,{name:"data",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(C.a)(le,{options:function(e){return{variables:{msgID:e.message.rejectedMessage.id,channelID:e.channelID}}},props:function(e){return{extractedMessage:{message:e.data&&e.data.rejectedChatMessage&&e.data.rejectedChatMessage.message||null,loading:!(!e.data||!e.data.loading),error:!(!e.data||!e.data.error)}}},skip:function(e){return!e.channelID||e.message.autoModType!==p.a.MessageRejectedPrompt}}))(ue),pe=n("QVaV"),he=n("8SX2"),fe=n("Ws8v"),ge=n("X2PJ"),be=n("hnjF"),ve=n("7uM4"),Ee=function(e){var t=e.event,n=t.promoGiftTotal,i=t.promoName,a=t.user,o=r.createElement(he.a,{contentID:a.id,login:a.username,sourceType:W.b.chat_message},Object(pe.a)(a.username,a.displayName)),l=i&&n?Object(s.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!        They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{promoGiftTotal:n,promoName:i,recipientButton:o},"AnonGiftPaidUpgradeNoticeLine"):Object(s.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!",{recipientButton:o},"AnonGiftPaidUpgradeNoticeLine");return r.createElement(J.a,{alignItems:be.b.Start,display:be.d.Flex},r.createElement(fe.a,{color:ge.c.Alt2,display:be.d.Flex,flexDirection:be.e.Column,flexShrink:0,margin:{right:.5}},r.createElement(ve.a,{asset:ve.b.Ghost})),r.createElement(ne.a,{color:ge.c.Alt2,type:ne.e.Span},l))};Ee.displayName="AnonGiftPaidUpgradeNoticeLine";var ke=n("4+Ji"),Ce=n("0WFu"),Se=function(e){var t=e.event,n=r.createElement(he.a,{contentID:t.recipientID,login:t.recipientLogin,sourceType:W.b.chat_message},Object(pe.a)(t.recipientLogin,t.recipientDisplayName));return r.createElement(J.a,{alignItems:be.b.Start,display:be.d.Flex},r.createElement(fe.a,{color:ge.c.Alt2,display:be.d.Flex,flexDirection:be.e.Column,flexShrink:0,margin:{right:.5}},r.createElement(ve.a,{asset:ve.b.Ghost})),r.createElement(ne.a,{color:ge.c.Alt2,type:ne.e.Span},function(e,t,n){return Object(ke.c)(n)?Object(s.d)("An anonymous gifter gave {recipientButton} a 2019 All-Access Pass!",{recipientButton:t},"AnonSubGiftNoticeLine"):"custom"===e.plan?Object(s.d)("An anonymous gifter gave {recipientButton} a Sub!",{recipientButton:t},"AnonSubGiftNoticeLine"):Object(s.d)("An anonymous gifter gave {recipientButton} a Tier {tierNumber} Sub!",{recipientButton:t,tierNumber:Object(Ce.c)(e.plan)||1},"AnonSubGiftNoticeLine")}(t.methods,n,t.channel)))};Se.displayName="AnonSubGiftNoticeLine";var ye=function(e){var t=e.event,n=t.channel,i=t.massGiftCount,a=t.plan,o=Object(ke.c)(n)?Object(s.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} 2019 All-Access Pass to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} 2019 All-Access Passes to {channel}'s community!}}",{channel:n,massGiftCount:i},"AnonSubMysteryGiftNoticeLine"):"custom"===a?Object(s.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,massGiftCount:i},"AnonSubMysteryGiftNoticeLine"):Object(s.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,massGiftCount:i,tierNumber:Object(Ce.c)(a)||1},"AnonSubMysteryGiftNoticeLine");return r.createElement(J.a,{alignItems:be.b.Start,display:be.d.Flex},r.createElement(fe.a,{color:ge.c.Alt2,display:be.d.Flex,flexDirection:be.e.Column,flexShrink:0,margin:{right:.5}},r.createElement(ve.a,{asset:ve.b.Ghost})),r.createElement(ne.a,{color:ge.c.Alt2,type:ne.e.Span},o))};ye.displayName="AnonSubMysteryGiftNoticeLine";var Ne=n("xZ3y"),_e=function(e){var t=e.event.threshold,n=e.badgeSets.getBadge(Ne.a,t.toString()),i=Object(s.d)("{text} Bits badge!",{text:Object(Ne.b)(n,t)},"BitsBadgeTierNotification");return r.createElement(J.a,{display:be.d.Flex},r.createElement(ve.a,{height:20,width:20,asset:ve.b.Bits,type:ve.c.Alt2}),r.createElement(fe.a,{color:ge.c.Alt2,padding:{left:.5},display:be.d.Inline},Object(s.d)("{userLogin} just earned a new <x:bold>{boldedBadgeText}</x:bold>",{userLogin:r.createElement(he.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:W.b.chat_message},Object(pe.a)(e.event.user.userID,e.event.user.displayName)),boldedBadgeText:i,"x:bold":function(e){return r.createElement(ne.a,{color:ge.c.Base,bold:!0,type:ne.e.Span},e)}},"BitsBadgeTierNotification")))};_e.displayName="BitsBadgeTierNoticeLine";var Ie=function(e){return r.createElement(fe.a,{color:ge.c.Alt2,display:be.d.Inline},Object(s.d)("{userLogin} just made their first cheer!",{userLogin:r.createElement(he.a,{contentID:e.event.message.id,login:e.event.message.user.userLogin,sourceType:W.b.chat_message},Object(pe.a)(e.event.message.user.userLogin,e.event.message.user.userDisplayName))},"FirstCheerNoticeLine"))};Ie.displayName="FirstCheerNoticeLine";var Te=function(e){var t=e.event,n=r.createElement(he.a,{contentID:t.user.id,login:t.user.username,sourceType:W.b.chat_message},Object(pe.a)(t.user.username,t.user.displayName)),i=r.createElement(he.a,{contentID:t.user.id,login:t.senderLogin,sourceType:W.b.chat_message},Object(pe.a)(t.senderLogin,t.senderName));return r.createElement(ne.a,{color:ge.c.Alt2,type:ne.e.Span},t.promoName&&t.promoGiftTotal?Object(s.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!            They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{gifterButton:i,promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,recipientButton:n},"GiftPaidUpgradeNoticeLine"):Object(s.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!",{gifterButton:i,recipientButton:n},"GiftPaidUpgradeNoticeLine"))};Te.displayName="GiftPaidUpgradeNoticeLine";n("xDdc");var Oe=function(e){return r.createElement(J.a,{className:"user-notice-line",margin:{y:.5},padding:{right:2,y:.5}},e.children)};Oe.displayName="UserNoticeLine";var De=n("HH5h"),Ae=n("OvAg"),we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.message.params,t=this.props.data,n=t.channel,i=t.loading,a=t.error;if(i||a||!n||!n.displayName)return null;var o=Object(s.d)("{displayName} is raiding with a party of {viewerCount}.",{displayName:r.createElement("strong",null,n.displayName),viewerCount:r.createElement("strong",null,e.viewerCount)},"RaidIncomingMessage");return r.createElement(Oe,{"data-test-selector":"incoming-raid"},r.createElement(J.a,{display:be.d.Flex,alignItems:be.b.Center},r.createElement(De.a,{alt:n.displayName,src:n.profileImageURL,size:30}),r.createElement(fe.a,{color:ge.c.Base,margin:{left:1}},o)))},t}(r.Component),Re=Object(C.a)(Ae,{options:function(e){return{variables:{channelLogin:e.message.params.login}}}})(we),Me=n("5zf8"),Le=n("x0+1"),Ue=n("KGti"),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.moderationActionEvent,t=e.createdByLogin,n=null;if(e.moderationActionType===p.d.AutoModEnabled)n=Object(s.d)("AutoMod has been enabled for this channel.","ModerationActionLine");else if(e.level===Ue.a.Channel)switch(e.moderationActionType){case p.d.Clear:n=Object(s.d)("{user} cleared chat for this room.",{user:t},"ModerationActionLine");break;case p.d.EmoteOnly:n=Object(s.d)("{user} enabled emote-only mode for this room.",{user:t},"ModerationActionLine");break;case p.d.EmoteOnlyOff:n=Object(s.d)("{user} disabled emote-only for this room.",{user:t},"ModerationActionLine");break;case p.d.FollowersOnly:var i=(e.args||[""]).join(" ").trim(),a=parseInt(i,10);n=a?Object(s.d)("{user} enabled {length} followers-only mode for this room.",{user:t,length:Object(Me.b)(60*a)},"ModerationActionLine"):Object(s.d)("{user} enabled followers-only mode for this room.",{user:t},"ModerationActionLine");break;case p.d.FollowersOnlyOff:n=Object(s.d)("{user} disabled followers-only mode for this room.",{user:t},"ModerationActionLine");break;case p.d.R9kBeta:n=Object(s.d)("{user} enabled r9k mode for this room.",{user:t},"ModerationActionLine");break;case p.d.R9kBetaOff:n=Object(s.d)("{user} disabled r9k mode for this room.",{user:t},"ModerationActionLine");break;case p.d.Slow:var o=(e.args||["120"]).join(" ").trim(),l=parseInt(o,10);n=Object(s.d)("{user} enabled {slowTime}-second slow mode for this room.",{user:t,slowTime:l},"ModerationActionLine");break;case p.d.SlowOff:n=Object(s.d)("{user} disabled slow mode for this room.",{user:t},"ModerationActionLine");break;case p.d.SubscribersOnly:n=Object(s.d)("{user} enabled subscribers-only mode for this room.",{user:t},"ModerationActionLine");break;case p.d.SubscribersOnlyOff:n=Object(s.d)("{user} disabled subscribers-only mode for this room.",{user:t},"ModerationActionLine");break;default:var c=e.args&&e.args.join(" ").trim(),d=c&&c.length>0?"/"+e.moderationActionType+" "+c:""+e.moderationActionType;n=Object(s.d)("{user} used: {command}.",{user:e.createdByLogin,command:d},"ModerationActionLine")}else{var u=e.targetUserLogin,m=e.duration,h=e.reason,f=e.messageBody;switch(e.moderationActionType){case p.d.Timeout:n=e.level===Ue.a.User&&this.props.currentUserLogin&&u===this.props.currentUserLogin?m&&h?Object(s.d)("You were timed out for {duration} seconds. Reason: {reason}.",{duration:m,reason:h},"ModerationActionLine"):m?Object(s.d)("You were timed out for {duration} seconds.",{duration:m},"ModerationActionLine"):h?Object(s.d)("You were timed out. Reason: {reason}.",{reason:h},"ModerationActionLine"):Object(s.d)("You were timed out.","ModerationActionLine"):m&&h?Object(s.d)("{user} timed out {target} for {duration} seconds. Reason: {reason}.",{user:t,target:u,duration:m,reason:h},"ModerationActionLine"):m?Object(s.d)("{user} timed out {target} for {duration} seconds.",{user:t,target:u,duration:m},"ModerationActionLine"):Object(s.d)("{user} timed out {target}.",{user:t,target:u},"ModerationActionLine");break;case p.d.Ban:n=!t&&h?Object(s.d)("You were banned. Reason: {reason}.",{reason:h},"ModerationActionLine"):t?h?Object(s.d)("{user} banned {target}. Reason: {reason}.",{user:t,target:u,reason:h},"ModerationActionLine"):Object(s.d)("{user} banned {target}.",{user:t,target:u},"ModerationActionLine"):Object(s.d)("You were banned.","ModerationActionLine");break;case p.d.Untimeout:n=Object(s.d)("{user} removed time out on {target}.",{user:t,target:u},"ModerationActionLine");break;case p.d.Unban:n=Object(s.d)("{user} removed ban on {target}.",{user:t,target:u},"ModerationActionLine");break;case p.d.Mod:n=Object(s.d)("{user} granted moderator privileges to {target}.",{user:t,target:u},"ModerationActionLine");break;case p.d.Unmod:n=Object(s.d)("{user} removed moderator privileges for {target}.",{user:t,target:u},"ModerationActionLine");break;case p.d.Delete:var g=f||"";n=r.createElement(Le.a,{targetLogin:u,moderatorLogin:t,messageBody:g});break;default:return null}}return n?r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},n)):null},t}(r.Component),Fe=n("3Bft"),Pe=n("+GjP"),xe=n("Jsra"),je=function(e){var t=e.channel,n=e.reference,i=e.text,a=Object(Pe.e)("https://twitch.amazon.com/prime",{reference:n,channel:t});return r.createElement(xe.a,{className:"chat-line__message--link",linkTo:a,targetBlank:!0,rel:"noopener"},i)},He=function(e){var t=r.createElement(fe.a,{display:be.d.Block},r.createElement(he.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:W.b.chat_message},r.createElement(ne.a,{color:ge.c.Link},Object(pe.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.plan===Fe.a.Custom?Object(s.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link> sub to a Paid sub!",{userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)},"x:twitch-prime-link":function(t){return Ve(e.event.channel,"primetopaid",t)}},"PrimePaidUpgradeNoticeLine"):Object(s.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link> sub to a Tier {tierNumber} sub!",{tierNumber:Object(Ce.c)(e.event.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)},"x:twitch-prime-link":function(t){return Ve(e.event.channel,"primetopaid",t)}},"PrimePaidUpgradeNoticeLine"),r.createElement(J.a,{display:be.d.Flex},r.createElement(fe.a,{color:ge.c.Alt2},r.createElement(ve.a,{asset:ve.b.Star})),r.createElement(be.g,{margin:{left:.5}},r.createElement(ne.a,null,n)))},Ve=function(e,t,n){return r.createElement(je,{channel:e,reference:t,text:n})};function Ge(){return{raid_error_self:Object(s.d)("You cannot raid your own channel.","RaidErrorSelfMessage"),raid_error_forbidden:Object(s.d)("You cannot raid this channel.","RaidErrorAlreadyRaidingMessage"),raid_error_already_raiding:Object(s.d)("You already have a raid in progress.","RaidErrorForbiddenMessage"),raid_error_too_many_viewers_to_raid:Object(s.d)("Sorry, raids can only support up to 20,000 viewers right now.","RaidErrorTooManyViewersMessage"),raid_error_unexpected:Object(s.d)("There was a problem starting the raid. Please try again in a minute.","RaidErrorUnexpectedMessage"),unraid_error_unexpected:Object(s.d)("There was a problem stopping the raid. Please try again in a minute.","UnraidErrorUnexpectedMessage"),unraid_error_no_active_raid:Object(s.d)("You do not have an active raid.","UnraidErrorNoActiveRaidMessage"),raid_notice_restricted_chat:Object(s.d)("This channel has follower or subscriber only chat.","RaidNoticeRestrictedChatMessage"),raid_notice_mature:Object(s.d)("This channel is intended for mature audiences.","RaidNoticeMatureMessage"),raid_notice_owner:Object(s.d)("This channel has started a raid, type {unraidCommand} if you want to cancel.",{unraidCommand:"/unraid"},"RaidNoticeOwnerMessage")}}He.displayName="PrimePaidUpgradeNoticeLine";var We=function(e){return r.createElement("span",null,Ge()[e.message.msgid])};We.displayName="RaidNoticeLine";var qe=function(e){var t=r.createElement(fe.a,{display:be.d.Block},r.createElement(he.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:W.b.chat_message},r.createElement(ne.a,{color:ge.c.Link},Object(pe.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.methods.prime?e.event.cumulativeMonths<2?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>",{userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)},"x:twitch-prime-link":function(t){return ze(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)},"x:twitch-prime-link":function(t){return ze(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)},"x:twitch-prime-link":function(t){return ze(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):e.event.methods.plan!==Fe.a.Custom?e.event.cumulativeMonths<2?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}.",{tierNumber:Object(Ce.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,tierNumber:Object(Ce.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"ResubNoticeV2Line"):Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,tierNumber:Object(Ce.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"ResubNoticeV2Line"):e.event.cumulativeMonths<2?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong>.",{userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"ResubNoticeV2Line"):Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"ResubNoticeV2Line"),r.createElement(J.a,{display:be.d.Flex},r.createElement(fe.a,{color:ge.c.Alt2},r.createElement(ve.a,{asset:e.event.methods.prime?ve.b.Crown:ve.b.Star})),r.createElement(be.g,{margin:{left:.5}},r.createElement(ne.a,null,n)))},ze=function(e,t,n){return r.createElement(je,{channel:e,reference:t,text:n})};qe.displayName="ResubNoticeV2Line";var Ye=n("yZCp"),Ke=function(e){var t=e.event.message,n=t.user.isIntl?t.user.userDisplayName+" ("+t.user.userLogin+")":t.user.userDisplayName,i=Object(s.d)("{user} is new here. Say hello!",{user:r.createElement(he.a,{contentID:t.id,login:t.user.userLogin,sourceType:W.b.chat_message},"@",n)},"NewChatterRitual");return r.createElement(fe.a,{color:ge.c.Alt2},i)};Ke.displayName="RitualNoticeLine";var Qe=function(e){var t=e.event,n=r.createElement(he.a,{contentID:t.user.id,login:t.user.username,sourceType:W.b.chat_message},Object(pe.a)(t.user.username,t.user.displayName)),i=r.createElement(he.a,{contentID:t.user.id,login:t.recipientLogin,sourceType:W.b.chat_message},Object(pe.a)(t.recipientLogin,t.recipientDisplayName)),a=null;return a=Object(ke.c)(t.channel)?function(e,t){return Object(s.d)("{gifterButton} just gifted a 2019 All-Access Pass to {recipientButton}!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine")}(n,i):"custom"===t.methods.plan?function(e,t,n){return 1===n?Object(s.d)("{gifterButton} gifted a Sub to {recipientButton}! It's their first time gifting a Sub in the channel!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine"):n>1?Object(s.d)("{gifterButton} gifted a Sub to {recipientButton}! They've gifted {senderCount} Subs in the channel!",{gifterButton:e,recipientButton:t,senderCount:n},"SubGiftNoticeLine"):Object(s.d)("{gifterButton} gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine")}(n,i,t.senderCount):function(e,t,n,i){return 1===n?Object(s.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:t,tierNumber:i},"SubGiftNoticeLine"):n>1?Object(s.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:t,senderCount:n,tierNumber:i},"SubGiftNoticeLine"):Object(s.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:t,tierNumber:i},"SubGiftNoticeLine")}(n,i,t.senderCount,Object(Ce.c)(t.methods.plan)||1),r.createElement(ne.a,{color:ge.c.Alt2,type:ne.e.Span},a)};Qe.displayName="SubGiftNoticeLine";var Xe=function(e){var t=e.event,n=r.createElement(he.a,{contentID:t.user.id,login:t.user.username,sourceType:W.b.chat_message},Object(pe.a)(t.user.username,t.user.displayName)),i=null;return i=Object(ke.c)(t.channel)?function(e,t,n){return Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} 2019 All-Access Pass to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} 2019 All-Access Passes to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount):"custom"===t.plan?function(e,t,n,i){return 1===i?Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine"):i>1?Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,senderCount:i},"SubMysteryGiftNoticeLine"):Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount,t.senderCount):function(e,t,n,i,r){return 1===i?Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,tierNumber:r},"SubMysteryGiftNoticeLine"):i>1?Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,senderCount:i,tierNumber:r},"SubMysteryGiftNoticeLine"):Object(s.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n,tierNumber:r},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount,t.senderCount,Object(Ce.c)(t.plan)||1),r.createElement(ne.a,{color:ge.c.Alt2,type:ne.e.Span},i)};Xe.displayName="SubMysteryGiftNoticeLine";var Ze=function(e){var t=r.createElement(fe.a,{display:be.d.Block},r.createElement(he.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:W.b.chat_message},r.createElement(ne.a,{color:ge.c.Link},Object(pe.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.methods.prime?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>",{userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)},"x:twitch-prime-link":function(t){return $e(e.event.channel,"subscription",t)}},"SubNoticeV2Line"):e.event.methods.plan===Fe.a.Custom?Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong>",{userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"SubNoticeV2Line"):Object(s.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}",{tierNumber:Object(Ce.c)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(ne.a,{bold:!0,type:ne.e.Span},e)}},"SubNoticeV2Line"),r.createElement(J.a,{display:be.d.Flex},r.createElement(fe.a,{color:ge.c.Alt2},r.createElement(ve.a,{asset:ve.b.Star})),r.createElement(be.g,{margin:{left:.5}},r.createElement(ne.a,null,n)))},$e=function(e,t,n){return r.createElement(je,{channel:e,reference:t,text:n})};Ze.displayName="SubNoticeV2Line";var Je,et=n("+kC+"),tt=n("cr+I"),nt=Object(k.compose)(Object(C.a)(et,{options:function(e){return{variables:{login:e.channelLogin}}}}))(function(e){var t=e.data;if(t.loading)return null;var n=null;if(!t.error&&t.user&&t.user.subscriptionProducts&&t.user.subscriptionProducts.length>0){var i=t.user.subscriptionProducts.find(function(e){return!!e&&!!e.url});i&&(n=i.url)}if(!n)return r.createElement(J.a,null,Object(s.d)("This room is in subscribers only mode.","SubsOnlyUpsellLine"));var a=r.createElement(xe.a,{targetBlank:!0,to:n+"?"+tt.stringify({ref:"subscriber_only_mode_chat"})},n);return r.createElement(J.a,null,Object(s.d)("This room is in subscribers only mode. To talk, purchase a channel subscription at {productLink}",{productLink:a},"SubsOnlyUpsellLine"))}),it=n("k8pZ");!function(e){e.Timestamp="extension-message-timestamp",e.ExtensionName="extension-message-name"}(Je||(Je={}));var rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onExtensionNameClick=function(e){var n=t.props.message;t.props.onExtensionNameClick(n.extension.clientID,n.extension.version,n.id,e.currentTarget.getBoundingClientRect().bottom)},t}return i.__extends(t,e),t.prototype.render=function(){if(!this.props.installedExtensions)return null;var e=this.props.message;if(!this.props.installedExtensions.some(function(t){var n=t.extension;return n.clientId===e.extension.clientID&&n.version===e.extension.version}))return null;var t=this.props.message.extension.displayBadges;return r.createElement(J.a,{padding:{x:2,y:.5}},r.createElement("div",{id:this.props.message.id,className:"room-message"},this.renderTimestamp(),r.createElement(O.b,{badgeSets:this.props.badgeSets,badgesToRender:t}),this.renderMessageAuthor(this.props.message.extension),r.createElement("span",null,": "),this.renderMessageBody()))},t.prototype.renderTimestamp=function(){return this.props.showTimestamps?r.createElement("span",{key:"timestamp",className:"room-message__timestamp","data-test-selector":Je.Timestamp},Object(H.a)(new Date(this.props.message.sentAt))):null},t.prototype.renderMessageBody=function(){var e=Object(h.f)(this.props.message);return Object(H.f)(e,{forceClipsNetworkRequest:!0})},t.prototype.renderMessageAuthor=function(e){return r.createElement("button",{onClick:this.onExtensionNameClick,"data-test-selector":Je.ExtensionName},r.createElement("span",{key:e.clientID+"-"+e.version+"-messageauthor"},r.createElement("span",{key:"username-display",style:{color:e.chatColor}},r.createElement(ne.a,{bold:!0},e.displayName))))},t}(r.Component);var at,ot=Object(k.compose)(Object(a.connect)(function(e,t){return{installedExtensions:t.channelID?Object(it.a)(e,t.channelID):null}}),Object(G.b)(function(e){return{onExtensionNameClick:e.onShowExtensionMessageCard}}))(rt),st="https://www.twitch.tv/settings/connections";!function(e){e.Kickback="msg_blizzard",e.Enabled="blizzard_connect_on",e.Disabled="blizzard_connect_off",e.AlreadyEnabled="already_blizzard_mode_on",e.AlreadyDisabled="already_blizzard_mode_off"}(at||(at={}));var lt=function(e){var t=null;switch(e.type){case at.Kickback:var n=r.createElement(xe.a,{targetBlank:!0,to:st},st);t=Object(s.d)("You must connect your Blizzard account to send messages in this room. You can connect your Blizzard account in your Twitch settings at {settingsLink}",{settingsLink:n},"BlizzardConnectModeNoticeLine");break;case at.Enabled:t=Object(s.d)("This room now requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case at.Disabled:t=Object(s.d)("This room no longer requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case at.AlreadyEnabled:t=Object(s.d)("This room already requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case at.AlreadyDisabled:t=Object(s.d)("This room does not require a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;default:return null}return r.createElement(J.a,null,t)};lt.displayName="BlizzardConnectNoticeLine";var ct,dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.targetedModerationActionEvent,t=null;switch(e.targetedModerationActionType){case c.TargetedModerationActions.DeleteNotification:var n=e.messageBody||"";t=r.createElement(Le.a,{messageBody:n,targetIsCurrentUser:!0})}return t?r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},t)):null},t}(r.Component),ut=(n("NWfm"),"timeout_success"),mt="untimeout_success",pt="ban_success",ht="unban_success",ft="delete_message_success",gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPrimeToPaidEnabled=Object(Ce.d)(Ce.a.Prime2Paid),t}return i.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){if(!e.doesNotUpdate)return!0;if(e.isCurrentUserModerator!==this.props.isCurrentUserModerator)return!0;if(e.showModerationIcons!==this.props.showModerationIcons)return!0;if(e.showTimestamps!==this.props.showTimestamps)return!0;if(e.useHighContrastColors!==this.props.useHighContrastColors)return!0;if(e.theme!==this.props.theme)return!0;switch(e.message.type){case p.b.Message:if(e.message.deleted)return!0;break;case p.b.Resubscription:case p.b.Ritual:if(e.message.message&&e.message.message.deleted)return!0;break;case p.b.AutoMod:if(e.message.autoModType===p.a.MessageRejectedPrompt&&(e.showAutoModActions!==this.props.showAutoModActions||e.message.rejectedMessage.deleted))return!0;break;case p.b.Hosting:case p.b.Unhost:case p.b.SlowMode:case p.b.SubscriberOnlyMode:case p.b.FollowerOnlyMode:case p.b.EmoteOnlyMode:case p.b.R9KMode:case p.b.Clear:case p.b.Unraid:case p.b.Notice:case p.b.Moderation:case p.b.ModerationAction:if(e.showModerationActions!==this.props.showModerationActions)return!0}return!1},t.prototype.render=function(){var e=this.props.message,t=null;if(this.props.isCurrentUserModerator){if(this.props.showModerationActions)switch(e.type){case p.b.Hosting:case p.b.Unhost:case p.b.SlowMode:case p.b.SubscriberOnlyMode:case p.b.FollowerOnlyMode:case p.b.EmoteOnlyMode:case p.b.R9KMode:case p.b.Clear:case p.b.Unraid:return null}if(this.props.showModerationIcons&&this.props.channelID)switch(e.type){case p.b.Subscription:case p.b.SubGift:case p.b.SubMysteryGift:case p.b.Resubscription:case p.b.GiftPaidUpgrade:case p.b.AnonGiftPaidUpgrade:case p.b.PrimePaidUpgrade:t=r.createElement(j,{channelID:this.props.channelID,renderNewVersion:!0,senderLogin:e.user.username,targetUserID:e.user.userID})}}switch(e.type){case p.b.AutoMod:return e.autoModType!==p.a.MessageRejectedPrompt||this.props.isCurrentUserModerator&&this.props.showAutoModActions?r.createElement(me,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,message:e,badgeSets:this.props.badgeSets,currentUserDisplayName:this.props.currentUserDisplayName,isCurrentUserModerator:this.props.isCurrentUserModerator,showModerationIcons:this.props.showModerationIcons,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction}):null;case p.b.ModerationAction:return this.props.isCurrentUserModerator&&this.props.showModerationActions?r.createElement(Be,{moderationActionEvent:e,currentUserLogin:this.props.currentUserLogin}):e.level===Ue.a.User&&e.targetUserLogin&&e.targetUserLogin===this.props.currentUserLogin?r.createElement(Be,{moderationActionEvent:e,currentUserLogin:this.props.currentUserLogin}):null;case p.b.TargetedModerationAction:return this.props.isCurrentUserModerator?null:r.createElement(dt,{targetedModerationActionEvent:e});case p.b.Connected:return r.createElement(J.a,{className:"chat-line__status","data-a-target":"chat-welcome-message"},r.createElement(ne.a,{type:ne.e.Span},Object(s.d)("Welcome to the chat room!","ChatLine")));case p.b.Disconnected:return e.reason?r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},Object(s.d)("You have been disconnected from chat for the following reason: {reason}",{reason:e.reason},"ChatLine"))):r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},Object(s.d)("Sorry, we were unable to connect to chat. Attempting to reconnect...","ChatLine")));case p.b.Hosted:return r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},Object(H.e)(e)));case p.b.Hosting:return r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},Object(s.d)("Now hosting {channel}",{channel:e.hostedChannel},"ChatLine")));case p.b.Unhost:return r.createElement(J.a,{className:"chat-line__status"},r.createElement(ne.a,{type:ne.e.Span},Object(s.d)("No longer hosting.","ChatLine")));case p.b.Message:return this.props.onRenderReportChatSent&&e.user.userLogin===this.props.currentUserLogin&&this.props.onRenderReportChatSent(),r.createElement(Q,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,badgeSets:this.props.badgeSets,message:e,isDeleted:e.deleted,isHidden:e.hidden,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction,theme:this.props.theme});case p.b.FirstCheerMessage:return r.createElement(Oe,null,r.createElement(Ie,{event:e}),r.createElement(J.a,null,r.createElement(Q,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors})));case p.b.BitsBadgeTierMessage:var n=void 0;return e.message.messageParts&&e.message.messageParts.length>0&&(n=r.createElement(J.a,{padding:{top:.5}},r.createElement(Q,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors}))),r.createElement(Oe,null,r.createElement(_e,{event:e,badgeSets:this.props.badgeSets}),n);case p.b.Moderation:return this.props.isCurrentUserModerator&&!this.props.showModerationActions?r.createElement(J.a,{className:"chat-line__moderation"},Object(H.g)(e)):null;case p.b.Subscription:return r.createElement(Oe,null,r.createElement(J.a,{display:be.d.Flex,justifyContent:be.h.Between},r.createElement(J.a,{alignItems:be.b.Start},r.createElement(Ze,{event:e})),r.createElement(J.a,{alignItems:be.b.End},t)));case p.b.SubGift:if("274598607"===e.user.userID){var i={type:p.b.AnonSubGift,id:e.id,channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientDisplayName,recipientID:e.recipientID,recipientLogin:e.recipientLogin};return r.createElement(Oe,null,r.createElement(Se,{event:i}))}return r.createElement(Oe,null,t,r.createElement(Qe,{event:e}));case p.b.AnonSubGift:return r.createElement(Oe,null,r.createElement(Se,{event:e}));case p.b.SubMysteryGift:if("274598607"===e.user.userID){i={type:p.b.AnonSubMysteryGift,id:e.id,channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount};return r.createElement(Oe,null,r.createElement(ye,{event:i}))}return r.createElement(Oe,null,t,r.createElement(Xe,{event:e}));case p.b.AnonSubMysteryGift:return r.createElement(Oe,null,r.createElement(ye,{event:e}));case p.b.RewardGift:return r.createElement(Ye.a,{event:e});case p.b.BitsCharity:return r.createElement(J.a,{className:"chat-line__bits-charity",padding:{right:2,y:.5}},Object(H.b)(e));case p.b.Resubscription:var a=null;return e.message&&(a=r.createElement(Q,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors})),r.createElement(Oe,null,r.createElement(J.a,{display:be.d.Flex,justifyContent:be.h.Between},r.createElement(qe,{event:e}),!a&&r.createElement(J.a,{alignItems:be.b.End},t)),a&&r.createElement(J.a,{margin:{top:.5}},a));case p.b.GiftPaidUpgrade:return r.createElement(Oe,null,t,r.createElement(Te,{event:e}));case p.b.AnonGiftPaidUpgrade:return r.createElement(Oe,null,t,r.createElement(Ee,{event:e}));case p.b.PrimePaidUpgrade:return r.createElement(r.Fragment,null,this.isPrimeToPaidEnabled&&r.createElement(Oe,null,r.createElement(J.a,{display:be.d.Flex,justifyContent:be.h.Between},r.createElement(J.a,{alignItems:be.b.Start},r.createElement(He,{event:e})),r.createElement(J.a,{alignItems:be.b.End},t))));case p.b.RoomMods:return r.createElement(J.a,{className:"chat-line__status"},Object(H.i)(e.moderatorLogins));case p.b.SlowMode:return r.createElement(J.a,{className:"chat-line__status"},Object(H.j)(e));case p.b.SubscriberOnlyMode:return r.createElement(J.a,{className:"chat-line__status"},Object(H.k)(e));case p.b.FollowerOnlyMode:return r.createElement(J.a,{className:"chat-line__status"},Object(H.d)(e));case p.b.EmoteOnlyMode:return r.createElement(J.a,{className:"chat-line__status"},Object(H.c)(e));case p.b.R9KMode:return r.createElement(J.a,{className:"chat-line__status"},Object(H.h)(e));case p.b.Clear:return r.createElement(J.a,{className:"chat-line__status"},Object(s.d)("Chat was cleared by a moderator","ChatLine"));case p.b.Notice:if(function(e){return e.msgid in Ge()}(e))return r.createElement(J.a,{className:"chat-line__status"},r.createElement(We,{message:e}));switch(e.msgid){case"msg_subsonly":return r.createElement(J.a,{className:"chat-line__status"},r.createElement(nt,{channelLogin:this.props.channelLogin}));case at.Kickback:case at.Enabled:case at.Disabled:case at.AlreadyEnabled:case at.AlreadyDisabled:return r.createElement(J.a,{className:"chat-line__status"},r.createElement(lt,{type:e.msgid}))}if(this.props.isCurrentUserModerator)switch(e.msgid){case ft:case ut:case pt:return null;case mt:case ht:if(this.props.showModerationActions)return null}return r.createElement(J.a,{className:"chat-line__status"},e.message);case p.b.Info:return r.createElement(J.a,{className:"chat-line__status"},e.message);case p.b.Raid:return r.createElement(Re,{message:e});case p.b.Unraid:return r.createElement(Oe,null,r.createElement(ne.a,{color:ge.c.Alt2},Object(s.d)("The raid has been cancelled.","RaidCancelMessage")));case p.b.Ritual:return r.createElement(Oe,null,r.createElement(Ke,{event:e}),r.createElement(Q,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors}));case p.b.ExtensionMessage:return r.createElement(ot,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,currentUserLogin:this.props.currentUserLogin,message:e,showTimestamps:this.props.showTimestamps});default:return null}},t}(r.Component),bt=n("GnwI"),vt=(n("HjUq"),["scroll","wheel","mousewheel","DOMMouseScroll","keyup","mousedown"]),Et=10,kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isAutoScrolling:!0},t.shouldUpdateMessages=!1,t.saveScrollRef=function(e){return t.scroll=e},t.handleScrollEvent=function(e){t.scroll&&t.scroll.scrollContent&&(e.which>0||"mousedown"===e.type||"mousewheel"===e.type||"wheel"===e.type)&&(t.scroll.scrollContent.scrollHeight-t.scroll.scrollContent.scrollTop-t.scroll.scrollContent.offsetHeight<=Et?t.setState({isAutoScrolling:!0}):t.setState({isAutoScrolling:!1}))},t.handleResize=function(){t.state.isAutoScrolling&&t.scrollToBottom()},t.handleClickMoreMessages=function(){t.setState({isAutoScrolling:!0},t.scrollToBottom)},t.scrollToBottom=function(){t.scroll&&t.scroll.scrollContent&&(t.scroll.scrollContent.scrollTop=t.scroll.scrollContent.scrollHeight)},t.reportChatRenderSent=function(){t.props.chatRenderSentEvent&&t.props.latencyTracking.reportCustomEvent(t.props.chatRenderSentEvent)},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;vt.forEach(function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.addEventListener(t,e.handleScrollEvent)})},t.prototype.componentWillUnmount=function(){var e=this;vt.forEach(function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.removeEventListener(t,e.handleScrollEvent)})},t.prototype.componentWillReceiveProps=function(e){0===this.props.badgeSets.count&&e.badgeSets.count>0&&(this.shouldUpdateMessages=!0)},t.prototype.componentDidUpdate=function(e){this.shouldUpdateMessages=!1,this.state.isAutoScrolling&&this.props.messages!==e.messages&&this.scrollToBottom()},t.prototype.render=function(){var e=this,t=this.props.messages.map(function(t){return r.createElement(gt,{badgeSets:e.props.badgeSets,channelID:e.props.channelID,channelLogin:e.props.channelLogin,isCurrentUserModerator:e.props.isCurrentUserModerator,isCurrentUserStaff:e.props.isCurrentUserStaff,message:t,key:t.id,showAutoModActions:e.props.showAutoModActions,showModerationActions:e.props.showModerationActions,showModerationIcons:e.props.showModerationIcons,showTimestamps:e.props.showTimestamps,useHighContrastColors:e.props.useHighContrastColors,currentUserDisplayName:e.props.currentUserDisplayName,currentUserLogin:e.props.currentUserLogin,confirmModerationAction:e.props.confirmModerationAction,doesNotUpdate:!e.shouldUpdateMessages,theme:e.props.theme,onRenderReportChatSent:e.reportChatRenderSent})});return r.createElement(J.a,{refDelegate:this.props.containerRef,className:"chat-list",display:be.d.Flex,flexDirection:be.e.Column,flexWrap:be.f.NoWrap,overflow:be.i.Hidden,flexGrow:1},r.createElement(b.a,{onResize:this.handleResize}),r.createElement(be.g,{flexGrow:1},r.createElement(v.b,{className:"chat-list__lines",scrollRef:this.saveScrollRef,"data-a-target":"chat-scroller"},r.createElement(be.g,{flexGrow:1,fullHeight:!0,padding:{bottom:1}},r.createElement("div",{role:"log"},t)))),r.createElement(J.a,{className:"chat-list__more-messages-placeholder",position:be.j.Relative,margin:{x:2}},this.moreMessages()))},t.prototype.moreMessages=function(){return this.state.isAutoScrolling?null:r.createElement(be.g,{display:be.d.Flex,justifyContent:be.h.Center,alignItems:be.b.Center,position:be.j.Absolute,padding:.5,attachBottom:!0,fullWidth:!0},r.createElement(fe.a,{className:"chat-list__more-messages",borderRadius:ge.b.Medium},r.createElement("div",{onClick:this.handleClickMoreMessages},Object(s.d)("More messages below.","ChatList"))))},t}(r.Component),Ct=Object(bt.withLatencyTracking)("ChatListPresentation",{autoReportInteractive:!0})(kt),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={messages:[]},t.onBufferUpdate=function(){t.syncBufferHandle||(t.syncBufferHandle=setTimeout(t.syncBufferedMessages,0))},t.syncBufferedMessages=function(){t.props.messageBufferAPI&&t.setState({messages:t.props.messageBufferAPI.getMessages()}),t.clearBufferHandle()},t.clearBufferHandle=function(){t.syncBufferHandle&&(clearTimeout(t.syncBufferHandle),t.syncBufferHandle=0)},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))},t.prototype.componentWillReceiveProps=function(e){var t,n,i,r=e.pubsub.messages.chatRichEmbedInfo,a=e.pubsub.messages.extensionMessage;r&&this.props.pubsub.messages.chatRichEmbedInfo!==r&&s.q.apollo.client.writeQuery({query:u,variables:{slug:r.data.twitch_metadata.clip_metadata.slug},data:(t=r,n=t.data.twitch_metadata.clip_metadata,{clip:n.id?{__typename:"Clip",slug:n.slug,id:n.id,url:t.data.request_url,title:t.data.title,thumbnailURL:t.data.thumbnail_url,curator:n.curator_id?{displayName:t.data.author_name,id:n.curator_id,__typename:"User"}:null,broadcaster:n.channel_display_name?{displayName:n.channel_display_name,id:n.broadcaster_id,__typename:"User"}:null}:null})}),this.props.messageBufferAPI!==e.messageBufferAPI&&(this.props.messageBufferAPI&&this.props.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),e.messageBufferAPI&&(e.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:e.messageBufferAPI.getMessages()}))),a&&this.props.pubsub.messages.extensionMessage!==a&&this.props.onPushMessage((i=a.data,{type:p.b.ExtensionMessage,id:i.id,sentAt:i.sent_at,extension:{clientID:i.sender.extension_client_id,version:i.sender.extension_version,displayName:i.sender.display_name,displayBadges:Object(h.b)(i.sender.badges),chatColor:i.sender.chat_color},content:{text:i.content.text,fragments:Object(h.c)(i.content.fragments)}}))},t.prototype.componentWillUnmount=function(){this.props.messageBufferAPI&&this.props.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.clearBufferHandle()},t.prototype.render=function(){return r.createElement(Ct,{channelID:this.props.channelID,badgeSets:this.props.badgeSets,currentUserDisplayName:this.props.currentUserDisplayName,channelLogin:this.props.channelLogin,onPushMessage:this.props.onPushMessage,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isEmbedded:this.props.isEmbedded,messages:this.state.messages,showAutoModActions:this.props.showAutoModActions,showModerationActions:this.props.showModerationActions,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,theme:this.props.theme,useHighContrastColors:this.props.useHighContrastColors,currentUserLogin:this.props.currentUserLogin,containerRef:this.props.containerRef,chatRenderSentEvent:this.props.chatRenderSentEvent,confirmModerationAction:this.props.confirmModerationAction})},t}(r.Component);var yt=Object(o.compose)(Object(a.connect)(function(e){return{chatRenderSentEvent:Object(g.b)(e),showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps}}),Object(l.a)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?Object(d.C)(e.channelID):""},mapMessageTypesToProps:(ct={},ct[c.PubsubMessageType.StreamChatRoomChatRichEmbed]="chatRichEmbedInfo",ct[c.PubsubMessageType.StreamChatRoomExtensionMessage]="extensionMessage",ct)}]),f.a,Object(m.b)(function(e){return{useHighContrastColors:e.value}}))(St);n.d(t,!1,function(){return St}),n.d(t,"a",function(){return yt})},r2Xj:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={DarkMode:"darkMode",FollowerDuration:"followerDuration",FollowerMode:"followerMode",HideChat:"hideChat",ShowMessageFlags:"showMessageFlags",ShowAutoModActions:"showAutoModActions",ShowModActions:"showModerationActions",ShowModIcons:"showModIcons",ShowTimestamps:"showTimestamps",UseHighContrastColors:"useHighContrastColors",SlowMode:"slowMode"}},rAoL:function(e,t,n){},rVcM:function(e,t,n){},rVcl:function(e,t,n){},rljb:function(e,t,n){},ru7j:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};n.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},ry0r:function(e,t,n){"use strict";var i,r=n("/MKj"),a=n("kRBY"),o=n("mrSG"),s=n("q1tI"),l=n("oJmH"),c=n("/7QA"),d=n("yR8l"),u=n("eDVu"),m=n("0Log"),p=n("geRD"),h=n("/aPz"),f=n("DMoW"),g=n("TSYQ"),b=n("4rCz"),v=n("hnjF"),E=n("7uM4"),k=n("7d/q"),C=n("sUnt"),S=n("Ws8v"),y=n("X2PJ");n("OCTF");!function(e){e.CloseButton="bits-card-wrapper-close-button-selector",e.OuterWrapper="bits-card-wrapper-outer-selector",e.InnerWrapper="bits-card-wrapper-inner-selector"}(i||(i={}));var N,_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.onUserClose,n=e.children,r=e.className,a=e.dataATarget,o=e.closeDataATarget,l=t?s.createElement(C.a,{position:v.j.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0,zIndex:v.n.Above},s.createElement(k.a,{ariaLabel:Object(b.d)("close bits card","BitsCard"),"data-a-target":o,"data-test-selector":i.CloseButton,onClick:t,icon:E.b.Close,type:k.c.Secondary,size:k.b.Small})):null;return s.createElement(S.a,{"data-test-selector":i.OuterWrapper,className:g("bits-card-wrapper",r),"data-a-target":a,display:v.d.Flex,flexDirection:v.e.Column,position:v.j.Absolute,background:y.a.Base,elevation:3,zIndex:v.n.Above,fullWidth:!0,border:!0},l,s.createElement(C.a,{"data-test-selector":i.InnerWrapper,display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center,justifyContent:v.h.Center,flexGrow:1,fullWidth:!0},n))},t.defaultProps={dataATarget:"bits-card",closeDataATarget:"bits-card-close-button"},t}(s.PureComponent),I=n("zrSb"),T=n("+80q"),O=function(){return s.createElement(C.a,{textAlign:v.k.Center,padding:1},s.createElement(T.a,{italic:!0},Object(c.d)("Have no fear, your Bits inventory is safe! The ability to Cheer will return shortly.","BitsCard")))},D=n("VeT4"),A=n("/0dD"),w=n("XDQu");n("ZfCj");(N||(N={})).Placeholder="placeholder";var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCheermoteHover=function(e){var n=e.currentTarget.getAttribute("data-key");n&&t.props.onHover&&t.props.onHover(n)},t.handleCheermoteUnhover=function(){t.props.onHoverLeave&&t.props.onHoverLeave()},t.handleCheermoteClick=function(e){var n=e.currentTarget.getAttribute("data-key");n&&t.props.onClick&&t.props.onClick(n)},t}return o.__extends(t,e),t.prototype.render=function(){return this.props.cheermote&&this.props.cheermote.key?s.createElement("li",{className:g("cheermote-button",this.props.className)},s.createElement("button",{className:"cheermote-button__button","data-key":this.props.cheermote.key,onMouseEnter:this.handleCheermoteHover,onMouseLeave:this.handleCheermoteUnhover,onClick:this.handleCheermoteClick,"data-a-target":"cheermote-"+this.props.cheermote.key.replace(":","")},s.createElement("img",{alt:this.props.cheermote.key,src:this.props.darkModeEnabled?this.props.cheermote.imgSrcDark:this.props.cheermote.imgSrc})),this.props.children):s.createElement("li",{"data-test-selector":N.Placeholder},s.createElement("button",{className:"cheermote-button__button",disabled:!0},s.createElement("div",{className:"cheermote-button__placeholder"})))},t}(s.PureComponent);var M,L=Object(r.connect)(function(e){return{darkModeEnabled:Object(w.a)(e)===A.a.Dark}})(R),U=n("5zXJ"),B=n("dEDE");(M||(M={})).MinBitsAmountDisclaimer="min-bits-amount-disclaimer";var F,P=["cheer","shamrock","frankerz","party"],x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.makeCheermoteButtons=function(e){var n=t.props.bitsConfig.indexedActions[e];return t.makeCheermoteButton(n)},t.makeCheermoteButton=function(e){if(e){var n=e.indexedTiers.get(U.l);if(n){var i={key:e.prefix,imgSrc:n.indexedImages.LIGHT.static.get(2),imgSrcDark:n.indexedImages.DARK.static.get(2)};return s.createElement(L,{key:i.key,cheermote:i,onClick:t.props.onCheermoteClick})}}},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=P.map(this.makeCheermoteButtons),n=this.props.bitsConfig.orderedActions.find(function(e){return e.type===f.x.CUSTOM});return n&&(t[1]=this.makeCheermoteButton(n)),s.createElement(C.a,{className:"first-cheer-builder",display:v.d.Flex,flexDirection:v.e.Column,padding:{top:3},justifyContent:v.h.Between},s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,textAlign:v.k.Center},s.createElement(T.a,{bold:!0,type:T.e.H4},Object(c.d)("Support your streamer with Bits","FirstCheerPrefixSelector")),s.createElement(C.a,{padding:{x:4,top:.5},textAlign:v.k.Left},s.createElement(T.a,{type:T.e.Span},Object(c.d)("Twitch rewards streamers when you use Bits. Send {channelName} some love! First select a cheermote.",{channelName:this.props.channelName},"FirstCheerPrefixSelector"))),!this.props.canCheerInChannel&&s.createElement(C.a,{padding:{top:1}},s.createElement(T.a,{"data-test-selector":M.MinBitsAmountDisclaimer,type:T.e.Span,italic:!0},Object(c.d)("{channelName} requires <x:bitsAmount></x:bitsAmount> to cheer in this channel",{channelName:this.props.channelName,"x:bitsAmount":function(){return s.createElement(D.a,{count:e.props.minCheerAmount,bitsConfig:e.props.bitsConfig,withImage:!1,withText:!0})}},"FirstCheerPrefixSelector")))),s.createElement(v.g,{display:v.d.Flex,flexDirection:v.e.Row,justifyContent:v.h.Center},s.createElement("ol",null,t)),s.createElement(C.a,{padding:{x:2,bottom:.5},fullWidth:!0},s.createElement(B.a,{"data-a-target":"bits-card-back-button",type:B.d.Text,fullWidth:!0,onClick:this.props.onShowAllCheermotes},Object(c.d)("Show All Cheermotes","FirstCheerPrefixSelector"))))},t}(s.PureComponent),j=n("8/mp"),H=n("Jsra"),V=function(e){return s.createElement(C.a,{padding:{top:2,bottom:1}},s.createElement(H.a,{onClick:e.onClickHelp},Object(c.d)("How do I cheer?","Bits--CheermoteIntro")))},G=n("3CMh"),W=function(e){var t=e.headline||e.prefix+(e.tier||"");if(e.tournament&&e.tier<=0){var n=e.tournament.teams.find(function(t){return t.id===e.prefix});n&&(t=n.name+" - "+e.prefix)}return s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center,padding:1},!e.hideHeadline&&s.createElement(T.a,{type:T.e.H4,bold:!0},t),s.createElement(G.a,{prefix:e.prefix,amount:e.tier,bitsConfig:e.bitsConfig,showImage:!0,showAmount:e.tier>0}),s.createElement(V,{onClickHelp:e.onClickHelp}))},q=(n("ecb7"),function(e){var t=e.prefixes.map(function(t,n){if(t.alt&&t.cheerAmount)return s.createElement(v.g,{className:"pending-cheer-list__list-item",key:n,padding:{x:1}},s.createElement("li",null,s.createElement(G.a,{prefix:t.alt,amount:t.cheerAmount>U.o?U.o:t.cheerAmount,bitsConfig:e.bitsConfig,size:G.b.Small,showAmount:!0,showImage:!0})))});return s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Row,alignItems:v.b.End,justifyContent:v.h.Center,flexWrap:v.f.Wrap,margin:{top:1},className:"pending-cheer-list"},t)});!function(e){e.MinCheer="sponsored-campaign-minimum-cheer",e.OverBitsTotal="sponsored-campaign-over-total",e.CannotBeSponsored="sponsored-campaign-cannot-be-sponsored",e.OverUserLimit="sponsored-campaign-over-user-limit"}(F||(F={}));var z,Y,K=function(e){var t=0;if(e.prefixes.forEach(function(n){n.alt===e.sponsoredCampaignPrefix&&n.cheerAmount&&(t+=n.cheerAmount)}),t<=0)return null;if(t<e.sponsoredCampaign.minimumBitsAmount){var n=Object(c.d)("This Cheermote has a minimum of {minBits} Bits for {brand} to add extra Bits.",{minBits:e.sponsoredCampaign.minimumBitsAmount,brand:e.sponsoredCampaign.brandName},"Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":F.MinCheer,color:y.c.Error},n)}if(!e.sponsoredCampaign.bitsUsed||!e.sponsoredCampaign.bitsTotal||e.sponsoredBitsBonus+e.sponsoredCampaign.bitsUsed>e.sponsoredCampaign.bitsTotal){n=Object(c.d)("Not enough bits from the sponsored pool to support your cheer with the {brand} Cheermote.",{brand:e.sponsoredCampaign.brandName},"Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":F.OverBitsTotal,color:y.c.Error},n)}if(e.sponsoredCampaign.self){if(!e.sponsoredCampaign.self.canBeSponsored){n=Object(c.d)("You are not eligible to use the {brand} Cheermote.",{brand:e.sponsoredCampaign.brandName},"Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":F.CannotBeSponsored,color:y.c.Error},n)}if(e.sponsoredCampaign.self.bitsUsed+e.sponsoredBitsBonus>e.sponsoredCampaign.userLimit){n=Object(c.d)("You have reached the user limit for use of the {brand} Cheermote.",{brand:e.sponsoredCampaign.brandName},"Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":F.OverUserLimit,color:y.c.Error},n)}}return null},Q=n("XmgI");!function(e){e.DisplayOnlyCheermote="display-only-cheermote-selector",e.ZeroBalance="zero-balance-selector",e.PurchaseMore="purchase-more-selector",e.LargestCheermote="largest-cheermote-selector",e.MinimumCheerSelector="minimum-cheer-selector",e.MinimumCheermoteSelector="minimum-cheermote-selector",e.MessageLengthExceeded="message-length-exceeded-selector",e.UserBanned="user-banned-selector",e.UserIneligible="user-ineligible-selector",e.UserSuspended="user-suspended-selector",e.ChannelIneligible="channel-ineligible-selector",e.ZalgoMessage="zalgo-message-selector",e.ChannelBlockedTerms="channel-blocked-terms-selector",e.InvalidEventID="invalid-event-id-selector",e.RequestThrottled="request-throttled-selector",e.Unknown="unknown-selector"}(Y||(Y={}));var X=((z={})[f.Ua.USER_BANNED]=Y.UserBanned,z[f.Ua.USER_INELIGIBLE]=Y.UserIneligible,z[f.Ua.USER_SUSPENDED]=Y.UserSuspended,z[f.Ua.CHANNEL_INELIGIBLE]=Y.ChannelIneligible,z[f.Ua.ZALGO_MESSAGE]=Y.ZalgoMessage,z[f.Ua.CHANNEL_BLOCKED_TERMS]=Y.ChannelBlockedTerms,z[f.Ua.INVALID_EVENT_ID]=Y.InvalidEventID,z[f.Ua.REQUEST_THROTTLED]=Y.RequestThrottled,z[f.Ua.UNKNOWN]=Y.Unknown,z),Z=function(e){if(e.smallestCheermote<e.minPerEmote||e.bitsSendHasError&&e.bitsSendErrorCode===f.Ua.EMOTE_AMOUNT_BELOW_MIN_BITS){var t=Object(c.d)("This channel has set a minimum of {minPerEmote} Bits to use a Cheer emote in chat.",{minPerEmote:e.minPerEmote},"Bits--PendingCheer");return e.onValidationError(f.Ua.EMOTE_AMOUNT_BELOW_MIN_BITS),s.createElement(T.a,{"data-test-selector":Y.MinimumCheermoteSelector,color:y.c.Error,italic:!0,"data-a-target":"min-emote-bits-error"},t)}if(e.chatMessage&&e.chatMessage.length>U.n||e.bitsSendHasError&&e.bitsSendErrorCode===f.Ua.MESSAGE_LENGTH_EXCEEDED){var n=Object(c.d)("You have exceeded the maximum number of characters you can use in your cheer.","Bits--PendingCheer");return e.onValidationError(f.Ua.MESSAGE_LENGTH_EXCEEDED),s.createElement(T.a,{"data-test-selector":Y.MessageLengthExceeded,color:y.c.Error,italic:!0},n)}if(e.bitsSendHasError){var i=X[e.bitsSendErrorCode]||X[f.Ua.UNKNOWN],r=void 0;switch(e.bitsSendErrorCode){case f.Ua.ZALGO_MESSAGE:r=Object(c.d)("You have unsupported characters in your message, please remove them and try again.","Bits--PendingCheer");break;case f.Ua.USER_BANNED:case f.Ua.USER_INELIGIBLE:case f.Ua.USER_SUSPENDED:case f.Ua.CHANNEL_INELIGIBLE:r=Object(c.d)("Sorry, you are unable to send bits in this channel at this time.","Bits--PendingCheer");break;case f.Ua.CHANNEL_BLOCKED_TERMS:r=Object(c.d)("You have blocked words in your message, please remove them and try again.","Bits--PendingCheer");break;case f.Ua.INVALID_EVENT_ID:case f.Ua.REQUEST_THROTTLED:case f.Ua.UNKNOWN:default:r=Object(c.d)("Something went wrong when processing your cheer, please try again later.","Bits--PendingCheer")}return e.onValidationError(e.bitsSendErrorCode),s.createElement(T.a,{"data-test-selector":i,color:y.c.Error,italic:!0},r)}return null},$=function(e){if(e.largestCheermote>U.o||e.bitsSendHasError&&e.bitsSendErrorCode===f.Ua.TOO_LARGE_BITS_EMOTE){var t=Object(c.d)("{maximumCheerSize} is the largest Cheer emote, add another emote to Cheer louder!",{maximumCheerSize:U.o},"Bits--PendingCheer");return e.onValidationError(f.Ua.TOO_LARGE_BITS_EMOTE),s.createElement(T.a,{"data-test-selector":Y.LargestCheermote,"data-a-target":"max-cheer-bits-error"},t)}if(0===e.bitsBalance)return e.onValidationError(f.Ua.INSUFFICIENT_BALANCE),s.createElement(T.a,{"data-test-selector":Y.ZeroBalance,"data-a-target":"zero-bits-error"},Object(c.d)("Please get Bits. You have 0 Bits and cannot send a Cheer","Bits--PendingCheer"));if(e.bitsBalance&&e.amount>e.bitsBalance)return e.onValidationError(f.Ua.INSUFFICIENT_BALANCE),s.createElement(T.a,{"data-test-selector":Y.PurchaseMore,"data-a-target":"need-more-bits-error"},Object(c.d)("Please purchase {neededBits} more Bits to Cheer",{neededBits:e.amount-e.bitsBalance},"Bits--PendingCheer"));if(e.amount<e.minToCheer||e.bitsSendHasError&&e.bitsSendErrorCode===f.Ua.AMOUNT_BELOW_MIN_BITS){e.onValidationError(f.Ua.AMOUNT_BELOW_MIN_BITS);var n=Object(c.d)("Add {moreBitsAmount} more Bits to reach this channel's minimum Cheer.",{moreBitsAmount:e.minToCheer-e.amount},"Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":Y.MinimumCheerSelector,"data-a-target":"min-cheer-bits-error"},n)}if(e.amount>U.p||e.bitsSendHasError&&e.bitsSendErrorCode===f.Ua.TOO_LARGE_CHEER){e.onValidationError(f.Ua.TOO_LARGE_CHEER);var i=Object(c.d)("{maximumCheerSize} is the maximum amount of Bits you can send in one message, send multiple messages if you want to Cheer more!",{maximumCheerSize:U.p},"Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":Y.MinimumCheerSelector,"data-a-target":"max-message-bits-error"},i)}if(e.chatMessage&&Object(Q.c)(e.chatMessage,e.bitsConfig)){e.onValidationError(f.Ua.INVALID_BITS_MESSAGE);var r=Object(c.d)("message contains at least one display only Cheermote.","Bits--PendingCheer");return s.createElement(T.a,{"data-test-selector":Y.DisplayOnlyCheermote,"data-a-target":"display-only-bits-error"},r)}return null},J=(n("ECxT"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCheermoteHover=function(e){var n=e.currentTarget.getAttribute("data-key");n&&t.props.onHover(n)},t.handleCheermoteUnhover=function(){t.props.onHoverLeave()},t.handleCheermoteClick=function(e){var n=e.currentTarget.getAttribute("data-key");n&&t.props.onClick(n)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.bitsConfig.indexedActions[this.props.chosenCheermote.toLowerCase()],n=this.props.isAnonymous&&Object(Q.e)(this.props.chosenCheermote),i=t.orderedTiers.filter(function(e){return e.canCheer&&e.canShowInBitsCard||n}).map(function(e){return{imgSrc:e.indexedImages.LIGHT.static.get(2),imgSrcDark:e.indexedImages.DARK.static.get(2),key:t.prefix+":"+e.bits}}).reverse().map(function(t,n){return t&&t.key?s.createElement("li",{key:t.key,className:"cheermote-tier-selector__cheermote"},s.createElement("button",{className:"cheermote-tier-selector__item-button","data-key":t.key,onMouseEnter:e.handleCheermoteHover,onMouseLeave:e.handleCheermoteUnhover,onClick:e.handleCheermoteClick,"data-a-target":"cheermote-"+t.key.replace(":","")},s.createElement("img",{alt:t.key,src:e.props.darkModeEnabled?t.imgSrcDark:t.imgSrc})),s.createElement(G.a,{bitsConfig:e.props.bitsConfig,prefix:"",amount:+t.key.split(":")[1],showImage:!1,showAmount:!0,size:G.b.Small})):s.createElement("li",{key:"null-cheermote-"+n},s.createElement("button",{className:"cheermote-tier-selector__item-button",disabled:!0},s.createElement("div",{className:"cheermote-tier-selector__placeholder"})))}),r=s.createElement(C.a,{padding:{right:2},fullWidth:!0,className:"cheermote-tier-selector__back-button",visibility:this.props.isAnonymous?v.m.Hidden:v.m.Visible},s.createElement(B.a,{"data-a-target":"bits-card-back-button",type:B.d.Text,fullWidth:!0,onClick:this.props.onClose},Object(c.d)("Show All Cheermotes","CheermoteCarousel"))),a=s.createElement(v.g,{className:"cheermote-tier-selector__cheermotes",display:v.d.Flex,flexWrap:v.f.Wrap,flexDirection:v.e.Row,justifyContent:v.h.Between,alignItems:v.b.End,padding:{bottom:1}},s.createElement("ul",null,i,r));return s.createElement(C.a,{flexGrow:1,overflow:v.i.Hidden,className:"cheermote-tier-selector"},a)},t}(s.PureComponent));var ee,te=Object(r.connect)(function(e){return{darkModeEnabled:Object(w.a)(e)===A.a.Dark}})(J),ne=n("ebRM");n("8BsE");!function(e){e.MinBitsChannelDisclaimer="min-bits-channel-disclaimer",e.BitsAmountCheering="bits-amount-cheering"}(ee||(ee={}));var ie,re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.unhoverTimeout=0,t.onClickTier=function(e){t.props.onClickCheermote(e.split(":").join(""))},t.onHover=function(e){clearTimeout(t.unhoverTimeout);var n=e.split(":");n.length<2||t.setState({hoveredTier:parseInt(n[1],10),hoveredCheermote:n[0]})},t.onHoverLeave=function(){t.unhoverTimeout=setTimeout(t.clearHovered,500)},t.clearHovered=function(){t.setState({hoveredTier:void 0,hoveredCheermote:void 0})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=Object(ne.a)(this.props.currentCheers),n=t.total,i=t.bonus,r=t.smallestCheermote,a=t.largestCheermote,o=null;if(this.props.currentCheers&&1===this.props.currentCheers.length){var l=this.props.currentCheers[0].alt;l&&(o=s.createElement(C.a,{padding:{top:1}},s.createElement(G.a,{prefix:l,amount:n>U.o?U.o:n,bitsConfig:this.props.bitsConfig,showImage:!0,showAmount:!0})))}else this.props.currentCheers&&(o=s.createElement(C.a,{margin:{y:1}},s.createElement(j.b,{className:"first-cheer-tier-selector__scroll-container"},s.createElement(q,{prefixes:this.props.currentCheers,bitsConfig:this.props.bitsConfig}))));var d=Object(c.d)("Back","FirstCheerTierSelector"),u=!(!this.state.hoveredCheermote||!this.state.hoveredTier),m=this.props.canCheerInChannel&&this.props.currentCheers.length>0,p=null;this.props.currentCheers&&this.props.sponsoredCampaign&&this.props.sponsoredCampaignPrefix&&(p=s.createElement(K,{prefixes:this.props.currentCheers,sponsoredCampaign:this.props.sponsoredCampaign,sponsoredCampaignPrefix:this.props.sponsoredCampaignPrefix,sponsoredBitsBonus:i}));var h=Z({smallestCheermote:r,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,minPerEmote:this.props.minPerEmote,chatMessage:this.props.chatMessage,onValidationError:this.props.onCheerInvalid}),f=$({largestCheermote:a,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,amount:n,minToCheer:this.props.minCheerAmount,bitsConfig:this.props.bitsConfig,bitsBalance:this.props.bitsBalance,chatMessage:this.props.chatMessage,onValidationError:this.props.onCheerInvalid});return h||f||this.props.onCheerInvalid(void 0),s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,justifyContent:v.h.Between},s.createElement(S.a,{padding:{top:3},display:v.d.Flex,flexDirection:v.e.Column,textAlign:v.k.Center,borderBottom:!0},s.createElement(C.a,{position:v.j.Absolute,attachLeft:!0,attachTop:!0,padding:{top:.5}},s.createElement(B.a,{ariaLabel:d,onClick:this.props.onBack,type:B.d.Text,icon:E.b.AngleLeft},d)),s.createElement(T.a,{type:T.e.H4,bold:!0},Object(c.d)("Pick cheermote tier","FirstCheerTierSelector")),s.createElement(C.a,{padding:{x:4,top:.5},textAlign:v.k.Left},s.createElement(T.a,null,Object(c.d)("Now, select how many Bits to use and send your message in chat.","FirstCheerTierSelector"))),u&&s.createElement(W,{hideHeadline:!0,bitsConfig:this.props.bitsConfig,prefix:this.state.hoveredCheermote,tier:this.state.hoveredTier,event:null,onClickHelp:this.props.showHelp}),!u&&s.createElement(s.Fragment,null,m&&!h&&s.createElement(s.Fragment,null,o,s.createElement(C.a,{padding:{bottom:.5}},s.createElement(T.a,{"data-test-selector":ee.BitsAmountCheering},Object(c.d)("You're cheering <x:bitsAmount></x:bitsAmount>",{"x:bitsAmount":function(){return s.createElement(D.a,{count:n,bitsConfig:e.props.bitsConfig,withImage:!1,withText:!0})}},"FirstCheerTierSelector")))),m&&!f&&p&&s.createElement(C.a,{padding:{top:1}},p),m&&f&&s.createElement(S.a,{padding:{top:1},color:y.c.Error},f),m&&h&&s.createElement(C.a,{padding:{top:3,x:3}},h),!m&&s.createElement(C.a,{padding:{y:3}},s.createElement(T.a,{"data-test-selector":ee.MinBitsChannelDisclaimer,type:T.e.Span,italic:!0},Object(c.d)("{channelName} requires <x:bitsAmount></x:bitsAmount> to cheer in this channel",{channelName:this.props.channelName,"x:bitsAmount":function(){return s.createElement(D.a,{count:e.props.minCheerAmount,bitsConfig:e.props.bitsConfig,withImage:!1,withText:!0})}},"FirstCheerTierSelector"))))),s.createElement(te,{bitsConfig:this.props.bitsConfig,chosenCheermote:this.props.chosenCheermote,onClose:this.props.onClose,onClick:this.onClickTier,onHover:this.onHover,onHoverLeave:this.onHoverLeave,isAnonymous:this.props.isAnonymous}))},t}(s.PureComponent),ae=(n("wtKP"),function(e){var t=void 0!==e.progress,n=s.createElement("img",{className:"cheer-badge__image",src:e.badge.image1x,alt:e.badge.title,srcSet:e.badge.image1x+" 1x, "+e.badge.image2x+" 2x, "+e.badge.image4x+" 4x"});if(!t)return n;var i=e.progress?Math.max(Math.round(18*(1-e.progress)),1):18;return s.createElement("div",{className:"cheer-badge__progress-container"},n,s.createElement("div",{className:"cheer-badge__progress-overlay",style:{width:i+"px"},"data-test-selector":"cheer-progress"}))}),oe=function(e){var t;e.selfBitsBadge&&(e.selfBitsBadge.current||e.selfBitsBadge.next)&&(t=s.createElement(C.a,{padding:{bottom:.5},visibility:e.isAnonymous?v.m.Hidden:v.m.Visible},e.selfBitsBadge.current&&s.createElement(C.a,{display:v.d.Inline,margin:{right:.5}},s.createElement(ae,{badge:e.selfBitsBadge.current})),e.selfBitsBadge.next&&s.createElement(ae,{badge:e.selfBitsBadge.next,progress:e.selfBitsBadge.progress}),e.selfBitsBadge.nextBits&&Object(c.d)("Next badge unlocks in {bitsToNextBadge} Bits!",{bitsToNextBadge:e.selfBitsBadge.nextBits-e.selfBitsBadge.totalBits},"Bits--BalanceFooter")));var n=Object(c.d)("{bitsGem} Log in to see your Bits balance",{bitsGem:s.createElement(D.a,{count:100,withImage:!0,bitsConfig:e.bitsConfig,themeOverride:A.a.Dark})},"Bits--BalanceFooter");return void 0!==e.balance&&null!==e.balance&&(n=Object(c.d)("You have {currentBits}",{currentBits:s.createElement(D.a,{count:e.balance,withImage:!0,withText:!0,bitsConfig:e.bitsConfig,themeOverride:A.a.Dark})},"Bits--BalanceFooter")),s.createElement(C.a,{flexGrow:1,padding:1,className:"bits-balance-footer"},t,s.createElement(C.a,{display:v.d.Flex,flexGrow:1,alignItems:v.b.Center,justifyContent:v.h.Between},s.createElement("div",null,n),(void 0===e.showBuyButton||void 0!==e.showBuyButton&&e.showBuyButton)&&s.createElement(B.a,{disabled:void 0===e.balance||void 0!==e.balance&&e.balance>U.m,onClick:e.onClickGetBits,"data-test-selector":"get-bits-button","data-a-target":"get-bits-button"},Object(c.d)("Get Bits","Bits--BalanceFooter"))))},se=n("jv9u"),le=n("wUQP"),ce=function(){return s.createElement(C.a,{display:v.d.Flex,flexGrow:1,flexDirection:v.e.Column,justifyContent:v.h.Center,alignItems:v.b.Center,padding:1},s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Row,alignItems:v.b.Center,padding:{bottom:1}},s.createElement(C.a,{display:v.d.Flex,alignItems:v.b.Center,padding:{right:.5}},s.createElement(E.a,{asset:E.b.Ghost,type:E.c.Brand})),s.createElement(T.a,{type:T.e.Span,fontSize:y.d.Size4,bold:!0},Object(c.d)("Cheering Anonymously","Bits--AnonymousIntro"))),s.createElement(T.a,null,Object(c.d)("Your name will appear in Chat as {anAnonymousCheerer} and custom messaging will be turned off.",{anAnonymousCheerer:s.createElement(v.g,{padding:{y:.5}},s.createElement(T.a,{bold:!0},U.c))},"Bits--AnonymousIntro")),s.createElement(C.a,{margin:1},s.createElement(H.a,{to:"https://help.twitch.tv/customer/portal/articles/2449458#AnonCheer",targetBlank:!0},Object(c.d)("Learn more","Bits--AnonymousIntro"))))},de=function(e){return s.createElement(C.a,{display:v.d.Flex,flexGrow:1,flexDirection:v.e.Column,justifyContent:v.h.Center,alignItems:v.b.Center,padding:1},s.createElement(C.a,{padding:{top:1}},s.createElement(T.a,{type:T.e.H4,color:y.c.Link,bold:!0},Object(c.d)("Cheer to support Direct Relief","Bits--CharityCheerIntro"))),s.createElement(T.a,null,Object(c.d)("Cheer with the Charity Cheermote or #charity and we'll donate $0.20 for every 100 Bits to Direct Relief, PLUS you'll unlock a custom charity chat badge. Available December 12 - 27.","Bits--CharityCheerIntro")),s.createElement(T.a,null,Object(c.d)("<x:link>Learn more</x:link>",{"x:link":function(e){return s.createElement(H.a,{targetBlank:!0,linkTo:"https://link.twitch.tv/blizzardofbits"},e)}},"Bits--CharityCheerIntro")),s.createElement(C.a,{padding:{top:1,bottom:1}},s.createElement("a",{href:"#",onClick:e.onClickHelp,"data-test-selector":"help-link"},Object(c.d)("How do I cheer?","Bits--CharityCheerIntro"))))},ue=n("dx/T"),me=function(e){return s.createElement(C.a,{display:v.d.Flex,flexGrow:1,flexDirection:v.e.Column,justifyContent:v.h.Center,alignItems:v.b.Center,padding:1},s.createElement(C.a,{padding:{top:2,bottom:2}},s.createElement(T.a,{type:T.e.H5,color:y.c.Link,bold:!0},Object(c.d)("Cheering Supports Your Streamer!","Bits--CheermoteIntro"))),s.createElement(T.a,null,Object(c.d)("Select a Cheermote to start your Cheer","Bits--CheermoteIntro")),s.createElement(V,{onClickHelp:e.onClickHelp}))},pe=(n("Aa/l"),function(e){var t=null;return e.minToCheer>1&&(t=s.createElement(T.a,{"data-test-selector":"min-to-cheer-selector",color:y.c.Alt2,italic:!0},Object(c.d)("This channel has a Cheer minimum of {minToCheer} Bits",{minToCheer:e.minToCheer},"Bits--CheermoteTierIntro"))),s.createElement(C.a,{display:v.d.Flex,flexGrow:1,flexDirection:v.e.Column,alignItems:v.b.Center,justifyContent:v.h.Center,padding:1,className:"cheermote-tier-intro"},s.createElement(C.a,{padding:{x:4},margin:{bottom:1}},s.createElement(T.a,{color:y.c.Alt2},Object(c.d)("Cheermotes have multiple tiers, rollover below to see each one!","Bits--CheermoteTierIntro"))),t)}),he=n("4VQm"),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return this.props.event,null},t}(s.Component),ge=n("2rlx"),be=n("hCFK");n("H0r1");!function(e){e.DefaultPendingCheerMessage="default-pending-cheer-message-selector",e.EventReminder="event-reminder-selector",e.InlineError="inline-error",e.FullError="full-error",e.GhostIcon="ghost-icon"}(ie||(ie={}));var ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inlineError:!1,fullError:!1},t}return o.__extends(t,e),t.prototype.render=function(){var e;if(this.props.prefixes&&1===this.props.prefixes.length){var t=this.props.prefixes[0].alt;t&&(e=s.createElement(C.a,{padding:{top:2}},s.createElement(G.a,{prefix:t,amount:this.props.amount>U.o?U.o:this.props.amount,bitsConfig:this.props.bitsConfig,showImage:!0,showAmount:!0})))}else if(this.props.prefixes)e=s.createElement(C.a,{margin:{top:1}},s.createElement(he.b,{className:"pending-cheer__scroll-container"},s.createElement(q,{prefixes:this.props.prefixes,bitsConfig:this.props.bitsConfig})));else{var n=Object(c.d)("You are using a total of {totalBits} Bits to cheer in {channelName}!",{totalBits:s.createElement("strong",null,this.props.amount),channelName:this.props.channelDisplayName},"Bits--PendingCheer");e=s.createElement(C.a,{"data-test-selector":ie.DefaultPendingCheerMessage,padding:{top:2,x:5}},s.createElement(T.a,{color:y.c.Alt2,"data-a-target":"total-bits-message"},n))}var i=null;this.props.prefixes&&this.props.sponsoredCampaign&&this.props.sponsoredCampaignPrefix&&(i=s.createElement(K,{prefixes:this.props.prefixes,sponsoredCampaign:this.props.sponsoredCampaign,sponsoredCampaignPrefix:this.props.sponsoredCampaignPrefix,sponsoredBitsBonus:this.props.sponsoredBitsBonus}));var r=Z({minPerEmote:this.props.minPerEmote,smallestCheermote:this.props.smallestCheermote,bitsSendHasError:this.props.bitsSendHasError,bitsSendErrorCode:this.props.bitsSendErrorCode,chatMessage:this.props.chatMessage,onValidationError:this.props.onCheerInvalid}),a=$({minToCheer:this.props.minToCheer,largestCheermote:this.props.largestCheermote,bitsSendHasError:this.props.bitsSendHasError,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsConfig:this.props.bitsConfig,bitsBalance:this.props.bitsBalance,amount:this.props.amount,chatMessage:this.props.chatMessage,onValidationError:this.props.onCheerInvalid});r||a||this.props.onCheerInvalid(void 0);var o=s.createElement(G.a,{amount:this.props.amount+this.props.bonusBits,prefix:U.k,bitsConfig:this.props.bitsConfig,display:v.d.Inline,showImage:!1,showAmount:!0,size:G.b.Medium}),l=[s.createElement(S.a,{key:"cheering-total-bits"},s.createElement(T.a,{fontSize:y.d.Size4,bold:!0},Object(c.d)("Cheering {totalBits} Bits",{totalBits:o},"Bits--PendingCheer")))];this.props.isAnonymous&&(l=[s.createElement(S.a,{key:"ghost-icon",display:v.d.Flex,alignItems:v.b.Center,margin:{right:.5}},s.createElement(E.a,{"data-test-selector":ie.GhostIcon,asset:E.b.Ghost,type:E.c.Brand}))].concat(l));return s.createElement(C.a,null,s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center,padding:1,className:"pending-cheer"},s.createElement(v.g,{display:v.d.Flex,alignItems:v.b.Center},s.createElement(ge.a,{transitionType:be.c.Fade},l)),!r&&e,!r&&!a&&i&&s.createElement(C.a,{padding:{top:1}},i),!r&&a&&s.createElement(S.a,{"data-test-selector":ie.InlineError,padding:{top:1},color:y.c.Error},a),r&&s.createElement(C.a,{"data-test-selector":ie.FullError,padding:{top:3,x:3}},r)),!r&&!a&&s.createElement(fe,{event:this.props.event,amount:this.props.amount,"data-test-selector":ie.EventReminder}))},t}(s.PureComponent),Ee=n("x1M1"),ke=(n("zmH+"),{themed:!0,dark:{"1x":U.g+"/dark/animated/promo/intro.gif"},light:{"1x":U.g+"/light/animated/promo/intro.gif"}}),Ce=function(){return s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center,justifyContent:v.h.Center,flexGrow:1,className:"bits-sending"},s.createElement(C.a,{padding:{bottom:1}},s.createElement(Ee.a,{sources:ke})),s.createElement(T.a,{italic:!0},Object(c.d)("Your Cheer is currently processing.","Bits--SendingBits")))};function Se(e){var t={maximumFractionDigits:1};return e<1e4?Object(c.f)(e,t):e<1e5?Object(c.g)(100*Math.floor(e/100),t):e<1e6?Object(c.g)(1e3*Math.floor(e/1e3),t):Object(c.g)(1e5*Math.floor(e/1e5),t)}var ye,Ne=n("uG/k"),_e=n("Z2sP"),Ie=(n("Yr1V"),function(e){var t=Se(e.sponsorCampaign.bitsUsed||0),n=Se(e.sponsorCampaign.bitsTotal||0),i=e.sponsorCampaign.bitsUsed&&e.sponsorCampaign.bitsTotal?e.sponsorCampaign.bitsUsed/e.sponsorCampaign.bitsTotal*100:0;return s.createElement(S.a,{background:y.a.AccentAlt2,color:y.c.Overlay,display:v.d.Flex,flexGrow:1,flexDirection:v.e.Column,position:v.j.Relative,justifyContent:v.h.Center,alignItems:v.b.Center,padding:1},s.createElement(C.a,{padding:{top:1,bottom:1}},s.createElement(T.a,{type:T.e.H5,bold:!0},Object(c.d)("Give more Bits to this streamer!","Bits--SponsorIntro"))),s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Row,fullWidth:!0,padding:{bottom:1}},s.createElement(v.g,{padding:{right:1}},s.createElement(Ne.a,{src:e.sponsorCampaign.brandImageURL,alt:e.sponsorCampaign.brandName})),s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,flexGrow:1},s.createElement(v.g,{alignSelf:v.c.Baseline},s.createElement(T.a,null,Object(c.d)("{brandName} Bits",{brandName:e.sponsorCampaign.brandName},"Bits--SponsorIntro"))),s.createElement(_e.a,{value:i,mask:!0}),s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Row,justifyContent:v.h.Between},s.createElement(T.a,{fontSize:y.d.Size7},Object(c.d)("{bitsUsed} Used",{bitsUsed:t},"Bits--SponsorIntro")),s.createElement(T.a,{fontSize:y.d.Size7},Object(c.d)("{totalBits}",{totalBits:n},"Bits--SponsorIntro"))))),s.createElement(T.a,{fontSize:y.d.Size7},Object(c.d)("The {brandName} Cheermote gives {sponsorPercentage}% bonus Bits when you Cheer {minimumSponsorBits} or more!",{minimumSponsorBits:e.sponsorCampaign.thresholds[0].minimumBits,brandName:e.sponsorCampaign.brandName,sponsorPercentage:100*e.sponsorCampaign.thresholds[0].matchedPercent},"Bits--SponsorIntro")),s.createElement(S.a,{background:y.a.AccentAlt2,position:v.j.Absolute,className:"sponsored-cheermote__tail"}))}),Te=(n("u0cu"),function(e){var t=Object(c.d)("You are using {totalBits} Bits to cheer in {channelName}'s chat.",{totalBits:e.totalBits,channelName:e.channelDisplayName},"Bits--UndoPrompt"),n=null;if(e.prefixes&&e.prefixes.length>1)n=s.createElement(he.b,{className:"bits-undo-prompt__scroll-container"},s.createElement(C.a,{margin:{top:1}},s.createElement(q,{prefixes:e.prefixes,bitsConfig:e.bitsConfig})));else{var i=e.prefixes[0].alt;i&&(n=s.createElement(C.a,{padding:{bottom:1}},s.createElement(G.a,{prefix:i,amount:e.totalBits,bitsConfig:e.bitsConfig,showAmount:!0,showImage:!0})))}return s.createElement(C.a,{display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center,justifyContent:v.h.Center,flexGrow:1,padding:1,className:"bits-undo-prompt"},n,s.createElement(T.a,null,t))}),Oe=function(){return s.createElement(C.a,{className:"hgg-2018-introduction"},s.createElement(C.a,{padding:{top:1}},s.createElement(T.a,{fontSize:y.d.Size5,bold:!0},Object(c.d)("Cheer with Bits and unlock loot!","HGG2018Introduction"))),s.createElement(C.a,{fullWidth:!0,display:v.d.Flex,flexDirection:v.e.Column,alignContent:v.a.Stretch},s.createElement(Ne.a,{className:"hgg-2018-introduction__banner-image",src:U.h+"/hearthstone2018/marketing/bitscardbanner.png",srcSet:{"2x":U.h+"/hearthstone2018/marketing/bitscardbanner.png"},alt:Object(c.d)("Hearthstone Global Games","HGG2018Introduction")})),s.createElement(C.a,{padding:{x:2,top:1,bottom:.5}},s.createElement(T.a,null,Object(c.d)("Unlock in-game loot and Twitch emotes when you Cheer with Bits to support your favorite team.","HGG2018Introduction"))),s.createElement(C.a,{padding:{bottom:1}},s.createElement(H.a,{to:"https://watch.twitch.tv/HGGCheer",targetBlank:!0,hoverUnderlineNone:!1},Object(c.d)("Details","HGG2018Introduction"))))},De=(n("qKeE"),function(){return s.createElement(C.a,{className:"hgc-2018-introduction"},s.createElement(C.a,{padding:{top:2,bottom:1}},s.createElement(T.a,{fontSize:y.d.Size5,bold:!0},Object(c.d)("Cheer with Bits and unlock loot!","HGC2018Introduction"))),s.createElement(C.a,{className:"hgc-2018-introduction__banner-background",padding:{top:1}},s.createElement(v.g,{position:v.j.Absolute,attachRight:!0,attachLeft:!0,margin:"auto"},s.createElement(Ne.a,{className:"hgc-2018-introduction__banner-image",src:U.h+"/hgc2018/hgc-logo/1x.png",srcSet:{"2x":U.h+"/hgc2018/hgc-logo/2x.png"},alt:Object(c.d)("Heroes of the Storm Global Championship","HGC2018Introduction")}))),s.createElement(C.a,{padding:{x:2,top:1,bottom:.5}},s.createElement(T.a,null,Object(c.d)("Unlock in-game loot and Twitch emotes when you Cheer with Bits to support your favorite team.","HGC2018Introduction"))),s.createElement(C.a,{padding:{bottom:1}},s.createElement(H.a,{to:"https://link.twitch.tv/hgccheer2018",targetBlank:!0,hoverUnderlineNone:!1},Object(c.d)("Details","HGC2018Introduction"))))}),Ae=(n("TTKc"),function(){return s.createElement(C.a,{className:"owl-2018-introduction"},s.createElement(C.a,{padding:{top:2,bottom:1}},s.createElement(T.a,{fontSize:y.d.Size5,bold:!0},Object(c.d)("Cheer with Bits and unlock loot!","OWL2018Introduction"))),s.createElement(C.a,{className:"owl-2018-introduction__banner-background",padding:{top:1}},s.createElement("img",{className:"owl-2018-introduction__banner-image",src:U.h+"/owl-2017/overwatch-wide.png"})),s.createElement(C.a,{padding:{x:2,top:1,bottom:.5}},s.createElement(T.a,null,Object(c.d)("Unlock an emote set by cheering 250 Bits or more! Cheer 500 Bits or more and you’ll unlock a second set and share emotes with Chat!","OWL2018Introduction"))),s.createElement(C.a,{padding:{bottom:1}},s.createElement(H.a,{to:"http://link.twitch.tv/owl-drops-onsite-bitscard-blogus",targetBlank:!0,hoverUnderlineNone:!1},Object(c.d)("Details","OWL2018Introduction"))))});n("I8wU");!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(ye||(ye={}));var we,Re=[{bitsAmount:300,gifts:10,level:1},{bitsAmount:500,gifts:20,level:2},{bitsAmount:1e3,gifts:50,level:3},{bitsAmount:5e3,gifts:300,level:4}],Me=[{src:"https://static-cdn.jtvnw.net/emoticons/v1/1862838/3.0",emoteString:"OWL2019vinyl"},{src:"https://static-cdn.jtvnw.net/emoticons/v1/1862840/3.0",emoteString:"OWL2019eyes"},{src:"https://static-cdn.jtvnw.net/emoticons/v1/1862827/3.0",emoteString:"OWL2019punch"},{src:"https://static-cdn.jtvnw.net/emoticons/v1/1862837/3.0",emoteString:"OWL2019hungry"},{src:"https://static-cdn.jtvnw.net/emoticons/v1/1862830/3.0",emoteString:"OWL2019snowball"}],Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currIndex:0},t.renderMegaCheerLevels=Re.map(function(e){return s.createElement(C.a,{key:"MegaGifterNotificationCard-"+e.level,padding:.5,display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center},s.createElement(C.a,{className:"owl-2019-introduction__icon",padding:{bottom:.5}},t.renderLevelIcon(e.level)),s.createElement(T.a,{bold:!0,color:y.c.Link},Object(c.d)("{gifts} Gifts",{gifts:e.gifts},"OWL2019BitsIntroduction")),s.createElement(C.a,{display:v.d.Flex,alignItems:v.b.Center,justifyContent:v.h.Center,padding:{top:.5}},s.createElement(E.a,{asset:E.b.Bits,width:14,height:14}),s.createElement(T.a,{type:T.e.Span},Object(c.f)(e.bitsAmount))))}),t.renderOwlEmotes=Me.map(function(e){return s.createElement(Ne.a,{key:e.emoteString,className:"owl-2019-introduction__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})}),t}return o.__extends(t,e),t.prototype.render=function(){return s.createElement(C.a,null,s.createElement(C.a,{className:"owl-2019-introduction__info",padding:{top:1}},s.createElement(T.a,{fontSize:y.d.Size5,bold:!0,color:y.c.Link},Object(c.d)("Introducing: MegaCheer","OWL2019BitsIntroduction")),s.createElement(C.a,{padding:{x:1,top:.5,bottom:1}},s.createElement(T.a,null,Object(c.d)("Cheer Bits in the amounts below to initiate a MegaCheer. Each MegaCheer gets you 2 exclusive emotes (35+ available) and gifts 1 randomly to multiple viewers in Chat.","OWL2019BitsIntroduction")))),s.createElement(C.a,{display:v.d.Flex,justifyContent:v.h.Center,flexDirection:v.e.Row,padding:{bottom:1}},this.renderOwlEmotes),s.createElement(C.a,{padding:{bottom:.5},display:v.d.Flex,flexDirection:v.e.Row,justifyContent:v.h.Around},this.renderMegaCheerLevels))},t.prototype.renderLevelIcon=function(e){return s.createElement("img",{src:U.h+"/owl-2019/bits-card/MegaCheer-icon-0"+e+".png",alt:Object(c.d)("MegaCheer level {level}",{level:e},"OWL2019BitsIntroduction")})},t}(s.Component);!function(e){e.CratesChristmas="CratesChristmas",e.OWL2018="owl2018",e.HGC2018="hgc2018",e.WORLDCUP2018="worldcup2018",e.HGG2018="hearthstone2018",e.HGG2018TEST="hearthstone2018-test",e.OWL2019TEST="owl2019-test",e.OWL2019="owl2019"}(we||(we={}));var Ue=function(e){switch(e.event){case we.HGC2018:return s.createElement(De,null);case we.OWL2018:return s.createElement(Ae,null);case we.HGG2018:case we.HGG2018TEST:return s.createElement(Oe,null);case we.OWL2019TEST:case we.OWL2019:return s.createElement(Le,null);default:return s.createElement(me,{onClickHelp:e.onClickHelp})}},Be=n("FZ/2"),Fe=function(e){if(e.isSending)return e.totalBits<U.q?s.createElement(Ce,null):s.createElement(Te,{bitsConfig:e.bitsConfig,channelDisplayName:e.displayName,prefixes:e.currentCheers,totalBits:e.totalBits});if(e.hoveredCheermote)return s.createElement(W,{event:e.event,tournament:e.tournament,bitsConfig:e.bitsConfig,prefix:e.hoveredCheermote,tier:e.hoveredTier,onClickHelp:e.showHelp});var t=Pe(e.bitsConfig),n=xe(e.bitsConfig),i=c.b.get(U.t,le.b.Off);if(e.totalBits)return s.createElement(ve,{bitsConfig:e.bitsConfig,prefixes:e.currentCheers,amount:e.totalBits,bonusBits:e.bonusBits,channelDisplayName:e.displayName,bitsBalance:e.bitsBalance,largestCheermote:e.largestCheermote,smallestCheermote:e.smallestCheermote,minPerEmote:e.emoteMinimumBits,minToCheer:e.cheerMinimumBits,event:e.event,sponsoredCampaign:t,sponsoredCampaignPrefix:n,sponsoredBitsBonus:e.bonusBits,bitsSendErrorCode:e.bitsSendErrorCode,bitsSendHasError:e.bitsSendHasError,chatMessage:e.chatMessage,onCheerInvalid:e.onCheerInvalid,isAnonymous:e.isAnonymous});if(e.helpRequested)return s.createElement(ue.a,null);var r,a=c.b.get(U.i,le.b.Off),o=null;if(e.bitsOffers&&(o=e.bitsOffers.find(function(e){return Object(ne.f)(e)})),!e.event||e.event!==we.OWL2019TEST&&e.event!==we.OWL2019){if(e.isAnonymous)return s.createElement(ce,null);if(e.chosenCheermote){var l=e.cheerMinimumBits;return s.createElement(pe,{minToCheer:l})}return o&&(r=o,Object(ne.f)(r))?s.createElement(Be.a,{offer:o,channelID:e.channelID||"",trackBitsCardInteraction:e.trackBitsCardInteraction,onPromoBuyClose:e.onPromoBuyClose,isBitsCard:!0}):e.event?s.createElement(Ue,{event:e.event,onClickHelp:e.showHelp}):t&&(i===le.b.On||i===le.b.StaffOnly&&e.isStaff)?s.createElement(Ie,{sponsorCampaign:t}):a===le.b.On?s.createElement(de,{onClickHelp:e.showHelp}):s.createElement(me,{onClickHelp:e.showHelp})}return s.createElement(Ue,{event:e.event,onClickHelp:e.showHelp})};function Pe(e){var t=null;return e.orderedActions.forEach(function(e){e.campaign&&(t=e.campaign)}),t}function xe(e){var t="";return e.orderedActions.forEach(function(e){e.campaign&&(t=e.prefix)}),t}var je=n("r/lI"),He=(n("KO0n"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onTierSelectionExit=function(){t.setState({selectedCheermote:void 0})},t.onCheermoteClick=function(e){t.setState({selectedCheermote:e})},t}return o.__extends(t,e),t.prototype.render=function(){if(this.props.data.loading&&!this.props.data.error)return s.createElement(se.a,null);if(this.props.data.error)return s.createElement(O,null);var e=this.props.data.user&&this.props.data.user.cheer&&this.props.data.user.cheer.settings.cheerMinimumBits,t=this.props.data.user&&this.props.data.user.cheer&&this.props.data.user.cheer.settings.emoteMinimumBits,n=!!(this.props.bitsBalance&&null!==e&&this.props.bitsBalance>=e),i=Pe(this.props.bitsConfig),r=xe(this.props.bitsConfig);return s.createElement(_,{onUserClose:this.props.handleExit},this.state.selectedCheermote&&s.createElement(re,{chosenCheermote:this.state.selectedCheermote,bitsConfig:this.props.bitsConfig,canCheerInChannel:n,minCheerAmount:e||1,minPerEmote:t||1,channelName:this.props.channelLogin,onClose:this.props.handleExit,currentCheers:this.props.currentCheers,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.props.chatMessage,sponsoredCampaign:i,sponsoredCampaignPrefix:r,bitsBalance:this.props.bitsBalance||0,onClickCheermote:this.props.onClickCheermote,onBack:this.onTierSelectionExit,onCheerInvalid:this.props.onCheerInvalid,isAnonymous:this.props.isAnonymous,showHelp:this.props.showHelp}),!this.state.selectedCheermote&&s.createElement(x,{bitsConfig:this.props.bitsConfig,canCheerInChannel:n,minCheerAmount:e||1,channelName:this.props.channelLogin,onCheermoteClick:this.onCheermoteClick,onShowAllCheermotes:this.props.handleExit}),s.createElement(C.a,{fullWidth:!0,className:"first-cheer-builder__footer"},s.createElement(oe,{bitsConfig:this.props.bitsConfig,balance:this.props.bitsBalance||0,showBuyButton:!n,onClickGetBits:this.props.handleClickBuy,isAnonymous:this.props.isAnonymous})))},t}(s.PureComponent)),Ve=Object(l.compose)(Object(d.a)(je,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}))(He),Ge=function(e){return s.createElement(C.a,{flexGrow:1},s.createElement(C.a,{className:"undo-prompt__footer",padding:1,display:v.d.Flex,justifyContent:v.h.Between},s.createElement(B.a,{onClick:e.onCancel||void 0,type:B.d.Hollow,overlay:!0,"data-test-selector":"cancel-button"},Object(c.d)("Cancel","Bits--UndoPrompt")),s.createElement(B.a,{onClick:e.onConfirm||void 0,"data-test-selector":"confirm-button"},Object(c.d)("Send","Bits--UndoPrompt"))),s.createElement(_e.a,{animationDirection:_e.b.Down,size:_e.c.ExtraSmall,animationDuration:U.u.UNDO_PROMPT_DURATION/1e3}))},We=function(e){return e.event,s.createElement(oe,{bitsConfig:e.bitsConfig,onClickGetBits:e.onClickGetBits,balance:e.balance,selfBitsBadge:e.selfBitsBadge,isAnonymous:!1})},qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return this.props.isSending?this.props.totalBits>=U.q?s.createElement(Ge,{onCancel:this.props.onCancelSend,onConfirm:this.props.onConfirmSend}):null:this.props.event?s.createElement(We,{event:this.props.event,selfBitsBadge:this.props.userSelfBitsBadge,bitsConfig:this.props.bitsConfig,onClickGetBits:this.props.handleClickBuy,balance:this.props.bitsBalance}):s.createElement(oe,{selfBitsBadge:this.props.userSelfBitsBadge,bitsConfig:this.props.bitsConfig,onClickGetBits:this.props.handleClickBuy,balance:this.props.bitsBalance,isAnonymous:this.props.isAnonymous})},t}(s.PureComponent),ze=n("cw0r"),Ye=(n("AcdH"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCheermoteHover=function(e){var n=e.currentTarget.getAttribute("data-key");n&&t.props.onHover(n)},t.handleCheermoteUnhover=function(){t.props.onHoverLeave()},t.handleCheermoteClick=function(e){var n=e.currentTarget.getAttribute("data-key");n&&t.props.onClick(n)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.bitsConfig.orderedActions.filter(function(e){return e.type!==f.x.THIRD_PARTY&&e.type!==f.x.DISPLAY_ONLY}).map(function(e){var t=e.indexedTiers.get(U.l);return t?{imgSrc:t.indexedImages.LIGHT.static.get(2),imgSrcDark:t.indexedImages.DARK.static.get(2),key:e.prefix}:null}).map(function(t,n){return t&&t.key?s.createElement(v.g,{key:t.key,margin:{bottom:1}},s.createElement("li",{className:"cheermote-prefix-selector__cheermote"},s.createElement("button",{className:"cheermote-prefix-selector__item-button","data-key":t.key,onMouseEnter:e.handleCheermoteHover,onMouseLeave:e.handleCheermoteUnhover,onClick:e.handleCheermoteClick,"data-a-target":"cheermote-"+t.key.replace(":","")},s.createElement("img",{alt:t.key,src:e.props.darkModeEnabled?t.imgSrcDark:t.imgSrc})))):s.createElement("li",{key:"null-cheermote-"+n},s.createElement("button",{className:"cheermote-prefix-selector__item-button",disabled:!0},s.createElement("div",{className:"cheermote-prefix-selector__placeholder"})))}),n=s.createElement(v.g,{className:"cheermote-prefix-selector__cheermotes",display:v.d.Flex,flexWrap:v.f.Wrap,flexDirection:v.e.Row,justifyContent:v.h.Start,alignItems:v.b.End,padding:{bottom:1}},s.createElement("ul",null,t));return s.createElement(C.a,{flexGrow:1,overflow:v.i.Hidden,className:"cheermote-prefix-selector"},s.createElement(j.b,null,n))},t}(s.PureComponent));var Ke=Object(r.connect)(function(e){return{darkModeEnabled:Object(w.a)(e)===A.a.Dark}})(Ye),Qe=n("b7S+"),Xe=n("kqSx"),Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAnonymousCheckBoxChange=function(e){t.props.handleAnonymousToggle(e.currentTarget.checked)},t}return o.__extends(t,e),t.prototype.render=function(){if(this.props.helpRequested&&!this.props.currentCheers.length)return null;var e=null;return e=this.props.isAnonymous?s.createElement(te,{bitsConfig:this.props.bitsConfig,chosenCheermote:U.b,onHover:this.props.handleTierHover,onHoverLeave:this.props.handleUnhover,onClick:this.props.handleTierClick,onClose:this.props.clearChosenCheermote,isAnonymous:this.props.isAnonymous}):this.props.chosenCheermote?s.createElement(te,{bitsConfig:this.props.bitsConfig,chosenCheermote:this.props.chosenCheermote,onHover:this.props.handleTierHover,onHoverLeave:this.props.handleUnhover,onClick:this.props.handleTierClick,onClose:this.props.clearChosenCheermote,isAnonymous:this.props.isAnonymous}):s.createElement(Ke,{bitsConfig:this.props.bitsConfig,onHover:this.props.handleCheermoteHover,onHoverLeave:this.props.handleUnhover,onClick:this.props.handleCheermoteClick}),s.createElement(C.a,null,!this.props.event&&s.createElement(ze.a,{name:"bits_project_marley"},s.createElement(C.a,{padding:{left:1,top:1}},s.createElement(Qe.a,{label:Object(c.d)("Your name will appear as {anAnonymousCheerer} and custom messaging will be turned off.",{anAnonymousCheerer:U.c},"CheermotePrefixSelector"),direction:Qe.c.Bottom,align:Qe.b.Left,width:275},s.createElement(Xe.a,{checked:this.props.isAnonymous,onChange:this.onAnonymousCheckBoxChange,label:Object(c.d)("Cheer Anonymously","CheermotePrefixSelector")})))),e)},t}(s.PureComponent),$e=n("edgk"),Je=n("RiD7"),et=n("UajW"),tt=(n("c+1r"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={chosenCheermote:null,hoveredCheermote:null,hoveredTier:0,totalBits:0,bonusBits:0,largestCheermote:0,smallestCheermote:0},t.unhoverTimeout=0,t.handleTierHover=function(e){clearTimeout(t.unhoverTimeout);var n=e.split(":");n.length<2||(t.setState({hoveredTier:+n[1],hoveredCheermote:n[0]}),t.props.trackBitsCardInteraction(Je.c.PreviewEmote,{actionType:Je.a.Hover,emoteType:n[0],emoteLevel:+n[1]}))},t.handleUnhover=function(){t.unhoverTimeout=setTimeout(t.clearHovered,500)},t.clearHovered=function(){t.setState({hoveredTier:0,hoveredCheermote:null})},t.handleTierClick=function(e){t.props.onClickCheermote(e.split(":").join(""))},t.handleCheermoteHover=function(e){clearTimeout(t.unhoverTimeout),t.setState({hoveredCheermote:e,hoveredTier:0}),t.props.trackBitsCardInteraction(Je.c.PreviewEmote,{actionType:Je.a.Hover,emoteType:e,emoteLevel:100})},t.handleCheermoteClick=function(e){t.setState({chosenCheermote:e,hoveredCheermote:null,hoveredTier:0})},t.clearChosenCheermote=function(){t.setState({chosenCheermote:null,hoveredCheermote:null,hoveredTier:0})},t.onPromoBuyClose=function(e){Object($e.a)(e,function(){t.props.data&&t.props.data.refetch()})},t}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.visible||!!this.props.currentCheers.length,n=e.visible||!!e.currentCheers.length;if(t&&!n&&this.setState({chosenCheermote:null,hoveredCheermote:null,hoveredTier:0}),this.props.currentCheers!==e.currentCheers){var i=Object(ne.a)(e.currentCheers),r=i.total,a=i.bonus,o=i.largestCheermote,s=i.smallestCheermote;this.setState({totalBits:r,bonusBits:a,largestCheermote:o,smallestCheermote:s})}},t.prototype.componentDidMount=function(){var e=Object(ne.a)(this.props.currentCheers),t=e.total,n=e.bonus,i=e.largestCheermote,r=e.smallestCheermote;this.setState({totalBits:t,bonusBits:n,largestCheermote:i,smallestCheermote:r}),this.props.onMount&&this.props.onMount()},t.prototype.render=function(){var e=this.props,t=e.cheerMessageAutoModded,n=e.visible,i=e.currentCheers,r=e.data,a=e.bitsConfig,o=e.isSending,l=e.helpRequested,d=e.channelID,u=e.showHelp,m=e.isStaff,p=e.bitsSendErrorCode,h=e.bitsSendHasError,f=e.handleClickBuy,b=e.onCancelSend,k=e.onConfirmSend,y=e.chatMessage;if(t||!n&&!i.length)return null;if(!r||r.loading)return s.createElement(se.a,null);if(r.error||!a)return s.createElement(O,null);var N,_=this.props.helpRequested&&!this.props.currentCheers.length,I=null;r.user.cheer.settings.event&&(I=r.user.cheer.settings.event.toLowerCase().replace("_","-")),_&&(N=s.createElement(C.a,{position:v.j.Absolute,padding:{left:.5,top:.5},attachLeft:!0,attachTop:!0},s.createElement(B.a,{onClick:this.props.closeHelp,"data-a-target":"bits-card-back-button",icon:E.b.ChatSettingsBack,type:B.d.Text,size:B.b.Small},Object(c.d)("Back","BitsCard"))));var T=g("t-bits-card__contents",{"t-bits-card__contents--anonymous":this.props.isAnonymous});return s.createElement(s.Fragment,null,!o&&N,s.createElement(S.a,{className:T,display:v.d.Flex,flexGrow:0,flexDirection:v.e.Column,alignContent:v.a.Stretch,textAlign:v.k.Center,borderBottom:!o,fullWidth:!0},s.createElement(Fe,{bitsBalance:r.currentUser&&r.currentUser.bitsBalance,bitsConfig:a,cheerMinimumBits:r.user.cheer.settings.cheerMinimumBits,chosenCheermote:this.state.chosenCheermote,currentCheers:i,displayName:r.user.displayName,emoteMinimumBits:r.user.cheer.settings.emoteMinimumBits,event:I,helpRequested:l,hoveredCheermote:this.state.hoveredCheermote,hoveredTier:this.state.hoveredTier,isSending:o,largestCheermote:this.state.largestCheermote,smallestCheermote:this.state.smallestCheermote,totalBits:this.state.totalBits,bonusBits:this.state.bonusBits,tournament:r.user.tournament,channelID:d,showHelp:u,isStaff:m,isAnonymous:this.props.isAnonymous,bitsSendErrorCode:p,bitsSendHasError:h,chatMessage:y,onCheerInvalid:this.props.onCheerInvalid,bitsOffers:r.currentUser&&r.currentUser.bitsOffers,trackBitsCardInteraction:this.props.trackBitsCardInteraction,onPromoBuyClose:this.onPromoBuyClose})),!o&&s.createElement(Ze,{bitsConfig:a,chosenCheermote:this.state.chosenCheermote,currentCheers:i,event:I,helpRequested:l,isAnonymous:this.props.isAnonymous,handleCheermoteClick:this.handleCheermoteClick,handleCheermoteHover:this.handleCheermoteHover,handleTierClick:this.handleTierClick,handleTierHover:this.handleTierHover,handleUnhover:this.handleUnhover,handleAnonymousToggle:this.props.onAnonymousToggle,clearChosenCheermote:this.clearChosenCheermote}),s.createElement(C.a,{className:"t-bits-card__footer",fullWidth:!0,display:v.d.Flex},s.createElement(qe,{bitsBalance:r.currentUser&&r.currentUser.bitsBalance,bitsConfig:a,event:I,isSending:o,totalBits:this.state.totalBits,userSelfBitsBadge:r.user.self&&r.user.self.bitsBadge,handleClickBuy:f,onCancelSend:b,onConfirmSend:k,isAnonymous:this.props.isAnonymous})))},t}(s.Component)),nt=Object(l.compose)(Object(u.a)(function(e){return{query:et,variables:{name:e.channelID},topic:Object(h.d)(e.channelID||""),type:m.PubsubMessageType.BitsChannelSettingsEvent,mutator:function(e,t){if(t)return void 0!==e.updates.minimum_bits&&(t.user.cheer.settings.cheerMinimumBits=e.updates.minimum_bits),void 0!==e.updates.minimum_bits_emote&&(t.user.cheer.settings.emoteMinimumBits=e.updates.minimum_bits_emote),t},skip:!e.channelID}}),Object(d.a)(et,{name:"data",skip:function(e){return!e.channelID},options:function(e){return{variables:{name:e.channelID||"",withCheerBombEventEnabled:!1},fetchPolicy:"cache-and-network"}}}))(tt),it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return s.createElement(C.a,{padding:1,textAlign:v.k.Center},s.createElement(T.a,{color:y.c.Error,italic:!0},Object(c.d)("You cannot Cheer in your own channel.","BitsCard")))},t}(s.PureComponent),rt=n("opIq"),at=n("bYOw"),ot=n("H31v"),st=n("8nkl"),lt=n("ao1a"),ct=n("Gcqi"),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={helpRequested:!1,buyingBits:!1,backTargetsIntro:!1},t.lastRefetchTime=0,t.showHelp=function(e){e.preventDefault(),t.setState({helpRequested:!0}),t.props.trackBitsCardInteraction(Je.c.NewUserHelpRequested)},t.closeHelp=function(){return t.setState({helpRequested:!1})},t.handleClickBuy=function(){t.setState({buyingBits:!0}),t.props.trackBitsCardInteraction(Je.c.BuyMain)},t.handleCloseBuy=function(){return t.setState({buyingBits:!1})},t.handleSkip=function(){t.closeHelp(),t.mutateFirstCheerTutorialState({hasAbandoned:!1,hasSkipped:!0}),t.props.trackBitsCardInteraction(Je.c.NewUserSkipTutorial)},t.handleCloseIntro=function(){t.closeHelp(),t.props.currentCheers.length?t.mutateFirstCheerTutorialState({hasAbandoned:!1,hasSkipped:!0}):t.props.onUserClose(),t.props.trackBitsCardInteraction(Je.c.NewUserCloseTutorial)},t.handleClickFirstTimePurchaseDiscount=function(){t.setState({buyingBits:!0,helpRequested:!1,backTargetsIntro:!0}),t.mutateFirstCheerTutorialState({hasAbandoned:!0,hasSkipped:!1}),t.props.trackBitsCardInteraction(Je.c.NewUserFirstTimePurchaseDiscountClick)},t.handleBackFromBuy=function(){t.setState({helpRequested:t.state.backTargetsIntro,buyingBits:!1})},t.onMountBitsCardMain=function(){t.setState({backTargetsIntro:!1})},t.mutateFirstCheerTutorialState=function(e){return o.__awaiter(t,void 0,void 0,function(){var t,n,i,r,a,s,l;return o.__generator(this,function(d){switch(d.label){case 0:if(!(t=this.props.data&&this.props.data.currentUser))return[3,4];n=t.bitsUserSettings,i=t.id,r=n&&n.firstCheerTutorial||{hasAbandoned:!1,hasSkipped:!1},a={hasAbandoned:e.hasAbandoned,hasSkipped:e.hasSkipped},s={setBitsUserSettings:{__typename:"SetBitsUserSettingsPayload",currentUser:{__typename:"User",id:i||null,bitsUserSettings:{__typename:"BitsUserSettings",firstCheerTutorial:o.__assign({__typename:"FirstCheerTutorial"},r,a)}}}},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.props.setBitsUserSettings(Object(p.b)({abandonedFirstCheerTutorial:e.hasAbandoned,skippedFirstCheerTutorial:e.hasSkipped},s))];case 2:return d.sent(),[3,4];case 3:return l=d.sent(),c.k.error(l,"Failed to set bits user settings."),[3,4];case 4:return[2]}})})},t}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.visible||!!this.props.currentCheers.length,n=e.visible||!!e.currentCheers.length;if(!t&&n){var i=Date.now();i-this.lastRefetchTime>1e3&&this.props.data&&e.data&&!e.data.loading&&(this.lastRefetchTime=i,e.data.refetch())}t&&!n&&this.setState({buyingBits:!1})},t.prototype.render=function(){if(this.props.cheerMessageAutoModded||!this.props.visible&&!this.props.currentCheers.length)return null;if(!this.props.data||this.props.data.loading)return s.createElement(_,{onUserClose:this.props.onUserClose},s.createElement(se.a,null));if(this.props.data.error||!this.props.bitsConfig)return s.createElement(_,{onUserClose:this.props.onUserClose},s.createElement(O,null));if(this.props.data.currentUser&&this.props.data.currentUser.login===this.props.channelLogin)return s.createElement(_,{onUserClose:this.props.onUserClose},s.createElement(it,null));var e=this.props.data&&this.props.data.currentUser,t=e&&e.bitsUserState,n=e&&e.bitsUserSettings;if(Object(lt.a)(t)){if(this.state.buyingBits)return s.createElement(_,{onUserClose:this.handleCloseBuy,closeDataATarget:"bits-buy-card-close-button"},s.createElement(rt.a,{bitsConfig:this.props.bitsConfig,channelLogin:this.props.channelLogin,closeAllBits:this.props.onUserClose,onClose:this.handleCloseBuy,onBack:this.handleBackFromBuy,trackBitsCardInteraction:this.props.trackBitsCardInteraction,location:Je.d.ChatTooltip,shouldShowNewUserCheerUX:!0}));if(Object(lt.d)(t,n)||Object(lt.a)(t)&&this.state.helpRequested)return s.createElement(_,{onUserClose:this.handleCloseIntro,closeDataATarget:"bits-intro-close-button"},s.createElement(C.a,{padding:1},s.createElement(I.a,{onUserSkip:this.handleSkip,onUserClickFirstTimePurchaseDiscount:this.handleClickFirstTimePurchaseDiscount,trackBitsCardInteraction:this.props.trackBitsCardInteraction})))}return this.state.buyingBits?s.createElement(_,{onUserClose:this.handleCloseBuy,closeDataATarget:"bits-buy-card-close-button"},s.createElement(rt.a,{bitsConfig:this.props.bitsConfig,channelLogin:this.props.channelLogin,closeAllBits:this.props.onUserClose,onClose:this.handleCloseBuy,trackBitsCardInteraction:this.props.trackBitsCardInteraction,location:Je.d.ChatTooltip,size:at.b.Scrollview})):Object(lt.b)(this.props.isStaff,t,n)?s.createElement(Ve,{bitsConfig:this.props.bitsConfig,channelLogin:this.props.channelLogin,currentCheers:this.props.currentCheers,bitsSendHasError:this.props.bitsSendHasError,bitsSendErrorCode:this.props.bitsSendErrorCode,chatMessage:this.props.chatMessage,onClickCheermote:this.props.onClickCheermote,bitsBalance:e&&e.bitsBalance,handleClickBuy:this.handleClickBuy,handleExit:this.handleSkip,onCheerInvalid:this.props.onCheerInvalid,isAnonymous:!1,showHelp:this.showHelp}):s.createElement(_,{onUserClose:this.props.currentCheers.length?void 0:this.props.onUserClose},s.createElement(nt,{onMount:this.onMountBitsCardMain,bitsConfig:this.props.bitsConfig,channelID:this.props.channelID,channelLogin:this.props.channelLogin,cheerMessageAutoModded:this.props.cheerMessageAutoModded,visible:this.props.visible,currentCheers:this.props.currentCheers,isSending:this.props.isSending,isStaff:this.props.isStaff,isAnonymous:this.props.isAnonymous,onClickCheermote:this.props.onClickCheermote,onCancelSend:this.props.onCancelSend,onConfirmSend:this.props.onConfirmSend,trackBitsCardInteraction:this.props.trackBitsCardInteraction,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,helpRequested:this.state.helpRequested,showHelp:this.showHelp,closeHelp:this.closeHelp,handleClickBuy:this.handleClickBuy,chatMessage:this.props.chatMessage,onCheerInvalid:this.props.onCheerInvalid,onAnonymousToggle:this.props.onAnonymousToggle}))},t}(s.Component),ut=Object(l.compose)(Object(d.a)(ct,{name:"data",skip:function(e){return!e.channelID}}),Object(d.a)(st,{name:"setBitsUserSettings"}),Object(u.a)(function(e){return{query:ct,topic:e.user?Object(h.G)(e.user.id):"",type:m.PubsubMessageType.UserBitsFirstPurchase,skip:!e.user,mutator:function(t,n){return!n.currentUser||t.message_type!==ot.b.FirstPurchase||e.user&&t.data.user_id!==e.user.id?n:(n.currentUser.bitsUserState===f.j.NEW_USER&&(n.currentUser.bitsUserState=f.j.ACQUIRED),n)}}}))(dt);var mt=Object(r.connect)(function(e){return{user:Object(a.e)(e),isStaff:Object(a.g)(e)}})(ut);n.d(t,"a",function(){return mt})},sAMt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:62}};n.loc.source={body:"query ChatUser($login: String!) {\nuser(login: $login) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},sMoq:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VIPUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GrantVIPInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantVIP"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:122}};n.loc.source={body:"mutation VIPUser($input: GrantVIPInput!){\ngrantVIP(input: $input) {\nchannel {\nid\n}\ngrantee {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},sU0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};n.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},sgJZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_FollowEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:157}};n.loc.source={body:"query FollowButton_FollowEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\nhosting {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},tFCv:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("oJmH"),o=n("/MKj"),s=n("9C/b"),l=n("fvjX"),c=n("ZS2+"),d=n("/0dD"),u=n("SDEh"),m=n("edgk"),p=n("1/iK"),h=n("y5D0"),f=n("jZLd"),g=n("kRBY"),b=n("XDQu"),v=n("+pBb"),E=n("3sMn"),k=n("Tznh"),C=n("3tQW"),S=n("fezU"),y=n("r2Xj"),N=n("WytW"),_=n("F6GT"),I=n("x0gr"),T=c.a.wrap(function(){return Promise.all([n.e(0),n.e(199)]).then(n.bind(null,"8MX0"))},"ChatSettingsComponent"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={editAppearance:!1,shouldMountChild:!1},t.onEdit=function(){t.setState({editAppearance:!0})},t.onLeaveEdit=function(){t.setState({editAppearance:!1})},t.onDarkModeToggle=function(){var e=t.props.darkModeEnabled?d.a.Light:d.a.Dark;t.props.onThemeChanged(e,!t.props.isPopout),Object(I.a)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.darkModeEnabled,settingName:y.a.DarkMode})},t.onTimestampToggle=function(){Object(_.c)("showTimestamps",!t.props.showTimestamps),t.props.showTimestamps?t.props.onTimestampsDisable():t.props.onTimestampsEnable(),Object(I.a)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.showTimestamps,settingName:y.a.ShowTimestamps})},t.onHighContrastColorsToggle=function(){t.props.setHighContrastColors(!t.props.useHighContrastColors),Object(I.a)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.useHighContrastColors,settingName:y.a.UseHighContrastColors})},t.onChatHide=function(){t.props.onChatHide(),t.onCloseSettings(),Object(I.a)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!0,settingName:y.a.HideChat})},t.onChatPopout=function(){t.props.isPopout||t.props.onChatHide();var e=window.open("/popout/"+t.props.channelLogin+"/chat?popout=","_blank","right=50,top=50,width=400,height=600,resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");e&&!Object(u.a)()&&(e.focus(),Object(m.a)(e,function(){t.props.onChatUnhide()}))},t.onShowChatRules=function(){t.props.onShowChatRules&&(t.props.onShowChatRules(),t.onCloseSettings())},t.onColorSelected=function(e){t.props.isLoggedIn?t.props.onChatCommand(Object(N.a)(e)):t.props.login()},t.onCloseSettings=function(){t.props.isSettingsOpen&&(t.props.hideChatFilterSettings(),t.props.updateChatConfigState({isSettingsOpen:!1}))},t}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){e.isSettingsOpen||!this.props.isSettingsOpen||t.shouldMountChild?e.isSettingsOpen&&!this.props.isSettingsOpen&&(this.props.hideChatFilterSettings(),this.onLeaveEdit()):this.setState({shouldMountChild:!0})},t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(T.Preload,null),this.state.shouldMountChild&&r.createElement(T,{authToken:this.props.authToken,darkModeEnabled:this.props.darkModeEnabled,editAppearance:this.state.editAppearance,isShowingChatFilterSettings:this.props.isShowingChatFilterSettings,showChatFilterSettings:this.props.showChatFilterSettings,hideChatFilterSettings:this.props.hideChatFilterSettings,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isVisible:this.props.isSettingsOpen,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,onChatCommand:this.props.onChatCommand,onChatHide:this.onChatHide,onChatPopout:this.onChatPopout,onShowChatRules:this.props.onShowChatRules&&this.onShowChatRules,onDarkModeToggle:this.onDarkModeToggle,onTimestampToggle:this.onTimestampToggle,onHighContrastColorsToggle:this.onHighContrastColorsToggle,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors,theatreModeEnabled:this.props.theatreModeEnabled,onColorSelected:this.onColorSelected,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isLoggedIn:this.props.isLoggedIn,onClickEditAppearance:this.onEdit,onLeaveEditAppearance:this.onLeaveEdit,onShowViewerCard:this.props.onShowViewerCard,containerElement:this.props.containerElement,"data-test-selector":"chat-settings-component",onCloseSettings:this.onCloseSettings}))},t}(r.Component);var D=Object(o.connect)(function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen,isLoggedIn:Object(g.f)(e),darkModeEnabled:Object(b.a)(e)===d.a.Dark,showTimestamps:e.chat.showTimestamps,theatreModeEnabled:e.ui.theatreModeEnabled}},function(e){return Object(l.bindActionCreators)({login:function(){return Object(h.e)(p.a.ChatSettings)},onChatHide:function(){return v.M()},onChatUnhide:function(){return v.P()},onThemeChanged:function(e){return Object(f.b)(e,void 0,!1)},onTimestampsDisable:function(){return v.F()},onTimestampsEnable:function(){return v.K()}},e)})(O),A=Object(a.compose)(s.a,Object(E.b)(function(e){return{isSettingsOpen:e.isSettingsOpen,updateChatConfigState:function(t){return e.updateChatConfigState(t)}}}),Object(C.b)(function(e){return{setHighContrastColors:e.setValue,useHighContrastColors:e.value}}),Object(S.b)(function(e){return{onShowViewerCard:e.onShowViewerCard}}),Object(k.d)(function(e){return e}))(D),w=n("/7QA"),R=n("eJ65"),M=n("7d/q"),L=n("7uM4"),U=n("ygYM"),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setToggleBalloonRef=function(e){return t.toggleBalloonRef=e},t}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.onToggle&&this.props.isChatRulesOpen&&!e.isChatRulesOpen?this.toggleBalloonRef.toggleBalloon(!1):this.props.isShowingChatFilterSettings&&!e.isShowingChatFilterSettings&&(this.toggleBalloonRef.toggleBalloon(!0),this.props.onToggle&&this.props.onToggle(!1))},t.prototype.render=function(){return r.createElement(R.a,{onToggle:this.props.onToggle,ref:this.setToggleBalloonRef},r.createElement(M.a,{icon:L.b.Gear,ariaLabel:Object(w.d)("Chat settings","ChatInput"),"data-a-target":"chat-settings",disabled:!!this.props.disabled}),r.createElement(U.a,{direction:U.b.Top,noTail:!0,offsetY:"11px","data-a-target":"chat-settings-balloon"},this.props.children))},t}(r.Component);var F=Object(o.connect)(function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen}})(B);n.d(t,"a",function(){return A}),n.d(t,"b",function(){return F})},tIid:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});var i=n("/7QA"),r="esport_insider_pass_whitelist",a="esports_room_cheering_whitelist",o="owlallaccess2019";function s(e,t,n){return void 0===n&&(n=!1),d(r,e,t,n)}function l(e,t){return d(a,e,t)}function c(e){return e===o}function d(e,t,n,r){void 0===r&&(r=!1);var a=i.b.get(e,[]),o=n&&n.roles&&n.roles.isStaff||r;return a.includes(t)||a.includes(t+"-staff")&&o}},tX9j:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AutoModRejectedChatMessagePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"msgID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"msgID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"message"},directives:[]}]}}]}}]}}],loc:{start:0,end:200}};i.loc.source={body:'#import "twilight/features/message/fragments/message-fragment.gql"\nquery AutoModRejectedChatMessagePrompt($msgID: ID! $channelID: ID!) {\nrejectedChatMessage(id: $msgID) {\nid\nmessage {\n...message\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("jy35").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},u0cu:function(e,t,n){},uIkQ:function(e,t,n){"use strict";var i=n("b5C3"),r=n("fQWD"),a=n("ZEQw"),o=(n("yzyL"),n("mrSG")),s=function(){function e(e,t,n){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map,this.count=e.length+(t?t.length:0),this.indexBadges(e,this.globalsBySet,n),Array.isArray(t)&&this.indexBadges(t,this.channelsBySet,n)}return e.prototype.getBadge=function(e,t){var n=this.channelsBySet.get(e);return n&&n.has(t)?n.get(t)||null:void 0!==(n=this.globalsBySet.get(e))&&n.get(t)||null},e.prototype.indexBadges=function(e,t,n){e.forEach(function(e){n&&e.clickAction===a.d&&(e=o.__assign({},e,{channelName:n}));var i=t.get(e.setID);i||(i=new Map,t.set(e.setID,i)),i.set(e.version,e)})},e}(),l=(new s([],[],""),n("DMoW")),c=function(){function e(e,t,n){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map;var i=e.filter(function(e){return!!e}),r=t?t.filter(function(e){return!!e}):[];this.count=i.length+(t?r.length:0),this.indexBadges(i,this.globalsBySet,n),Array.isArray(t)&&this.indexBadges(r,this.channelsBySet,n)}return e.prototype.getBadge=function(e,t){var n=this.channelsBySet.get(e);return n&&n.has(t)?n.get(t)||null:void 0!==(n=this.globalsBySet.get(e))&&n.get(t)||null},e.prototype.indexBadges=function(e,t,n){e.forEach(function(e){n&&e.clickAction&&e.clickAction===l.c.SUBSCRIBE&&(e=o.__assign({},e,{channelName:n}));var i=t.get(e.setID);i||(i=new Map,t.set(e.setID,i)),i.set(e.version,e)})},e}();new c([],[],"");n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return r.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return s}),n.d(t,"c",function(){return c})},uYEN:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},uYvD:function(e,t,n){},ulxC:function(e,t,n){},uu1w:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.Emote="emote",e.Mention="mention",e.Hashtag="hashtag",e.None="none"}(i||(i={}))},uy8m:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(i||(i={}))},"v+fc":function(e,t,n){},vGFN:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"j",function(){return b}),n.d(t,"h",function(){return v}),n.d(t,"g",function(){return E}),n.d(t,"l",function(){return k}),n.d(t,"o",function(){return C}),n.d(t,"n",function(){return S}),n.d(t,"k",function(){return y}),n.d(t,"m",function(){return N}),n.d(t,"i",function(){return _}),n.d(t,"e",function(){return I}),n.d(t,"d",function(){return T}),n.d(t,"b",function(){return O}),n.d(t,"f",function(){return D}),n.d(t,"c",function(){return A}),n.d(t,"q",function(){return R}),n.d(t,"p",function(){return M});var i,r,a,o,s,l,c=n("mrSG"),d=n("/7QA"),u=n("2xye"),m=n("mBWp");function p(e){d.q.tracking.track(u.SpadeEventType.WhisperThreadMod,{conversation_id:e.threadID,action:e.action})}function h(e){return c.__awaiter(this,void 0,void 0,function(){var t;return c.__generator(this,function(n){switch(n.label){case 0:return[4,w()];case 1:return t=n.sent(),d.q.tracking.track(u.SpadeEventType.WhisperIgnoreUser,{ui_context:e.context,from_login:t&&t.login,ignored_login:e.targetUserLogin,reason:e.reason||i.Other,source:e.source}),[2]}})})}function f(e,t){return c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(i){switch(i.label){case 0:return[4,w()];case 1:return n=i.sent(),d.q.tracking.track(u.SpadeEventType.WhisperThreadMod,{conversation_id:e,action:t,login:n&&n.login}),[2]}})})}function g(e){d.q.tracking.track(u.SpadeEventType.WhisperAllThreadsMod,{action:e})}function b(){g(r.MarkAllRead)}function v(){g(r.EnableDoNotDisturb)}function E(){g(r.DisableDoNotDisturb)}function k(e,t){h({context:t,targetUserLogin:e,reason:i.Spam,source:"conversations_button"})}function C(e){f(e,s.MarkNotSpam)}function S(e){f(e,s.Archive)}function y(e){p({threadID:e,action:a.Mute})}function N(e){p({threadID:e,action:a.Unmute})}function _(e){p({threadID:e,action:a.Expand})}function I(e){p({threadID:e,action:a.Collapse})}function T(e){p({threadID:e,action:a.Close})}function O(e){p({threadID:e,action:a.Archive})}function D(e){d.q.tracking.track(u.SpadeEventType.WhisperThreadCreate,{conversation_id:e.threadID,target_login:e.targetUserlogin,source:"search_target_result",search_result_rank:e.searchResultRank})}function A(e){d.q.tracking.track(u.SpadeEventType.WhisperSearchClick,{query:e.searchQuery,source:"conversation_list",rank:e.searchResultRank,is_conversation:e.isConversation})}function w(){var e=this;return new Promise(function(t){setTimeout(function(){return c.__awaiter(e,void 0,void 0,function(){var e,n,i;return c.__generator(this,function(r){switch(r.label){case 0:e=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,d.q.apollo.client.query({query:m})];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),d.k.error(n,"Failed to make query for current user info in WhisperSent reporting"),[3,4];case 4:return i=e&&e.data&&e.data.currentUser,t(i),[2]}})})})})}function R(e){return c.__awaiter(this,void 0,void 0,function(){var t;return c.__generator(this,function(n){switch(n.label){case 0:return[4,w()];case 1:return t=n.sent(),d.q.tracking.track(u.SpadeEventType.WhisperSent,{to:e.targetUserLogin,from:t&&t.login,player:"web",is_turbo:t&&t.hasTurbo,conversation_id:e.threadID,availability:t&&t.availability,room_type:e.inChannelChat?l.Channel:l.Conversation}),[2]}})})}function M(e){return c.__awaiter(this,void 0,void 0,function(){var t;return c.__generator(this,function(n){switch(n.label){case 0:return[4,w()];case 1:return t=n.sent(),d.q.tracking.track(u.SpadeEventType.WhisperReceived,{to:t&&t.login,from:e.targetUserLogin,player:"web",is_turbo:t&&t.hasTurbo,conversation_id:e.threadID}),[2]}})})}!function(e){e.Harassment="Harassment",e.Spam="Spam",e.Other="Other"}(i||(i={})),function(e){e.MarkAllRead="mark_all_read",e.EnableDoNotDisturb="do_not_disturb_on",e.DisableDoNotDisturb="do_not_disturb_off"}(r||(r={})),function(e){e.Mute="mute",e.Unmute="unmute",e.Expand="maximize",e.Collapse="minimize",e.Close="close",e.Archive="archive",e.Open="open"}(a||(a={})),function(e){e.Dock="dock",e.SpamPropmt="dock_spam_cta"}(o||(o={})),function(e){e.Archive="archive",e.MarkNotSpam="mark_not_spam"}(s||(s={})),function(e){e.Channel="channel",e.Conversation="conversation"}(l||(l={}))},vHGB:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("DMoW"),o=n("ZEQw"),s=n("hnjF"),l=n("b7S+"),c=(n("E78O"),n("/7QA")),d=n("2xye"),u=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),c.q.tracking.track(d.SpadeEventType.ChatBadgeClick,e)};n.d(t,"a",function(){return p});var m="https://www.twitch.tv/products/turbo?ref=chat_badge",p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovering:!1},t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.onBadgeClickHandler=function(){u({badge_type:t.props.badge&&t.props.badge.title||t.props.schemaBadge&&t.props.schemaBadge.title||"",badge_url_target:t.targetURL})},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.schemaBadge?this.props.schemaBadge.title:this.props.badge&&this.props.badge.title||"",t=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",n=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",i=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",a=this.props.large,o=this.props.hideTooltip,d=a?n:t,u=a?n+" 1x, "+i+" 2x":t+" 1x, "+n+" 2x, "+i+" 4x",m=r.createElement("img",{alt:e,"aria-label":Object(c.d)("{badgeTitle} badge",{badgeTitle:e},"Badge"),className:"chat-badge",src:d,srcSet:u,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut});return this.targetURL=this.getTargetURL(),""!==this.targetURL&&(m=r.createElement("a",{href:this.targetURL,onClick:this.onBadgeClickHandler,target:"_blank",rel:"noopener noreferrer","data-a-target":"chat-badge"},m)),!o&&this.state.isHovering?r.createElement(l.a,{align:l.b.Left,"data-a-target":"chat-badge",display:s.d.Inline,key:t,label:e,offsetY:"0.9rem"},m):m},t.prototype.getTargetURL=function(){if(this.props.badge)switch(this.props.badge.clickAction){case o.f:return this.props.badge.clickURL;case o.d:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case o.e:return m;default:return""}else if(this.props.schemaBadge){switch(this.props.schemaBadge.clickAction){case o.f:case a.c.VISIT_URL:return this.props.schemaBadge.clickURL||"";case o.d:case a.c.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case o.e:case a.c.GET_TURBO:return m;default:return""}}return""},t.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/"+e+"/subscribe?ref=in_chat_subscriber_link"},t}(r.Component)},vKai:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("fvjX"),s=n("/7QA"),l=n("gcd7"),c=n("WytW"),d=n("NNSq"),u=n("CzFK"),m=n("TOso"),p=n("NMMG"),h=n("l1Uh"),f=n("PrJw"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWhisperCommand=function(e){var n=Object(c.n)("/w "+e);if(!n||!n.recipientLogin||!n.body)return{preserveInput:!0,deferred:Promise.resolve({notice:Object(s.d)('Usage: "/w [login] [message]"',"WhisperCommandHandler")})};var i=n.recipientLogin,r=n.body;return t.props.isEmbedded||t.props.isPopout?{deferred:Promise.resolve({notice:Object(s.d)("Please use the whisper window for whispers.","WhisperCommandHandler")})}:i.toLowerCase()===t.props.userLogin?{deferred:Promise.resolve({notice:Object(s.d)("You cannot whisper to yourself.","WhisperCommandHandler")})}:t.props.userID?t.initiateWhisper(i,r):void 0},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement(l.a,{channelLogin:this.props.channelLogin,command:"w",handler:this.handleWhisperCommand})},t.prototype.initiateWhisper=function(e,t){var n=this;return{deferred:new Promise(function(r,a){return i.__awaiter(n,void 0,void 0,function(){var n,o,l,c;return i.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(d.a)(e)];case 1:return n=i.sent(),[3,3];case 2:return o=i.sent(),s.k.warn(o,"Failed to fetch user targeted by whisper command.",{recipientLogin:e}),[2,a(o)];case 3:return n?[3,4]:[2,r({notice:Object(s.d)("No user matching that login.","WhisperCommandHandler")})];case 4:l=Object(p.a)(this.props.userID,n),i.label=5;case 5:return i.trys.push([5,7,,8]),Object(f.m)({threadID:l,targetUserLogin:e,inChannelChat:!0}),[4,Object(m.b)({currentUserID:this.props.userID,emotes:this.props.emoteMap||{},message:t,recipientUserID:n})];case 6:return i.sent(),[3,8];case 7:return c=i.sent(),s.k.error(c,"Failed to send whisper using whisper command.",{currentUserID:this.props.userID,recipientUserID:n}),[2,r({notice:Object(s.d)("Unable to send Whisper at this moment.","WhisperCommandHandler")})];case 8:return this.props.openThread(l),[2,r({})]}})})})}},t}(r.Component);var b=Object(a.connect)(null,function(e){return Object(o.bindActionCreators)({openThread:function(e){return Object(u.l)({threadID:e,collapsed:!0},Object(h.a)())}},e)})(g);n.d(t,"a",function(){return b})},"vLL+":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("q1tI"),r=n("/7QA"),a=n("68Fl"),o=n("7uM4"),s=n("hnjF"),l=n("b7S+"),c=n("X2PJ"),d=n("Ws8v"),u=(n("L6L7"),function(e){var t=e.onBanUser,n=o.b.Ban,u=Object(r.d)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),m="chat-ban-button",p=null,h=e.renderNewVersion?s.d.Flex:s.d.Inline,f=e.renderNewVersion?l.b.Center:l.b.Left,g=e.renderNewVersion?l.c.Bottom:l.c.Top,b=e.renderNewVersion?c.c.Link:c.c.Alt2,v=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(t=e.onUnbanUser,n=o.b.FollowCheck,u=Object(r.d)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),m="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(p=i.createElement(a.a,{name:"single_message_delete"},i.createElement(d.a,{display:s.d.InlineFlex,margin:v,verticalAlign:s.l.Bottom},i.createElement(l.a,{align:f,direction:g,label:Object(r.d)("Delete message","ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},i.createElement(o.a,{width:16,height:16,type:o.c.Inherit,asset:o.b.Trash})))))),i.createElement(d.a,{color:b,display:h,margin:{right:.5}},i.createElement(d.a,{display:s.d.InlineFlex,margin:v,verticalAlign:s.l.Bottom},i.createElement(l.a,{align:f,direction:g,label:u},i.createElement("button",{className:"mod-icon",onClick:t,"data-test-selector":m},i.createElement(o.a,{width:16,height:16,type:o.c.Inherit,asset:n})))),i.createElement(d.a,{display:s.d.InlineFlex,margin:v,verticalAlign:s.l.Bottom},i.createElement(l.a,{align:f,direction:g,label:Object(r.d)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},i.createElement(o.a,{width:16,height:16,type:o.c.Inherit,asset:o.b.Timeout})))),p)})},vSeP:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("XIZb"),r=Object(i.a)("ActiveChatters"),a=r.withChatServiceProvider,o=r.withContext,s=a,l=o(function(e){return{activeChattersAPI:e.serviceAPI,setActiveChattersAPI:e.setServiceAPI}})},w1PT:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("/7QA"),r=n("ZS2+"),a=n("SDEh"),o=n("aCAx"),s=n("8EUQ"),l="core.ui.CHECKOUT_SHOWN";function c(e){if(Object(a.b)()){try{s.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var t=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?t.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount&&t.searchParams.append("gift_count",e.mysteryGiftCount.toString());e.isAnonymous&&t.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&t.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(t.toString(),"_blank")}(e)}catch(e){i.k.error(e,"Failed to open subscription checkout externally")}return function(e){e({type:l})}}return function(t){t(Object(o.d)(r.a,{component:"CheckoutModal",loader:function(){return Promise.all([n.e(0),n.e(773)]).then(n.bind(null,"KJv/"))},componentProps:e}))}}},w4P5:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelBadgeSets"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}],loc:{start:0,end:209}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChannelBadgeSets($channelLogin: String!) {\nbadges {\n...badge\n}\nchannel: user(login: $channelLogin) {\nid\nlogin\nbroadcastBadges {\n...badge\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("IKE4").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},wmIm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsAdOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsAdOffer"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsBundleOffer"},directives:[]}]}}]}}],loc:{start:0,end:256}};i.loc.source={body:'#import "twilight/features/bits/models/bits-bundle-offer-fragment.gql"\n#import "twilight/features/bits/models/bits-ad-offer-fragment.gql"\nfragment bitsOffer on BitsOffer {\n... on BitsAdOffer{\n...bitsAdOffer\n}\n... on BitsBundleOffer {\n...bitsBundleOffer\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})}i.definitions=i.definitions.concat(a(n("UqM8").definitions)),i.definitions=i.definitions.concat(a(n("ys9W").definitions)),e.exports=i},wp5a:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var i,r=n("pVnL"),a=n.n(r),o=n("q1tI"),s=n("fNzW"),l=n("vCsY");n("aSQN");!function(e){e.Notification="tw-pill--notification",e.Brand="tw-pill--brand",e.Live="tw-pill--live",e.Alert="tw-pill--alert",e.Success="tw-pill--success",e.Prime="tw-pill--prime",e.Overlay="tw-pill--overlay",e.Warn="tw-pill--warn"}(i||(i={}));var c=function(e){var t={"tw-pill":!0};return e.type&&(t[e.type]=!0),o.createElement("span",a()({className:Object(s.a)(t)},Object(l.a)(e)),e.label)};c.displayName="Pill",c.displayName="Pill"},wtKP:function(e,t,n){},"x0+1":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderBody=function(){return t.state.alwaysShowMessage?t.props.messageBody:r.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},r.createElement("a",{href:"",onClick:t.alwaysShowMessage},"<"+Object(a.d)("click to show","MessageDeletedLine")+">"))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.moderatorLogin,n=e.targetIsCurrentUser,i=this.props.targetLogin;return n?Object(a.d)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):t?Object(a.d)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:t,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):Object(a.d)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},t}(r.Component);n.d(t,"a",function(){return o})},x0gr:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d});var i=n("mrSG"),r=n("/7QA"),a=n("2xye"),o=n("r2Xj"),s=n("oi4T"),l=function(e){r.p.track(a.SpadeEventType.ChatSettingsOpened,Object(s.b)(e))},c=function(e){var t=i.__assign({},Object(s.b)(e),{setting_name:e.settingName,new_value:e.newValue.toString()});r.p.track(a.SpadeEventType.ChatSettingsChanged,t)},d=function(e){var t=i.__assign({},Object(s.b)(e),{setting_name:o.a.FollowerDuration,new_value:e.newValue.toString(),follower_mode_on:e.followerModeOn});r.p.track(a.SpadeEventType.ChatSettingsChanged,t)}},x1M1:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("/0dD"),s=n("XDQu"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.defaultRes,e.sources),n=(e.darkModeEnabled,i.__rest(e,["defaultRes","sources","darkModeEnabled"])),a=this.props.darkModeEnabled?t.dark:t.light,o=Object.keys(a);delete n.dispatch;var s=i.__assign({},n,{src:a[this.props.defaultRes||o[0]],srcSet:o.map(function(e){return a[e]+" "+e}).join(",")});return r.createElement("img",i.__assign({},s,{onLoad:this.props.onLoad}))},t}(r.Component);var c=Object(a.connect)(function(e){return{darkModeEnabled:Object(s.a)(e)===o.a.Dark}})(l);n.d(t,"a",function(){return c})},x7UT:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA");function o(e){return function(t){return function(n){function o(t){var i=n.call(this,t)||this;i.unsubscribers={};var r={};return e.map(function(e){e.skip&&e.skip(t)||(r[i.getTopic(e.topic,t)]={isSubscribing:!0})}),i.state={status:r,messages:{}},i}return i.__extends(o,n),o.prototype.componentDidMount=function(){var t=this;e.forEach(function(e){if(!e.skip||!e.skip(t.props)){var n=t.getTopic(e.topic,t.props);t.unsubscribers[n]=t.subscribe(e,n)}})},o.prototype.componentWillReceiveProps=function(t){var n=this,r={},a={};e.forEach(function(e){if(!e.skip||!e.skip(t)){var i=n.getTopic(e.topic,t);r[i]||(r[i]={isSubscribing:!0}),n.unsubscribers[i]?a[i]=n.unsubscribers[i]:a[i]=n.subscribe(e,i)}}),Object.keys(this.unsubscribers).forEach(function(e){a[e]||n.unsubscribers[e]()}),this.unsubscribers=a,this.setState(function(e){return{status:i.__assign({},e.status,r)}})},o.prototype.componentWillUnmount=function(){var e=this;Object.keys(this.unsubscribers).map(function(t){return e.unsubscribers[t]()})},o.prototype.render=function(){var e={pubsub:{messages:this.state.messages,status:this.state.status}};return r.createElement(t,i.__assign({},this.props,e))},o.prototype.getTopic=function(e,t){return"string"==typeof e?e:e(t)},o.prototype.subscribe=function(e,t){var n=this;return a.m.subscribe({topic:t,success:function(){n.setState(function(e){var n;return{status:i.__assign({},e.status,(n={},n[t]={isSubscribing:!1},n))}})},failure:function(e){n.setState(function(n){var r;return{status:i.__assign({},n.status,(r={},r[t]={error:e,isSubscribing:!1},r))}})},onMessage:function(t){var r=e.mapMessageTypesToProps[t.type||""]||e.mapMessageTypesToProps["*"];r&&(e.skipMessage&&e.skipMessage(t,n.props)||n.setState(function(e){var n;return{messages:i.__assign({},e.messages,(n={},n[r]=t,n))}}))}})},o}(r.Component)}}n.d(t,"a",function(){return o})},xDdc:function(e,t,n){},xQnr:function(e,t,n){"use strict";var i=n("8qOS");n.d(t,"a",function(){return i.a})},xTLu:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsLeaderboardEdgeNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsLeaderboardItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entryKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rank"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"score"},arguments:[],directives:[]}]}}],loc:{start:0,end:82}};n.loc.source={body:"fragment bitsLeaderboardEdgeNode on BitsLeaderboardItem {\nid\nentryKey\nrank\nscore\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},xXlL:function(e,t,n){"use strict";function i(e){return{id:""+e.id,start:e.start,end:e.end}}function r(e){return{__typename:"WhisperMessageEdge",cursor:""+e.data_object.id,node:{__typename:"WhisperMessage",id:e.data_object.message_id,nonce:e.data_object.nonce,sentAt:new Date(1e3*e.data_object.sent_ts).toISOString(),editedAt:null,deletedAt:null,content:{__typename:"MessageBody",content:e.data_object.body,emotes:e.data_object.tags.emotes.map(function(e){return o(i(e))})},from:{__typename:"User",id:""+e.data_object.from_id}}}}function a(e){return e.map(function(e){return o(i(e))})}function o(e){return{from:e.start,to:e.end,emoteID:e.id,id:e.id+";"+e.start+";"+e.end,setID:"0",__typename:"EmbeddedEmote"}}n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o})},xZ3y:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i=n("/7QA"),r="bits",a="cheer";function o(e,t){return e&&e.setID===r&&e.title&&e.title!==a+" "+e.version?e.title:Object(i.f)(t)}},xfJC:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("q1tI"),r=n("+80q"),a=n("X2PJ"),o=function(e){return i.createElement(r.a,{type:r.e.P,fontSize:a.d.Size7,color:e.overlay?a.c.OverlayAlt:a.c.Alt2},e.hint)};o.displayName="FormHint",o.displayName="FormHint"},y0tB:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("1H2c"),c=n("hnjF"),d=n("Ws8v"),u=n("2nDl"),m=(n("eJuE"),function(e){var t,n="tw-"+Object(l.a)(),i={"tw-radio":!0,"tw-radio--error":e.error,"tw-radio--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);var m=u.c.Default;return e.size&&(m=e.size),a.createElement(d.a,r()({className:Object(o.a)(i),fontSize:u.b[m]},Object(s.a)(e)),a.createElement("input",{type:"radio",className:"tw-radio__input","data-a-target":"tw-radio",autoFocus:e.autoFocus,checked:e.checked,defaultChecked:e.defaultChecked,disabled:e.disabled,id:e.id?e.id:n,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,readOnly:e.readOnly,required:e.required,ref:e.refDelegate,tabIndex:t,value:e.value}),a.createElement(c.g,{display:c.d.Block},a.createElement("label",{className:"tw-radio__label",htmlFor:e.id?e.id:n},e.label)))});m.displayName="Radio",m.displayName="Radio"},y2dA:function(e,t,n){},yGGv:function(e,t,n){},ySk3:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),r=n("/7QA"),a=n("2xye"),o=n("oi4T"),s=function(e){var t=i.__assign({},Object(o.b)(e),{mentioned_user_display_name:e.mentionedUserDisplayName,user:e.userLogin});r.p.track(a.SpadeEventType.ChatMentionUsed,t)}},yXtP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UpdateChatColor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateChatColorInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateChatColor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:120}};n.loc.source={body:"mutation Chat_UpdateChatColor($input: UpdateChatColorInput!){\nupdateChatColor(input: $input) {\nuser {\nid\nchatColor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},yZCp:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("q1tI"),r=n("/7QA"),a=n("7TkE"),o=n.n(a),s=n("8SX2"),l=n("sUnt"),c=n("hnjF"),d=n("+80q"),u=n("X2PJ"),m=(n("OXQr"),function(e){if(!(e.event.messageID&&e.event.userLogin&&e.event.displayName))return null;var t=i.createElement(s.a,{contentID:e.event.messageID,login:e.event.userLogin,sourceType:e.event.sourceType},e.event.displayName),n=Object(r.d)("{gifterButton}'s Cheer shared rewards to {selectedCount} others in chat.",{gifterButton:t,selectedCount:e.event.selectedCount},"RewardGiftNoticeLine"),a=o.a;return i.createElement(l.a,{className:"reward-gift-user-notice",margin:{y:.5}},i.createElement(l.a,{display:c.d.Flex,alignItems:c.b.Center,padding:{x:1,y:.5}},i.createElement(c.g,{margin:{right:1}},i.createElement("img",{className:"reward-gift-user-notice__icon",src:a})),i.createElement(d.a,{color:u.c.Alt2},n)))})},ygQa:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("yR8l"),a=n("yXtP");function o(){var e=this;return Object(r.a)(a,{props:function(t){return{updateChatColorMutation:function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return t.mutate?[4,t.mutate({variables:{input:{color:n}}})]:[3,2];case 1:return[2,e.sent().data];case 2:throw new Error("Update chat color mutation is not ready")}})})}}}})}},ygYM:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return p});var i,r,a=n("pVnL"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),c=n("vCsY"),d=n("hnjF"),u=n("X2PJ"),m=n("Ws8v");n("CtjF");!function(e){e.ExtraSmall="tw-balloon--xs",e.Small="tw-balloon--sm",e.Medium="tw-balloon--md",e.Large="tw-balloon--lg",e.ExtraLarge="tw-balloon--xl"}(i||(i={})),function(e){e.Top="tw-balloon--up",e.Bottom="tw-balloon--down",e.Left="tw-balloon--left",e.Right="tw-balloon--right",e.TopLeft="tw-balloon--up tw-balloon--left",e.TopRight="tw-balloon--up tw-balloon--right",e.BottomRight="tw-balloon--down tw-balloon--right",e.BottomLeft="tw-balloon--down",e.TopCenter="tw-balloon--up tw-balloon--center",e.BottomCenter="tw-balloon--down tw-balloon--center",e.LeftCenter="tw-balloon--left tw-balloon--center",e.RightCenter="tw-balloon--right tw-balloon--center"}(r||(r={}));var p=function(e){var t,n,i,a,p={"tw-balloon":!0};e.size&&(p[e.size]=!0),e.direction?p[e.direction]=!0:p[r.Bottom]=!0,e.offsetX&&(e.direction===r.Left||e.direction===r.TopLeft||e.direction===r.BottomLeft||e.direction===r.LeftCenter||e.direction===r.BottomRight||e.direction===r.TopRight?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction===r.Top||e.direction===r.TopLeft||e.direction===r.TopRight||e.direction===r.TopCenter?a=e.offsetY:i=e.offsetY);var h,f,g,b={marginLeft:t,marginRight:n,marginTop:i,marginBottom:a};e.tailOffset&&(e.direction===r.Left||e.direction===r.Right||e.direction===r.LeftCenter||e.direction===r.RightCenter?h=e.tailOffset+"px":e.direction===r.TopRight||e.direction===r.BottomRight?(f=e.tailOffset+"px",g="auto"):(f="auto",g=e.tailOffset+"px"));var v,E={top:h,left:g,right:f};return e.noTail||(v=s.createElement(d.g,{className:"tw-balloon__tail",position:d.j.Absolute,overflow:d.i.Hidden},s.createElement("div",{style:E},s.createElement(m.a,{className:"tw-balloon__tail-symbol",position:d.j.Absolute,background:e.tailBackground||u.a.Base,border:!0})))),s.createElement(d.g,{display:e.show?d.d.Block:d.d.Hide,position:d.j.Absolute},s.createElement("div",o()({style:b,className:Object(l.a)(p)},Object(c.a)(e)),v,s.createElement(m.a,{border:!0,borderRadius:u.b.Medium,background:u.a.Base,elevation:e.elevation?e.elevation:1},e.children)))};p.displayName="Balloon",p.displayName="Balloon"},ys9W:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsAdOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsAdOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]}]}}],loc:{start:0,end:52}};n.loc.source={body:"fragment bitsAdOffer on BitsAdOffer {\nid\ntype\nbits\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},yzwe:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i,r=n("mrSG"),a=n("yR8l"),o=n("FAYk");function s(e){var t=this;return Object(a.a)(o,{props:function(n){return{unmodUserMutation:function(i){return r.__awaiter(t,void 0,void 0,function(){var t;return r.__generator(this,function(r){if(t=e(n.ownProps).channelID,n.mutate&&t)return[2,n.mutate({variables:{input:{channelID:t,targetLogin:i}}}).then(function(e){return e.data})];throw new Error("unmodUser mutation is not ready")})})}}}})}!function(e){e.ChannelNotFound="CHANNEL_NOT_FOUND",e.Forbidden="FORBIDDEN",e.UserNotFound="TARGET_NOT_FOUND",e.UserNotMod="TARGET_NOT_MOD"}(i||(i={}))},yzyL:function(e,t){},"z+dA":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_SubscribeButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:520}};i.loc.source={body:'#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery ChannelPage_SubscribeButton_User($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nsubscriptionProducts {\nid\nemoteSetID\nname\n}\nself {\ncanPrimeSubscribe\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nendsAt\nisDNRd\nplatform\npendingSubscription {\nprice\nstartsAt\ntier\ntype\n}\ngift {\nisGift\n}\n}\n}\n}\ncurrentUser {\nid\n}\nrequestInfo {\ncountryCode\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("HiyX").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},zWFo:function(e,t,n){},zixI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnblockUserInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation UnblockUser($input: UnblockUserInput!) {\nunblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"zmH+":function(e,t,n){},zmay:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Bits_BuyCard_Offers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withChannel"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idSHA1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withChannel"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:421}};i.loc.source={body:'#import "twilight/features/bits/models/bits-offer-fragment.gql"\nquery Bits_BuyCard_Offers($withChannel: Boolean! $isLoggedIn: Boolean! $channelLogin: String!) {\nbitsOffers @skip(if: $isLoggedIn) {\n...bitsOffer\n}\ncurrentUser @include(if: $isLoggedIn) {\nid\nidSHA1\nbitsBalance\nbitsOffers {\n...bitsOffer\n}\n}\nuser(login: $channelLogin) @include(if: $withChannel) {\nid\ndisplayName\ncheer {\nid\nsettings {\ncheerMinimumBits\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("wmIm").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=i},zrSb:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("4rCz"),s=n("5zXJ"),l=n("RiD7"),c=n("x1M1"),d=n("Jsra"),u=n("hnjF"),m=n("+80q"),p=n("sUnt"),h=n("dEDE"),f=(n("Y18C"),{themed:!0,dark:{"1x":s.h+"/bits-card/intro/dark/bits-new-user-dark.gif"},light:{"1x":s.h+"/bits-card/intro/light/bits-new-user-light.gif"}});!function(e){e.Heading="bits-card-intro-heading-selector",e.Description="bits-card-intro-description-selector",e.Image="bits-card-intro-image-selector",e.FirstTimePurchase="bits-card-intro-first-time-purchase-selector",e.Skip="bits-card-intro-skip-selector"}(i||(i={}));var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.onUserSkip,n=e.onUserClickFirstTimePurchaseDiscount;return a.createElement(p.a,{padding:{left:2,right:2,y:1}},a.createElement(p.a,{display:u.d.Flex,justifyContent:u.h.Center},a.createElement(m.a,{type:m.e.H4,"data-test-selector":i.Heading,bold:!0},Object(o.d)("Join the party with Bits","BitsIntro"))),a.createElement(p.a,{margin:{top:1}},a.createElement(m.a,{type:m.e.P,"data-test-selector":i.Description},Object(o.d)("Celebrate big moments and support your favorite streamers with special animated emotes!","BitsIntro")," ",a.createElement(d.a,{to:"/bits",targetBlank:!0,onClick:this.trackLearnMore},Object(o.d)("Learn more","BitsIntro")))),a.createElement(p.a,{margin:{top:2,bottom:2},display:u.d.Flex,justifyContent:u.h.Center,className:"bits-card-intro__gif-wrapper"},a.createElement(c.a,{sources:f,"data-test-selector":i.Image})),a.createElement(h.a,{onClick:n,"data-test-selector":i.FirstTimePurchase,fullWidth:!0},Object(o.d)("First-Time Purchaser Discount","BitsIntro")),t&&a.createElement(h.a,{onClick:t,type:h.d.Text,"data-test-selector":i.Skip,fullWidth:!0},Object(o.d)("Skip","BitsIntro")))},t.prototype.trackLearnMore=function(e){this.props.trackBitsCardInteraction(l.c.NewUserLearnMore)},t}(a.PureComponent);n.d(t,!1,function(){return i}),n.d(t,"a",function(){return g})},zyUW:function(e,t,n){}}]);